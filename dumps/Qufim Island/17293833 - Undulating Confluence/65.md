# Event 65

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/4       |
| Offset          | 0x0003    |
| Data Size       | 878 bytes |
| Calculated Size | 878 bytes |
| Instructions    | 40        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:          4A F0 FF FF 7F  F8 FF FF 7F 6F 76 F0 FF     J........ov..
0010: FF 7F 24 00 80 01 80 02  80 25 02 00 10 02 80 00  ..$......%......
0020: 2F 00 42 43 00 43 01 03  01 10 01 80 01 42 00 02  /.BC.C.......B..
0030: 00 10 01 80 00 42 00 03  01 10 03 80 01 DE 00 01  .....B..........
0040: 42 00 42 46 01 45 04 80  F0 FF FF 7F F0 FF FF 7F  B.BF.E..........
0050: 66 64 6F 31 02 80 1C 05  80 38 06 80 29 01 F0 FF  fdo1.....8..)...
0060: FF 7F 36 45 07 80 F0 FF  FF 7F F0 FF FF 7F 67 66  ..6E..........gf
0070: 71 30 02 80 45 04 80 F0  FF FF 7F F0 FF FF 7F 66  q0..E..........f
0080: 64 69 31 02 80 1C 05 80  45 04 80 F0 FF FF 7F F0  di1.....E.......
0090: FF FF 7F 62 6C 6F 6E 02  80 45 08 80 F0 FF FF 7F  ...blon..E......
00A0: F0 FF FF 7F 62 6C 6F 6E  02 80 45 04 80 F0 FF FF  ....blon..E.....
00B0: 7F F0 FF FF 7F 6F 76 6C  31 02 80 29 01 F0 FF FF  .....ovl1..)....
00C0: 7F 37 45 04 80 F0 FF FF  7F F0 FF FF 7F 62 6C 6F  .7E..........blo
00D0: 66 02 80 1C 09 80 1A 43  01 1A 64 01 46 00 21 00  f......C..d.F.!.
00E0: 45 04 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 30 02  E..........fdi0.
00F0: 80 55 04 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 30  .U..........fdi0
0100: 1B 45 04 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 30  .E..........fdo0
0110: 02 80 55 04 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..U..........fdo
0120: 30 1B 45 04 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  0.E..........fdi
0130: 31 02 80 55 04 80 F0 FF  FF 7F F0 FF FF 7F 66 64  1..U..........fd
0140: 69 31 1B 45 04 80 F0 FF  FF 7F F0 FF FF 7F 66 64  i1.E..........fd
0150: 6F 31 02 80 55 04 80 F0  FF FF 7F F0 FF FF 7F 66  o1..U..........f
0160: 64 6F 31 1B 45 08 80 F0  FF FF 7F F0 FF FF 7F 77  do1.E..........w
0170: 68 69 31 02 80 55 08 80  F0 FF FF 7F F0 FF FF 7F  hi1..U..........
0180: 77 68 69 31 1B 45 08 80  F0 FF FF 7F F0 FF FF 7F  whi1.E..........
0190: 77 68 6F 31 02 80 55 08  80 F0 FF FF 7F F0 FF FF  who1..U.........
01A0: 7F 77 68 6F 31 1B 45 08  80 F0 FF FF 7F F0 FF FF  .who1.E.........
01B0: 7F 77 68 6F 32 02 80 55  08 80 F0 FF FF 7F F0 FF  .who2..U........
01C0: FF 7F 77 68 6F 32 1B 45  08 80 F0 FF FF 7F F0 FF  ..who2.E........
01D0: FF 7F 77 68 6F 33 02 80  55 08 80 F0 FF FF 7F F0  ..who3..U.......
01E0: FF FF 7F 77 68 6F 33 1B  62 01 80 F0 FF FF 7F F0  ...who3.b.......
01F0: FF FF 7F 6D 61 69 6E 02  80 1C 0A 80 45 04 80 F0  ...main.....E...
0200: FF FF 7F F0 FF FF 7F 66  64 6F 31 02 80 55 04 80  .......fdo1..U..
0210: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 1B 45 04 80  ........fdo1.E..
0220: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 02 80 62 0B  ........fdi1..b.
0230: 80 F0 FF FF 7F F0 FF FF  7F 6D 61 69 6E 02 80 1C  .........main...
0240: 09 80 55 04 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  ..U..........fdi
0250: 31 1B 45 04 80 F0 FF FF  7F F0 FF FF 7F 62 6C 6F  1.E..........blo
0260: 6E 02 80 45 08 80 F0 FF  FF 7F F0 FF FF 7F 62 6C  n..E..........bl
0270: 6F 6E 02 80 1B 45 08 80  F0 FF FF 7F F0 FF FF 7F  on...E..........
0280: 77 68 69 30 02 80 55 08  80 F0 FF FF 7F F0 FF FF  whi0..U.........
0290: 7F 77 68 69 30 1B 45 08  80 F0 FF FF 7F F0 FF FF  .whi0.E.........
02A0: 7F 77 68 6F 30 02 80 55  08 80 F0 FF FF 7F F0 FF  .who0..U........
02B0: FF 7F 77 68 6F 30 1B 45  0C 80 F0 FF FF 7F F0 FF  ..who0.E........
02C0: FF 7F 65 66 6F 6E 02 80  55 0C 80 F0 FF FF 7F F0  ..efon..U.......
02D0: FF FF 7F 65 66 6F 6E 1B  45 04 80 F0 FF FF 7F F0  ...efon.E.......
02E0: FF FF 7F 66 64 69 73 02  80 1B 45 04 80 F0 FF FF  ...fdis...E.....
02F0: 7F F0 FF FF 7F 66 64 6F  73 02 80 55 04 80 F0 FF  .....fdos..U....
0300: FF 7F F0 FF FF 7F 66 64  6F 73 1B 45 04 80 F0 FF  ......fdos.E....
0310: FF 7F F0 FF FF 7F 66 64  69 66 02 80 1B 45 04 80  ......fdif...E..
0320: F0 FF FF 7F F0 FF FF 7F  66 64 6F 66 02 80 55 04  ........fdof..U.
0330: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 66 1B 45 04  .........fdof.E.
0340: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 70 02 80 1B  .........fdip...
0350: 45 04 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 70 02  E..........fdop.
0360: 80 55 04 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 70  .U..........fdop
0370: 1B                                                .               
```

## Opcodes

```
  0: 0x0003 [0x4A] LocalPlayer looks at EventEntity
  1: 0x000C [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x000D [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
  3: 0x0012 [0x24] CREATE_DIALOG(message_id=7040*, default_option=1*, option_flags=0*)
    â†’ "Jump into the vortex?\u0007\u000BOff we go!\u0007Not just yet.\u007F1\u0000\u0007"
  4: 0x0019 [0x25] WAIT_DIALOG_SELECT()
  5: 0x001A [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x002F
  6: 0x0022 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  7: 0x0023 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
  8: 0x0025 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
  9: 0x0027 [0x03] Work_Zone[1] = 1*
 10: 0x002C [0x01] GOTO 0x0042
 11: 0x002F [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0042
 12: 0x0037 [0x03] Work_Zone[1] = 1073741824*
 13: 0x003C [0x01] GOTO 0x00DE

SUBROUTINE_0042:
 14: 0x0042 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 15: 0x0043 [0x46] CAMERA_CONTROL: Disable user control
 16: 0x0045 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 17: 0x0056 [0x1C] WAIT(60* ticks)
 18: 0x0059 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 19: 0x005C [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x36)
 20: 0x0063 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "gfq0" with entities [LocalPlayer, LocalPlayer], work=[560*, 0*]
 21: 0x0074 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 22: 0x0085 [0x1C] WAIT(60* ticks)
 23: 0x0088 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 24: 0x0099 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 25: 0x00AA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 26: 0x00BB [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x37)
 27: 0x00C2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 28: 0x00D3 [0x1C] WAIT(30* ticks)
 29: 0x00D6 [0x1A] CALL_SUBROUTINE(address=0x0143)
 30: 0x00D9 [0x1A] CALL_SUBROUTINE(address=0x0164)
 31: 0x00DC [0x46] CAMERA_CONTROL: Restore default settings
 32: 0x00DE [0x21] END_EVENT
 33: 0x00DF [0x00] END_REQSTACK()

SUBROUTINE_0143:
 34: 0x0143 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 35: 0x0154 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 36: 0x0163 [0x1B] RETURN

SUBROUTINE_0164:
 37: 0x0164 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 38: 0x0175 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=201*
 39: 0x0184 [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x003F [0x01] GOTO 0x0042
# Dead code (unreachable instructions):
     0x00E0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x00F1 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0100 [0x1B] RETURN
     0x0101 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0112 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0121 [0x1B] RETURN
     0x0122 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0133 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0142 [0x1B] RETURN
# Dead code (unreachable instructions):
     0x0185 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0196 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=201*
     0x01A5 [0x1B] RETURN
     0x01A6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who2" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x01B7 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who2" with entities [LocalPlayer, LocalPlayer], work=201*
     0x01C6 [0x1B] RETURN
     0x01C7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who3" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x01D8 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who3" with entities [LocalPlayer, LocalPlayer], work=201*
     0x01E7 [0x1B] RETURN
     0x01E8 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[1*, 0*]
     0x01F9 [0x1C] WAIT(45* ticks)
     0x01FC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x020D [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x021C [0x1B] RETURN
     0x021D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x022E [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[2*, 0*]
     0x023F [0x1C] WAIT(30* ticks)
     0x0242 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0251 [0x1B] RETURN
     0x0252 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0263 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0274 [0x1B] RETURN
     0x0275 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi0" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0286 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi0" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0295 [0x1B] RETURN
     0x0296 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who0" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x02A7 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who0" with entities [LocalPlayer, LocalPlayer], work=201*
     0x02B6 [0x1B] RETURN
     0x02B7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "efon" with entities [LocalPlayer, LocalPlayer], work=[215*, 0*]
     0x02C8 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "efon" with entities [LocalPlayer, LocalPlayer], work=215*
     0x02D7 [0x1B] RETURN
     0x02D8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdis" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x02E9 [0x1B] RETURN
     0x02EA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdos" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x02FB [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdos" with entities [LocalPlayer, LocalPlayer], work=200*
     0x030A [0x1B] RETURN
     0x030B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdif" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x031C [0x1B] RETURN
     0x031D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x032E [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdof" with entities [LocalPlayer, LocalPlayer], work=200*
     0x033D [0x1B] RETURN
     0x033E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdip" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x034F [0x1B] RETURN
     0x0350 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdop" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0361 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdop" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0370 [0x1B] RETURN
```