# Event 3

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/24      |
| Offset          | 0x0002    |
| Data Size       | 743 bytes |
| Calculated Size | 743 bytes |
| Instructions    | 158       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:       03 01 10 00 80 08  02 10 01 80 48 02 80 23    ..........H..#
0010: 03 00 00 00 80 02 00 00  00 80 00 E7 02 24 03 80  .............$..
0020: 04 80 00 80 25 02 00 10  00 80 00 6F 02 42 62 04  ....%......o.Bb.
0030: 80 F0 FF FF 7F F0 FF FF  7F 6D 61 69 6E 00 80 1C  .........main...
0040: 01 80 45 05 80 F8 FF FF  7F F8 FF FF 7F 66 64 6F  ..E..........fdo
0050: 31 00 80 55 05 80 F8 FF  FF 7F F8 FF FF 7F 66 64  1..U..........fd
0060: 6F 31 03 01 10 04 80 13  01 00 06 80 13 02 00 06  o1..............
0070: 80 08 01 00 07 80 08 02  00 07 80 07 02 10 01 80  ................
0080: 03 03 00 02 10 02 02 10  01 80 80 A6 00 07 01 00  ................
0090: 08 80 07 02 00 09 80 47  00 01 00 02 00 0A 80 0B  .......G........
00A0: 80 47 01 01 CF 01 02 02  10 0C 80 80 C7 00 07 01  .G..............
00B0: 00 0D 80 07 02 00 0E 80  47 00 01 00 02 00 0F 80  ........G.......
00C0: 10 80 47 01 01 CF 01 02  02 10 11 80 80 E8 00 07  ..G.............
00D0: 01 00 12 80 07 02 00 13  80 47 00 01 00 02 00 14  .........G......
00E0: 80 10 80 47 01 01 CF 01  02 02 10 15 80 80 09 01  ...G............
00F0: 07 01 00 16 80 07 02 00  17 80 47 00 01 00 02 00  ..........G.....
0100: 18 80 10 80 47 01 01 CF  01 02 02 10 19 80 80 2A  ....G..........*
0110: 01 07 01 00 17 80 07 02  00 1A 80 47 00 01 00 02  ...........G....
0120: 00 1B 80 0B 80 47 01 01  CF 01 02 02 10 1C 80 80  .....G..........
0130: 4B 01 07 01 00 1D 80 07  02 00 1E 80 47 00 01 00  K...........G...
0140: 02 00 1F 80 0B 80 47 01  01 CF 01 02 02 10 20 80  ......G....... .
0150: 80 6C 01 07 01 00 21 80  07 02 00 22 80 47 00 01  .l....!....".G..
0160: 00 02 00 23 80 24 80 47  01 01 CF 01 02 02 10 25  ...#.$.G.......%
0170: 80 80 8D 01 07 01 00 26  80 07 02 00 27 80 47 00  .......&....'.G.
0180: 01 00 02 00 28 80 24 80  47 01 01 CF 01 02 02 10  ....(.$.G.......
0190: 29 80 80 AE 01 07 01 00  2A 80 07 02 00 2B 80 47  ).......*....+.G
01A0: 00 01 00 02 00 2C 80 2D  80 47 01 01 CF 01 02 02  .....,.-.G......
01B0: 10 2E 80 80 CF 01 07 01  00 13 80 07 02 00 0E 80  ................
01C0: 47 00 01 00 02 00 2F 80  10 80 47 01 01 CF 01 1C  G...../...G.....
01D0: 01 80 45 05 80 F8 FF FF  7F F8 FF FF 7F 66 64 69  ..E..........fdi
01E0: 31 00 80 62 30 80 F0 FF  FF 7F F0 FF FF 7F 6D 61  1..b0.........ma
01F0: 69 6E 00 80 1C 01 80 02  09 10 00 80 80 06 02 48  in.............H
0200: 31 80 23 01 67 02 02 09  10 04 80 80 49 02 02 03  1.#.g.......I...
0210: 00 2E 80 00 46 02 03 02  10 32 80 03 03 10 33 80  ....F....2....3.
0220: 03 04 10 34 80 03 05 10  35 80 03 06 10 36 80 03  ...4....5....6..
0230: 07 10 37 80 03 08 10 38  80 03 09 10 39 80 03 00  ..7....8....9...
0240: 17 3A 80 48 3B 80 01 67  02 02 09 10 30 80 80 58  .:.H;..g....0..X
0250: 02 48 3C 80 23 01 67 02  02 09 10 3D 80 80 67 02  .H<.#.g....=..g.
0260: 48 3E 80 23 01 67 02 03  00 00 04 80 01 E4 02 02  H>.#.g..........
0270: 00 10 04 80 00 7F 02 03  00 00 04 80 01 E4 02 02  ................
0280: 00 10 30 80 00 AE 02 48  3F 80 23 48 40 80 23 48  ..0....H?.#H@.#H
0290: 41 80 23 48 42 80 23 48  43 80 23 48 44 80 23 48  A.#HB.#HC.#HD.#H
02A0: 45 80 23 48 46 80 23 48  47 80 23 01 E4 02 02 00  E.#HF.#HG.#.....
02B0: 10 3D 80 00 C5 02 48 48  80 23 48 49 80 23 48 4A  .=....HH.#HI.#HJ
02C0: 80 23 01 E4 02 02 00 10  4B 80 00 E4 02 48 4C 80  .#......K....HL.
02D0: 23 48 4D 80 23 48 4E 80  23 48 4F 80 23 48 50 80  #HM.#HN.#HO.#HP.
02E0: 23 01 E4 02 01 15 00 21  00                       #......!.       
```

## Opcodes

```
  0: 0x0002 [0x03] Work_Zone[1] = 0*
  1: 0x0007 [0x08] Work_Zone[2] -= 30*
  2: 0x000C [0x48] [System] [8052*]:
    → "Preparing teleport to Hazhalm Testing Grounds - \u000C\u0000[Rossweisse's Chamber/Grimgerde's Chamber/Siegrune's Chamber/Helmwige's Chamber/Schwertleite's Chamber/Waltraute's Chamber/Ortlinde's Chamber/Gerhilde's Chamber/Brunhilde's Chamber/Odin's Chamber/Odin's Chamber].\u007F1\u0000\u0007"
  3: 0x000F [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x0010 [0x03] ExtData[1]->WorkLocal[0] = 0*
  5: 0x0015 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x02E7
  6: 0x001D [0x24] CREATE_DIALOG(message_id=8053*, default_option=1*, option_flags=0*)
    → "Proceed to \u000C\u0000[Rossweisse's Chamber/Grimgerde's Chamber/Siegrune's Chamber/Helmwige's Chamber/Schwertleite's Chamber/Waltraute's Chamber/Ortlinde's Chamber/Gerhilde's Chamber/Brunhilde's Chamber/Odin's Chamber/Odin's Chamber]?\u0007\u000BYes.\u0007Not yet.\u0007Confirm entry conditions.\u0007Confirm re-entry conditions.\u0007Confirm battle conditions.\u007F1\u0000\u0007"
  7: 0x0024 [0x25] WAIT_DIALOG_SELECT()
  8: 0x0025 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x026F
  9: 0x002D [0x42] SET_CLI_EVENT_CANCEL_DATA()
 10: 0x002E [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[1*, 0*]
 11: 0x003F [0x1C] WAIT(30* ticks)
 12: 0x0042 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 13: 0x0053 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
 14: 0x0062 [0x03] Work_Zone[1] = 1*
 15: 0x0067 [0x13] ExtData[1]->WorkLocal[1] = rand() % 4000*
 16: 0x006C [0x13] ExtData[1]->WorkLocal[2] = rand() % 4000*
 17: 0x0071 [0x08] ExtData[1]->WorkLocal[1] -= 2000*
 18: 0x0076 [0x08] ExtData[1]->WorkLocal[2] -= 2000*
 19: 0x007B [0x07] Work_Zone[2] += 30*
 20: 0x0080 [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[2]
 21: 0x0085 [0x02] IF !(Work_Zone[2] == 30*) GOTO 0x00A6
 22: 0x008D [0x07] ExtData[1]->WorkLocal[1] += 448000*
 23: 0x0092 [0x07] ExtData[1]->WorkLocal[2] += 4294959296*
 24: 0x0097 [0x47] UPDATE_PLAYER_POS(ExtData[1]->WorkLocal[1], ExtData[1]->WorkLocal[2], -217.354*, yaw=225.0°*)
 25: 0x00A1 [0x47] WAIT_PLAYER_POS_UPDATE
 26: 0x00A3 [0x01] GOTO 0x01CF
 27: 0x00A6 [0x02] IF !(Work_Zone[2] == 31*) GOTO 0x00C7
 28: 0x00AE [0x07] ExtData[1]->WorkLocal[1] += 208000*
 29: 0x00B3 [0x07] ExtData[1]->WorkLocal[2] += 8000*
 30: 0x00B8 [0x47] UPDATE_PLAYER_POS(ExtData[1]->WorkLocal[1], ExtData[1]->WorkLocal[2], -197.354*, yaw=135.0°*)
 31: 0x00C2 [0x47] WAIT_PLAYER_POS_UPDATE
 32: 0x00C4 [0x01] GOTO 0x01CF
 33: 0x00C7 [0x02] IF !(Work_Zone[2] == 32*) GOTO 0x00E8
 34: 0x00CF [0x07] ExtData[1]->WorkLocal[1] += 128000*
 35: 0x00D4 [0x07] ExtData[1]->WorkLocal[2] += 4294735296*
 36: 0x00D9 [0x47] UPDATE_PLAYER_POS(ExtData[1]->WorkLocal[1], ExtData[1]->WorkLocal[2], -177.354*, yaw=135.0°*)
 37: 0x00E3 [0x47] WAIT_PLAYER_POS_UPDATE
 38: 0x00E5 [0x01] GOTO 0x01CF
 39: 0x00E8 [0x02] IF !(Work_Zone[2] == 33*) GOTO 0x0109
 40: 0x00F0 [0x07] ExtData[1]->WorkLocal[1] += 4294815296*
 41: 0x00F5 [0x07] ExtData[1]->WorkLocal[2] += 4294575296*
 42: 0x00FA [0x47] UPDATE_PLAYER_POS(ExtData[1]->WorkLocal[1], ExtData[1]->WorkLocal[2], -147.354*, yaw=135.0°*)
 43: 0x0104 [0x47] WAIT_PLAYER_POS_UPDATE
 44: 0x0106 [0x01] GOTO 0x01CF
 45: 0x0109 [0x02] IF !(Work_Zone[2] == 34*) GOTO 0x012A
 46: 0x0111 [0x07] ExtData[1]->WorkLocal[1] += 4294575296*
 47: 0x0116 [0x07] ExtData[1]->WorkLocal[2] += 4294639296*
 48: 0x011B [0x47] UPDATE_PLAYER_POS(ExtData[1]->WorkLocal[1], ExtData[1]->WorkLocal[2], -127.354*, yaw=225.0°*)
 49: 0x0125 [0x47] WAIT_PLAYER_POS_UPDATE
 50: 0x0127 [0x01] GOTO 0x01CF
 51: 0x012A [0x02] IF !(Work_Zone[2] == 35*) GOTO 0x014B
 52: 0x0132 [0x07] ExtData[1]->WorkLocal[1] += 4294335296*
 53: 0x0137 [0x07] ExtData[1]->WorkLocal[2] += 4294799296*
 54: 0x013C [0x47] UPDATE_PLAYER_POS(ExtData[1]->WorkLocal[1], ExtData[1]->WorkLocal[2], -107.354*, yaw=225.0°*)
 55: 0x0146 [0x47] WAIT_PLAYER_POS_UPDATE
 56: 0x0148 [0x01] GOTO 0x01CF
 57: 0x014B [0x02] IF !(Work_Zone[2] == 36*) GOTO 0x016C
 58: 0x0153 [0x07] ExtData[1]->WorkLocal[1] += 4294439296*
 59: 0x0158 [0x07] ExtData[1]->WorkLocal[2] += 112000*
 60: 0x015D [0x47] UPDATE_PLAYER_POS(ExtData[1]->WorkLocal[1], ExtData[1]->WorkLocal[2], -67.354*, yaw=315.0°*)
 61: 0x0167 [0x47] WAIT_PLAYER_POS_UPDATE
 62: 0x0169 [0x01] GOTO 0x01CF
 63: 0x016C [0x02] IF !(Work_Zone[2] == 37*) GOTO 0x018D
 64: 0x0174 [0x07] ExtData[1]->WorkLocal[1] += 4294559296*
 65: 0x0179 [0x07] ExtData[1]->WorkLocal[2] += 352000*
 66: 0x017E [0x47] UPDATE_PLAYER_POS(ExtData[1]->WorkLocal[1], ExtData[1]->WorkLocal[2], -47.354*, yaw=315.0°*)
 67: 0x0188 [0x47] WAIT_PLAYER_POS_UPDATE
 68: 0x018A [0x01] GOTO 0x01CF
 69: 0x018D [0x02] IF !(Work_Zone[2] == 38*) GOTO 0x01AE
 70: 0x0195 [0x07] ExtData[1]->WorkLocal[1] += 4294839296*
 71: 0x019A [0x07] ExtData[1]->WorkLocal[2] += 288000*
 72: 0x019F [0x47] UPDATE_PLAYER_POS(ExtData[1]->WorkLocal[1], ExtData[1]->WorkLocal[2], -7.354*, yaw=45.0°*)
 73: 0x01A9 [0x47] WAIT_PLAYER_POS_UPDATE
 74: 0x01AB [0x01] GOTO 0x01CF
 75: 0x01AE [0x02] IF !(Work_Zone[2] == 39*) GOTO 0x01CF
 76: 0x01B6 [0x07] ExtData[1]->WorkLocal[1] += 4294735296*
 77: 0x01BB [0x07] ExtData[1]->WorkLocal[2] += 8000*
 78: 0x01C0 [0x47] UPDATE_PLAYER_POS(ExtData[1]->WorkLocal[1], ExtData[1]->WorkLocal[2], 33.646*, yaw=135.0°*)
 79: 0x01CA [0x47] WAIT_PLAYER_POS_UPDATE
 80: 0x01CC [0x01] GOTO 0x01CF

SUBROUTINE_01CF:
 81: 0x01CF [0x1C] WAIT(30* ticks)
 82: 0x01D2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 83: 0x01E3 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[2*, 0*]
 84: 0x01F4 [0x1C] WAIT(30* ticks)
 85: 0x01F7 [0x02] IF !(Work_Zone[9] == 0*) GOTO 0x0206
 86: 0x01FF [0x48] [System] [8068*]:
    → "There are too many adventurers in the chamber.\u007F1\u0000\u0007"
 87: 0x0202 [0x23] WAIT_FOR_DIALOG_INTERACTION
 88: 0x0203 [0x01] GOTO 0x0267
 89: 0x0206 [0x02] IF !(Work_Zone[9] == 1*) GOTO 0x0249
 90: 0x020E [0x02] IF !(ExtData[1]->WorkLocal[3] == 39*) GOTO 0x0246
 91: 0x0216 [0x03] Work_Zone[2] = 882*
 92: 0x021B [0x03] Work_Zone[3] = 883*
 93: 0x0220 [0x03] Work_Zone[4] = 884*
 94: 0x0225 [0x03] Work_Zone[5] = 885*
 95: 0x022A [0x03] Work_Zone[6] = 886*
 96: 0x022F [0x03] Work_Zone[7] = 887*
 97: 0x0234 [0x03] Work_Zone[8] = 888*
 98: 0x0239 [0x03] Work_Zone[9] = 889*
 99: 0x023E [0x03] Work_Zone_1700[0] = 890*
100: 0x0243 [0x48] [System] [8054*]:
    → "All of the valkyrie feathers in your possession are consumed!\u0000\u0007"
101: 0x0246 [0x01] GOTO 0x0267
102: 0x0249 [0x02] IF !(Work_Zone[9] == 2*) GOTO 0x0258
103: 0x0251 [0x48] [System] [8064*]:
    → "You do not possess the items required for entry.\u007F1\u0000\u0007"
104: 0x0254 [0x23] WAIT_FOR_DIALOG_INTERACTION
105: 0x0255 [0x01] GOTO 0x0267
106: 0x0258 [0x02] IF !(Work_Zone[9] == 3*) GOTO 0x0267
107: 0x0260 [0x48] [System] [8076*]:
    → "Other members currently engaged in battle. Entry denied.\u007F1\u0000\u0007"
108: 0x0263 [0x23] WAIT_FOR_DIALOG_INTERACTION
109: 0x0264 [0x01] GOTO 0x0267

SUBROUTINE_0267:
110: 0x0267 [0x03] ExtData[1]->WorkLocal[0] = 1*
111: 0x026C [0x01] GOTO 0x02E4
112: 0x026F [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x027F
113: 0x0277 [0x03] ExtData[1]->WorkLocal[0] = 1*
114: 0x027C [0x01] GOTO 0x02E4
115: 0x027F [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x02AE
116: 0x0287 [0x48] [System] [8081*]:
    → "When traded to the Hazhalm Testing Grounds' Entry Gate, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0006\u0000\u0000 will light and become \u0001\u0001\u0001 \u0001\u0005$\u0002\u0007\u0000\u0000.\u007F1\u0000\u0007"
117: 0x028A [0x23] WAIT_FOR_DIALOG_INTERACTION
118: 0x028B [0x48] [System] [8082*]:
    → "From that moment, the owner of the \u0001\u0005#\u0002\u0007\u0000\u0000 will reserve and gain access to one of the facility's many chambers.\u007F1\u0000\u0007"
119: 0x028E [0x23] WAIT_FOR_DIALOG_INTERACTION
120: 0x028F [0x48] [System] [8083*]:
    → "By \u001E\u0005using\u001E\u0001 the \u0001\u0005#\u0002\u0007\u0000\u0000 it will produce a replica of itself which can be given to another, granting him or her access to the same chamber.\u007F1\u0000\u0007"
121: 0x0292 [0x23] WAIT_FOR_DIALOG_INTERACTION
122: 0x0293 [0x48] [System] [8084*]:
    → "Though an infinite number of lamps can be produced using this method, only a maximum of thirty-six people can venture into the same chamber.\u007F1\u0000\u0007"
123: 0x0296 [0x23] WAIT_FOR_DIALOG_INTERACTION
124: 0x0297 [0x48] [System] [8086*]:
    → "These lamps will also cease to function the instant any adventurer within the chamber engages in battle, regardless of how many people have already passed through the gates.\u007F1\u0000\u0007"
125: 0x029A [0x23] WAIT_FOR_DIALOG_INTERACTION
126: 0x029B [0x48] [System] [8087*]:
    → "To teleport to the reserved chamber, one must simply trade their \u0001\u0005#\u0002\u0007\u0000\u0000 to the Entry Gate.\u007F1\u0000\u0007"
127: 0x029E [0x23] WAIT_FOR_DIALOG_INTERACTION
128: 0x029F [0x48] [System] [8088*]:
    → "However, please note that not everyone in possession of a lamp will be allowed into Hazhalm.\u007F1\u0000\u0007"
129: 0x02A2 [0x23] WAIT_FOR_DIALOG_INTERACTION
130: 0x02A3 [0x48] [System] [8089*]:
    → "As mentioned before, only up to thirty-six people may enter a chamber. Even those with a valid \u0001\u0005#\u0002\u0007\u0000\u0000 will not be allowed entry if the chamber has reached its maximum capacity.\u007F1\u0000\u0007"
131: 0x02A6 [0x23] WAIT_FOR_DIALOG_INTERACTION
132: 0x02A7 [0x48] [System] [8090*]:
    → "Also, as a safety precaution, players below level sixty and those with the Battlefield status in effect will be denied entry.\u007F1\u0000\u0007"
133: 0x02AA [0x23] WAIT_FOR_DIALOG_INTERACTION
134: 0x02AB [0x01] GOTO 0x02E4
135: 0x02AE [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x02C5
136: 0x02B6 [0x48] [System] [8104*]:
    → "After visiting the testing grounds, one must wait 
\u0003 \u007F\u0012\u0003[hour/hours] (Earth time) before he is granted access again.\u007F1\u0000\u0007"
137: 0x02B9 [0x23] WAIT_FOR_DIALOG_INTERACTION
138: 0x02BA [0x48] [System] [8105*]:
    → "This not only pertains to the chamber previously visited, but all areas within the testing grounds.\u007F1\u0000\u0007"
139: 0x02BD [0x23] WAIT_FOR_DIALOG_INTERACTION
140: 0x02BE [0x48] [System] [8106*]:
    → "The amount of waiting time remaining before re-entry is permitted can be viewed by checking Hazhalm's Entry Gate.\u007F1\u0000\u0007"
141: 0x02C1 [0x23] WAIT_FOR_DIALOG_INTERACTION
142: 0x02C2 [0x01] GOTO 0x02E4
143: 0x02C5 [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x02E4
144: 0x02CD [0x48] [System] [8107*]:
    → "All monsters dwelling in the testing grounds can be attacked by anyone, regardless of party or alliance.\u007F1\u0000\u0007"
145: 0x02D0 [0x23] WAIT_FOR_DIALOG_INTERACTION
146: 0x02D1 [0x48] [System] [8108*]:
    → "In addition, any items dropped by a foe can be lotted on by anyone in the chamber.\u007F1\u0000\u0007"
147: 0x02D4 [0x23] WAIT_FOR_DIALOG_INTERACTION
148: 0x02D5 [0x48] [System] [8109*]:
    → "However, please be aware that any items that have not been lotted on when a chamber's reservation is up will be distributed at random.\u007F1\u0000\u0007"
149: 0x02D8 [0x23] WAIT_FOR_DIALOG_INTERACTION
150: 0x02D9 [0x48] [System] [8110*]:
    → "At any time, if the number of active adventurers participating in the cleansing of the testing grounds falls below six, the reservation will become void and any remaining members will be teleported from the area in approximately 
\u0001 \u007F\u0012\u0001[minute/minutes] (Earth time).\u007F1\u0000\u0007"
151: 0x02DC [0x23] WAIT_FOR_DIALOG_INTERACTION
152: 0x02DD [0x48] [System] [8111*]:
    → "Also, if everyone in a chamber remains KO'd for longer than 
\u0002 \u007F\u0012\u0002[minute/minutes], they will all be automatically teleported from the grounds.\u007F1\u0000\u0007"
153: 0x02E0 [0x23] WAIT_FOR_DIALOG_INTERACTION
154: 0x02E1 [0x01] GOTO 0x02E4

SUBROUTINE_02E4:
155: 0x02E4 [0x01] GOTO 0x0015
156: 0x02E7 [0x21] END_EVENT
157: 0x02E8 [0x00] END_REQSTACK()
```
