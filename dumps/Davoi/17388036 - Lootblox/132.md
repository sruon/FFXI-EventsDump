# Event 132

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/12      |
| Offset          | 0x007C    |
| Data Size       | 213 bytes |
| Calculated Size | 213 bytes |
| Instructions    | 45        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0070:                                      42 03 06 00              B...
0080: 02 10 03 04 00 03 10 03  07 00 04 10 03 05 00 05  ................
0090: 10 03 08 00 06 10 03 0A  00 08 10 03 09 00 06 00  ................
00A0: 1E F0 FF FF 7F 5B 00 80  04 52 09 01 04 52 09 01  .....[...R...R..
00B0: 74 6C 6B 30 1D 0D 80 23  1D 0E 80 23 1D 0F 80 23  tlk0...#...#...#
00C0: 5B 00 80 04 52 09 01 04  52 09 01 70 61 73 30 93  [...R...R..pas0.
00D0: 09 00 03 09 10 10 80 1D  11 80 23 53 04 52 09 01  ..........#S.R..
00E0: 04 52 09 01 70 61 73 30  93 12 80 5B 00 80 04 52  .R..pas0...[...R
00F0: 09 01 04 52 09 01 74 6C  6B 30 1D 13 80 23 03 02  ...R..tlk0...#..
0100: 10 06 00 03 03 10 04 00  03 04 10 07 00 5B 00 80  .............[..
0110: 04 52 09 01 04 52 09 01  74 6C 6B 31 1D 14 80 23  .R...R..tlk1...#
0120: 03 02 10 07 00 03 03 10  05 00 03 04 10 08 00 1D  ................
0130: 15 80 23 5B 00 80 04 52  09 01 04 52 09 01 74 6C  ..#[...R...R..tl
0140: 6B 30 03 01 10 16 80 43  00 43 01 1D 17 80 23 21  k0.....C.C....#!
0150: 00                                                .               
```

## Opcodes

```
  0: 0x007C [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x007D [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[2]
  2: 0x0082 [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[3]
  3: 0x0087 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[4]
  4: 0x008C [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[5]
  5: 0x0091 [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[6]
  6: 0x0096 [0x03] ExtData[1]->WorkLocal[10] = Work_Zone[8]
  7: 0x009B [0x03] ExtData[1]->WorkLocal[9] = ExtData[1]->WorkLocal[6]
  8: 0x00A0 [0x1E] EventEntity looks at LocalPlayer and starts talking
  9: 0x00A5 [0x5B] LOAD_EXT_SCHEDULER(work_offset=215*, entity1=Lootblox (ID: 17388036/0x01095204), entity2=Lootblox (ID: 17388036/0x01095204), action="tlk0")
 10: 0x00B4 [0x1D] PRINT_EVENT_MESSAGE(message_id=7602*)
    → "I got a deal for ya, kid.\u0007Did ya know that before the Great War, the three nations all had their own currencies?\u007F1\u0000\u0007"
 11: 0x00B7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x00B8 [0x1D] PRINT_EVENT_MESSAGE(message_id=7603*)
    → "After that little fracas, everyone started using gil as the standard coin, and the other types of money just faded out of existence.\u0007Even if you was to find any nowadays, they only have value to Goblin collectors like me.\u007F1\u0000\u0007"
 13: 0x00BB [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x00BC [0x1D] PRINT_EVENT_MESSAGE(message_id=7604*)
    → "You're looking a bit confused there, kid.\u0007Let me show ya what I'm talking about.\u007F1\u0000\u0007"
 15: 0x00BF [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x00C0 [0x5B] LOAD_EXT_SCHEDULER(work_offset=215*, entity1=Lootblox (ID: 17388036/0x01095204), entity2=Lootblox (ID: 17388036/0x01095204), action="pas0")
 17: 0x00CF [0x93] DISPLAY_ITEM_INFO(item_id=ExtData[1]->WorkLocal[9])
 18: 0x00D2 [0x03] Work_Zone[9] = 1*
 19: 0x00D7 [0x1D] PRINT_EVENT_MESSAGE(message_id=7605*)
    → "This one's the least valuable of the lot. It was used as a part of the San d'Orian currency years ago.\u0007I know I told ya about the nations all having different currencies, but these San d'Orian coins are the only ones I'm interested in.\u007F1\u0000\u0007"
 20: 0x00DA [0x23] WAIT_FOR_DIALOG_INTERACTION
 21: 0x00DB [0x53] WAIT_SCHEDULER_TASK(entity1=Lootblox (ID: 17388036/0x01095204), entity2=Lootblox (ID: 17388036/0x01095204), action_id="pas0")
 22: 0x00E8 [0x93] DISPLAY_ITEM_INFO(item_id=0*)
 23: 0x00EB [0x5B] LOAD_EXT_SCHEDULER(work_offset=215*, entity1=Lootblox (ID: 17388036/0x01095204), entity2=Lootblox (ID: 17388036/0x01095204), action="tlk0")
 24: 0x00FA [0x1D] PRINT_EVENT_MESSAGE(message_id=7606*)
    → "If ya bring me these coins, I'll exchange them for something from my secret stash of treasure. Ya won't be getting anything for just one of them, so make sure ya collect a bagful, okay?\u007F1\u0000\u0007"
 25: 0x00FD [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x00FE [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[6]
 27: 0x0103 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[4]
 28: 0x0108 [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[7]
 29: 0x010D [0x5B] LOAD_EXT_SCHEDULER(work_offset=215*, entity1=Lootblox (ID: 17388036/0x01095204), entity2=Lootblox (ID: 17388036/0x01095204), action="tlk1")
 30: 0x011C [0x1D] PRINT_EVENT_MESSAGE(message_id=7607*)
    → "Let me explain the deal.\u0007Bring me 
\u0001 \u0001	)\u0002\u0001\u0000\u0000\u0002\u0000\u0000\u0000, and I'll give ya one \u0001\u0005#\u0002\u0002\u0000\u0000. \u0007Where're ya going? Let me finish, will ya?\u007F1\u0000\u0007"
 31: 0x011F [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x0120 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[7]
 33: 0x0125 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[5]
 34: 0x012A [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[8]
 35: 0x012F [0x1D] PRINT_EVENT_MESSAGE(message_id=7608*)
    → "Once ya got 
\u0001 \u0001	)\u0002\u0001\u0000\u0000\u0002\u0000\u0000\u0000, ya can trade them for one \u0001\u0005#\u0002\u0002\u0000\u0000. Or, ya can decide to exchange them for something from my treasure stash. Each item's gonna cost ya a different amount, so choose carefully.\u007F1\u0000\u0007"
 36: 0x0132 [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x0133 [0x5B] LOAD_EXT_SCHEDULER(work_offset=215*, entity1=Lootblox (ID: 17388036/0x01095204), entity2=Lootblox (ID: 17388036/0x01095204), action="tlk0")
 38: 0x0142 [0x03] Work_Zone[1] = 10*
 39: 0x0147 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 40: 0x0149 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 41: 0x014B [0x1D] PRINT_EVENT_MESSAGE(message_id=7724*)
    → "Ya can also exchange a \u0001\u0005#\u0002\u0000\u0000\u0000 for 
\u0002 \u0001	)\u0002\u0002\u0000\u0000\u0002\u0001\u0000\u0000. Gonna take ya a while to find, kid. Hope you're patient.\u007F1\u0000\u0007"
 42: 0x014E [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x014F [0x21] END_EVENT
 44: 0x0150 [0x00] END_REQSTACK()
```
