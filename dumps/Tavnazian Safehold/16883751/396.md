# Event 396

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 15/16     |
| Offset          | 0x315B    |
| Data Size       | 964 bytes |
| Calculated Size | 964 bytes |
| Instructions    | 125       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
3150:                                   20 01 42 46 01              .BF.
3160: 45 02 80 F8 FF FF 7F F8  FF FF 7F 66 64 6F 31 00  E..........fdo1.
3170: 80 1C 04 80 38 03 80 29  08 F0 FF FF 7F 11 1C 04  ....8..)........
3180: 80 92 01 35 A0 01 01 29  0B 35 A0 01 01 3F 29 0B  ...5...).5...?).
3190: F0 FF FF 7F 2D 4A F0 FF  FF 7F 35 A0 01 01 4A 35  ....-J....5...J5
31A0: A0 01 01 F0 FF FF 7F 6F  76 35 A0 01 01 6F 76 F0  .......ov5...ov.
31B0: FF FF 7F 4E 00 35 A0 01  01 80 35 A0 01 01 45 6D  ...N.5....5...Em
31C0: 80 F8 FF FF 7F F8 FF FF  7F 73 30 36 35 00 80 45  .........s065..E
31D0: 02 80 F8 FF FF 7F F8 FF  FF 7F 66 64 69 31 00 80  ..........fdi1..
31E0: 27 08 35 A0 01 01 35 2B  35 A0 01 01 6E 80 23 2A  '.5...5+5...n.#*
31F0: 08 35 A0 01 01 45 02 80  F8 FF FF 7F F8 FF FF 7F  .5...E..........
3200: 66 64 6F 31 00 80 1C 04  80 52 6D 80 F8 FF FF 7F  fdo1.....Rm.....
3210: F8 FF FF 7F 73 30 36 35  02 09 10 07 80 00 34 32  ....s065......42
3220: 45 6D 80 F8 FF FF 7F F8  FF FF 7F 73 30 37 34 00  Em.........s074.
3230: 80 01 61 32 02 09 10 08  80 00 50 32 45 6D 80 F8  ..a2......P2Em..
3240: FF FF 7F F8 FF FF 7F 73  30 37 34 00 80 01 61 32  .......s074...a2
3250: 45 6D 80 F8 FF FF 7F F8  FF FF 7F 73 30 36 39 00  Em.........s069.
3260: 80 45 02 80 F8 FF FF 7F  F8 FF FF 7F 66 64 69 31  .E..........fdi1
3270: 00 80 2B 35 A0 01 01 C5  80 23 02 07 10 72 80 00  ..+5.....#...r..
3280: 8D 32 2B 35 A0 01 01 C6  80 23 01 95 32 2B 35 A0  .2+5.....#..2+5.
3290: 01 01 C7 80 23 02 09 10  07 80 00 AF 32 52 6D 80  ....#.......2Rm.
32A0: F8 FF FF 7F F8 FF FF 7F  73 30 37 34 01 D8 32 02  ........s074..2.
32B0: 09 10 08 80 00 C9 32 52  6D 80 F8 FF FF 7F F8 FF  ......2Rm.......
32C0: FF 7F 73 30 37 34 01 D8  32 52 6D 80 F8 FF FF 7F  ..s074..2Rm.....
32D0: F8 FF FF 7F 73 30 36 39  45 6D 80 F8 FF FF 7F F8  ....s069Em......
32E0: FF FF 7F 73 30 36 36 00  80 29 08 35 A0 01 01 0F  ...s066..).5....
32F0: 2B 35 A0 01 01 C8 80 23  2B 35 A0 01 01 C9 80 23  +5.....#+5.....#
3300: 29 08 35 A0 01 01 10 45  02 80 F8 FF FF 7F F8 FF  ).5....E........
3310: FF 7F 66 64 6F 31 00 80  1C 04 80 52 6D 80 F8 FF  ..fdo1.....Rm...
3320: FF 7F F8 FF FF 7F 73 30  36 36 34 CA 80 77 0F 80  ......s0664..w..
3330: 72 80 1C 50 80 45 6D 80  F8 FF FF 7F F8 FF FF 7F  r..P.Em.........
3340: 73 30 38 32 00 80 45 02  80 F8 FF FF 7F F8 FF FF  s082..E.........
3350: 7F 66 64 69 31 00 80 29  08 35 A0 01 01 11 2B 35  .fdi1..).5....+5
3360: A0 01 01 CB 80 23 52 6D  80 F8 FF FF 7F F8 FF FF  .....#Rm........
3370: 7F 73 30 38 32 45 02 80  F0 FF FF 7F F0 FF FF 7F  .s082E..........
3380: 6F 76 6C 31 00 80 45 6D  80 F8 FF FF 7F F8 FF FF  ovl1..Em........
3390: 7F 73 30 38 33 00 80 2B  35 A0 01 01 CC 80 23 29  .s083..+5.....#)
33A0: 08 35 A0 01 01 12 45 02  80 F8 FF FF 7F F8 FF FF  .5....E.........
33B0: 7F 66 64 6F 31 00 80 1C  04 80 35 C4 80 78 1C 50  .fdo1.....5..x.P
33C0: 80 29 0B 35 A0 01 01 3F  29 0B F0 FF FF 7F 2D 4A  .).5...?).....-J
33D0: F0 FF FF 7F 35 A0 01 01  4A 35 A0 01 01 F0 FF FF  ....5...J5......
33E0: 7F 6F 76 35 A0 01 01 6F  76 F0 FF FF 7F 4E 00 35  .ov5...ov....N.5
33F0: A0 01 01 80 35 A0 01 01  52 6D 80 F8 FF FF 7F F8  ....5...Rm......
3400: FF FF 7F 73 30 38 33 45  6D 80 F8 FF FF 7F F8 FF  ...s083Em.......
3410: FF 7F 73 30 36 38 00 80  45 02 80 F8 FF FF 7F F8  ..s068..E.......
3420: FF FF 7F 66 64 69 31 00  80 2B 35 A0 01 01 CD 80  ...fdi1..+5.....
3430: 23 2B 35 A0 01 01 CE 80  23 52 6D 80 F8 FF FF 7F  #+5.....#Rm.....
3440: F8 FF FF 7F 73 30 36 38  02 09 10 07 80 00 64 34  ....s068......d4
3450: 45 6D 80 F8 FF FF 7F F8  FF FF 7F 73 30 37 34 00  Em.........s074.
3460: 80 01 91 34 02 09 10 08  80 00 80 34 45 6D 80 F8  ...4.......4Em..
3470: FF FF 7F F8 FF FF 7F 73  30 37 34 00 80 01 91 34  .......s074....4
3480: 45 6D 80 F8 FF FF 7F F8  FF FF 7F 73 30 36 39 00  Em.........s069.
3490: 80 27 08 35 A0 01 01 35  2B 35 A0 01 01 CF 80 23  .'.5...5+5.....#
34A0: 45 02 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 31 00  E..........fdo1.
34B0: 80 1C 04 80 2A 08 35 A0  01 01 02 09 10 07 80 00  ....*.5.........
34C0: D4 34 52 6D 80 F8 FF FF  7F F8 FF FF 7F 73 30 37  .4Rm.........s07
34D0: 34 01 FD 34 02 09 10 08  80 00 EE 34 52 6D 80 F8  4..4.......4Rm..
34E0: FF FF 7F F8 FF FF 7F 73  30 37 34 01 FD 34 52 6D  .......s074..4Rm
34F0: 80 F8 FF FF 7F F8 FF FF  7F 73 30 36 39 4E 00 F0  .........s069N..
3500: FF FF 7F 80 F0 FF FF 7F  46 00 45 02 80 F0 FF FF  ........F.E.....
3510: 7F F0 FF FF 7F 66 64 69  31 00 80 20 00 21 00     .....fdi1.. .!. 
```

## Opcodes

```
  0: 0x315B [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x315D [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x315E [0x46] CAMERA_CONTROL: Disable user control
  3: 0x3160 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  4: 0x3171 [0x1C] WAIT(60* ticks)
  5: 0x3174 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  6: 0x3177 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x11)
  7: 0x317E [0x1C] WAIT(60* ticks)
  8: 0x3181 [0x92] Quelveuiat (ID: 16883765/0x0101A035)->Render.Flags3 ^= 0x01
  9: 0x3187 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x3F)
 10: 0x318E [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x2D)
 11: 0x3195 [0x4A] LocalPlayer looks at Quelveuiat (ID: 16883765/0x0101A035)
 12: 0x319E [0x4A] Quelveuiat (ID: 16883765/0x0101A035) looks at LocalPlayer
 13: 0x31A7 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 14: 0x31A8 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Quelveuiat (ID: 16883765/0x0101A035) Render.Flags0 and Render.Flags3 conditions are met
 15: 0x31AD [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 16: 0x31AE [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 17: 0x31B3 [0x4E] SET_ENTITY_HIDE_FLAG: Show Quelveuiat (ID: 16883765/0x0101A035)
 18: 0x31B9 [0x80] LOAD_WAIT(entity=Quelveuiat (ID: 16883765/0x0101A035))
 19: 0x31BE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s065" with entities [EventEntity, EventEntity], work=[174*, 0*]
 20: 0x31CF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 21: 0x31E0 [0x27] REQ_SET(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x35)
 22: 0x31E7 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [10425*]:
    → "Hail the proud and valiant knights of Tavnazia!\u0007Raise the pennants and cheer us on to victory!\u007F1\u0000\u0007"
 23: 0x31EE [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x31EF [0x2A] GET_REQ_LEVEL(level=8, entity_id=Quelveuiat (ID: 16883765/0x0101A035))
 25: 0x31F5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 26: 0x3206 [0x1C] WAIT(60* ticks)
 27: 0x3209 [0x52] END_LOAD_SCHEDULER: End scheduler "s065" with entities [EventEntity, EventEntity], work=174*
 28: 0x3218 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x3234
 29: 0x3220 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s074" with entities [EventEntity, EventEntity], work=[174*, 0*]
 30: 0x3231 [0x01] GOTO 0x3261
 31: 0x3234 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x3250
 32: 0x323C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s074" with entities [EventEntity, EventEntity], work=[174*, 0*]
 33: 0x324D [0x01] GOTO 0x3261
 34: 0x3250 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s069" with entities [EventEntity, EventEntity], work=[174*, 0*]
 35: 0x3261 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 36: 0x3272 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [11147*]:
    → "Your business here, \u007F\u0005[sir/madame]?\u0007You seek a young maiden and her airborne, alabaster companion?\u007F1\u0000\u0007"
 37: 0x3279 [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x327A [0x02] IF !(Work_Zone[7] == 1*) GOTO 0x328D
 39: 0x3282 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [11148*]:
    → "Why, the lady in question passed my trial and joined our illustrious order, just as you did!\u007F1\u0000\u0007"
 40: 0x3289 [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x328A [0x01] GOTO 0x3295
 42: 0x328D [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [11149*]:
    → "Why, the lady in question passed my trial and joined the Tavnazian order of knights!\u007F1\u0000\u0007"
 43: 0x3294 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x3295 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x32AF
 45: 0x329D [0x52] END_LOAD_SCHEDULER: End scheduler "s074" with entities [EventEntity, EventEntity], work=174*
 46: 0x32AC [0x01] GOTO 0x32D8
 47: 0x32AF [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x32C9
 48: 0x32B7 [0x52] END_LOAD_SCHEDULER: End scheduler "s074" with entities [EventEntity, EventEntity], work=174*
 49: 0x32C6 [0x01] GOTO 0x32D8
 50: 0x32C9 [0x52] END_LOAD_SCHEDULER: End scheduler "s069" with entities [EventEntity, EventEntity], work=174*
 51: 0x32D8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s066" with entities [EventEntity, EventEntity], work=[174*, 0*]
 52: 0x32E9 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x0F)
 53: 0x32F0 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [11150*]:
    → "The fiery young damsel is on a quest to find the famous Goldmane!\u007F1\u0000\u0007"
 54: 0x32F7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 55: 0x32F8 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [11151*]:
    → "Thus I imparted to her the location of the bounty hunter's birthplace!\u007F1\u0000\u0007"
 56: 0x32FF [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x3300 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x10)
 58: 0x3307 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 59: 0x3318 [0x1C] WAIT(60* ticks)
 60: 0x331B [0x52] END_LOAD_SCHEDULER: End scheduler "s066" with entities [EventEntity, EventEntity], work=174*
 61: 0x332A [0x34] LOAD_UNLOAD_ZONE(zone_id=25*)
 62: 0x332D [0x77] SET_EVENT_TIME_WEATHER(hour=12*, weather=1*)
 63: 0x3332 [0x1C] WAIT(100* ticks)
 64: 0x3335 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s082" with entities [EventEntity, EventEntity], work=[174*, 0*]
 65: 0x3346 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 66: 0x3357 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x11)
 67: 0x335E [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [11152*]:
    → "He was raised in a shepherd's village found in the west of the Tavnazian archipelago.\u007F1\u0000\u0007"
 68: 0x3365 [0x23] WAIT_FOR_DIALOG_INTERACTION
 69: 0x3366 [0x52] END_LOAD_SCHEDULER: End scheduler "s082" with entities [EventEntity, EventEntity], work=174*
 70: 0x3375 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 71: 0x3386 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s083" with entities [EventEntity, EventEntity], work=[174*, 0*]
 72: 0x3397 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [11153*]:
    → "That land is now the site of tremendous change brought about by fell sorcery!\u007F1\u0000\u0007"
 73: 0x339E [0x23] WAIT_FOR_DIALOG_INTERACTION
 74: 0x339F [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x12)
 75: 0x33A6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 76: 0x33B7 [0x1C] WAIT(60* ticks)
 77: 0x33BA [0x35] LOAD_ZONE_NO_CLOSE(zone_id=26*)
 78: 0x33BD [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 79: 0x33BE [0x1C] WAIT(100* ticks)
 80: 0x33C1 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x3F)
 81: 0x33C8 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x2D)
 82: 0x33CF [0x4A] LocalPlayer looks at Quelveuiat (ID: 16883765/0x0101A035)
 83: 0x33D8 [0x4A] Quelveuiat (ID: 16883765/0x0101A035) looks at LocalPlayer
 84: 0x33E1 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 85: 0x33E2 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Quelveuiat (ID: 16883765/0x0101A035) Render.Flags0 and Render.Flags3 conditions are met
 86: 0x33E7 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 87: 0x33E8 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 88: 0x33ED [0x4E] SET_ENTITY_HIDE_FLAG: Show Quelveuiat (ID: 16883765/0x0101A035)
 89: 0x33F3 [0x80] LOAD_WAIT(entity=Quelveuiat (ID: 16883765/0x0101A035))
 90: 0x33F8 [0x52] END_LOAD_SCHEDULER: End scheduler "s083" with entities [EventEntity, EventEntity], work=174*
 91: 0x3407 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s068" with entities [EventEntity, EventEntity], work=[174*, 0*]
 92: 0x3418 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 93: 0x3429 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [11154*]:
    → "Goldmane was born in that quiet village, but was loath to follow the shepherd's path.\u0007After moving to Tavnazia, he took up the mercenary trade of the bounty hunter!\u007F1\u0000\u0007"
 94: 0x3430 [0x23] WAIT_FOR_DIALOG_INTERACTION
 95: 0x3431 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [11155*]:
    → "When he met and married a lady mage, however, Goldmane's footsteps led him back to the place of his birth to start a family.\u007F1\u0000\u0007"
 96: 0x3438 [0x23] WAIT_FOR_DIALOG_INTERACTION
 97: 0x3439 [0x52] END_LOAD_SCHEDULER: End scheduler "s068" with entities [EventEntity, EventEntity], work=174*
 98: 0x3448 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x3464
 99: 0x3450 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s074" with entities [EventEntity, EventEntity], work=[174*, 0*]
100: 0x3461 [0x01] GOTO 0x3491
101: 0x3464 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x3480
102: 0x346C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s074" with entities [EventEntity, EventEntity], work=[174*, 0*]
103: 0x347D [0x01] GOTO 0x3491
104: 0x3480 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s069" with entities [EventEntity, EventEntity], work=[174*, 0*]
105: 0x3491 [0x27] REQ_SET(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x35)
106: 0x3498 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [11156*]:
    → "People will always find their way back to the beginning.\u0007The same holds true when we reach the end of our path in life.\u007F1\u0000\u0007"
107: 0x349F [0x23] WAIT_FOR_DIALOG_INTERACTION
108: 0x34A0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
109: 0x34B1 [0x1C] WAIT(60* ticks)
110: 0x34B4 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Quelveuiat (ID: 16883765/0x0101A035))
111: 0x34BA [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x34D4
112: 0x34C2 [0x52] END_LOAD_SCHEDULER: End scheduler "s074" with entities [EventEntity, EventEntity], work=174*
113: 0x34D1 [0x01] GOTO 0x34FD
114: 0x34D4 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x34EE
115: 0x34DC [0x52] END_LOAD_SCHEDULER: End scheduler "s074" with entities [EventEntity, EventEntity], work=174*
116: 0x34EB [0x01] GOTO 0x34FD
117: 0x34EE [0x52] END_LOAD_SCHEDULER: End scheduler "s069" with entities [EventEntity, EventEntity], work=174*
118: 0x34FD [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
119: 0x3503 [0x80] LOAD_WAIT(entity=LocalPlayer)
120: 0x3508 [0x46] CAMERA_CONTROL: Restore default settings
121: 0x350A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
122: 0x351B [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
123: 0x351D [0x21] END_EVENT
124: 0x351E [0x00] END_REQSTACK()
```
