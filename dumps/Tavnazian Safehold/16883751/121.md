# Event 121

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/16      |
| Offset          | 0x21F8    |
| Data Size       | 384 bytes |
| Calculated Size | 384 bytes |
| Instructions    | 54        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
21F0:                          20 01 42 46 01 45 02 80           .BF.E..
2200: F8 FF FF 7F F8 FF FF 7F  66 64 6F 31 00 80 1C 04  ........fdo1....
2210: 80 38 03 80 29 08 F0 FF  FF 7F 11 92 01 35 A0 01  .8..)........5..
2220: 01 29 0B 35 A0 01 01 3F  29 0B F0 FF FF 7F 2D 4A  .).5...?).....-J
2230: F0 FF FF 7F 35 A0 01 01  4A 35 A0 01 01 F0 FF FF  ....5...J5......
2240: 7F 6F 76 35 A0 01 01 6F  76 F0 FF FF 7F 4E 00 35  .ov5...ov....N.5
2250: A0 01 01 80 35 A0 01 01  45 6D 80 F8 FF FF 7F F8  ....5...Em......
2260: FF FF 7F 73 30 37 32 00  80 45 02 80 F8 FF FF 7F  ...s072..E......
2270: F8 FF FF 7F 66 64 69 31  00 80 27 08 35 A0 01 01  ....fdi1..'.5...
2280: 38 2B 35 A0 01 01 7E 80  23 2A 08 35 A0 01 01 45  8+5...~.#*.5...E
2290: 02 80 F8 FF FF 7F F8 FF  FF 7F 66 64 6F 31 00 80  ..........fdo1..
22A0: 1C 04 80 52 6D 80 F8 FF  FF 7F F8 FF FF 7F 73 30  ...Rm.........s0
22B0: 37 30 27 08 35 A0 01 01  37 2B 35 A0 01 01 7F 80  70'.5...7+5.....
22C0: 23 2A 08 35 A0 01 01 45  6D 80 F8 FF FF 7F F8 FF  #*.5...Em.......
22D0: FF 7F 73 30 37 33 00 80  45 02 80 F8 FF FF 7F F8  ..s073..E.......
22E0: FF FF 7F 66 64 69 31 00  80 29 08 35 A0 01 01 0F  ...fdi1..).5....
22F0: 2B 35 A0 01 01 80 80 23  29 08 35 A0 01 01 10 29  +5.....#).5....)
2300: 08 35 A0 01 01 11 29 08  35 A0 01 01 12 27 08 35  .5....).5....'.5
2310: A0 01 01 39 2B 35 A0 01  01 81 80 23 2A 08 35 A0  ...9+5.....#*.5.
2320: 01 01 45 02 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..E..........fdo
2330: 31 00 80 1C 04 80 52 6D  80 F8 FF FF 7F F8 FF FF  1.....Rm........
2340: 7F 73 30 37 33 45 7C 80  F0 FF FF 7F F0 FF FF 7F  .s073E|.........
2350: 71 73 74 63 00 80 4E 00  F0 FF FF 7F 80 F0 FF FF  qstc..N.........
2360: 7F 46 00 45 02 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .F.E..........fd
2370: 69 31 00 80 20 00 21 00                           i1.. .!.        
```

## Opcodes

```
  0: 0x21F8 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x21FA [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x21FB [0x46] CAMERA_CONTROL: Disable user control
  3: 0x21FD [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  4: 0x220E [0x1C] WAIT(60* ticks)
  5: 0x2211 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  6: 0x2214 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x11)
  7: 0x221B [0x92] Quelveuiat (ID: 16883765/0x0101A035)->Render.Flags3 ^= 0x01
  8: 0x2221 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x3F)
  9: 0x2228 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x2D)
 10: 0x222F [0x4A] LocalPlayer looks at Quelveuiat (ID: 16883765/0x0101A035)
 11: 0x2238 [0x4A] Quelveuiat (ID: 16883765/0x0101A035) looks at LocalPlayer
 12: 0x2241 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 13: 0x2242 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Quelveuiat (ID: 16883765/0x0101A035) Render.Flags0 and Render.Flags3 conditions are met
 14: 0x2247 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 15: 0x2248 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 16: 0x224D [0x4E] SET_ENTITY_HIDE_FLAG: Show Quelveuiat (ID: 16883765/0x0101A035)
 17: 0x2253 [0x80] LOAD_WAIT(entity=Quelveuiat (ID: 16883765/0x0101A035))
 18: 0x2258 [0x45] LOAD_SCHEDULED_TASK(work_offset1=174*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s072", work_offset2=0*)
 19: 0x2269 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 20: 0x227A [0x27] REQ_SET(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x38)
 21: 0x2281 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [10438*]:
    → "You have completed your watch duty?\u0007Oh, I say!\u007F1\u0000\u0007"
 22: 0x2288 [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x2289 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Quelveuiat (ID: 16883765/0x0101A035))
 24: 0x228F [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 25: 0x22A0 [0x1C] WAIT(60* ticks)
 26: 0x22A3 [0x52] END_LOAD_SCHEDULER: End scheduler "s070" with entities [EventEntity, EventEntity], work=174*
 27: 0x22B2 [0x27] REQ_SET(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x37)
 28: 0x22B9 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [10439*]:
    → "Orcish blood...\u0007It appears you have passed your initiation with flying colors!\u0007A splendid display!\u007F1\u0000\u0007"
 29: 0x22C0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x22C1 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Quelveuiat (ID: 16883765/0x0101A035))
 31: 0x22C7 [0x45] LOAD_SCHEDULED_TASK(work_offset1=174*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s073", work_offset2=0*)
 32: 0x22D8 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 33: 0x22E9 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x0F)
 34: 0x22F0 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [10440*]:
    → "I present you with this gift to celebrate the birth of a new Tavnazian knight!\u007F1\u0000\u0007"
 35: 0x22F7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x22F8 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x10)
 37: 0x22FF [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x11)
 38: 0x2306 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x12)
 39: 0x230D [0x27] REQ_SET(priority=0x08, entity_id=Quelveuiat (ID: 16883765/0x0101A035), tag_num=0x39)
 40: 0x2314 [0x2B] Quelveuiat (ID: 16883765/0x0101A035) [10441*]:
    → "Congratulations!\u0007I expect great things from you, \u0008!\u007F1\u0000\u0007"
 41: 0x231B [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x231C [0x2A] GET_REQ_LEVEL(level=8, entity_id=Quelveuiat (ID: 16883765/0x0101A035))
 43: 0x2322 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 44: 0x2333 [0x1C] WAIT(60* ticks)
 45: 0x2336 [0x52] END_LOAD_SCHEDULER: End scheduler "s073" with entities [EventEntity, EventEntity], work=174*
 46: 0x2345 [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="qstc", work_offset2=0*)
 47: 0x2356 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 48: 0x235C [0x80] LOAD_WAIT(entity=LocalPlayer)
 49: 0x2361 [0x46] CAMERA_CONTROL: Restore default settings
 50: 0x2363 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 51: 0x2374 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 52: 0x2376 [0x21] END_EVENT
 53: 0x2377 [0x00] END_REQSTACK()
```
