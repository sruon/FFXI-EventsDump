# Event 517

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 69/118    |
| Offset          | 0xAA59    |
| Data Size       | 623 bytes |
| Calculated Size | 623 bytes |
| Instructions    | 88        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
AA50:                             42 1A 85 12 46 01 92           B...F..
AA60: 01 09 A0 01 01 45 6F 81  F8 FF FF 7F F8 FF FF 7F  .....Eo.........
AA70: 73 30 30 30 0A 80 38 6C  80 37 70 81 71 81 10 80  s000..8l.7p.q...
AA80: 72 81 4A 09 A0 01 01 F0  FF FF 7F 1A EB 12 2B 09  r.J...........+.
AA90: A0 01 01 C4 84 23 5B 3B  80 09 A0 01 01 09 A0 01  .....#[;........
AAA0: 01 74 6C 6B 30 2B 09 A0  01 01 C5 84 23 52 6F 81  .tlk0+......#Ro.
AAB0: F8 FF FF 7F F8 FF FF 7F  73 30 30 30 45 6F 81 F8  ........s000Eo..
AAC0: FF FF 7F F8 FF FF 7F 73  30 36 35 0A 80 5B 3B 80  .......s065..[;.
AAD0: 09 A0 01 01 09 A0 01 01  74 6C 6B 31 2B 09 A0 01  ........tlk1+...
AAE0: 01 C6 84 23 5B E6 80 09  A0 01 01 09 A0 01 01 74  ...#[..........t
AAF0: 6C 6B 30 2B 09 A0 01 01  C7 84 23 1A A6 12 6B 69  lk0+......#...ki
AB00: 64 6C 30 09 A0 01 01 1C  3B 80 27 0A 09 A0 01 01  dl0.....;.'.....
AB10: 2F 52 6F 81 F8 FF FF 7F  F8 FF FF 7F 73 30 36 35  /Ro.........s065
AB20: 45 6F 81 F8 FF FF 7F F8  FF FF 7F 73 30 36 36 0A  Eo.........s066.
AB30: 80 1A EB 12 1C 59 80 7B  09 A0 01 01 2B 09 A0 01  .....Y.{....+...
AB40: 01 C8 84 1C 59 80 1E 09  A0 01 01 23 2A 0A 09 A0  ....Y......#*...
AB50: 01 01 5B E6 80 09 A0 01  01 09 A0 01 01 74 6C 6B  ..[..........tlk
AB60: 30 2B 09 A0 01 01 C9 84  23 52 6F 81 F8 FF FF 7F  0+......#Ro.....
AB70: F8 FF FF 7F 73 30 36 36  45 6F 81 F8 FF FF 7F F8  ....s066Eo......
AB80: FF FF 7F 73 30 36 37 0A  80 1C 3B 80 5B E6 80 09  ...s067...;.[...
AB90: A0 01 01 09 A0 01 01 74  6C 6B 31 2B 09 A0 01 01  .......tlk1+....
ABA0: CA 84 23 53 09 A0 01 01  09 A0 01 01 74 6C 6B 31  ..#S........tlk1
ABB0: 27 0A 09 A0 01 01 30 1A  A6 12 2A 0A 09 A0 01 01  '.....0...*.....
ABC0: 33 01 37 CB 84 CC 84 CD  84 CE 84 52 6F 81 F8 FF  3.7........Ro...
ABD0: FF 7F F8 FF FF 7F 73 30  36 37 45 6F 81 F8 FF FF  ......s067Eo....
ABE0: 7F F8 FF FF 7F 73 30 36  38 0A 80 1A EB 12 32 00  .....s068.....2.
ABF0: 80 5A 00 CF 84 D0 84 08  83 5A 01 27 0A 24 A0 01  .Z.......Z.'.$..
AC00: 01 02 5A 00 D1 84 D2 84  08 83 5A 01 1A A6 12 52  ..Z.......Z....R
AC10: 6F 81 F8 FF FF 7F F8 FF  FF 7F 73 30 36 38 45 6F  o.........s068Eo
AC20: 81 F8 FF FF 7F F8 FF FF  7F 73 30 36 39 0A 80 1A  .........s069...
AC30: EB 12 1C 66 80 4A 09 A0  01 01 F0 FF FF 7F 6F 70  ...f.J........op
AC40: 5B 3B 80 09 A0 01 01 09  A0 01 01 70 61 73 30 2B  [;.........pas0+
AC50: 09 A0 01 01 D3 84 23 2B  09 A0 01 01 D4 84 23 22  ......#+......#"
AC60: 01 52 6F 81 F8 FF FF 7F  F8 FF FF 7F 73 30 36 39  .Ro.........s069
AC70: 45 6F 81 F8 FF FF 7F F8  FF FF 7F 73 30 37 30 0A  Eo.........s070.
AC80: 80 5B 3B 80 09 A0 01 01  09 A0 01 01 74 6C 6B 30  .[;.........tlk0
AC90: 2B 09 A0 01 01 D5 84 23  5B 3B 80 09 A0 01 01 09  +......#[;......
ACA0: A0 01 01 74 6C 6B 31 2B  09 A0 01 01 D6 84 23 1A  ...tlk1+......#.
ACB0: 85 12 52 6F 81 F8 FF FF  7F F8 FF FF 7F 73 30 37  ..Ro.........s07
ACC0: 30 46 00 1A D9 12 21 00                           0F....!.        
```

## Opcodes

```
  0: 0xAA59 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0xAA5A [0x1A] CALL_SUBROUTINE(address=0x1285)
  2: 0xAA5D [0x46] CAMERA_CONTROL: Disable user control
  3: 0xAA5F [0x92] Despachiaire (ID: 16883721/0x0101A009)->Render.Flags3 ^= 0x01
  4: 0xAA65 [0x45] LOAD_SCHEDULED_TASK(work_offset1=110*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s000", work_offset2=0*)
  5: 0xAA76 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  6: 0xAA79 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=109.106*, z=-85.535*, y=-40.015*, direction=352.6°*
  7: 0xAA82 [0x4A] Despachiaire (ID: 16883721/0x0101A009) looks at LocalPlayer
  8: 0xAA8B [0x1A] CALL_SUBROUTINE(address=0x12EB)
  9: 0xAA8E [0x2B] Despachiaire (ID: 16883721/0x0101A009) [11385*]:
    → "I hear word that you aided Jonette in her search for lost Tavnazian cuisine.\u007F1\u0000\u0007"
 10: 0xAA95 [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0xAA96 [0x5B] LOAD_EXT_SCHEDULER(work_offset=30*, entity1=Despachiaire (ID: 16883721/0x0101A009), entity2=Despachiaire (ID: 16883721/0x0101A009), action="tlk0")
 12: 0xAAA5 [0x2B] Despachiaire (ID: 16883721/0x0101A009) [11386*]:
    → "She was simply overjoyed with the recipes you brought her...\u007F1\u0000\u0007"
 13: 0xAAAC [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0xAAAD [0x52] END_LOAD_SCHEDULER: End scheduler "s000" with entities [EventEntity, EventEntity], work=110*
 15: 0xAABC [0x45] LOAD_SCHEDULED_TASK(work_offset1=110*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s065", work_offset2=0*)
 16: 0xAACD [0x5B] LOAD_EXT_SCHEDULER(work_offset=30*, entity1=Despachiaire (ID: 16883721/0x0101A009), entity2=Despachiaire (ID: 16883721/0x0101A009), action="tlk1")
 17: 0xAADC [0x2B] Despachiaire (ID: 16883721/0x0101A009) [11387*]:
    → "I wonder if I might ask you a question...\u007F1\u0000\u0007"
 18: 0xAAE3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0xAAE4 [0x5B] LOAD_EXT_SCHEDULER(work_offset=497*, entity1=Despachiaire (ID: 16883721/0x0101A009), entity2=Despachiaire (ID: 16883721/0x0101A009), action="tlk0")
 20: 0xAAF3 [0x2B] Despachiaire (ID: 16883721/0x0101A009) [11388*]:
    → "From whom did you learn of my previous occupation as a merchant carrying goods between San d'Oria and Tavnazia?\u007F1\u0000\u0007"
 21: 0xAAFA [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0xAAFB [0x1A] CALL_SUBROUTINE(address=0x12A6)
 23: 0xAAFE [0x6B] STOP_AND_IDLE: Despachiaire (ID: 16883721/0x0101A009) stops current action and resets to idle (animation="idl0")
 24: 0xAB07 [0x1C] WAIT(30* ticks)
 25: 0xAB0A [0x27] REQ_SET(priority=0x0A, entity_id=Despachiaire (ID: 16883721/0x0101A009), tag_num=0x2F)
 26: 0xAB11 [0x52] END_LOAD_SCHEDULER: End scheduler "s065" with entities [EventEntity, EventEntity], work=110*
 27: 0xAB20 [0x45] LOAD_SCHEDULED_TASK(work_offset1=110*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s066", work_offset2=0*)
 28: 0xAB31 [0x1A] CALL_SUBROUTINE(address=0x12EB)
 29: 0xAB34 [0x1C] WAIT(60* ticks)
 30: 0xAB37 [0x7B] Despachiaire (ID: 16883721/0x0101A009) stops talking
 31: 0xAB3C [0x2B] Despachiaire (ID: 16883721/0x0101A009) [11389*]:
    → "A Lady Rouva, you say...?\u0007That name stirs the echo of a long-silent memory.\u007F1\u0000\u0007"
 32: 0xAB43 [0x1C] WAIT(60* ticks)
 33: 0xAB46 [0x1E] EventEntity looks at Despachiaire (ID: 16883721/0x0101A009) and starts talking
 34: 0xAB4B [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0xAB4C [0x2A] GET_REQ_LEVEL(level=10, entity_id=Despachiaire (ID: 16883721/0x0101A009))
 36: 0xAB52 [0x5B] LOAD_EXT_SCHEDULER(work_offset=497*, entity1=Despachiaire (ID: 16883721/0x0101A009), entity2=Despachiaire (ID: 16883721/0x0101A009), action="tlk0")
 37: 0xAB61 [0x2B] Despachiaire (ID: 16883721/0x0101A009) [11390*]:
    → "If this lady knows of my past, then perhaps she also remembers my dearly departed wife.\u007F1\u0000\u0007"
 38: 0xAB68 [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0xAB69 [0x52] END_LOAD_SCHEDULER: End scheduler "s066" with entities [EventEntity, EventEntity], work=110*
 40: 0xAB78 [0x45] LOAD_SCHEDULED_TASK(work_offset1=110*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s067", work_offset2=0*)
 41: 0xAB89 [0x1C] WAIT(30* ticks)
 42: 0xAB8C [0x5B] LOAD_EXT_SCHEDULER(work_offset=497*, entity1=Despachiaire (ID: 16883721/0x0101A009), entity2=Despachiaire (ID: 16883721/0x0101A009), action="tlk1")
 43: 0xAB9B [0x2B] Despachiaire (ID: 16883721/0x0101A009) [11391*]:
    → "Would you spare a moment to indulge an old man's sentimentality...?\u007F1\u0000\u0007"
 44: 0xABA2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 45: 0xABA3 [0x53] WAIT_SCHEDULER_TASK(entity1=Despachiaire (ID: 16883721/0x0101A009), entity2=Despachiaire (ID: 16883721/0x0101A009), action_id="tlk1")
 46: 0xABB0 [0x27] REQ_SET(priority=0x0A, entity_id=Despachiaire (ID: 16883721/0x0101A009), tag_num=0x30)
 47: 0xABB7 [0x1A] CALL_SUBROUTINE(address=0x12A6)
 48: 0xABBA [0x2A] GET_REQ_LEVEL(level=10, entity_id=Despachiaire (ID: 16883721/0x0101A009))
 49: 0xABC0 [0x33] EventEntity->Render.Flags0 |= 0x200000 // Bit 21 (flag=0x01)
 50: 0xABC2 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=97.334*, z=-83.670*, y=-37.122*, direction=284.1°*
 51: 0xABCB [0x52] END_LOAD_SCHEDULER: End scheduler "s067" with entities [EventEntity, EventEntity], work=110*
 52: 0xABDA [0x45] LOAD_SCHEDULED_TASK(work_offset1=110*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s068", work_offset2=0*)
 53: 0xABEB [0x1A] CALL_SUBROUTINE(address=0x12EB)
 54: 0xABEE [0x32] ExtData[1]->MainSpeed = 13* * 0.1
 55: 0xABF1 [0x5A] UPDATE_EVENT_POSITION: Set EventEntity MovePosition to X=97.673*, Z=-81.337*, Y=-36.000*
 56: 0xABF9 [0x5A] UPDATE_EVENT_POSITION: Move EventEntity incrementally towards MovePosition
 57: 0xABFB [0x27] REQ_SET(priority=0x0A, entity_id=Wooden Cabinet (ID: 16883748/0x0101A024), tag_num=0x02)
 58: 0xAC02 [0x5A] UPDATE_EVENT_POSITION: Set EventEntity MovePosition to X=98.895*, Z=-80.773*, Y=-36.000*
 59: 0xAC0A [0x5A] UPDATE_EVENT_POSITION: Move EventEntity incrementally towards MovePosition
 60: 0xAC0C [0x1A] CALL_SUBROUTINE(address=0x12A6)
 61: 0xAC0F [0x52] END_LOAD_SCHEDULER: End scheduler "s068" with entities [EventEntity, EventEntity], work=110*
 62: 0xAC1E [0x45] LOAD_SCHEDULED_TASK(work_offset1=110*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s069", work_offset2=0*)
 63: 0xAC2F [0x1A] CALL_SUBROUTINE(address=0x12EB)
 64: 0xAC32 [0x1C] WAIT(90* ticks)
 65: 0xAC35 [0x4A] Despachiaire (ID: 16883721/0x0101A009) looks at LocalPlayer
 66: 0xAC3E [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 67: 0xAC3F [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 68: 0xAC40 [0x5B] LOAD_EXT_SCHEDULER(work_offset=30*, entity1=Despachiaire (ID: 16883721/0x0101A009), entity2=Despachiaire (ID: 16883721/0x0101A009), action="pas0")
 69: 0xAC4F [0x2B] Despachiaire (ID: 16883721/0x0101A009) [11392*]:
    → "This belonged to my wife.\u007F1\u0000\u0007"
 70: 0xAC56 [0x23] WAIT_FOR_DIALOG_INTERACTION
 71: 0xAC57 [0x2B] Despachiaire (ID: 16883721/0x0101A009) [11393*]:
    → "I know not where or whence it was crafted...\u007F1\u0000\u0007"
 72: 0xAC5E [0x23] WAIT_FOR_DIALOG_INTERACTION
 73: 0xAC5F [0x22] ENTITY_HIDE_FLAG(enabled=0x01)
 74: 0xAC61 [0x52] END_LOAD_SCHEDULER: End scheduler "s069" with entities [EventEntity, EventEntity], work=110*
 75: 0xAC70 [0x45] LOAD_SCHEDULED_TASK(work_offset1=110*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s070", work_offset2=0*)
 76: 0xAC81 [0x5B] LOAD_EXT_SCHEDULER(work_offset=30*, entity1=Despachiaire (ID: 16883721/0x0101A009), entity2=Despachiaire (ID: 16883721/0x0101A009), action="tlk0")
 77: 0xAC90 [0x2B] Despachiaire (ID: 16883721/0x0101A009) [11394*]:
    → "My wife prized this possession above all others, but never had the chance to speak of its origin before she...\u007F1\u0000\u0007"
 78: 0xAC97 [0x23] WAIT_FOR_DIALOG_INTERACTION
 79: 0xAC98 [0x5B] LOAD_EXT_SCHEDULER(work_offset=30*, entity1=Despachiaire (ID: 16883721/0x0101A009), entity2=Despachiaire (ID: 16883721/0x0101A009), action="tlk1")
 80: 0xACA7 [0x2B] Despachiaire (ID: 16883721/0x0101A009) [11395*]:
    → "If you have the opportunity to visit the city of San d'Oria, mayhap you could ask Lady Rouva of its significance?\u0007May Altana keep you safe on your travels, \u0008.\u007F1\u0000\u0007"
 81: 0xACAE [0x23] WAIT_FOR_DIALOG_INTERACTION
 82: 0xACAF [0x1A] CALL_SUBROUTINE(address=0x1285)
 83: 0xACB2 [0x52] END_LOAD_SCHEDULER: End scheduler "s070" with entities [EventEntity, EventEntity], work=110*
 84: 0xACC1 [0x46] CAMERA_CONTROL: Restore default settings
 85: 0xACC3 [0x1A] CALL_SUBROUTINE(address=0x12D9)
 86: 0xACC6 [0x21] END_EVENT
 87: 0xACC7 [0x00] END_REQSTACK()
```
