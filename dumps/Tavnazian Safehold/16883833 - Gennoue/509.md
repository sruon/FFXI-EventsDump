# Event 509

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0006    |
| Data Size       | 698 bytes |
| Calculated Size | 698 bytes |
| Instructions    | 65        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:                   1E F0  FF FF 7F 1D 01 80 23 02        ........#.
0010: 02 10 02 80 01 1E 00 3D  00 00 03 80 04 80 24 05  .......=......$.
0020: 80 02 80 00 00 25 02 00  10 02 80 00 33 00 21 00  .....%......3.!.
0030: 01 F3 01 02 00 10 04 80  00 43 00 03 02 00 06 80  .........C......
0040: 01 F3 01 02 00 10 07 80  00 53 00 03 02 00 08 80  .........S......
0050: 01 F3 01 02 00 10 09 80  00 63 00 03 02 00 0A 80  .........c......
0060: 01 F3 01 02 00 10 0B 80  00 73 00 03 02 00 0C 80  .........s......
0070: 01 F3 01 02 00 10 0D 80  00 83 00 03 02 00 0E 80  ................
0080: 01 F3 01 02 00 10 0F 80  00 93 00 03 02 00 10 80  ................
0090: 01 F3 01 02 00 10 11 80  00 A3 00 03 02 00 12 80  ................
00A0: 01 F3 01 02 00 10 13 80  00 B3 00 03 02 00 14 80  ................
00B0: 01 F3 01 02 00 10 15 80  00 C3 00 03 02 00 16 80  ................
00C0: 01 F3 01 02 00 10 17 80  00 D3 00 03 02 00 18 80  ................
00D0: 01 F3 01 02 00 10 19 80  00 E3 00 03 02 00 1A 80  ................
00E0: 01 F3 01 02 00 10 1B 80  00 F3 00 03 02 00 1C 80  ................
00F0: 01 F3 01 02 00 10 1D 80  00 03 01 03 02 00 1E 80  ................
0100: 01 F3 01 02 00 10 1F 80  00 13 01 03 02 00 20 80  .............. .
0110: 01 F3 01 02 00 10 21 80  00 23 01 03 02 00 22 80  ......!..#....".
0120: 01 F3 01 02 00 10 23 80  00 33 01 03 02 00 24 80  ......#..3....$.
0130: 01 F3 01 02 00 10 25 80  00 43 01 03 02 00 26 80  ......%..C....&.
0140: 01 F3 01 02 00 10 27 80  00 53 01 03 02 00 28 80  ......'..S....(.
0150: 01 F3 01 02 00 10 29 80  00 63 01 03 02 00 2A 80  ......)..c....*.
0160: 01 F3 01 02 00 10 2B 80  00 73 01 03 02 00 2C 80  ......+..s....,.
0170: 01 F3 01 02 00 10 2D 80  00 83 01 03 02 00 2E 80  ......-.........
0180: 01 F3 01 02 00 10 2F 80  00 93 01 03 02 00 30 80  ....../.......0.
0190: 01 F3 01 02 00 10 31 80  00 A3 01 03 02 00 32 80  ......1.......2.
01A0: 01 F3 01 02 00 10 33 80  00 B3 01 03 02 00 34 80  ......3.......4.
01B0: 01 F3 01 02 00 10 35 80  00 C3 01 03 02 00 36 80  ......5.......6.
01C0: 01 F3 01 02 00 10 37 80  00 D3 01 03 02 00 0D 80  ......7.........
01D0: 01 F3 01 02 00 10 38 80  00 E3 01 03 02 00 33 80  ......8.......3.
01E0: 01 F3 01 02 00 10 03 80  00 F3 01 03 02 00 39 80  ..............9.
01F0: 01 F3 01 1A FA 01 21 00  21 00 03 01 00 09 10 15  ......!.!.......
0200: 01 00 3A 80 72 00 02 00  72 01 02 00 01 00 02 03  ..:.r...r.......
0210: 10 3B 80 00 2C 02 02 04  10 3B 80 00 25 02 1D 3C  .;..,....;..%..<
0220: 80 23 01 29 02 1D 3D 80  23 01 3F 02 02 04 10 3B  .#.)..=.#.?....;
0230: 80 00 3B 02 1D 3E 80 23  01 3F 02 1D 3F 80 23 0B  ..;..>.#.?..?.#.
0240: 01 00 72 00 02 00 72 01  02 00 01 00 02 03 10 3B  ..r...r........;
0250: 80 00 6A 02 02 04 10 3B  80 00 63 02 1D 40 80 23  ..j....;..c..@.#
0260: 01 67 02 1D 41 80 23 01  7D 02 02 04 10 3B 80 00  .g..A.#.}....;..
0270: 79 02 1D 42 80 23 01 7D  02 1D 43 80 23 0B 01 00  y..B.#.}..C.#...
0280: 72 00 02 00 72 01 02 00  01 00 02 03 10 3B 80 00  r...r........;..
0290: A8 02 02 04 10 3B 80 00  A1 02 1D 44 80 23 01 A5  .....;.....D.#..
02A0: 02 1D 45 80 23 01 BB 02  02 04 10 3B 80 00 B7 02  ..E.#......;....
02B0: 1D 46 80 23 01 BB 02 1D  47 80 23 1D 48 80 23 1B  .F.#....G.#.H.#.
```

## Opcodes

```
  0: 0x0006 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x000B [0x1D] PRINT_EVENT_MESSAGE(message_id=11175*)
    → "Your fate rides on the changing winds of Vana'diel.\u0007I can give you insight on the local weather.\u007F1\u0000\u0007"
  2: 0x000E [0x23] WAIT_FOR_DIALOG_INTERACTION
  3: 0x000F [0x02] IF !(Work_Zone[2] == 0*) GOTO 0x001E
  4: 0x0017 [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=ExtData[1]->WorkLocal[0], bit_index_work_offset=28*, condition_work_offset=1*)
  5: 0x001E [0x24] CREATE_DIALOG(message_id=11176*, default_option=0*, option_flags=ExtData[1]->WorkLocal[0])
    → "What area's weather do you wish to know?\u0007\u000BNowhere.\u0007Ronfaure.\u0007La Theine Plateau.\u0007Valkurm Dunes.\u0007Jugner Forest.\u0007Batallia Downs.\u0007Gustaberg.\u0007Konschtat Highlands.\u0007Pashhow Marshlands.\u0007Rolanberry Fields.\u0007Beaucedine Glacier.\u0007Xarcabard.\u0007Cape Teriggan.\u0007Altepa Desert.\u0007Sarutabaruta.\u0007Tahrongi Canyon.\u0007Buburimu Peninsula.\u0007Meriphataud Mountains.\u0007Sauromugue Champaign.\u0007The Sanctuary of Zi'Tah.\u0007Yuhtunga & Yhoator Jungles.\u0007Qufim Island.\u0007Tu'Lia.\u0007Ferry.\u0007Airship.\u0007Jeuno.\u0007Uleguerand Range.\u0007Tavnazian Archipelago.\u0007Riverne - Sites #A01 & #B01.\u007F1\u0000\u0007"
  6: 0x0025 [0x25] WAIT_DIALOG_SELECT()
  7: 0x0026 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0033
  8: 0x002E [0x21] END_EVENT
  9: 0x002F [0x00] END_REQSTACK()

SUBROUTINE_01F3:
 10: 0x01F3 [0x1A] CALL_SUBROUTINE(address=0x01FA)
 11: 0x01F6 [0x21] END_EVENT
 12: 0x01F7 [0x00] END_REQSTACK()

SUBROUTINE_01FA:
 13: 0x01FA [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[9]
 14: 0x01FF [0x15] ExtData[1]->WorkLocal[1] /= 3456*
 15: 0x0204 [0x72] LOAD_EVENT_WEATHER: Request weather file 7033, weather_id=ExtData[1]->WorkLocal[2], param1=0x0172, param2=0x00010002
 16: 0x020E [0x02] IF !(Work_Zone[3] == 255*) GOTO 0x022C
 17: 0x0216 [0x02] IF !(Work_Zone[4] == 255*) GOTO 0x0225
 18: 0x021E [0x1D] PRINT_EVENT_MESSAGE(message_id=11186*)
    → "The weather in that area today will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 19: 0x0221 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x0222 [0x01] GOTO 0x0229
 21: 0x0225 [0x1D] PRINT_EVENT_MESSAGE(message_id=11183*)
    → "Today, the weather in that area will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000. There is also the possibility of \u0001\u0005\u0018\u0002\u0002\u0000\u0000, so caution is advised.\u007F1\u0000\u0007"
 22: 0x0228 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_0229:
 23: 0x0229 [0x01] GOTO 0x023F
 24: 0x022C [0x02] IF !(Work_Zone[4] == 255*) GOTO 0x023B
 25: 0x0234 [0x1D] PRINT_EVENT_MESSAGE(message_id=11180*)
    → "Today, that area's weather will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000 with a chance of \u0001\u0005\u0018\u0002\u0001\u0000\u0000.\u007F1\u0000\u0007"
 26: 0x0237 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x0238 [0x01] GOTO 0x023F
 28: 0x023B [0x1D] PRINT_EVENT_MESSAGE(message_id=11177*)
    → "That area's forecast for today is for \u0001\u0005\u0018\u0002\u0000\u0000\u0000 with occasional \u0001\u0005\u0018\u0002\u0001\u0000\u0000. There is also a slight chance of \u0001\u0005\u0018\u0002\u0002\u0000\u0000, so caution is advised.\u007F1\u0000\u0007"
 29: 0x023E [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_023F:
 30: 0x023F [0x0B] ExtData[1]->WorkLocal[1]++
 31: 0x0242 [0x72] LOAD_EVENT_WEATHER: Request weather file 7033, weather_id=ExtData[1]->WorkLocal[2], param1=0x0172, param2=0x00010002
 32: 0x024C [0x02] IF !(Work_Zone[3] == 255*) GOTO 0x026A
 33: 0x0254 [0x02] IF !(Work_Zone[4] == 255*) GOTO 0x0263
 34: 0x025C [0x1D] PRINT_EVENT_MESSAGE(message_id=11187*)
    → "The weather tomorrow will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 35: 0x025F [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x0260 [0x01] GOTO 0x0267
 37: 0x0263 [0x1D] PRINT_EVENT_MESSAGE(message_id=11184*)
    → "Tomorrow, the weather will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000. There is also the possibility of \u0001\u0005\u0018\u0002\u0002\u0000\u0000, so caution is advised.\u007F1\u0000\u0007"
 38: 0x0266 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_0267:
 39: 0x0267 [0x01] GOTO 0x027D
 40: 0x026A [0x02] IF !(Work_Zone[4] == 255*) GOTO 0x0279
 41: 0x0272 [0x1D] PRINT_EVENT_MESSAGE(message_id=11181*)
    → "Tomorrow, the weather will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000 with a chance of \u0001\u0005\u0018\u0002\u0001\u0000\u0000.\u007F1\u0000\u0007"
 42: 0x0275 [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x0276 [0x01] GOTO 0x027D
 44: 0x0279 [0x1D] PRINT_EVENT_MESSAGE(message_id=11178*)
    → "The forecast for tomorrow is for \u0001\u0005\u0018\u0002\u0000\u0000\u0000 with occasional \u0001\u0005\u0018\u0002\u0001\u0000\u0000. There is also a slight chance of \u0001\u0005\u0018\u0002\u0002\u0000\u0000, so caution is advised.\u007F1\u0000\u0007"
 45: 0x027C [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_027D:
 46: 0x027D [0x0B] ExtData[1]->WorkLocal[1]++
 47: 0x0280 [0x72] LOAD_EVENT_WEATHER: Request weather file 7033, weather_id=ExtData[1]->WorkLocal[2], param1=0x0172, param2=0x00010002
 48: 0x028A [0x02] IF !(Work_Zone[3] == 255*) GOTO 0x02A8
 49: 0x0292 [0x02] IF !(Work_Zone[4] == 255*) GOTO 0x02A1
 50: 0x029A [0x1D] PRINT_EVENT_MESSAGE(message_id=11188*)
    → "The weather the day after tomorrow will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 51: 0x029D [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x029E [0x01] GOTO 0x02A5
 53: 0x02A1 [0x1D] PRINT_EVENT_MESSAGE(message_id=11185*)
    → "And, the day after tomorrow, the weather will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000. There is also the possibility of \u0001\u0005\u0018\u0002\u0002\u0000\u0000, so caution is advised.\u007F1\u0000\u0007"
 54: 0x02A4 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_02A5:
 55: 0x02A5 [0x01] GOTO 0x02BB
 56: 0x02A8 [0x02] IF !(Work_Zone[4] == 255*) GOTO 0x02B7
 57: 0x02B0 [0x1D] PRINT_EVENT_MESSAGE(message_id=11182*)
    → "And, the day after tomorrow, the weather will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000 with a chance of \u0001\u0005\u0018\u0002\u0001\u0000\u0000.\u007F1\u0000\u0007"
 58: 0x02B3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0x02B4 [0x01] GOTO 0x02BB
 60: 0x02B7 [0x1D] PRINT_EVENT_MESSAGE(message_id=11179*)
    → "And, the forecast for the day after tomorrow is for \u0001\u0005\u0018\u0002\u0000\u0000\u0000 with occasional \u0001\u0005\u0018\u0002\u0001\u0000\u0000. There is also a slight chance of \u0001\u0005\u0018\u0002\u0002\u0000\u0000, so caution is advised.\u007F1\u0000\u0007"
 61: 0x02BA [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_02BB:
 62: 0x02BB [0x1D] PRINT_EVENT_MESSAGE(message_id=11189*)
    → "And that's the report, straight from Vana'diel's official weather linkshell.\u007F1\u0000\u0007"
 63: 0x02BE [0x23] WAIT_FOR_DIALOG_INTERACTION
 64: 0x02BF [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0030 [0x01] GOTO 0x01F3
# Dead code (unreachable instructions):
     0x01F8 [0x21] END_EVENT
     0x01F9 [0x00] END_REQSTACK()
```