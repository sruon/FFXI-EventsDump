# Event 32001

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 14/54     |
| Offset          | 0x0811    |
| Data Size       | 515 bytes |
| Calculated Size | 515 bytes |
| Instructions    | 82        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0810:    79 00 F0 FF FF 7F F0  FF FF 7F 03 1D 00 02 10   y..............
0820: 03 16 00 03 10 03 17 00  05 10 03 1C 00 06 10 03  ................
0830: 15 00 07 10 03 13 00 08  10 03 18 00 09 10 20 01  .............. .
0840: 42 3B F0 FF FF 7F 20 10  21 10 22 10 3A F0 FF FF  B;.... .!.".:...
0850: 7F 23 10 02 1C 00 47 80  01 5E 08 1C 48 80 45 43  .#....G..^..H.EC
0860: 80 F0 FF FF 7F F0 FF FF  7F 77 68 69 31 15 80 45  .........whi1..E
0870: 1E 80 F0 FF FF 7F F0 FF  FF 7F 62 6C 6F 66 15 80  ..........blof..
0880: 45 1E 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 31 15  E..........fdo1.
0890: 80 55 1E 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 31  .U..........fdo1
08A0: 6C F0 FF FF 7F 49 80 1A  80 06 01 10 02 13 00 15  l....I..........
08B0: 80 03 B7 08 01 CE 08 02  1C 00 46 80 80 C2 08 01  ..........F.....
08C0: CE 08 47 00 44 80 24 80  45 80 15 80 47 01 38 1F  ..G.D.$.E...G.8.
08D0: 80 02 13 00 1A 80 00 30  09 1C 16 80 24 40 80 1A  .......0....$@..
08E0: 80 15 80 25 02 00 10 15  80 00 30 09 37 44 80 24  ...%......0.7D.$
08F0: 80 45 80 15 80 80 F0 FF  FF 7F 62 2A 80 F0 FF FF  .E........b*....
0900: 7F F0 FF FF 7F 6D 61 69  6E 15 80 45 1E 80 F0 FF  .....main..E....
0910: FF 7F F0 FF FF 7F 66 64  69 32 15 80 46 02 0F 00  ......fdi2..F...
0920: 02 0F 00 15 80 00 2A 09  46 00 01 57 09 01 30 09  ......*.F..W..0.
0930: 02 13 00 19 80 04 49 09  5C 00 41 80 5C 01 41 80  ......I.\.A.\.A.
0940: 5C 02 41 80 5C 03 41 80  9A 1A D0 0C 02 13 00 15  \.A.\.A.........
0950: 80 03 57 09 01 AC 09 03  05 10 17 00 02 05 10 15  ..W.............
0960: 80 02 AC 09 02 05 10 4A  80 04 7B 09 3F 04 10 05  .......J..{.?...
0970: 10 4A 80 15 05 10 4A 80  01 7B 09 02 17 00 16 00  .J....J..{......
0980: 05 8B 09 03 07 10 15 00  01 AC 09 02 16 00 4A 80  ..............J.
0990: 04 A7 09 03 05 10 16 00  3F 04 10 05 10 4A 80 15  ........?....J..
09A0: 05 10 4A 80 01 AC 09 03  05 10 16 00 02 14 00 15  ..J.............
09B0: 80 00 C4 09 5C 00 15 80  5C 01 15 80 5C 02 41 80  ....\...\...\.A.
09C0: 5C 03 41 80 02 13 00 15  80 03 ED 09 45 1E 80 F0  \.A.........E...
09D0: FF FF 7F F0 FF FF 7F 66  64 69 32 15 80 5C 00 15  .......fdi2..\..
09E0: 80 5C 01 15 80 5C 02 41  80 5C 03 41 80 06 14 00  .\...\.A.\.A....
09F0: 45 43 80 F0 FF FF 7F F0  FF FF 7F 77 68 69 31 15  EC.........whi1.
0A00: 80 45 1E 80 F0 FF FF 7F  F0 FF FF 7F 62 6C 6F 66  .E..........blof
0A10: 15 80 21 00                                       ..!.            
```

## Opcodes

```
  0: 0x0811 [0x79] LocalPlayer looks at LocalPlayer (Basic look)
  1: 0x081B [0x03] ExtData[1]->WorkLocal[29] = Work_Zone[2]
  2: 0x0820 [0x03] ExtData[1]->WorkLocal[22] = Work_Zone[3]
  3: 0x0825 [0x03] ExtData[1]->WorkLocal[23] = Work_Zone[5]
  4: 0x082A [0x03] ExtData[1]->WorkLocal[28] = Work_Zone[6]
  5: 0x082F [0x03] ExtData[1]->WorkLocal[21] = Work_Zone[7]
  6: 0x0834 [0x03] ExtData[1]->WorkLocal[19] = Work_Zone[8]
  7: 0x0839 [0x03] ExtData[1]->WorkLocal[24] = Work_Zone[9]
  8: 0x083E [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  9: 0x0840 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 10: 0x0841 [0x3B] GET_ENTITY_POSITION(entity=LocalPlayer, x_destination=Work_Zone[32], y_destination=Work_Zone[33], z_destination=Work_Zone[34])
 11: 0x084C [0x3A] CONVERT_YAW_TO_BYTE(entity=LocalPlayer, result_destination=Work_Zone[35])
 12: 0x0853 [0x02] IF !(ExtData[1]->WorkLocal[28] == 180*) GOTO 0x085E
 13: 0x085B [0x1C] WAIT(300* ticks)
 14: 0x085E [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="whi1", work_offset2=0*)
 15: 0x086F [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="blof", work_offset2=0*)
 16: 0x0880 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 17: 0x0891 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
 18: 0x08A0 [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=128*, fade_time=1*)
 19: 0x08A9 [0x06] Work_Zone[1] = 0
 20: 0x08AC [0x02] IF !(ExtData[1]->WorkLocal[19] >= 0*) GOTO 0x08B7
 21: 0x08B4 [0x01] GOTO 0x08CE

SUBROUTINE_08B7:
 22: 0x08B7 [0x02] IF !(ExtData[1]->WorkLocal[28] == 999*) GOTO 0x08C2
 23: 0x08BF [0x01] GOTO 0x08CE

SUBROUTINE_08C2:
 24: 0x08C2 [0x47] UPDATE_PLAYER_POS(216.000*, 140.000*, 47.800*, yaw=0.0°*)
 25: 0x08CC [0x47] WAIT_PLAYER_POS_UPDATE
 26: 0x08CE [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 27: 0x08D1 [0x02] IF !(ExtData[1]->WorkLocal[19] == 1*) GOTO 0x0930
 28: 0x08D9 [0x1C] WAIT(15* ticks)
 29: 0x08DC [0x24] CREATE_DIALOG(message_id=7895*, default_option=1*, option_flags=0*)
    → "Skip the event?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 30: 0x08E3 [0x25] WAIT_DIALOG_SELECT()
 31: 0x08E4 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0930
 32: 0x08EC [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=216.000*, z=140.000*, y=47.800*, direction=0.0°*
 33: 0x08F5 [0x80] LOAD_WAIT(entity=LocalPlayer)
 34: 0x08FA [0x62] LOAD_EVENT_SCHEDULER (arg=5012): Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[2*, 0*]
 35: 0x090B [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 36: 0x091C [0x46] CAMERA_CONTROL: Query status
 37: 0x091E [0x0F] 0x0200 ^= ExtData[1]->WorkLocal[15]
 38: 0x0923 [0x15] 0x80 /= 0x092A
 39: 0x0928 [0x46] CAMERA_CONTROL: Restore default settings
 40: 0x092A [0x01] GOTO 0x0957

SUBROUTINE_0930:
 41: 0x0930 [0x02] IF !(ExtData[1]->WorkLocal[19] < 4294967295*) GOTO 0x0949
 42: 0x0938 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 143*
 43: 0x093C [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 143*
 44: 0x0940 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 143*
 45: 0x0944 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 143*
 46: 0x0948 [0x9A] WAIT_MUSIC_SERVER()
 47: 0x0949 [0x1A] CALL_SUBROUTINE(address=0x0CD0)
 48: 0x094C [0x02] IF !(ExtData[1]->WorkLocal[19] >= 0*) GOTO 0x0957
 49: 0x0954 [0x01] GOTO 0x09AC

SUBROUTINE_0957:
 50: 0x0957 [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[23]
 51: 0x095C [0x02] IF !(Work_Zone[5] <= 0*) GOTO 0x09AC
 52: 0x0964 [0x02] IF !(Work_Zone[5] < 60*) GOTO 0x097B
 53: 0x096C [0x3F] Work_Zone[4] = Work_Zone[5] % 60*
 54: 0x0973 [0x15] Work_Zone[5] /= 60*
 55: 0x0978 [0x01] GOTO 0x097B

SUBROUTINE_097B:
 56: 0x097B [0x02] IF !(ExtData[1]->WorkLocal[23] > ExtData[1]->WorkLocal[22]) GOTO 0x098B
 57: 0x0983 [0x03] Work_Zone[7] = ExtData[1]->WorkLocal[21]
 58: 0x0988 [0x01] GOTO 0x09AC

SUBROUTINE_098B:
 59: 0x098B [0x02] IF !(ExtData[1]->WorkLocal[22] < 60*) GOTO 0x09A7
 60: 0x0993 [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[22]
 61: 0x0998 [0x3F] Work_Zone[4] = Work_Zone[5] % 60*
 62: 0x099F [0x15] Work_Zone[5] /= 60*
 63: 0x09A4 [0x01] GOTO 0x09AC

SUBROUTINE_09A7:
 64: 0x09A7 [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[22]
 65: 0x09AC [0x02] IF !(ExtData[1]->WorkLocal[20] == 0*) GOTO 0x09C4
 66: 0x09B4 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 67: 0x09B8 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 68: 0x09BC [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 143*
 69: 0x09C0 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 143*
 70: 0x09C4 [0x02] IF !(ExtData[1]->WorkLocal[19] >= 0*) GOTO 0x09ED
 71: 0x09CC [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 72: 0x09DD [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 73: 0x09E1 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 74: 0x09E5 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 143*
 75: 0x09E9 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 143*
 76: 0x09ED [0x06] ExtData[1]->WorkLocal[20] = 0
 77: 0x09F0 [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="whi1", work_offset2=0*)
 78: 0x0A01 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="blof", work_offset2=0*)
 79: 0x0A12 [0x21] END_EVENT
 80: 0x0A13 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x092D [0x01] GOTO 0x0930
```