# Event 100

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/3       |
| Offset          | 0x0001    |
| Data Size       | 159 bytes |
| Calculated Size | 159 bytes |
| Instructions    | 52        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    20 01 42 1E F0 FF FF  7F 03 01 10 00 80 03 00    .B............
0010: 00 02 10 03 01 00 03 10  03 02 00 04 10 02 00 00  ................
0020: 00 80 00 6E 00 1D 01 80  23 1D 02 80 23 1D 03 80  ...n....#...#...
0030: 23 03 02 10 04 80 1D 05  80 23 1D 06 80 23 03 02  #........#...#..
0040: 10 07 80 02 01 00 08 80  00 61 00 1D 09 80 23 1D  .........a....#.
0050: 0A 80 23 03 01 10 02 00  1A 21 05 1A 7E 01 01 6B  ..#......!..~..k
0060: 00 1D 0B 80 23 03 01 10  00 80 21 01 9C 00 02 00  ....#.....!.....
0070: 00 08 80 00 8D 00 1D 0C  80 23 1D 0D 80 23 1D 0E  .........#...#..
0080: 80 23 03 01 10 0F 80 1A  21 05 01 9C 00 1D 0A 80  .#......!.......
0090: 23 03 01 10 00 80 1A 21  05 1A 7E 01 20 00 21 00  #......!..~. .!.
```

## Opcodes

```
  0: 0x0001 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0003 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0004 [0x1E] EventEntity looks at LocalPlayer and starts talking
  3: 0x0009 [0x03] Work_Zone[1] = 0*
  4: 0x000E [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  5: 0x0013 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[3]
  6: 0x0018 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[4]
  7: 0x001D [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x006E
  8: 0x0025 [0x1D] PRINT_EVENT_MESSAGE(message_id=7407*)
    → "Hmm?\u0007Searching for the entrance to a hideout most heinous, you say?\u007F1\u0000\u0007"
  9: 0x0028 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x0029 [0x1D] PRINT_EVENT_MESSAGE(message_id=7408*)
    → "Oh ho! How astute of you to turn to me.\u0007I am, after all, the foremost researcher of these Quicksand Caves in the area.\u007F1\u0000\u0007"
 11: 0x002C [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x002D [0x1D] PRINT_EVENT_MESSAGE(message_id=7409*)
    → "...Well, the only researcher, actually. But who's quibbling about details?\u0007Anyhow, you'll be pleased to know that I uncovered a promising passage not too long ago!\u007F1\u0000\u0007"
 13: 0x0030 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0031 [0x03] Work_Zone[2] = 1158*
 15: 0x0036 [0x1D] PRINT_EVENT_MESSAGE(message_id=7410*)
    → "But here's the rub: those hoodlums are smarter than they look.\u0007They've locked the door, and not only have they thrown away the key--the \u0001\u00053\u0002\u0000\u0000\u0000, they call it--they've blasted it into nine pieces.\u007F1\u0000\u0007"
 16: 0x0039 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x003A [0x1D] PRINT_EVENT_MESSAGE(message_id=7411*)
    → "The upshot of this, of course, is that if you can find the nine stones and reconstruct the talisman, there'll be nothing stopping you from waltzing right in to their den of depravity.\u007F1\u0000\u0007"
 18: 0x003D [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x003E [0x03] Work_Zone[2] = 425*
 20: 0x0043 [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x0061
 21: 0x004B [0x1D] PRINT_EVENT_MESSAGE(message_id=7412*)
    → "But let me guess. You're thinking, \u00072But where I going to find nine tiny gems in this cavernous lair?\u00073\u0007Oh ho! How soon you forget that you're speaking to the world's foremost Quicksand Caves spelunker!\u007F1\u0000\u0007"
 22: 0x004E [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x004F [0x1D] PRINT_EVENT_MESSAGE(message_id=7413*)
    → "I've got the locations of each and every stone right up here in my noggin', and I can mark them on your map--voila!--just like so.\u0007Bring all nine gems back here and I'll patch up the key for you as good as new.\u007F1\u0000\u0007"
 24: 0x0052 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x0053 [0x03] Work_Zone[1] = ExtData[1]->WorkLocal[2]
 26: 0x0058 [0x1A] CALL_SUBROUTINE(address=0x0521)
 27: 0x005B [0x1A] CALL_SUBROUTINE(address=0x017E)
 28: 0x005E [0x01] GOTO 0x006B
 29: 0x0061 [0x1D] PRINT_EVENT_MESSAGE(message_id=7414*)
    → "What's this? You don't have a \u0001\u00053\u0002\u0000\u0000\u0000?\u0007You're not seriously expecting to navigate these confounding caves without a map, are you?\u0007Come back when you have one, then we'll talk!\u007F1\u0000\u0007"
 30: 0x0064 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x0065 [0x03] Work_Zone[1] = 0*
 32: 0x006A [0x21] END_EVENT

SUBROUTINE_006B:
 33: 0x006B [0x01] GOTO 0x009C
 34: 0x006E [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x008D
 35: 0x0076 [0x1D] PRINT_EVENT_MESSAGE(message_id=7415*)
    → "Oh ho...found all the stones, have we?\u0007Excellent! You may very well have stamped yourself as the world's second-leading expert on these Quicksand Caves.\u007F1\u0000\u0007"
 36: 0x0079 [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x007A [0x1D] PRINT_EVENT_MESSAGE(message_id=7416*)
    → "Now let's see here...\u0007The Shukra stone's connected to the...Chandra stone!\u0001t\u0007The Rahu stone's connected to the...Shani stone!\u0001t\u0007Da-da...da-daaa-da-da-da\u0001t\u007F1\u0000\u0007"
 38: 0x007D [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x007E [0x1D] PRINT_EVENT_MESSAGE(message_id=7417*)
    → "There you have it!\u0007One talisman, good as new.\u007F1\u0000\u0007"
 40: 0x0081 [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x0082 [0x03] Work_Zone[1] = 11*
 42: 0x0087 [0x1A] CALL_SUBROUTINE(address=0x0521)
 43: 0x008A [0x01] GOTO 0x009C
 44: 0x008D [0x1D] PRINT_EVENT_MESSAGE(message_id=7413*)
    → "I've got the locations of each and every stone right up here in my noggin', and I can mark them on your map--voila!--just like so.\u0007Bring all nine gems back here and I'll patch up the key for you as good as new.\u007F1\u0000\u0007"
 45: 0x0090 [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x0091 [0x03] Work_Zone[1] = 0*
 47: 0x0096 [0x1A] CALL_SUBROUTINE(address=0x0521)
 48: 0x0099 [0x1A] CALL_SUBROUTINE(address=0x017E)

SUBROUTINE_009C:
 49: 0x009C [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 50: 0x009E [0x21] END_EVENT
 51: 0x009F [0x00] END_REQSTACK()
```
