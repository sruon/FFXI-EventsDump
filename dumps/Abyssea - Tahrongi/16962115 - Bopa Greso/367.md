# Event 367

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/7       |
| Offset          | 0x003D    |
| Data Size       | 514 bytes |
| Calculated Size | 514 bytes |
| Instructions    | 73        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0030:                                         42 1E F0               B..
0040: FF FF 7F 4A F0 FF FF 7F  F8 FF FF 7F 4A 44 D2 02  ...J........JD..
0050: 01 F0 FF FF 7F 6F 70 6F  76 44 D2 02 01 1D 03 80  .....opovD......
0060: 23 24 04 80 05 80 06 80  25 02 00 10 06 80 00 79  #$......%......y
0070: 00 03 01 10 06 80 01 8F  00 02 00 10 05 80 00 8F  ................
0080: 00 1D 07 80 23 03 01 10  05 80 21 00 01 8F 00 5B  ....#.....!....[
0090: 01 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D 08  ..........tlk0..
00A0: 80 23 5B 01 80 F8 FF FF  7F F8 FF FF 7F 74 6C 6B  .#[..........tlk
00B0: 32 53 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 32 4A F0  2S........tlk2J.
00C0: FF FF 7F 44 D2 02 01 5B  01 80 44 D2 02 01 44 D2  ...D...[..D...D.
00D0: 02 01 74 6C 6B 30 2B 44  D2 02 01 09 80 23 5B 01  ..tlk0+D.....#[.
00E0: 80 44 D2 02 01 44 D2 02  01 74 6C 6B 32 53 44 D2  .D...D...tlk2SD.
00F0: 02 01 44 D2 02 01 74 6C  6B 32 4A F0 FF FF 7F F8  ..D...tlk2J.....
0100: FF FF 7F 5B 01 80 F8 FF  FF 7F F8 FF FF 7F 74 6C  ...[..........tl
0110: 6B 30 1D 0A 80 23 5B 01  80 F8 FF FF 7F F8 FF FF  k0...#[.........
0120: 7F 74 6C 6B 32 53 F8 FF  FF 7F F8 FF FF 7F 74 6C  .tlk2S........tl
0130: 6B 32 4A F0 FF FF 7F 44  D2 02 01 7C 00 44 D2 02  k2J....D...|.D..
0140: 01 5B 0B 80 44 D2 02 01  44 D2 02 01 67 75 74 30  .[..D...D...gut0
0150: 2B 44 D2 02 01 0C 80 23  53 44 D2 02 01 44 D2 02  +D.....#SD...D..
0160: 01 67 75 74 30 7C 01 44  D2 02 01 4A F0 FF FF 7F  .gut0|.D...J....
0170: F8 FF FF 7F 5B 01 80 F8  FF FF 7F F8 FF FF 7F 74  ....[..........t
0180: 6C 6B 30 1D 0D 80 23 1D  0E 80 23 1D 0F 80 23 5B  lk0...#...#...#[
0190: 01 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 32 53 F8  ..........tlk2S.
01A0: FF FF 7F F8 FF FF 7F 74  6C 6B 32 4A F0 FF FF 7F  .......tlk2J....
01B0: 44 D2 02 01 5B 10 80 44  D2 02 01 44 D2 02 01 70  D...[..D...D...p
01C0: 6F 69 30 2B 44 D2 02 01  11 80 23 53 F8 FF FF 7F  oi0+D.....#S....
01D0: F8 FF FF 7F 74 6C 6B 32  53 44 D2 02 01 44 D2 02  ....tlk2SD...D..
01E0: 01 70 6F 69 30 4A F0 FF  FF 7F F8 FF FF 7F 5B 01  .poi0J........[.
01F0: 80 F8 FF FF 7F F8 FF FF  7F 74 6C 6B 30 1D 12 80  .........tlk0...
0200: 23 5B 01 80 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 32  #[..........tlk2
0210: 4A F0 FF FF 7F 44 D2 02  01 5B 10 80 44 D2 02 01  J....D...[..D...
0220: 44 D2 02 01 77 61 76 30  2B 44 D2 02 01 13 80 23  D...wav0+D.....#
0230: 53 44 D2 02 01 44 D2 02  01 77 61 76 30 21 00     SD...D...wav0!. 
```

## Opcodes

```
  0: 0x003D [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x003E [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0043 [0x4A] LocalPlayer looks at EventEntity
  3: 0x004C [0x4A] Cha Lebagta (ID: 16962116/0x0102D244) looks at LocalPlayer
  4: 0x0055 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  5: 0x0056 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  6: 0x0057 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  7: 0x0058 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Cha Lebagta (ID: 16962116/0x0102D244) Render.Flags0 and Render.Flags3 conditions are met
  8: 0x005D [0x1D] PRINT_EVENT_MESSAGE(message_id=7998*)
    → "You've got the looks of someone who's been around the block.\u0007Someone who's looked danger in the eye and lived to tell the tale.\u0007Am I rrright?\u007F1\u0000\u0007"
  9: 0x0060 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x0061 [0x24] CREATE_DIALOG(message_id=7999*, default_option=1*, option_flags=0*)
    → "Am I rrright?\u0007\u000BYou're rrright.\u0007Dead wrrrong.\u007F1\u0000\u0007"
 11: 0x0068 [0x25] WAIT_DIALOG_SELECT()
 12: 0x0069 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0079
 13: 0x0071 [0x03] Work_Zone[1] = 0*
 14: 0x0076 [0x01] GOTO 0x008F
 15: 0x0079 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x008F
 16: 0x0081 [0x1D] PRINT_EVENT_MESSAGE(message_id=8000*)
    → "Oh, is that so? Then you'd best get out of here, and quickly.\u0007This ain't the place for no shelterrred little \u007F\u0005[prince/princess].\u007F1\u0000\u0007"
 17: 0x0084 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x0085 [0x03] Work_Zone[1] = 1*
 19: 0x008A [0x21] END_EVENT
 20: 0x008B [0x00] END_REQSTACK()

SUBROUTINE_008F:
 21: 0x008F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=359*
 22: 0x009E [0x1D] PRINT_EVENT_MESSAGE(message_id=8001*)
    → "Heh, I knew it. My gut instincts haven't failed me yet.\u0007Tell me, does the name Nanaa Mihgo mean anything to you?\u007F1\u0000\u0007"
 23: 0x00A1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x00A2 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk2" with entities [EventEntity, EventEntity], work=359*
 25: 0x00B1 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk2" with entities [EventEntity, EventEntity]
 26: 0x00BE [0x4A] LocalPlayer looks at Cha Lebagta (ID: 16962116/0x0102D244)
 27: 0x00C7 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [Cha Lebagta (ID: 16962116/0x0102D244), Cha Lebagta (ID: 16962116/0x0102D244)], work=359*
 28: 0x00D6 [0x2B] Cha Lebagta (ID: 16962116/0x0102D244) [8002*]:
    → "The cat burglar? Chieftainness o' cutpurrrses and pickpocket nonparrreil?\u0007Made somethin' of a name for herself back in Windurst.\u0007Well, what would ya think if we told ya she was our boss?\u007F1\u0000\u0007"
 29: 0x00DD [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x00DE [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk2" with entities [Cha Lebagta (ID: 16962116/0x0102D244), Cha Lebagta (ID: 16962116/0x0102D244)], work=359*
 31: 0x00ED [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk2" with entities [Cha Lebagta (ID: 16962116/0x0102D244), Cha Lebagta (ID: 16962116/0x0102D244)]
 32: 0x00FA [0x4A] LocalPlayer looks at EventEntity
 33: 0x0103 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=359*
 34: 0x0112 [0x1D] PRINT_EVENT_MESSAGE(message_id=8003*)
    → "We followed her to Heavens Tower when those nasty buggers burst through the city walls, but after we teleported out here, she was nowherrre t' be found.\u007F1\u0000\u0007"
 35: 0x0115 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x0116 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk2" with entities [EventEntity, EventEntity], work=359*
 37: 0x0125 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk2" with entities [EventEntity, EventEntity]
 38: 0x0132 [0x4A] LocalPlayer looks at Cha Lebagta (ID: 16962116/0x0102D244)
 39: 0x013B [0x7C] Cha Lebagta (ID: 16962116/0x0102D244)->Render.Flags2 |= 0x00
 40: 0x0141 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "gut0" with entities [Cha Lebagta (ID: 16962116/0x0102D244), Cha Lebagta (ID: 16962116/0x0102D244)], work=358*
 41: 0x0150 [0x2B] Cha Lebagta (ID: 16962116/0x0102D244) [8004*]:
    → "That's why we came up with these beauties!\u007F1\u0000\u0007"
 42: 0x0157 [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x0158 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "gut0" with entities [Cha Lebagta (ID: 16962116/0x0102D244), Cha Lebagta (ID: 16962116/0x0102D244)]
 44: 0x0165 [0x7C] Cha Lebagta (ID: 16962116/0x0102D244)->Render.Flags2 |= 0x01
 45: 0x016B [0x4A] LocalPlayer looks at EventEntity
 46: 0x0174 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=359*
 47: 0x0183 [0x1D] PRINT_EVENT_MESSAGE(message_id=8005*)
    → "Slap these up on the signposts around the canyon, let the boss know we're safe and sound, and our merry little band'll be back together in no time flat!\u007F1\u0000\u0007"
 48: 0x0186 [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0x0187 [0x1D] PRINT_EVENT_MESSAGE(message_id=8006*)
    → "We were gonna do it ourselves, but hey, why brrreak a sweat when you've got someone to do it for ya?\u007F1\u0000\u0007"
 50: 0x018A [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x018B [0x1D] PRINT_EVENT_MESSAGE(message_id=8007*)
    → "No, don't arrrgue--we insist.\u0007Unless you'd care to part with that spiffy garb you're wearin', of course...\u007F1\u0000\u0007"
 52: 0x018E [0x23] WAIT_FOR_DIALOG_INTERACTION
 53: 0x018F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk2" with entities [EventEntity, EventEntity], work=359*
 54: 0x019E [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk2" with entities [EventEntity, EventEntity]
 55: 0x01AB [0x4A] LocalPlayer looks at Cha Lebagta (ID: 16962116/0x0102D244)
 56: 0x01B4 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "poi0" with entities [Cha Lebagta (ID: 16962116/0x0102D244), Cha Lebagta (ID: 16962116/0x0102D244)], work=361*
 57: 0x01C3 [0x2B] Cha Lebagta (ID: 16962116/0x0102D244) [8008*]:
    → "Just think of it as a favor you'll be doin' all the surrrvivors in these parts.\u0007After all, if there's anyone who can teach 'em a thing or two about stayin' safe in the face of danger, it's the boss.\u0007She may help herself to some o' their possessions in the prrrocess, but hey, that's business.\u007F1\u0000\u0007"
 58: 0x01CA [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0x01CB [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk2" with entities [EventEntity, EventEntity]
 60: 0x01D8 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "poi0" with entities [Cha Lebagta (ID: 16962116/0x0102D244), Cha Lebagta (ID: 16962116/0x0102D244)]
 61: 0x01E5 [0x4A] LocalPlayer looks at EventEntity
 62: 0x01EE [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=359*
 63: 0x01FD [0x1D] PRINT_EVENT_MESSAGE(message_id=8009*)
    → "Anyhow, you'll find four signposts scattered through the canyon.\u0007Slap one of these on each of 'em, and rrreport to us when the job is done.\u007F1\u0000\u0007"
 64: 0x0200 [0x23] WAIT_FOR_DIALOG_INTERACTION
 65: 0x0201 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk2" with entities [EventEntity, EventEntity], work=359*
 66: 0x0210 [0x4A] LocalPlayer looks at Cha Lebagta (ID: 16962116/0x0102D244)
 67: 0x0219 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "wav0" with entities [Cha Lebagta (ID: 16962116/0x0102D244), Cha Lebagta (ID: 16962116/0x0102D244)], work=361*
 68: 0x0228 [0x2B] Cha Lebagta (ID: 16962116/0x0102D244) [8010*]:
    → "Now get crrrackin'!\u007F1\u0000\u0007"
 69: 0x022F [0x23] WAIT_FOR_DIALOG_INTERACTION
 70: 0x0230 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "wav0" with entities [Cha Lebagta (ID: 16962116/0x0102D244), Cha Lebagta (ID: 16962116/0x0102D244)]
 71: 0x023D [0x21] END_EVENT
 72: 0x023E [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x008C [0x01] GOTO 0x008F
```