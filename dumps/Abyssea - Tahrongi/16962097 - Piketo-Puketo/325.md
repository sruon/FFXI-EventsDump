# Event 325

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 5/7       |
| Offset          | 0x00CA    |
| Data Size       | 112 bytes |
| Calculated Size | 112 bytes |
| Instructions    | 23        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00C0:                                42 1E F0 FF FF 7F            B.....
00D0: 6F 70 02 04 10 0C 80 00  23 01 6E F8 FF FF 7F 0E  op......#.n.....
00E0: 80 99 F8 FF FF 7F 1D 0F  80 23 1C 10 80 66 06 80  .........#...f..
00F0: F8 FF FF 7F F8 FF FF 7F  74 68 6B 31 1D 11 80 23  ........thk1...#
0100: 66 06 80 F8 FF FF 7F F8  FF FF 7F 74 68 6B 32 53  f..........thk2S
0110: F8 FF FF 7F F8 FF FF 7F  74 68 6B 32 1D 12 80 23  ........thk2...#
0120: 01 27 01 1D 13 80 23 45  14 80 F0 FF FF 7F F0 FF  .'....#E........
0130: FF 7F 71 73 74 63 0C 80  21 00                    ..qstc..!.      
```

## Opcodes

```
  0: 0x00CA [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x00CB [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x00D0 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x00D1 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x00D2 [0x02] IF !(Work_Zone[4] == 0*) GOTO 0x0123
  5: 0x00DA [0x6E] EventEntity uses emote 21*
  6: 0x00E1 [0x99] Wait for EventEntity animation to complete
  7: 0x00E6 [0x1D] PRINT_EVENT_MESSAGE(message_id=7916*)
    → "What's this? \u007F\u0000\u0001\u0001\u00056\u0002\u0001\u0000\u0000?\u007F1\u0000\u0007"
  8: 0x00E9 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x00EA [0x1C] WAIT(120* ticks)
 10: 0x00ED [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=40*, entity1=EventEntity, entity2=EventEntity, action="thk1")
 11: 0x00FC [0x1D] PRINT_EVENT_MESSAGE(message_id=7917*)
    → "Bwahahaha! I knew I was a genius!\u0007Now, to fire up the oven and prepare the manna that will deliver our people from starvation...or at least those whose palate I deem worthy!\u007F1\u0000\u0007"
 12: 0x00FF [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x0100 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=40*, entity1=EventEntity, entity2=EventEntity, action="thk2")
 14: 0x010F [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="thk2")
 15: 0x011C [0x1D] PRINT_EVENT_MESSAGE(message_id=7918*)
    → "Don't ask me why, but my discerning nose tells me I'll be asking a similar favor of you in the none-too-distant future.\u0007If you've any semblance of good taste, you'll continue to serve me well.\u007F1\u0000\u0007"
 16: 0x011F [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x0120 [0x01] GOTO 0x0127

SUBROUTINE_0123:
 18: 0x0123 [0x1D] PRINT_EVENT_MESSAGE(message_id=7921*)
    → "Such a dutiful \u007F\u0005[lad/lass] you are!\u0007Have no fear--I will see to it that you survive the great famine.\u0007Let it not be said that the mighty Piketo-Puketo does not smile upon the cultured and refined! Bwahahaha!\u007F1\u0000\u0007"
 19: 0x0126 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x0127 [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="qstc", work_offset2=0*)
 21: 0x0138 [0x21] END_EVENT
 22: 0x0139 [0x00] END_REQSTACK()
```
