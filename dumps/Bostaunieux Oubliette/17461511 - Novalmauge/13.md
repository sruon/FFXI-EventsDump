# Event 13

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 11/26     |
| Offset          | 0x0151    |
| Data Size       | 521 bytes |
| Calculated Size | 521 bytes |
| Instructions    | 94        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0150:    42 06 01 10 03 01 00  02 10 1E F0 FF FF 7F 1C   B..............
0160: 1A 80 02 01 00 05 80 00  AC 01 03 02 10 1C 80 2B  ...............+
0170: 07 71 0A 01 1D 80 23 24  1E 80 05 80 06 80 25 02  .q....#$......%.
0180: 00 10 06 80 00 97 01 03  01 10 05 80 2B 07 71 0A  ............+.q.
0190: 01 1F 80 23 01 AA 01 02  00 10 05 80 00 AA 01 2B  ...#...........+
01A0: 07 71 0A 01 20 80 23 01  AA 01 21 00 4A F0 FF FF  .q.. .#...!.J...
01B0: 7F 07 71 0A 01 6F 76 F0  FF FF 7F 1A C1 07 1C 1A  ..q..ov.........
01C0: 80 38 21 80 66 0B 80 07  71 0A 01 07 71 0A 01 00  .8!.f...q...q...
01D0: FE FE FE 46 01 27 10 F0  FF FF 7F 06 37 01 80 02  ...F.'......7...
01E0: 80 03 80 04 80 79 00 F0  FF FF 7F 07 71 0A 01 79  .....y......q..y
01F0: 00 07 71 0A 01 F0 FF FF  7F 45 22 80 F0 FF FF 7F  ..q......E".....
0200: F0 FF FF 7F 73 67 30 31  06 80 1A E2 07 03 02 10  ....sg01........
0210: 1C 80 66 0B 80 07 71 0A  01 07 71 0A 01 74 6C 6B  ..f...q...q..tlk
0220: 30 2B 07 71 0A 01 23 80  23 66 0B 80 07 71 0A 01  0+.q..#.#f...q..
0230: 07 71 0A 01 74 6C 6B 31  24 24 80 05 80 06 80 25  .q..tlk1$$.....%
0240: 02 00 10 06 80 00 4B 02  01 7F 02 02 00 10 05 80  ......K.........
0250: 00 7F 02 6E F0 FF FF 7F  25 80 99 F0 FF FF 7F 1C  ...n....%.......
0260: 26 80 6E 07 71 0A 01 25  80 99 07 71 0A 01 1C 1A  &.n.q..%...q....
0270: 80 2B 07 71 0A 01 20 80  23 01 3F 03 01 7F 02 53  .+.q.. .#.?....S
0280: 07 71 0A 01 07 71 0A 01  74 6C 6B 31 1C 27 80 66  .q...q..tlk1.'.f
0290: 0B 80 07 71 0A 01 07 71  0A 01 74 6C 6B 30 2B 07  ...q...q..tlk0+.
02A0: 71 0A 01 28 80 23 2B 07  71 0A 01 29 80 23 66 0B  q..(.#+.q..).#f.
02B0: 80 07 71 0A 01 07 71 0A  01 74 6C 6B 31 24 1E 80  ..q...q..tlk1$..
02C0: 05 80 06 80 25 02 00 10  06 80 00 E4 02 03 01 10  ....%...........
02D0: 05 80 6E F0 FF FF 7F 2A  80 99 F0 FF FF 7F 1C 2B  ..n....*.......+
02E0: 80 01 18 03 02 00 10 05  80 00 18 03 6E F0 FF FF  ............n...
02F0: 7F 25 80 99 F0 FF FF 7F  1C 26 80 6E 07 71 0A 01  .%.......&.n.q..
0300: 27 80 99 07 71 0A 01 1C  1A 80 2B 07 71 0A 01 2C  '...q.....+.q..,
0310: 80 23 01 3F 03 01 18 03  53 07 71 0A 01 07 71 0A  .#.?....S.q...q.
0320: 01 74 6C 6B 31 1C 27 80  6E 07 71 0A 01 2A 80 99  .tlk1.'.n.q..*..
0330: 07 71 0A 01 1C 1A 80 2B  07 71 0A 01 2D 80 23 1A  .q.....+.q..-.#.
0340: C1 07 1C 1A 80 45 2E 80  F0 FF FF 7F F0 FF FF 7F  .....E..........
0350: 66 64 69 32 06 80 46 00  21 00                    fdi2..F.!.      
```

## Opcodes

```
  0: 0x0151 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0152 [0x06] Work_Zone[1] = 0
  2: 0x0155 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
  3: 0x015A [0x1E] EventEntity looks at LocalPlayer and starts talking
  4: 0x015F [0x1C] WAIT(15* ticks)
  5: 0x0162 [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x01AC
  6: 0x016A [0x03] Work_Zone[2] = 930*
  7: 0x016F [0x2B] Novalmauge (ID: 17461511/0x010A7107) [7349*]:
    → "Eh? What? You'll take my request?\u007F1\u0000\u0007"
  8: 0x0176 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x0177 [0x24] CREATE_DIALOG(message_id=7346*, default_option=1*, option_flags=0*)
    → "Accept Novalmauge's request?\u0007\u000BAccept.\u0007Turn him down.\u007F1\u0000\u0007"
 10: 0x017E [0x25] WAIT_DIALOG_SELECT()
 11: 0x017F [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0197
 12: 0x0187 [0x03] Work_Zone[1] = 1*
 13: 0x018C [0x2B] Novalmauge (ID: 17461511/0x010A7107) [7350*]:
    → "That is good news, indeed. I want you to bring me \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000, and as fast as you can.\u007F1\u0000\u0007"
 14: 0x0193 [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x0194 [0x01] GOTO 0x01AA
 16: 0x0197 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x01AA
 17: 0x019F [0x2B] Novalmauge (ID: 17461511/0x010A7107) [7343*]:
    → "Ah. I see. Don't mind me, then.\u007F1\u0000\u0007"
 18: 0x01A6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x01A7 [0x01] GOTO 0x01AA

SUBROUTINE_01AA:
 20: 0x01AA [0x21] END_EVENT
 21: 0x01AB [0x00] END_REQSTACK()
 22: 0x01AC [0x4A] LocalPlayer looks at Novalmauge (ID: 17461511/0x010A7107)
 23: 0x01B5 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 24: 0x01B6 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 25: 0x01BB [0x1A] CALL_SUBROUTINE(address=0x07C1)
 26: 0x01BE [0x1C] WAIT(15* ticks)
 27: 0x01C1 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 28: 0x01C4 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler 0xFEFEFE00 with entities [Novalmauge (ID: 17461511/0x010A7107), Novalmauge (ID: 17461511/0x010A7107)], work=29*
 29: 0x01D3 [0x46] CAMERA_CONTROL: Disable user control
 30: 0x01D5 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x06)
 31: 0x01DC [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=54.460*, z=19.508*, y=-24.014*, direction=339.2°*
 32: 0x01E5 [0x79] LocalPlayer looks at Novalmauge (ID: 17461511/0x010A7107) (Basic look)
 33: 0x01EF [0x79] Novalmauge (ID: 17461511/0x010A7107) looks at LocalPlayer (Basic look)
 34: 0x01F9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "sg01" with entities [LocalPlayer, LocalPlayer], work=[67*, 0*]
 35: 0x020A [0x1A] CALL_SUBROUTINE(address=0x07E2)
 36: 0x020D [0x03] Work_Zone[2] = 930*
 37: 0x0212 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Novalmauge (ID: 17461511/0x010A7107), Novalmauge (ID: 17461511/0x010A7107)], work=29*
 38: 0x0221 [0x2B] Novalmauge (ID: 17461511/0x010A7107) [7341*]:
    → "If you have a moment, will you hear my request?\u007F1\u0000\u0007"
 39: 0x0228 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x0229 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [Novalmauge (ID: 17461511/0x010A7107), Novalmauge (ID: 17461511/0x010A7107)], work=29*
 41: 0x0238 [0x24] CREATE_DIALOG(message_id=7342*, default_option=1*, option_flags=0*)
    → "Listen to him?\u0007\u000BHear what he has to say.\u0007No way.\u007F1\u0000\u0007"
 42: 0x023F [0x25] WAIT_DIALOG_SELECT()
 43: 0x0240 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x024B
 44: 0x0248 [0x01] GOTO 0x027F
 45: 0x024B [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x027F
 46: 0x0253 [0x6E] LocalPlayer uses emote 6*
 47: 0x025A [0x99] Wait for LocalPlayer animation to complete
 48: 0x025F [0x1C] WAIT(60* ticks)
 49: 0x0262 [0x6E] Novalmauge (ID: 17461511/0x010A7107) uses emote 6*
 50: 0x0269 [0x99] Wait for Novalmauge (ID: 17461511/0x010A7107) animation to complete
 51: 0x026E [0x1C] WAIT(15* ticks)
 52: 0x0271 [0x2B] Novalmauge (ID: 17461511/0x010A7107) [7343*]:
    → "Ah. I see. Don't mind me, then.\u007F1\u0000\u0007"
 53: 0x0278 [0x23] WAIT_FOR_DIALOG_INTERACTION
 54: 0x0279 [0x01] GOTO 0x033F

SUBROUTINE_027F:
 55: 0x027F [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [Novalmauge (ID: 17461511/0x010A7107), Novalmauge (ID: 17461511/0x010A7107)]
 56: 0x028C [0x1C] WAIT(5* ticks)
 57: 0x028F [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Novalmauge (ID: 17461511/0x010A7107), Novalmauge (ID: 17461511/0x010A7107)], work=29*
 58: 0x029E [0x2B] Novalmauge (ID: 17461511/0x010A7107) [7344*]:
    → "I want you to bring me \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 59: 0x02A5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x02A6 [0x2B] Novalmauge (ID: 17461511/0x010A7107) [7345*]:
    → "Just...don't ask me why. How about it?\u0007Will you do this for me?\u007F1\u0000\u0007"
 61: 0x02AD [0x23] WAIT_FOR_DIALOG_INTERACTION
 62: 0x02AE [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [Novalmauge (ID: 17461511/0x010A7107), Novalmauge (ID: 17461511/0x010A7107)], work=29*
 63: 0x02BD [0x24] CREATE_DIALOG(message_id=7346*, default_option=1*, option_flags=0*)
    → "Accept Novalmauge's request?\u0007\u000BAccept.\u0007Turn him down.\u007F1\u0000\u0007"
 64: 0x02C4 [0x25] WAIT_DIALOG_SELECT()
 65: 0x02C5 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x02E4
 66: 0x02CD [0x03] Work_Zone[1] = 1*
 67: 0x02D2 [0x6E] LocalPlayer uses emote 7*
 68: 0x02D9 [0x99] Wait for LocalPlayer animation to complete
 69: 0x02DE [0x1C] WAIT(45* ticks)
 70: 0x02E1 [0x01] GOTO 0x0318
 71: 0x02E4 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0318
 72: 0x02EC [0x6E] LocalPlayer uses emote 6*
 73: 0x02F3 [0x99] Wait for LocalPlayer animation to complete
 74: 0x02F8 [0x1C] WAIT(60* ticks)
 75: 0x02FB [0x6E] Novalmauge (ID: 17461511/0x010A7107) uses emote 5*
 76: 0x0302 [0x99] Wait for Novalmauge (ID: 17461511/0x010A7107) animation to complete
 77: 0x0307 [0x1C] WAIT(15* ticks)
 78: 0x030A [0x2B] Novalmauge (ID: 17461511/0x010A7107) [7347*]:
    → "Ah...ah-hah. That is to be expected, I guess. Sorry to ask such a ludicrous favor! Don't worry yourself about it.\u007F1\u0000\u0007"
 79: 0x0311 [0x23] WAIT_FOR_DIALOG_INTERACTION
 80: 0x0312 [0x01] GOTO 0x033F

SUBROUTINE_0318:
 81: 0x0318 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [Novalmauge (ID: 17461511/0x010A7107), Novalmauge (ID: 17461511/0x010A7107)]
 82: 0x0325 [0x1C] WAIT(5* ticks)
 83: 0x0328 [0x6E] Novalmauge (ID: 17461511/0x010A7107) uses emote 7*
 84: 0x032F [0x99] Wait for Novalmauge (ID: 17461511/0x010A7107) animation to complete
 85: 0x0334 [0x1C] WAIT(15* ticks)
 86: 0x0337 [0x2B] Novalmauge (ID: 17461511/0x010A7107) [7348*]:
    → "That is good news, indeed. Please hurry, I beg you.\u007F1\u0000\u0007"
 87: 0x033E [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_033F:
 88: 0x033F [0x1A] CALL_SUBROUTINE(address=0x07C1)
 89: 0x0342 [0x1C] WAIT(15* ticks)
 90: 0x0345 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 91: 0x0356 [0x46] CAMERA_CONTROL: Restore default settings
 92: 0x0358 [0x21] END_EVENT
 93: 0x0359 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x027C [0x01] GOTO 0x027F
# Dead code (unreachable instructions):
     0x0315 [0x01] GOTO 0x0318
```