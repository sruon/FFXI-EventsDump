# Event 255

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 59/194    |
| Offset          | 0x03DD    |
| Data Size       | 202 bytes |
| Calculated Size | 202 bytes |
| Instructions    | 43        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
03D0:                                         1E F0 FF               ...
03E0: FF 7F 6F 70 29 08 13 20  0F 01 01 1D 0E 80 23 24  ..op).. ......#$
03F0: 0F 80 10 80 02 10 25 02  00 10 10 80 00 07 04 03  ......%.........
0400: 01 10 10 80 01 77 04 02  00 10 07 80 00 17 04 03  .....w..........
0410: 01 10 07 80 01 77 04 02  00 10 11 80 00 27 04 03  .....w.......'..
0420: 01 10 11 80 01 77 04 02  00 10 12 80 00 37 04 03  .....w.......7..
0430: 01 10 12 80 01 77 04 02  00 10 13 80 00 47 04 03  .....w.......G..
0440: 01 10 13 80 01 77 04 02  00 10 14 80 00 57 04 03  .....w.......W..
0450: 01 10 14 80 01 77 04 02  00 10 15 80 00 67 04 03  .....w.......g..
0460: 01 10 15 80 01 77 04 02  00 10 16 80 00 77 04 03  .....w.......w..
0470: 01 10 16 80 01 77 04 03  01 10 00 10 02 01 10 17  .....w..........
0480: 80 01 9C 04 24 18 80 10  80 10 80 25 02 00 10 07  ....$......%....
0490: 80 00 9C 04 03 01 10 17  80 01 9C 04 29 08 13 20  ............).. 
04A0: 0F 01 36 20 00 21 00                              ..6 .!.         
```

## Opcodes

```
  0: 0x03DD [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x03E2 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x03E3 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x03E4 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Kupipi (ID: 17768467/0x010F2013), tag_num=0x01)
  4: 0x03EB [0x1D] PRINT_EVENT_MESSAGE(message_id=568*)
    → "Then you can leave it to Kupipi to find you something just right for you.\u007F1\u0000\u0007"
  5: 0x03EE [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x03EF [0x24] CREATE_DIALOG(message_id=569*, default_option=0*, option_flags=0x1002)
    → "Which mission will you accept?\u0007\u000BMission 1-1\u0007Mission 1-2\u0007Mission 1-3\u0007Mission 2-1\u0007Mission 2-2\u0007Mission 2-3\u0007Mission 3-1\u0007Mission 3-2\u0007Mission 3-3\u0007Mission 4-1\u0007Mission 4-2\u0007Mission 4-3\u0007Dummy 1\u0007Dummy 2\u0007Dummy 3\u0007Dummy 4\u0007Dummy 5\u0007Dummy 6\u0007Dummy 7\u0007Dummy 8\u0007Dummy 9\u0007Dummy 10\u0007Dummy 11\u0007Dummy 12\u0007Dummy 13\u0007Dummy 14\u0007Dummy 15\u0007Dummy 16\u0007Dummy 17\u0007Dummy!\u0007Dummy!!\u0007Accept no missions!\u007F1\u0000\u0007"
  7: 0x03F6 [0x25] WAIT_DIALOG_SELECT()
  8: 0x03F7 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0407
  9: 0x03FF [0x03] Work_Zone[1] = 0*
 10: 0x0404 [0x01] GOTO 0x0477

SUBROUTINE_0407:
 11: 0x0407 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0417
 12: 0x040F [0x03] Work_Zone[1] = 1*
 13: 0x0414 [0x01] GOTO 0x0477

SUBROUTINE_0417:
 14: 0x0417 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0427
 15: 0x041F [0x03] Work_Zone[1] = 2*
 16: 0x0424 [0x01] GOTO 0x0477

SUBROUTINE_0427:
 17: 0x0427 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0437
 18: 0x042F [0x03] Work_Zone[1] = 3*
 19: 0x0434 [0x01] GOTO 0x0477

SUBROUTINE_0437:
 20: 0x0437 [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x0447
 21: 0x043F [0x03] Work_Zone[1] = 4*
 22: 0x0444 [0x01] GOTO 0x0477

SUBROUTINE_0447:
 23: 0x0447 [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x0457
 24: 0x044F [0x03] Work_Zone[1] = 5*
 25: 0x0454 [0x01] GOTO 0x0477

SUBROUTINE_0457:
 26: 0x0457 [0x02] IF !(Work_Zone[0] == 6*) GOTO 0x0467
 27: 0x045F [0x03] Work_Zone[1] = 6*
 28: 0x0464 [0x01] GOTO 0x0477

SUBROUTINE_0467:
 29: 0x0467 [0x02] IF !(Work_Zone[0] == 7*) GOTO 0x0477
 30: 0x046F [0x03] Work_Zone[1] = 7*
 31: 0x0474 [0x01] GOTO 0x0477

SUBROUTINE_0477:
 32: 0x0477 [0x03] Work_Zone[1] = Work_Zone[0]
 33: 0x047C [0x02] IF !(Work_Zone[1] == 31*) GOTO 0x049C
 34: 0x0484 [0x24] CREATE_DIALOG(message_id=7331*, default_option=0*, option_flags=0*)
    → "Accept this mission?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 35: 0x048B [0x25] WAIT_DIALOG_SELECT()
 36: 0x048C [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x049C
 37: 0x0494 [0x03] Work_Zone[1] = 31*
 38: 0x0499 [0x01] GOTO 0x049C

SUBROUTINE_049C:
 39: 0x049C [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Kupipi (ID: 17768467/0x010F2013), tag_num=0x36)
 40: 0x04A3 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 41: 0x04A5 [0x21] END_EVENT
 42: 0x04A6 [0x00] END_REQSTACK()
```
