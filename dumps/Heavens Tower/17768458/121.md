# Event 121

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/12      |
| Offset          | 0x0A46    |
| Data Size       | 722 bytes |
| Calculated Size | 722 bytes |
| Instructions    | 91        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0A40:                   46 01  42 45 01 80 F8 FF FF 7F        F.BE......
0A50: F8 FF FF 7F 66 64 6F 31  02 80 1C 03 80 4E 01 32  ....fdo1.....N.2
0A60: 20 0F 01 75 00 04 80 75  01 38 05 80 29 08 F0 FF   ..u...u.8..)...
0A70: FF 7F 06 29 0B F0 FF FF  7F 31 1C 1F 80 45 06 80  ...).....1...E..
0A80: F8 FF FF 7F F8 FF FF 7F  73 30 35 30 02 80 45 01  ........s050..E.
0A90: 80 F8 FF FF 7F F8 FF FF  7F 66 64 69 31 02 80 29  .........fdi1..)
0AA0: 0B 26 20 0F 01 28 29 0B  26 20 0F 01 29 45 06 80  .& ..().& ..)E..
0AB0: F8 FF FF 7F F8 FF FF 7F  73 30 35 31 02 80 29 0B  ........s051..).
0AC0: 26 20 0F 01 2A 52 06 80  F8 FF FF 7F F8 FF FF 7F  & ..*R..........
0AD0: 73 30 35 31 45 06 80 F8  FF FF 7F F8 FF FF 7F 73  s051E..........s
0AE0: 30 35 30 02 80 29 0B 26  20 0F 01 2B 29 0B 26 20  050..).& ..+).& 
0AF0: 0F 01 2C 29 08 26 20 0F  01 01 29 0B 26 20 0F 01  ..,).& ...).& ..
0B00: 2E 45 01 80 F8 FF FF 7F  F8 FF FF 7F 66 64 6F 32  .E..........fdo2
0B10: 02 80 1C 08 80 45 06 80  F8 FF FF 7F F8 FF FF 7F  .....E..........
0B20: 73 30 35 33 02 80 45 01  80 F8 FF FF 7F F8 FF FF  s053..E.........
0B30: 7F 66 64 69 32 02 80 29  0B 26 20 0F 01 2F 45 01  .fdi2..).& ../E.
0B40: 80 F8 FF FF 7F F8 FF FF  7F 66 64 6F 31 02 80 29  .........fdo1..)
0B50: 0B 26 20 0F 01 30 1C 15  80 52 06 80 F8 FF FF 7F  .& ..0...R......
0B60: F8 FF FF 7F 73 30 35 33  29 08 26 20 0F 01 01 4A  ....s053).& ...J
0B70: F0 FF FF 7F 26 20 0F 01  6F 76 F0 FF FF 7F 02 08  ....& ..ov......
0B80: 10 0D 80 00 9A 0B 45 06  80 F8 FF FF 7F F8 FF FF  ......E.........
0B90: 7F 73 31 30 34 02 80 01  AB 0B 45 06 80 F8 FF FF  .s104.....E.....
0BA0: 7F F8 FF FF 7F 73 30 35  34 02 80 45 01 80 F8 FF  .....s054..E....
0BB0: FF 7F F8 FF FF 7F 66 64  69 31 02 80 29 0B 26 20  ......fdi1..).& 
0BC0: 0F 01 31 45 06 80 F8 FF  FF 7F F8 FF FF 7F 73 31  ..1E..........s1
0BD0: 30 36 02 80 29 0B 26 20  0F 01 32 52 06 80 F8 FF  06..).& ..2R....
0BE0: FF 7F F8 FF FF 7F 73 31  30 36 45 06 80 F8 FF FF  ......s106E.....
0BF0: 7F F8 FF FF 7F 73 30 35  30 02 80 29 0B 26 20 0F  .....s050..).& .
0C00: 01 33 29 0B 26 20 0F 01  34 29 0B 26 20 0F 01 36  .3).& ..4).& ..6
0C10: 4A F0 FF FF 7F 26 20 0F  01 45 06 80 F8 FF FF 7F  J....& ..E......
0C20: F8 FF FF 7F 73 30 35 32  02 80 27 0B 26 20 0F 01  ....s052..'.& ..
0C30: 25 2B 26 20 0F 01 22 80  23 2B 26 20 0F 01 23 80  %+& ..".#+& ..#.
0C40: 23 2A 0B 26 20 0F 01 45  06 80 F8 FF FF 7F F8 FF  #*.& ..E........
0C50: FF 7F 73 30 39 30 02 80  27 0B 26 20 0F 01 26 4A  ..s090..'.& ..&J
0C60: F0 FF FF 7F 26 20 0F 01  1C 03 80 4A F0 FF FF 7F  ....& .....J....
0C70: 26 20 0F 01 2A 0B 26 20  0F 01 45 06 80 F8 FF FF  & ..*.& ..E.....
0C80: 7F F8 FF FF 7F 73 30 35  36 02 80 29 0B 26 20 0F  .....s056..).& .
0C90: 01 39 45 06 80 F8 FF FF  7F F8 FF FF 7F 73 30 35  .9E..........s05
0CA0: 37 02 80 4B 26 20 0F 01  24 80 29 0B 26 20 0F 01  7..K& ..$.).& ..
0CB0: 3A 27 0B 26 20 0F 01 27  45 01 80 F8 FF FF 7F F8  :'.& ..'E.......
0CC0: FF FF 7F 66 64 6F 31 02  80 52 06 80 F8 FF FF 7F  ...fdo1..R......
0CD0: F8 FF FF 7F 73 30 35 35  1C 14 80 2A 0B 26 20 0F  ....s055...*.& .
0CE0: 01 29 0B 26 20 0F 01 23  46 00 1C 03 80 02 07 10  .).& ..#F.......
0CF0: 18 80 00 FD 0C 75 00 19  80 75 01 75 02 4E 00 32  .....u...u.u.N.2
0D00: 20 0F 01 45 01 80 F8 FF  FF 7F F8 FF FF 7F 66 64   ..E..........fd
0D10: 69 31 02 80 20 00 21 00                           i1.. .!.        
```

## Opcodes

```
  0: 0x0A46 [0x46] CAMERA_CONTROL: Disable user control
  1: 0x0A48 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0A49 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  3: 0x0A5A [0x1C] WAIT(60* ticks)
  4: 0x0A5D [0x4E] SET_ENTITY_HIDE_FLAG: Hide Kiwawa (ID: 17768498/0x010F2032)
  5: 0x0A63 [0x75] LOAD_ROOM(Load indoor room, room=427*)
  6: 0x0A67 [0x75] LOAD_ROOM(No action)
  7: 0x0A69 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  8: 0x0A6C [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x06)
  9: 0x0A73 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x31)
 10: 0x0A7A [0x1C] WAIT(50* ticks)
 11: 0x0A7D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s050" with entities [EventEntity, EventEntity], work=[142*, 0*]
 12: 0x0A8E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 13: 0x0A9F [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x28)
 14: 0x0AA6 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x29)
 15: 0x0AAD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s051" with entities [EventEntity, EventEntity], work=[142*, 0*]
 16: 0x0ABE [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x2A)
 17: 0x0AC5 [0x52] END_LOAD_SCHEDULER: End scheduler "s051" with entities [EventEntity, EventEntity], work=142*
 18: 0x0AD4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s050" with entities [EventEntity, EventEntity], work=[142*, 0*]
 19: 0x0AE5 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x2B)
 20: 0x0AEC [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x2C)
 21: 0x0AF3 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x01)
 22: 0x0AFA [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x2E)
 23: 0x0B01 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [EventEntity, EventEntity], work=[200*, 0*]
 24: 0x0B12 [0x1C] WAIT(150* ticks)
 25: 0x0B15 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s053" with entities [EventEntity, EventEntity], work=[142*, 0*]
 26: 0x0B26 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [EventEntity, EventEntity], work=[200*, 0*]
 27: 0x0B37 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x2F)
 28: 0x0B3E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 29: 0x0B4F [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x30)
 30: 0x0B56 [0x1C] WAIT(100* ticks)
 31: 0x0B59 [0x52] END_LOAD_SCHEDULER: End scheduler "s053" with entities [EventEntity, EventEntity], work=142*
 32: 0x0B68 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x01)
 33: 0x0B6F [0x4A] LocalPlayer looks at Zubaba (ID: 17768486/0x010F2026)
 34: 0x0B78 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 35: 0x0B79 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 36: 0x0B7E [0x02] IF !(Work_Zone[8] == 8*) GOTO 0x0B9A
 37: 0x0B86 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s104" with entities [EventEntity, EventEntity], work=[142*, 0*]
 38: 0x0B97 [0x01] GOTO 0x0BAB

SUBROUTINE_0B9A:
 39: 0x0B9A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s054" with entities [EventEntity, EventEntity], work=[142*, 0*]
 40: 0x0BAB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 41: 0x0BBC [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x31)
 42: 0x0BC3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s106" with entities [EventEntity, EventEntity], work=[142*, 0*]
 43: 0x0BD4 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x32)
 44: 0x0BDB [0x52] END_LOAD_SCHEDULER: End scheduler "s106" with entities [EventEntity, EventEntity], work=142*
 45: 0x0BEA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s050" with entities [EventEntity, EventEntity], work=[142*, 0*]
 46: 0x0BFB [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x33)
 47: 0x0C02 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x34)
 48: 0x0C09 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x36)
 49: 0x0C10 [0x4A] LocalPlayer looks at Zubaba (ID: 17768486/0x010F2026)
 50: 0x0C19 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s052" with entities [EventEntity, EventEntity], work=[142*, 0*]
 51: 0x0C2A [0x27] REQ_SET(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x25)
 52: 0x0C31 [0x2B] Zubaba (ID: 17768486/0x010F2026) [234*]:
    → "The same central tower that has been sealed since the end of the Great War.\u007F1\u0000\u0007"
 53: 0x0C38 [0x23] WAIT_FOR_DIALOG_INTERACTION
 54: 0x0C39 [0x2B] Zubaba (ID: 17768486/0x010F2026) [235*]:
    → "What is down there, you ask? Well, part of the talisman that seals Castle Zvahl, and...\u007F1\u0000\u0007"
 55: 0x0C40 [0x23] WAIT_FOR_DIALOG_INTERACTION
 56: 0x0C41 [0x2A] GET_REQ_LEVEL(level=11, entity_id=Zubaba (ID: 17768486/0x010F2026))
 57: 0x0C47 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s090" with entities [EventEntity, EventEntity], work=[142*, 0*]
 58: 0x0C58 [0x27] REQ_SET(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x26)
 59: 0x0C5F [0x4A] LocalPlayer looks at Zubaba (ID: 17768486/0x010F2026)
 60: 0x0C68 [0x1C] WAIT(60* ticks)
 61: 0x0C6B [0x4A] LocalPlayer looks at Zubaba (ID: 17768486/0x010F2026)
 62: 0x0C74 [0x2A] GET_REQ_LEVEL(level=11, entity_id=Zubaba (ID: 17768486/0x010F2026))
 63: 0x0C7A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s056" with entities [EventEntity, EventEntity], work=[142*, 0*]
 64: 0x0C8B [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x39)
 65: 0x0C92 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s057" with entities [EventEntity, EventEntity], work=[142*, 0*]
 66: 0x0CA3 [0x4B] UPDATE_ENTITY_YAW(entity=Zubaba (ID: 17768486/0x010F2026), yaw=1.99°*)
 67: 0x0CAA [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x3A)
 68: 0x0CB1 [0x27] REQ_SET(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x27)
 69: 0x0CB8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 70: 0x0CC9 [0x52] END_LOAD_SCHEDULER: End scheduler "s055" with entities [EventEntity, EventEntity], work=142*
 71: 0x0CD8 [0x1C] WAIT(80* ticks)
 72: 0x0CDB [0x2A] GET_REQ_LEVEL(level=11, entity_id=Zubaba (ID: 17768486/0x010F2026))
 73: 0x0CE1 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Zubaba (ID: 17768486/0x010F2026), tag_num=0x23)
 74: 0x0CE8 [0x46] CAMERA_CONTROL: Restore default settings
 75: 0x0CEA [0x1C] WAIT(60* ticks)
 76: 0x0CED [0x02] IF !(Work_Zone[7] == 1*) GOTO 0x0CFD
 77: 0x0CF5 [0x75] LOAD_ROOM(Load indoor room, room=426*)
 78: 0x0CF9 [0x75] LOAD_ROOM(No action)
 79: 0x0CFB [0x75] LOAD_ROOM(Change sub-map, room=ExtData[1]->WorkLocal[78])
 80: 0x0CFF [0x32] ExtData[1]->MainSpeed = 0x0F20 * 0.1
 81: 0x0D02 [0x01] GOTO 0x0145
 82: 0x0D05 [0x80] LOAD_WAIT(entity=EventEntity)
 83: 0x0D0A [0xF8] UNKNOWN_OPCODE_0xF8
 84: 0x0D0B [0xFF] UNKNOWN_OPCODE_0xFF
 85: 0x0D0C [0xFF] UNKNOWN_OPCODE_0xFF
 86: 0x0D0D [0x7F] WAIT_DIALOG_SELECT_ALT()
 87: 0x0D0E [0x69] SET_SOUND_VOLUME: Mute System
 88: 0x0D12 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 89: 0x0D14 [0x21] END_EVENT
 90: 0x0D15 [0x00] END_REQSTACK()
```
