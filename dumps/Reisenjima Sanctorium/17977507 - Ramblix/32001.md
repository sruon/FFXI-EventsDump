# Event 32001

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 5/7       |
| Offset          | 0x0B39    |
| Data Size       | 562 bytes |
| Calculated Size | 562 bytes |
| Instructions    | 96        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0B30:                             79 00 F0 FF FF 7F F0           y......
0B40: FF FF 7F 03 21 00 02 10  03 1A 00 03 10 03 1B 00  ....!...........
0B50: 05 10 03 20 00 06 10 03  19 00 07 10 03 17 00 08  ... ............
0B60: 10 02 17 00 04 80 04 6E  0B 03 17 00 0F 80 1A E3  .......n........
0B70: 0F 03 1C 00 09 10 20 01  42 3B F0 FF FF 7F 20 10  ...... .B;.... .
0B80: 21 10 22 10 3A F0 FF FF  7F 23 10 02 20 00 52 80  !.".:....#.. .R.
0B90: 01 96 0B 1C 53 80 45 4F  80 F0 FF FF 7F F0 FF FF  ....S.EO........
0BA0: 7F 77 68 69 31 0F 80 45  1B 80 F0 FF FF 7F F0 FF  .whi1..E........
0BB0: FF 7F 62 6C 6F 66 0F 80  45 1B 80 F0 FF FF 7F F0  ..blof..E.......
0BC0: FF FF 7F 66 64 6F 31 0F  80 55 1B 80 F0 FF FF 7F  ...fdo1..U......
0BD0: F0 FF FF 7F 66 64 6F 31  6C F0 FF FF 7F 54 80 02  ....fdo1l....T..
0BE0: 80 06 01 10 02 17 00 0F  80 03 EF 0B 01 FB 0B 47  ...............G
0BF0: 00 0F 80 0F 80 50 80 51  80 47 01 38 26 80 02 17  .....P.Q.G.8&...
0C00: 00 03 80 00 09 0C 01 24  0C 02 17 00 02 80 00 68  .......$.......h
0C10: 0C 1C 1D 80 24 4C 80 02  80 0F 80 25 02 00 10 0F  ....$L.....%....
0C20: 80 00 68 0C 37 0F 80 0F  80 50 80 51 80 80 F0 FF  ..h.7....P.Q....
0C30: FF 7F 62 03 80 F0 FF FF  7F F0 FF FF 7F 6D 61 69  ..b..........mai
0C40: 6E 0F 80 45 1B 80 F0 FF  FF 7F F0 FF FF 7F 66 64  n..E..........fd
0C50: 69 32 0F 80 46 02 12 00  02 12 00 0F 80 00 62 0C  i2..F.........b.
0C60: 46 00 01 8F 0C 01 68 0C  02 17 00 20 80 04 81 0C  F.....h.... ....
0C70: 5C 00 4D 80 5C 01 4D 80  5C 02 4D 80 5C 03 4D 80  \.M.\.M.\.M.\.M.
0C80: 9A 1A 34 0F 02 17 00 0F  80 03 8F 0C 01 03 0D 02  ..4.............
0C90: 20 00 0F 80 80 9A 0C 01  9A 0C 03 05 10 1B 00 02   ...............
0CA0: 05 10 0F 80 02 03 0D 02  05 10 1C 80 04 C2 0C 3F  ...............?
0CB0: 04 10 05 10 1C 80 15 05  10 1C 80 48 55 80 23 01  ...........HU.#.
0CC0: C6 0C 48 56 80 23 02 1B  00 1A 00 05 DA 0C 03 07  ..HV.#..........
0CD0: 10 19 00 48 57 80 23 01  03 0D 02 1A 00 1C 80 04  ...HW.#.........
0CE0: FA 0C 03 05 10 1A 00 3F  04 10 05 10 1C 80 15 05  .......?........
0CF0: 10 1C 80 48 58 80 23 01  03 0D 03 05 10 1A 00 48  ...HX.#........H
0D00: 59 80 23 02 18 00 0F 80  00 1B 0D 5C 00 0F 80 5C  Y.#........\...\
0D10: 01 0F 80 5C 02 4D 80 5C  03 4D 80 02 17 00 0F 80  ...\.M.\.M......
0D20: 03 44 0D 45 1B 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .D.E..........fd
0D30: 69 32 0F 80 5C 00 0F 80  5C 01 0F 80 5C 02 4D 80  i2..\...\...\.M.
0D40: 5C 03 4D 80 06 18 00 45  4F 80 F0 FF FF 7F F0 FF  \.M....EO.......
0D50: FF 7F 77 68 69 31 0F 80  45 1B 80 F0 FF FF 7F F0  ..whi1..E.......
0D60: FF FF 7F 62 6C 6F 66 0F  80 21 00                 ...blof..!.     
```

## Opcodes

```
  0: 0x0B39 [0x79] LocalPlayer looks at LocalPlayer (Basic look)
  1: 0x0B43 [0x03] ExtData[1]->WorkLocal[33] = Work_Zone[2]
  2: 0x0B48 [0x03] ExtData[1]->WorkLocal[26] = Work_Zone[3]
  3: 0x0B4D [0x03] ExtData[1]->WorkLocal[27] = Work_Zone[5]
  4: 0x0B52 [0x03] ExtData[1]->WorkLocal[32] = Work_Zone[6]
  5: 0x0B57 [0x03] ExtData[1]->WorkLocal[25] = Work_Zone[7]
  6: 0x0B5C [0x03] ExtData[1]->WorkLocal[23] = Work_Zone[8]
  7: 0x0B61 [0x02] IF !(ExtData[1]->WorkLocal[23] < 3*) GOTO 0x0B6E
  8: 0x0B69 [0x03] ExtData[1]->WorkLocal[23] = 0*
  9: 0x0B6E [0x1A] CALL_SUBROUTINE(address=0x0FE3)
 10: 0x0B71 [0x03] ExtData[1]->WorkLocal[28] = Work_Zone[9]
 11: 0x0B76 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
 12: 0x0B78 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 13: 0x0B79 [0x3B] GET_ENTITY_POSITION(entity=LocalPlayer, x_destination=Work_Zone[32], y_destination=Work_Zone[33], z_destination=Work_Zone[34])
 14: 0x0B84 [0x3A] CONVERT_YAW_TO_BYTE(entity=LocalPlayer, result_destination=Work_Zone[35])
 15: 0x0B8B [0x02] IF !(ExtData[1]->WorkLocal[32] == 180*) GOTO 0x0B96
 16: 0x0B93 [0x1C] WAIT(300* ticks)
 17: 0x0B96 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 18: 0x0BA7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 19: 0x0BB8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 20: 0x0BC9 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 21: 0x0BD8 [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=128*, fade_time=1*)
 22: 0x0BE1 [0x06] Work_Zone[1] = 0
 23: 0x0BE4 [0x02] IF !(ExtData[1]->WorkLocal[23] >= 0*) GOTO 0x0BEF
 24: 0x0BEC [0x01] GOTO 0x0BFB
 25: 0x0BEF [0x47] UPDATE_PLAYER_POS(0.000*, 0.000*, 4.000*, yaw=90.0°*)
 26: 0x0BF9 [0x47] WAIT_PLAYER_POS_UPDATE
 27: 0x0BFB [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 28: 0x0BFE [0x02] IF !(ExtData[1]->WorkLocal[23] == 2*) GOTO 0x0C09
 29: 0x0C06 [0x01] GOTO 0x0C24
 30: 0x0C09 [0x02] IF !(ExtData[1]->WorkLocal[23] == 1*) GOTO 0x0C68
 31: 0x0C11 [0x1C] WAIT(15* ticks)
 32: 0x0C14 [0x24] CREATE_DIALOG(message_id=7666*, default_option=1*, option_flags=0*)
    → "Skip the event?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 33: 0x0C1B [0x25] WAIT_DIALOG_SELECT()
 34: 0x0C1C [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0C68
 35: 0x0C24 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=0.000*, z=0.000*, y=4.000*, direction=90.0°*
 36: 0x0C2D [0x80] LOAD_WAIT(entity=LocalPlayer)
 37: 0x0C32 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[2*, 0*]
 38: 0x0C43 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 39: 0x0C54 [0x46] CAMERA_CONTROL: Query status
 40: 0x0C56 [0x12] 0x0200 = rand()
 41: 0x0C59 [0x12] 0x0F00 = rand()
 42: 0x0C5C [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 1175216640/0x460C6200))
 43: 0x0C61 [0x00] END_REQSTACK()

SUBROUTINE_0C68:
 44: 0x0C68 [0x02] IF !(ExtData[1]->WorkLocal[23] < 4294967295*) GOTO 0x0C81
 45: 0x0C70 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 82*
 46: 0x0C74 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 82*
 47: 0x0C78 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 82*
 48: 0x0C7C [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 82*
 49: 0x0C80 [0x9A] WAIT_MUSIC_SERVER()
 50: 0x0C81 [0x1A] CALL_SUBROUTINE(address=0x0F34)
 51: 0x0C84 [0x02] IF !(ExtData[1]->WorkLocal[23] >= 0*) GOTO 0x0C8F
 52: 0x0C8C [0x01] GOTO 0x0D03

SUBROUTINE_0C8F:
 53: 0x0C8F [0x02] IF !(ExtData[1]->WorkLocal[32] == 0*) GOTO 0x0C9A
 54: 0x0C97 [0x01] GOTO 0x0C9A

SUBROUTINE_0C9A:
 55: 0x0C9A [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[27]
 56: 0x0C9F [0x02] IF !(Work_Zone[5] <= 0*) GOTO 0x0D03
 57: 0x0CA7 [0x02] IF !(Work_Zone[5] < 60*) GOTO 0x0CC2
 58: 0x0CAF [0x3F] Work_Zone[4] = Work_Zone[5] % 60*
 59: 0x0CB6 [0x15] Work_Zone[5] /= 60*
 60: 0x0CBB [0x48] [System] [7668*]:
    → "Battlefield clear time: 
\u0003 minute\u007F\u0012\u0003[/s], 
\u0002 second\u007F\u0012\u0002[/s]!\u0000\u0007"
 61: 0x0CBE [0x23] WAIT_FOR_DIALOG_INTERACTION
 62: 0x0CBF [0x01] GOTO 0x0CC6
 63: 0x0CC2 [0x48] [System] [7667*]:
    → "Battlefield clear time: 
\u0003 second\u007F\u0012\u0003[/s]!\u0000\u0007"
 64: 0x0CC5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 65: 0x0CC6 [0x02] IF !(ExtData[1]->WorkLocal[27] > ExtData[1]->WorkLocal[26]) GOTO 0x0CDA
 66: 0x0CCE [0x03] Work_Zone[7] = ExtData[1]->WorkLocal[25]
 67: 0x0CD3 [0x48] [System] [8003*]:
    → "You have broken the clear time record for \u00072\u000C\u0005[The Orb's Radiance/Letter from Iroha/Letter from Reisenjima/\u0001\u001AThe Orb's Radiance]\u00073!\u0000\u0007"
 68: 0x0CD6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 69: 0x0CD7 [0x01] GOTO 0x0D03
 70: 0x0CDA [0x02] IF !(ExtData[1]->WorkLocal[26] < 60*) GOTO 0x0CFA
 71: 0x0CE2 [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[26]
 72: 0x0CE7 [0x3F] Work_Zone[4] = Work_Zone[5] % 60*
 73: 0x0CEE [0x15] Work_Zone[5] /= 60*
 74: 0x0CF3 [0x48] [System] [7670*]:
    → "The current battlefield clear time record is 
\u0003 minute\u007F\u0012\u0003[/s] 
\u0002 second\u007F\u0012\u0002[/s].\u0000\u0007"
 75: 0x0CF6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 76: 0x0CF7 [0x01] GOTO 0x0D03
 77: 0x0CFA [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[26]
 78: 0x0CFF [0x48] [System] [7669*]:
    → "The current battlefield clear time record is 
\u0003 second\u007F\u0012\u0003[/s].\u0000\u0007"
 79: 0x0D02 [0x23] WAIT_FOR_DIALOG_INTERACTION
 80: 0x0D03 [0x02] IF !(ExtData[1]->WorkLocal[24] == 0*) GOTO 0x0D1B
 81: 0x0D0B [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 82: 0x0D0F [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 83: 0x0D13 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 82*
 84: 0x0D17 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 82*
 85: 0x0D1B [0x02] IF !(ExtData[1]->WorkLocal[23] >= 0*) GOTO 0x0D44
 86: 0x0D23 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 87: 0x0D34 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 88: 0x0D38 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 89: 0x0D3C [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 82*
 90: 0x0D40 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 82*
 91: 0x0D44 [0x06] ExtData[1]->WorkLocal[24] = 0
 92: 0x0D47 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 93: 0x0D58 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 94: 0x0D69 [0x21] END_EVENT
 95: 0x0D6A [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0C62 [0x01] GOTO 0x0C8F
     0x0C65 [0x01] GOTO 0x0C68
```