# Event 156

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 31/83     |
| Offset          | 0x1A80    |
| Data Size       | 307 bytes |
| Calculated Size | 307 bytes |
| Instructions    | 50        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1A80: 20 01 03 02 10 CD 80 03  03 10 CE 80 48 CF 80 23   ...........H..#
1A90: 24 CB 80 09 80 00 80 25  02 00 10 00 80 00 7A 1B  $......%......z.
1AA0: 42 43 00 43 01 45 0E 80  F0 FF FF 7F F0 FF FF 7F  BC.C.E..........
1AB0: 66 64 6F 31 00 80 1C 2E  80 03 01 10 05 80 46 01  fdo1..........F.
1AC0: 38 0F 80 45 D0 80 F0 FF  FF 7F F0 FF FF 7F 77 61  8..E..........wa
1AD0: 72 70 00 80 29 01 F0 FF  FF 7F 08 45 0E 80 F0 FF  rp..)......E....
1AE0: FF 7F F0 FF FF 7F 66 64  69 31 00 80 8E 2D F8 FF  ......fdi1...-..
1AF0: FF 7F F8 FF FF 7F 6B 69  6A 6F 54 F8 FF FF 7F F8  ......kijoT.....
1B00: FF FF 7F 6B 69 6A 6F 52  D0 80 F0 FF FF 7F F0 FF  ...kijoR........
1B10: FF 7F 77 61 72 70 45 0E  80 F0 FF FF 7F F0 FF FF  ..warpE.........
1B20: 7F 6F 76 6C 31 00 80 45  D0 80 F0 FF FF 7F F0 FF  .ovl1..E........
1B30: FF 7F 77 61 70 32 00 80  1C 2E 80 2D F8 FF FF 7F  ..wap2.....-....
1B40: F8 FF FF 7F 73 74 75 70  1C 39 80 29 01 F0 FF FF  ....stup.9.)....
1B50: 7F 15 8F 52 D0 80 F0 FF  FF 7F F0 FF FF 7F 77 61  ...R..........wa
1B60: 70 32 46 00 47 00 D1 80  D2 80 AE 80 50 80 47 01  p2F.G.......P.G.
1B70: 29 01 F0 FF FF 7F 16 01  AF 1B 02 00 10 05 80 00  )...............
1B80: A4 1B 42 43 00 43 01 29  01 F0 FF FF 7F 15 47 00  ..BC.C.)......G.
1B90: BB 80 D2 80 AE 80 50 80  47 01 29 01 F0 FF FF 7F  ......P.G.).....
1BA0: 16 01 AF 1B 02 00 10 09  80 00 AF 1B 01 AF 1B 20  ............... 
1BB0: 00 21 00                                          .!.             
```

## Opcodes

```
  0: 0x1A80 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x1A82 [0x03] Work_Zone[2] = 710*
  2: 0x1A87 [0x03] Work_Zone[3] = 711*
  3: 0x1A8C [0x48] [System] [7636*]:
    → "\u007F\u0000\u0001\u0001\u00053\u0002\u0000\u0000\u0000 and \u0001\u00053\u0002\u0001\u0000\u0000 confirmed.\u0007Access granted.\u007F1\u0000\u0007"
  4: 0x1A8F [0x23] WAIT_FOR_DIALOG_INTERACTION
  5: 0x1A90 [0x24] CREATE_DIALOG(message_id=7626*, default_option=2*, option_flags=0*)
    → "Use the device?\u0007\u000BAscend.\u0007Descend.\u0007Do nothing.\u007F1\u0000\u0007"
  6: 0x1A97 [0x25] WAIT_DIALOG_SELECT()
  7: 0x1A98 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x1B7A
  8: 0x1AA0 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  9: 0x1AA1 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 10: 0x1AA3 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 11: 0x1AA5 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 12: 0x1AB6 [0x1C] WAIT(60* ticks)
 13: 0x1AB9 [0x03] Work_Zone[1] = 1*
 14: 0x1ABE [0x46] CAMERA_CONTROL: Disable user control
 15: 0x1AC0 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 16: 0x1AC3 [0x45] LOAD_SCHEDULED_TASK(work_offset1=94*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="warp", work_offset2=0*)
 17: 0x1AD4 [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x08)
 18: 0x1ADB [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 19: 0x1AEC [0x8E] EventEntity->StatusEvent = 45
 20: 0x1AED [0x2D] CREATE_ZONE_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, zone_action="kijo")
 21: 0x1AFA [0x54] WAIT_MAP_SCHEDULER(entity1=EventEntity, entity2=EventEntity, action_id="kijo")
 22: 0x1B07 [0x52] END_LOAD_SCHEDULER: End scheduler "warp" with entities [LocalPlayer, LocalPlayer], work=94*
 23: 0x1B16 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="ovl1", work_offset2=0*)
 24: 0x1B27 [0x45] LOAD_SCHEDULED_TASK(work_offset1=94*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="wap2", work_offset2=0*)
 25: 0x1B38 [0x1C] WAIT(60* ticks)
 26: 0x1B3B [0x2D] CREATE_ZONE_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, zone_action="stup")
 27: 0x1B48 [0x1C] WAIT(180* ticks)
 28: 0x1B4B [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x15)
 29: 0x1B52 [0x8F] SET_ENTITY_STATUS_EVENT_46()
 30: 0x1B53 [0x52] END_LOAD_SCHEDULER: End scheduler "wap2" with entities [LocalPlayer, LocalPlayer], work=94*
 31: 0x1B62 [0x46] CAMERA_CONTROL: Restore default settings
 32: 0x1B64 [0x47] UPDATE_PLAYER_POS(420.000*, 380.000*, -1.750*, yaw=90.0°*)
 33: 0x1B6E [0x47] WAIT_PLAYER_POS_UPDATE
 34: 0x1B70 [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x16)
 35: 0x1B77 [0x01] GOTO 0x1BAF

SUBROUTINE_1B7A:
 36: 0x1B7A [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x1BA4
 37: 0x1B82 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 38: 0x1B83 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 39: 0x1B85 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 40: 0x1B87 [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x15)
 41: 0x1B8E [0x47] UPDATE_PLAYER_POS(-420.000*, 380.000*, -1.750*, yaw=90.0°*)
 42: 0x1B98 [0x47] WAIT_PLAYER_POS_UPDATE
 43: 0x1B9A [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x16)
 44: 0x1BA1 [0x01] GOTO 0x1BAF

SUBROUTINE_1BA4:
 45: 0x1BA4 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x1BAF
 46: 0x1BAC [0x01] GOTO 0x1BAF

SUBROUTINE_1BAF:
 47: 0x1BAF [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 48: 0x1BB1 [0x21] END_EVENT
 49: 0x1BB2 [0x00] END_REQSTACK()
```
