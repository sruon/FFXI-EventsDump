# Event 8

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/5       |
| Offset          | 0x0001    |
| Data Size       | 260 bytes |
| Calculated Size | 260 bytes |
| Instructions    | 40        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    20 01 42 46 01 4E 00  37 21 0A 01 80 37 21 0A    .BF.N.7!...7!.
0010: 01 92 01 37 21 0A 01 48  00 80 23 4C 1C 01 80 45  ...7!..H..#L...E
0020: 02 80 F8 FF FF 7F F8 FF  FF 7F 66 64 6F 31 03 80  ..........fdo1..
0030: 1C 04 80 38 05 80 29 08  F0 FF FF 7F 0C 4E 00 37  ...8..)......N.7
0040: 21 0A 01 80 37 21 0A 01  1C 06 80 62 07 80 37 21  !...7!.....b..7!
0050: 0A 01 37 21 0A 01 6D 61  69 6E 03 80 4D 1C 01 80  ..7!..main..M...
0060: 27 08 F0 FF FF 7F 0D 45  08 80 F0 FF FF 7F F0 FF  '......E........
0070: FF 7F 73 31 33 38 03 80  45 02 80 F8 FF FF 7F F8  ..s138..E.......
0080: FF FF 7F 66 64 69 31 03  80 2A 08 F0 FF FF 7F 52  ...fdi1..*.....R
0090: 08 80 F0 FF FF 7F F0 FF  FF 7F 73 31 33 38 45 08  ..........s138E.
00A0: 80 F0 FF FF 7F F0 FF FF  7F 73 31 33 39 03 80 48  .........s139..H
00B0: 09 80 23 55 08 80 F0 FF  FF 7F F0 FF FF 7F 73 31  ..#U..........s1
00C0: 33 39 48 0A 80 23 62 07  80 37 21 0A 01 37 21 0A  39H..#b..7!..7!.
00D0: 01 67 68 73 74 03 80 1C  01 80 45 02 80 F8 FF FF  .ghst.....E.....
00E0: 7F F8 FF FF 7F 66 64 6F  31 03 80 1C 02 80 45 02  .....fdo1.....E.
00F0: 80 F8 FF FF 7F F8 FF FF  7F 66 64 69 31 03 80 46  .........fdi1..F
0100: 00 20 00 21 00                                    . .!.           
```

## Opcodes

```
  0: 0x0001 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0003 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0004 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x0006 [0x4E] SET_ENTITY_HIDE_FLAG: Show Talking Doll (ID: 17441079/0x010A2137)
  4: 0x000C [0x80] LOAD_WAIT(entity=Talking Doll (ID: 17441079/0x010A2137))
  5: 0x0011 [0x92] Talking Doll (ID: 17441079/0x010A2137)->Render.Flags3 ^= 0x01
  6: 0x0017 [0x48] [System] [7228*]:
    → "Your \u0001\u0005#\u0002\u0000\u0000\u0000 broke!\u007F1\u0000\u0007"
  7: 0x001A [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x001B [0x4C] EventEntity->StatusEvent = 8 // Open door
  9: 0x001C [0x1C] WAIT(80* ticks)
 10: 0x001F [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 11: 0x0030 [0x1C] WAIT(60* ticks)
 12: 0x0033 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 13: 0x0036 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x0C)
 14: 0x003D [0x4E] SET_ENTITY_HIDE_FLAG: Show Talking Doll (ID: 17441079/0x010A2137)
 15: 0x0043 [0x80] LOAD_WAIT(entity=Talking Doll (ID: 17441079/0x010A2137))
 16: 0x0048 [0x1C] WAIT(20* ticks)
 17: 0x004B [0x62] LOAD_EVENT_SCHEDULER (arg=5012): Load scheduler "main" with entities [Talking Doll (ID: 17441079/0x010A2137), Talking Doll (ID: 17441079/0x010A2137)], work=[28*, 0*]
 18: 0x005C [0x4D] EventEntity->StatusEvent = 9 // Close door
 19: 0x005D [0x1C] WAIT(80* ticks)
 20: 0x0060 [0x27] REQ_SET(priority=0x08, entity_id=LocalPlayer, tag_num=0x0D)
 21: 0x0067 [0x45] LOAD_SCHEDULED_TASK(work_offset1=15*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s138", work_offset2=0*)
 22: 0x0078 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 23: 0x0089 [0x2A] GET_REQ_LEVEL(level=8, entity_id=LocalPlayer)
 24: 0x008F [0x52] END_LOAD_SCHEDULER: End scheduler "s138" with entities [LocalPlayer, LocalPlayer], work=15*
 25: 0x009E [0x45] LOAD_SCHEDULED_TASK(work_offset1=15*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s139", work_offset2=0*)
 26: 0x00AF [0x48] [System] [7232*]:
    → "This magic doll has had a seal placed upon it.\u0000\u0007"
 27: 0x00B2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x00B3 [0x55] WAIT_LOAD_SCHEDULER(work_offset=15*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s139")
 29: 0x00C2 [0x48] [System] [7233*]:
    → "The old, worn-out seal breaks as you approach.\u0000\u0007"
 30: 0x00C5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x00C6 [0x62] LOAD_EVENT_SCHEDULER (arg=5012): Load scheduler "ghst" with entities [Talking Doll (ID: 17441079/0x010A2137), Talking Doll (ID: 17441079/0x010A2137)], work=[28*, 0*]
 32: 0x00D7 [0x1C] WAIT(80* ticks)
 33: 0x00DA [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 34: 0x00EB [0x1C] WAIT(200* ticks)
 35: 0x00EE [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 36: 0x00FF [0x46] CAMERA_CONTROL: Restore default settings
 37: 0x0101 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 38: 0x0103 [0x21] END_EVENT
 39: 0x0104 [0x00] END_REQSTACK()
```
