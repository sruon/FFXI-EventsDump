# Event 5

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/7       |
| Offset          | 0x7F41    |
| Data Size       | 850 bytes |
| Calculated Size | 850 bytes |
| Instructions    | 40        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
7F40:    42 1A 65 80 46 01 38  00 80 92 01 95 43 05 01   B.e.F.8.....C..
7F50: 94 01 F0 FF FF 7F 94 01  95 43 05 01 BA F0 FF FF  .........C......
7F60: 7F 4B 84 4C 84 4D 84 4E  84 80 F0 FF FF 7F 80 95  .K.L.M.N........
7F70: 43 05 01 45 CB 82 F0 FF  FF 7F F0 FF FF 7F 73 31  C..E..........s1
7F80: 35 37 01 80 1A 44 80 1C  4D 80 62 E8 80 95 43 05  57...D..M.b...C.
7F90: 01 95 43 05 01 6D 61 69  6E 01 80 1C 55 80 03 02  ..C..main...U...
7FA0: 10 7F 83 24 4F 84 01 80  01 80 25 02 00 10 01 80  ...$O.....%.....
7FB0: 00 B9 7F 05 01 10 01 C7  7F 02 00 10 05 80 00 C7  ................
7FC0: 7F 06 01 10 01 C7 7F 1A  65 80 1C 5D 80 52 CB 82  ........e..].R..
7FD0: F0 FF FF 7F F0 FF FF 7F  73 31 35 37 45 07 83 F0  ........s157E...
7FE0: FF FF 7F F0 FF FF 7F 30  62 6C 66 01 80 46 00 45  .......0blf..F.E
7FF0: 43 81 F0 FF FF 7F F0 FF  FF 7F 66 64 69 32 01 80  C.........fdi2..
8000: 21 00 45 43 81 F0 FF FF  7F F0 FF FF 7F 66 64 69  !.EC.........fdi
8010: 30 01 80 55 43 81 F0 FF  FF 7F F0 FF FF 7F 66 64  0..UC.........fd
8020: 69 30 1B 45 43 81 F0 FF  FF 7F F0 FF FF 7F 66 64  i0.EC.........fd
8030: 6F 30 01 80 55 43 81 F0  FF FF 7F F0 FF FF 7F 66  o0..UC.........f
8040: 64 6F 30 1B 45 43 81 F0  FF FF 7F F0 FF FF 7F 66  do0.EC.........f
8050: 64 69 31 01 80 55 43 81  F0 FF FF 7F F0 FF FF 7F  di1..UC.........
8060: 66 64 69 31 1B 45 43 81  F0 FF FF 7F F0 FF FF 7F  fdi1.EC.........
8070: 66 64 6F 31 01 80 55 43  81 F0 FF FF 7F F0 FF FF  fdo1..UC........
8080: 7F 66 64 6F 31 1B 45 50  84 F0 FF FF 7F F0 FF FF  .fdo1.EP........
8090: 7F 77 68 69 31 01 80 55  50 84 F0 FF FF 7F F0 FF  .whi1..UP.......
80A0: FF 7F 77 68 69 31 1B 45  50 84 F0 FF FF 7F F0 FF  ..whi1.EP.......
80B0: FF 7F 77 68 6F 31 01 80  55 50 84 F0 FF FF 7F F0  ..who1..UP......
80C0: FF FF 7F 77 68 6F 31 1B  45 50 84 F0 FF FF 7F F0  ...who1.EP......
80D0: FF FF 7F 77 68 6F 32 01  80 55 50 84 F0 FF FF 7F  ...who2..UP.....
80E0: F0 FF FF 7F 77 68 6F 32  1B 45 50 84 F0 FF FF 7F  ....who2.EP.....
80F0: F0 FF FF 7F 77 68 6F 33  01 80 55 50 84 F0 FF FF  ....who3..UP....
8100: 7F F0 FF FF 7F 77 68 6F  33 1B 62 05 80 F0 FF FF  .....who3.b.....
8110: 7F F0 FF FF 7F 6D 61 69  6E 01 80 1C 50 80 45 43  .....main...P.EC
8120: 81 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 01 80 55  .........fdo1..U
8130: 43 81 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 31 1B 45  C.........fdo1.E
8140: 43 81 F0 FF FF 7F F0 FF  FF 7F 66 64 69 31 01 80  C.........fdi1..
8150: 62 E7 80 F0 FF FF 7F F0  FF FF 7F 6D 61 69 6E 01  b..........main.
8160: 80 1C 5D 80 55 43 81 F0  FF FF 7F F0 FF FF 7F 66  ..].UC.........f
8170: 64 69 31 1B 45 43 81 F0  FF FF 7F F0 FF FF 7F 62  di1.EC.........b
8180: 6C 6F 6E 01 80 45 50 84  F0 FF FF 7F F0 FF FF 7F  lon..EP.........
8190: 62 6C 6F 6E 01 80 1B 45  50 84 F0 FF FF 7F F0 FF  blon...EP.......
81A0: FF 7F 77 68 69 30 01 80  55 50 84 F0 FF FF 7F F0  ..whi0..UP......
81B0: FF FF 7F 77 68 69 30 1B  45 50 84 F0 FF FF 7F F0  ...whi0.EP......
81C0: FF FF 7F 77 68 6F 30 01  80 55 50 84 F0 FF FF 7F  ...who0..UP.....
81D0: F0 FF FF 7F 77 68 6F 30  1B 45 53 80 F0 FF FF 7F  ....who0.ES.....
81E0: F0 FF FF 7F 65 66 6F 6E  01 80 55 53 80 F0 FF FF  ....efon..US....
81F0: 7F F0 FF FF 7F 65 66 6F  6E 1B 45 43 81 F0 FF FF  .....efon.EC....
8200: 7F F0 FF FF 7F 66 64 69  73 01 80 1B 45 43 81 F0  .....fdis...EC..
8210: FF FF 7F F0 FF FF 7F 66  64 6F 73 01 80 55 43 81  .......fdos..UC.
8220: F0 FF FF 7F F0 FF FF 7F  66 64 6F 73 1B 45 43 81  ........fdos.EC.
8230: F0 FF FF 7F F0 FF FF 7F  66 64 69 66 01 80 1B 45  ........fdif...E
8240: 43 81 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 66 01 80  C.........fdof..
8250: 55 43 81 F0 FF FF 7F F0  FF FF 7F 66 64 6F 66 1B  UC.........fdof.
8260: 45 43 81 F0 FF FF 7F F0  FF FF 7F 66 64 69 70 01  EC.........fdip.
8270: 80 1B 45 43 81 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..EC.........fdo
8280: 70 01 80 55 43 81 F0 FF  FF 7F F0 FF FF 7F 66 64  p..UC.........fd
8290: 6F 70 1B                                          op.             
```

## Opcodes

```
  0: 0x7F41 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x7F42 [0x1A] CALL_SUBROUTINE(address=0x8065)
  2: 0x7F45 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x7F47 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  4: 0x7F4A [0x92] ??? (ID: 17122197/0x01054395)->Render.Flags3 ^= 0x01
  5: 0x7F50 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
  6: 0x7F56 [0x94] ??? (ID: 17122197/0x01054395)->Render.Flags3 ^= 0x01
  7: 0x7F5C [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=301.921*, pos_z=-173.889*, pos_y=-1.000*, direction=206.7°*)
  8: 0x7F69 [0x80] LOAD_WAIT(entity=LocalPlayer)
  9: 0x7F6E [0x80] LOAD_WAIT(entity=??? (ID: 17122197/0x01054395))
 10: 0x7F73 [0x45] LOAD_SCHEDULED_TASK(work_offset1=365*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s157", work_offset2=0*)
 11: 0x7F84 [0x1A] CALL_SUBROUTINE(address=0x8044)
 12: 0x7F87 [0x1C] WAIT(60* ticks)
 13: 0x7F8A [0x62] LOAD_EVENT_SCHEDULER (arg=5012): Load scheduler "main" with entities [??? (ID: 17122197/0x01054395), ??? (ID: 17122197/0x01054395)], work=[3*, 0*]
 14: 0x7F9B [0x1C] WAIT(120* ticks)
 15: 0x7F9E [0x03] Work_Zone[2] = 184*
 16: 0x7FA3 [0x24] CREATE_DIALOG(message_id=8166*, default_option=0*, option_flags=0*)
    → "You see \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000.\u0007\u000BTake it.\u0007Leave it.\u007F1\u0000\u0007"
 17: 0x7FAA [0x25] WAIT_DIALOG_SELECT()
 18: 0x7FAB [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x7FB9
 19: 0x7FB3 [0x05] Work_Zone[1] = 1
 20: 0x7FB6 [0x01] GOTO 0x7FC7

SUBROUTINE_7FB9:
 21: 0x7FB9 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x7FC7
 22: 0x7FC1 [0x06] Work_Zone[1] = 0
 23: 0x7FC4 [0x01] GOTO 0x7FC7

SUBROUTINE_7FC7:
 24: 0x7FC7 [0x1A] CALL_SUBROUTINE(address=0x8065)
 25: 0x7FCA [0x1C] WAIT(30* ticks)
 26: 0x7FCD [0x52] END_LOAD_SCHEDULER: End scheduler "s157" with entities [LocalPlayer, LocalPlayer], work=365*
 27: 0x7FDC [0x45] LOAD_SCHEDULED_TASK(work_offset1=384*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="0blf", work_offset2=0*)
 28: 0x7FED [0x46] CAMERA_CONTROL: Restore default settings
 29: 0x7FEF [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 30: 0x8000 [0x21] END_EVENT
 31: 0x8001 [0x00] END_REQSTACK()

 32: 0x8044 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 33: 0x8055 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1")
 34: 0x8064 [0x1B] RETURN

SUBROUTINE_8065:
 35: 0x8065 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 36: 0x8076 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
 37: 0x8085 [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x8002 (66 bytes)
     0x8002: 45 43 81 F0 FF FF 7F F0 FF FF 7F 66 64 69 30 01
     0x8012: 80 55 43 81 F0 FF FF 7F F0 FF FF 7F 66 64 69 30
     0x8022: 1B 45 43 81 F0 FF FF 7F F0 FF FF 7F 66 64 6F 30
     0x8032: 01 80 55 43 81 F0 FF FF 7F F0 FF FF 7F 66 64 6F
     0x8042: 30 1B
# Data Section: 0x8086 (525 bytes)
     0x8086: 45 50 84 F0 FF FF 7F F0 FF FF 7F 77 68 69 31 01
     0x8096: 80 55 50 84 F0 FF FF 7F F0 FF FF 7F 77 68 69 31
     0x80A6: 1B 45 50 84 F0 FF FF 7F F0 FF FF 7F 77 68 6F 31
     0x80B6: 01 80 55 50 84 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x80C6: 31 1B 45 50 84 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x80D6: 32 01 80 55 50 84 F0 FF FF 7F F0 FF FF 7F 77 68
     0x80E6: 6F 32 1B 45 50 84 F0 FF FF 7F F0 FF FF 7F 77 68
     0x80F6: 6F 33 01 80 55 50 84 F0 FF FF 7F F0 FF FF 7F 77
     0x8106: 68 6F 33 1B 62 05 80 F0 FF FF 7F F0 FF FF 7F 6D
     0x8116: 61 69 6E 01 80 1C 50 80 45 43 81 F0 FF FF 7F F0
     0x8126: FF FF 7F 66 64 6F 31 01 80 55 43 81 F0 FF FF 7F
     0x8136: F0 FF FF 7F 66 64 6F 31 1B 45 43 81 F0 FF FF 7F
     0x8146: F0 FF FF 7F 66 64 69 31 01 80 62 E7 80 F0 FF FF
     0x8156: 7F F0 FF FF 7F 6D 61 69 6E 01 80 1C 5D 80 55 43
     0x8166: 81 F0 FF FF 7F F0 FF FF 7F 66 64 69 31 1B 45 43
     0x8176: 81 F0 FF FF 7F F0 FF FF 7F 62 6C 6F 6E 01 80 45
     0x8186: 50 84 F0 FF FF 7F F0 FF FF 7F 62 6C 6F 6E 01 80
     0x8196: 1B 45 50 84 F0 FF FF 7F F0 FF FF 7F 77 68 69 30
     0x81A6: 01 80 55 50 84 F0 FF FF 7F F0 FF FF 7F 77 68 69
     0x81B6: 30 1B 45 50 84 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x81C6: 30 01 80 55 50 84 F0 FF FF 7F F0 FF FF 7F 77 68
     0x81D6: 6F 30 1B 45 53 80 F0 FF FF 7F F0 FF FF 7F 65 66
     0x81E6: 6F 6E 01 80 55 53 80 F0 FF FF 7F F0 FF FF 7F 65
     0x81F6: 66 6F 6E 1B 45 43 81 F0 FF FF 7F F0 FF FF 7F 66
     0x8206: 64 69 73 01 80 1B 45 43 81 F0 FF FF 7F F0 FF FF
     0x8216: 7F 66 64 6F 73 01 80 55 43 81 F0 FF FF 7F F0 FF
     0x8226: FF 7F 66 64 6F 73 1B 45 43 81 F0 FF FF 7F F0 FF
     0x8236: FF 7F 66 64 69 66 01 80 1B 45 43 81 F0 FF FF 7F
     0x8246: F0 FF FF 7F 66 64 6F 66 01 80 55 43 81 F0 FF FF
     0x8256: 7F F0 FF FF 7F 66 64 6F 66 1B 45 43 81 F0 FF FF
     0x8266: 7F F0 FF FF 7F 66 64 69 70 01 80 1B 45 43 81 F0
     0x8276: FF FF 7F F0 FF FF 7F 66 64 6F 70 01 80 55 43 81
     0x8286: F0 FF FF 7F F0 FF FF 7F 66 64 6F 70 1B
```