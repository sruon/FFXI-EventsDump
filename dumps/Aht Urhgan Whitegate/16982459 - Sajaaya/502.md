# Event 502

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 299 bytes |
| Calculated Size | 299 bytes |
| Instructions    | 78        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1E F0 FF FF 7F 1D 00  80 23 24 01 80 02 80 02   ........#$.....
0010: 80 25 02 00 10 02 80 00  1F 00 21 00 01 5F 00 02  .%........!.._..
0020: 00 10 03 80 00 2F 00 03  01 00 04 80 01 5F 00 02  ...../......._..
0030: 00 10 05 80 00 3F 00 03  01 00 06 80 01 5F 00 02  .....?......._..
0040: 00 10 07 80 00 4F 00 03  01 00 08 80 01 5F 00 02  .....O......._..
0050: 00 10 09 80 00 5F 00 03  01 00 0A 80 01 5F 00 1A  ....._......._..
0060: 66 00 21 00 21 00 03 00  00 09 10 15 00 00 0B 80  f.!.!...........
0070: 72 00 01 00 72 01 01 00  00 00 02 03 10 0C 80 00  r...r...........
0080: 98 00 02 04 10 0C 80 00  91 00 1D 0D 80 23 01 95  .............#..
0090: 00 1D 0E 80 23 01 AB 00  02 04 10 0C 80 00 A7 00  ....#...........
00A0: 1D 0F 80 23 01 AB 00 1D  10 80 23 0B 00 00 72 00  ...#......#...r.
00B0: 01 00 72 01 01 00 00 00  02 03 10 0C 80 00 D6 00  ..r.............
00C0: 02 04 10 0C 80 00 CF 00  1D 11 80 23 01 D3 00 1D  ...........#....
00D0: 12 80 23 01 E9 00 02 04  10 0C 80 00 E5 00 1D 13  ..#.............
00E0: 80 23 01 E9 00 1D 14 80  23 0B 00 00 72 00 01 00  .#......#...r...
00F0: 72 01 01 00 00 00 02 03  10 0C 80 00 14 01 02 04  r...............
0100: 10 0C 80 00 0D 01 1D 15  80 23 01 11 01 1D 16 80  .........#......
0110: 23 01 27 01 02 04 10 0C  80 00 23 01 1D 17 80 23  #.'.......#....#
0120: 01 27 01 1D 18 80 23 1D  19 80 23 1B              .'....#...#.    
```

## Opcodes

```
  0: 0x0001 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0006 [0x1D] PRINT_EVENT_MESSAGE(message_id=10126*)
    → "Your fate rides on the changing winds of Vana'diel.\u0007I can give you insight on the local weather.\u007F1\u0000\u0007"
  2: 0x0009 [0x23] WAIT_FOR_DIALOG_INTERACTION
  3: 0x000A [0x24] CREATE_DIALOG(message_id=10141*, default_option=0*, option_flags=0*)
    → "What area's weather do you wish to know?\u0007\u000BNowhere.\u0007Wajaom Woodlands.\u0007Bhaflau Thickets.\u0007Mount Zhayolm.\u0007Caedarva Mire.\u007F1\u0000\u0007"
  4: 0x0011 [0x25] WAIT_DIALOG_SELECT()
  5: 0x0012 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x001F
  6: 0x001A [0x21] END_EVENT
  7: 0x001B [0x00] END_REQSTACK()

SUBROUTINE_001F:
  8: 0x001F [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x002F
  9: 0x0027 [0x03] ExtData[1]->WorkLocal[1] = 51*
 10: 0x002C [0x01] GOTO 0x005F

SUBROUTINE_002F:
 11: 0x002F [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x003F
 12: 0x0037 [0x03] ExtData[1]->WorkLocal[1] = 52*
 13: 0x003C [0x01] GOTO 0x005F

SUBROUTINE_003F:
 14: 0x003F [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x004F
 15: 0x0047 [0x03] ExtData[1]->WorkLocal[1] = 61*
 16: 0x004C [0x01] GOTO 0x005F

SUBROUTINE_004F:
 17: 0x004F [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x005F
 18: 0x0057 [0x03] ExtData[1]->WorkLocal[1] = 79*
 19: 0x005C [0x01] GOTO 0x005F

SUBROUTINE_005F:
 20: 0x005F [0x1A] CALL_SUBROUTINE(address=0x0066)
 21: 0x0062 [0x21] END_EVENT
 22: 0x0063 [0x00] END_REQSTACK()

SUBROUTINE_0066:
 23: 0x0066 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[9]
 24: 0x006B [0x15] ExtData[1]->WorkLocal[0] /= 3456*
 25: 0x0070 [0x72] LOAD_EVENT_WEATHER: Request weather file 7033, weather_id=ExtData[1]->WorkLocal[1], param1=0x0172, param2=ExtData[1]->WorkLocal[1]
 26: 0x007A [0x02] IF !(Work_Zone[3] == 255*) GOTO 0x0098
 27: 0x0082 [0x02] IF !(Work_Zone[4] == 255*) GOTO 0x0091
 28: 0x008A [0x1D] PRINT_EVENT_MESSAGE(message_id=10137*)
    → "The weather in that area today will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 29: 0x008D [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x008E [0x01] GOTO 0x0095

SUBROUTINE_0091:
 31: 0x0091 [0x1D] PRINT_EVENT_MESSAGE(message_id=10134*)
    → "Today, the weather in that area will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000. There is also the possibility of \u0001\u0005\u0018\u0002\u0002\u0000\u0000, so caution is advised.\u007F1\u0000\u0007"
 32: 0x0094 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x0095 [0x01] GOTO 0x00AB

SUBROUTINE_0098:
 34: 0x0098 [0x02] IF !(Work_Zone[4] == 255*) GOTO 0x00A7
 35: 0x00A0 [0x1D] PRINT_EVENT_MESSAGE(message_id=10131*)
    → "Today, that area's weather will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000 with a chance of \u0001\u0005\u0018\u0002\u0001\u0000\u0000.\u007F1\u0000\u0007"
 36: 0x00A3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x00A4 [0x01] GOTO 0x00AB

SUBROUTINE_00A7:
 38: 0x00A7 [0x1D] PRINT_EVENT_MESSAGE(message_id=10128*)
    → "That area's forecast for today is for \u0001\u0005\u0018\u0002\u0000\u0000\u0000 with occasional \u0001\u0005\u0018\u0002\u0001\u0000\u0000. There is also a slight chance of \u0001\u0005\u0018\u0002\u0002\u0000\u0000, so caution is advised.\u007F1\u0000\u0007"
 39: 0x00AA [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x00AB [0x0B] ExtData[1]->WorkLocal[0]++
 41: 0x00AE [0x72] LOAD_EVENT_WEATHER: Request weather file 7033, weather_id=ExtData[1]->WorkLocal[1], param1=0x0172, param2=ExtData[1]->WorkLocal[1]
 42: 0x00B8 [0x02] IF !(Work_Zone[3] == 255*) GOTO 0x00D6
 43: 0x00C0 [0x02] IF !(Work_Zone[4] == 255*) GOTO 0x00CF
 44: 0x00C8 [0x1D] PRINT_EVENT_MESSAGE(message_id=10138*)
    → "The weather tomorrow will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 45: 0x00CB [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x00CC [0x01] GOTO 0x00D3

SUBROUTINE_00CF:
 47: 0x00CF [0x1D] PRINT_EVENT_MESSAGE(message_id=10135*)
    → "Tomorrow, the weather will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000. There is also the possibility of \u0001\u0005\u0018\u0002\u0002\u0000\u0000, so caution is advised.\u007F1\u0000\u0007"
 48: 0x00D2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0x00D3 [0x01] GOTO 0x00E9

SUBROUTINE_00D6:
 50: 0x00D6 [0x02] IF !(Work_Zone[4] == 255*) GOTO 0x00E5
 51: 0x00DE [0x1D] PRINT_EVENT_MESSAGE(message_id=10132*)
    → "Tomorrow, the weather will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000 with a chance of \u0001\u0005\u0018\u0002\u0001\u0000\u0000.\u007F1\u0000\u0007"
 52: 0x00E1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 53: 0x00E2 [0x01] GOTO 0x00E9

SUBROUTINE_00E5:
 54: 0x00E5 [0x1D] PRINT_EVENT_MESSAGE(message_id=10129*)
    → "The forecast for tomorrow is for \u0001\u0005\u0018\u0002\u0000\u0000\u0000 with occasional \u0001\u0005\u0018\u0002\u0001\u0000\u0000. There is also a slight chance of \u0001\u0005\u0018\u0002\u0002\u0000\u0000, so caution is advised.\u007F1\u0000\u0007"
 55: 0x00E8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 56: 0x00E9 [0x0B] ExtData[1]->WorkLocal[0]++
 57: 0x00EC [0x72] LOAD_EVENT_WEATHER: Request weather file 7033, weather_id=ExtData[1]->WorkLocal[1], param1=0x0172, param2=ExtData[1]->WorkLocal[1]
 58: 0x00F6 [0x02] IF !(Work_Zone[3] == 255*) GOTO 0x0114
 59: 0x00FE [0x02] IF !(Work_Zone[4] == 255*) GOTO 0x010D
 60: 0x0106 [0x1D] PRINT_EVENT_MESSAGE(message_id=10139*)
    → "The weather the day after tomorrow will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 61: 0x0109 [0x23] WAIT_FOR_DIALOG_INTERACTION
 62: 0x010A [0x01] GOTO 0x0111

SUBROUTINE_010D:
 63: 0x010D [0x1D] PRINT_EVENT_MESSAGE(message_id=10136*)
    → "And, the day after tomorrow, the weather will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000. There is also the possibility of \u0001\u0005\u0018\u0002\u0002\u0000\u0000, so caution is advised.\u007F1\u0000\u0007"
 64: 0x0110 [0x23] WAIT_FOR_DIALOG_INTERACTION
 65: 0x0111 [0x01] GOTO 0x0127

SUBROUTINE_0114:
 66: 0x0114 [0x02] IF !(Work_Zone[4] == 255*) GOTO 0x0123
 67: 0x011C [0x1D] PRINT_EVENT_MESSAGE(message_id=10133*)
    → "And, the day after tomorrow, the weather will be \u0001\u0005\u0017\u0002\u0000\u0000\u0000 with a chance of \u0001\u0005\u0018\u0002\u0001\u0000\u0000.\u007F1\u0000\u0007"
 68: 0x011F [0x23] WAIT_FOR_DIALOG_INTERACTION
 69: 0x0120 [0x01] GOTO 0x0127

SUBROUTINE_0123:
 70: 0x0123 [0x1D] PRINT_EVENT_MESSAGE(message_id=10130*)
    → "And, the forecast for the day after tomorrow is for \u0001\u0005\u0018\u0002\u0000\u0000\u0000 with occasional \u0001\u0005\u0018\u0002\u0001\u0000\u0000. There is also a slight chance of \u0001\u0005\u0018\u0002\u0002\u0000\u0000, so caution is advised.\u007F1\u0000\u0007"
 71: 0x0126 [0x23] WAIT_FOR_DIALOG_INTERACTION
 72: 0x0127 [0x1D] PRINT_EVENT_MESSAGE(message_id=10140*)
    → "And that's the report, straight from Vana'diel's official weather linkshell.\u007F1\u0000\u0007"
 73: 0x012A [0x23] WAIT_FOR_DIALOG_INTERACTION
 74: 0x012B [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x001C [0x01] GOTO 0x005F
# Dead code (unreachable instructions):
     0x0064 [0x21] END_EVENT
# Dead code (unreachable instructions):
     0x0065 [0x00] END_REQSTACK()
```