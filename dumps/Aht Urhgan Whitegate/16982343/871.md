# Event 871

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 11/13     |
| Offset          | 0x4208    |
| Data Size       | 406 bytes |
| Calculated Size | 406 bytes |
| Instructions    | 60        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
4200:                          42 03 00 00 05 80 03 02          B.......
4210: 00 05 80 45 04 80 F8 FF  FF 7F F8 FF FF 7F 66 64  ...E..........fd
4220: 6F 31 05 80 55 04 80 F8  FF FF 7F F8 FF FF 7F 66  o1..U..........f
4230: 64 6F 31 46 01 38 80 81  4E 01 F0 FF FF 7F 45 18  do1F.8..N.....E.
4240: 80 F8 FF FF 7F F8 FF FF  7F 73 32 33 39 05 80 1C  .........s239...
4250: 10 80 45 04 80 F8 FF FF  7F F8 FF FF 7F 66 64 69  ..E..........fdi
4260: 31 05 80 1C 14 80 02 02  10 30 80 00 B1 42 03 00  1........0...B..
4270: 00 30 80 4E 00 56 21 03  01 BA 56 21 03 01 C3 81  .0.N.V!...V!....
4280: C4 81 05 80 C5 81 80 56  21 03 01 4E 00 57 21 03  .......V!..N.W!.
4290: 01 BA 57 21 03 01 C6 81  C7 81 05 80 C8 81 80 57  ..W!...........W
42A0: 21 03 01 27 05 56 21 03  01 02 27 05 57 21 03 01  !..'.V!...'.W!..
42B0: 02 03 25 10 B0 80 03 01  00 05 80 24 A1 81 05 80  ..%........$....
42C0: 05 80 25 02 00 10 05 80  00 E1 42 03 01 00 30 80  ..%.......B...0.
42D0: 48 A2 81 03 02 00 25 10  1C 8A 81 48 A3 81 01 E1  H.....%....H....
42E0: 42 45 04 80 F8 FF FF 7F  F8 FF FF 7F 66 64 6F 31  BE..........fdo1
42F0: 05 80 55 04 80 F8 FF FF  7F F8 FF FF 7F 66 64 6F  ..U..........fdo
4300: 31 52 18 80 F8 FF FF 7F  F8 FF FF 7F 73 32 33 39  1R..........s239
4310: 03 01 10 05 80 02 00 00  30 80 00 24 43 3C 01 10  ........0..$C<..
4320: 30 80 30 80 02 01 00 30  80 00 86 43 02 02 10 05  0.0....0...C....
4330: 80 00 3E 43 3C 01 10 39  80 30 80 01 86 43 02 02  ..>C<..9.0...C..
4340: 00 30 80 80 50 43 3C 01  10 B0 80 30 80 01 86 43  .0..PC<....0...C
4350: 02 02 00 B0 80 80 62 43  3C 01 10 E7 80 30 80 01  ......bC<....0..
4360: 86 43 02 02 00 E7 80 80  74 43 3C 01 10 EA 80 30  .C......tC<....0
4370: 80 01 86 43 02 02 00 EA  80 80 86 43 3C 01 10 39  ...C.......C<..9
4380: 80 30 80 01 86 43 46 00  1C 14 80 45 04 80 F8 FF  .0...CF....E....
4390: FF 7F F8 FF FF 7F 66 64  69 31 05 80 21 00        ......fdi1..!.  
```

## Opcodes

```
  0: 0x4208 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x4209 [0x03] ExtData[1]->WorkLocal[0] = 0*
  2: 0x420E [0x03] ExtData[1]->WorkLocal[2] = 0*
  3: 0x4213 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  4: 0x4224 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
  5: 0x4233 [0x46] CAMERA_CONTROL: Disable user control
  6: 0x4235 [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  7: 0x4238 [0x4E] SET_ENTITY_HIDE_FLAG: Hide LocalPlayer
  8: 0x423E [0x45] LOAD_SCHEDULED_TASK(work_offset1=191*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s239", work_offset2=0*)
  9: 0x424F [0x1C] WAIT(15* ticks)
 10: 0x4252 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 11: 0x4263 [0x1C] WAIT(60* ticks)
 12: 0x4266 [0x02] IF !(Work_Zone[2] == 1*) GOTO 0x42B1
 13: 0x426E [0x03] ExtData[1]->WorkLocal[0] = 1*
 14: 0x4273 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 16982358/0x01032156)
 15: 0x4279 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 16982358/0x01032156), pos_x=-96.273*, pos_z=58.153*, pos_y=0.000*, direction=154.8°*)
 16: 0x4286 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16982358/0x01032156))
 17: 0x428B [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 16982359/0x01032157)
 18: 0x4291 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 16982359/0x01032157), pos_x=-102.596*, pos_z=63.846*, pos_y=0.000*, direction=143.2°*)
 19: 0x429E [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16982359/0x01032157))
 20: 0x42A3 [0x27] REQ_SET(priority=0x05, entity_id=Unnamed NPC (ID: 16982358/0x01032156), tag_num=0x02)
 21: 0x42AA [0x27] REQ_SET(priority=0x05, entity_id=Unnamed NPC (ID: 16982359/0x01032157), tag_num=0x02)
 22: 0x42B1 [0x03] Work_Zone[37] = 2*
 23: 0x42B6 [0x03] ExtData[1]->WorkLocal[1] = 0*
 24: 0x42BB [0x24] CREATE_DIALOG(message_id=7278*, default_option=0*, option_flags=0*)
    → "Begin recording?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 25: 0x42C2 [0x25] WAIT_DIALOG_SELECT()
 26: 0x42C3 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x42E1
 27: 0x42CB [0x03] ExtData[1]->WorkLocal[1] = 1*
 28: 0x42D0 [0x48] [System] [7279*]:
    → "\u001F\u000FNow recording...\u0000\u0007"
 29: 0x42D3 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[37]
 30: 0x42D8 [0x1C] WAIT(300* ticks)
 31: 0x42DB [0x48] [System] [7280*]:
    → "\u001F\u000FThe photopticator goes silent.\u0000\u0007"
 32: 0x42DE [0x01] GOTO 0x42E1

SUBROUTINE_42E1:
 33: 0x42E1 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 34: 0x42F2 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
 35: 0x4301 [0x52] END_LOAD_SCHEDULER: End scheduler "s239" with entities [EventEntity, EventEntity], work=191*
 36: 0x4310 [0x03] Work_Zone[1] = 0*
 37: 0x4315 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x4324
 38: 0x431D [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x1001, bit_index_work_offset=0x8030, condition_work_offset=0x8030)
 39: 0x4324 [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x4386
 40: 0x432C [0x02] IF !(Work_Zone[2] == 0*) GOTO 0x433E
 41: 0x4334 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x1001, bit_index_work_offset=0x8039, condition_work_offset=0x8030)
 42: 0x433B [0x01] GOTO 0x4386

SUBROUTINE_433E:
 43: 0x433E [0x02] IF !(ExtData[1]->WorkLocal[2] == 1*) GOTO 0x4350
 44: 0x4346 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x1001, bit_index_work_offset=0x80B0, condition_work_offset=0x8030)
 45: 0x434D [0x01] GOTO 0x4386

SUBROUTINE_4350:
 46: 0x4350 [0x02] IF !(ExtData[1]->WorkLocal[2] == 2*) GOTO 0x4362
 47: 0x4358 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x1001, bit_index_work_offset=0x80E7, condition_work_offset=0x8030)
 48: 0x435F [0x01] GOTO 0x4386

SUBROUTINE_4362:
 49: 0x4362 [0x02] IF !(ExtData[1]->WorkLocal[2] == 3*) GOTO 0x4374
 50: 0x436A [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x1001, bit_index_work_offset=0x80EA, condition_work_offset=0x8030)
 51: 0x4371 [0x01] GOTO 0x4386

SUBROUTINE_4374:
 52: 0x4374 [0x02] IF !(ExtData[1]->WorkLocal[2] == 4*) GOTO 0x4386
 53: 0x437C [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x1001, bit_index_work_offset=0x8039, condition_work_offset=0x8030)
 54: 0x4383 [0x01] GOTO 0x4386

SUBROUTINE_4386:
 55: 0x4386 [0x46] CAMERA_CONTROL: Restore default settings
 56: 0x4388 [0x1C] WAIT(60* ticks)
 57: 0x438B [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 58: 0x439C [0x21] END_EVENT
 59: 0x439D [0x00] END_REQSTACK()
```
