# Event 504

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/14      |
| Offset          | 0x0001    |
| Data Size       | 607 bytes |
| Calculated Size | 607 bytes |
| Instructions    | 98        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 1A 6A 34 46 01 38  00 80 34 01 80 77 02 80   B.j4F.8..4..w..
0010: 02 80 1C 03 80 AB 09 79  00 F0 FF FF 7F F0 FF FF  .......y........
0020: 7F 27 10 A8 20 03 01 02  27 10 AA 20 03 01 04 27  .'.. ...'.. ...'
0030: 10 AB 20 03 01 04 27 10  AC 20 03 01 04 27 10 AD  .. ...'.. ...'..
0040: 20 03 01 04 27 10 AE 20  03 01 04 27 10 AF 20 03   ...'.. ...'.. .
0050: 01 04 27 10 C0 20 03 01  04 27 10 C1 20 03 01 04  ..'.. ...'.. ...
0060: 27 10 C2 20 03 01 04 27  10 C3 20 03 01 04 92 01  '.. ...'.. .....
0070: F0 FF FF 7F 92 01 A8 20  03 01 92 01 AA 20 03 01  ....... ..... ..
0080: 92 01 AB 20 03 01 92 01  AC 20 03 01 92 01 AD 20  ... ..... ..... 
0090: 03 01 92 01 AE 20 03 01  92 01 AF 20 03 01 92 01  ..... ..... ....
00A0: C0 20 03 01 92 01 C1 20  03 01 92 01 C2 20 03 01  . ..... ..... ..
00B0: 92 01 C3 20 03 01 94 01  F0 FF FF 7F 94 01 A8 20  ... ........... 
00C0: 03 01 94 01 AA 20 03 01  94 01 AB 20 03 01 94 01  ..... ..... ....
00D0: AC 20 03 01 94 01 AD 20  03 01 94 01 AE 20 03 01  . ..... ..... ..
00E0: 94 01 AF 20 03 01 94 01  C0 20 03 01 94 01 C1 20  ... ..... ..... 
00F0: 03 01 94 01 C2 20 03 01  94 01 C3 20 03 01 29 10  ..... ..... ..).
0100: F0 FF FF 7F 1E 29 10 AA  20 03 01 09 29 10 AB 20  .....).. ...).. 
0110: 03 01 09 29 10 AC 20 03  01 09 29 10 AD 20 03 01  ...).. ...).. ..
0120: 09 29 10 AE 20 03 01 09  29 10 AF 20 03 01 09 29  .).. ...).. ...)
0130: 10 C0 20 03 01 09 29 10  C1 20 03 01 09 29 10 C2  .. ...).. ...)..
0140: 20 03 01 09 29 10 C3 20  03 01 09 80 AA 20 03 01   ...).. ..... ..
0150: 80 AB 20 03 01 80 AC 20  03 01 80 AD 20 03 01 80  .. .... .... ...
0160: AE 20 03 01 80 AF 20 03  01 80 C0 20 03 01 80 C1  . .... .... ....
0170: 20 03 01 80 C2 20 03 01  80 C3 20 03 01 29 10 F0   .... .... ..)..
0180: FF FF 7F 18 29 10 C0 20  03 01 0A 29 10 C1 20 03  ....).. ...).. .
0190: 01 0A 29 10 C2 20 03 01  0A 29 10 C3 20 03 01 0A  ..).. ...).. ...
01A0: 7B F0 FF FF 7F 1C 04 80  45 05 80 F0 FF FF 7F F0  {.......E.......
01B0: FF FF 7F 64 61 30 30 02  80 1A 49 34 1C 06 80 2B  ...da00...I4...+
01C0: A8 20 03 01 07 80 23 52  05 80 F0 FF FF 7F F0 FF  . ....#R........
01D0: FF 7F 64 61 30 30 45 05  80 F0 FF FF 7F F0 FF FF  ..da00E.........
01E0: 7F 64 61 30 31 02 80 1C  06 80 2B A8 20 03 01 08  .da01.....+. ...
01F0: 80 23 6A 02 80 06 80 04  80 1A 6A 34 1C 03 80 52  .#j.......j4...R
0200: 05 80 F0 FF FF 7F F0 FF  FF 7F 64 61 30 31 35 09  ..........da015.
0210: 80 78 1C 0A 80 45 0B 80  F0 FF FF 7F F0 FF FF 7F  .x...E..........
0220: 6E 6F 73 65 02 80 55 0B  80 F0 FF FF 7F F0 FF FF  nose..U.........
0230: 7F 6E 6F 73 65 6A 0C 80  06 80 04 80 AB 0A 2D F0  .nosej........-.
0240: FF FF 7F F0 FF FF 7F 31  70 62 31 46 00 45 0D 80  .......1pb1F.E..
0250: F0 FF FF 7F F0 FF FF 7F  66 64 69 32 02 80 21 00  ........fdi2..!.
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x1A] CALL_SUBROUTINE(address=0x346A)
  2: 0x0005 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x0007 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  4: 0x000A [0x34] LOAD_UNLOAD_ZONE(zone_id=559*)
  5: 0x000D [0x77] SET_EVENT_TIME_WEATHER(hour=0*, weather=0*)
  6: 0x0012 [0x1C] WAIT(30* ticks)
  7: 0x0015 [0xAB] EventEntity->UnknownFlag = 1 // Enable unknown flag
  8: 0x0017 [0x79] LocalPlayer looks at LocalPlayer (Basic look)
  9: 0x0021 [0x27] REQ_SET(priority=0x10, entity_id=Nashmeira (ID: 16982184/0x010320A8), tag_num=0x02)
 10: 0x0028 [0x27] REQ_SET(priority=0x10, entity_id=??? (ID: 16982186/0x010320AA), tag_num=0x04)
 11: 0x002F [0x27] REQ_SET(priority=0x10, entity_id=??? (ID: 16982187/0x010320AB), tag_num=0x04)
 12: 0x0036 [0x27] REQ_SET(priority=0x10, entity_id=??? (ID: 16982188/0x010320AC), tag_num=0x04)
 13: 0x003D [0x27] REQ_SET(priority=0x10, entity_id=??? (ID: 16982189/0x010320AD), tag_num=0x04)
 14: 0x0044 [0x27] REQ_SET(priority=0x10, entity_id=??? (ID: 16982190/0x010320AE), tag_num=0x04)
 15: 0x004B [0x27] REQ_SET(priority=0x10, entity_id=??? (ID: 16982191/0x010320AF), tag_num=0x04)
 16: 0x0052 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16982208/0x010320C0), tag_num=0x04)
 17: 0x0059 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16982209/0x010320C1), tag_num=0x04)
 18: 0x0060 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16982210/0x010320C2), tag_num=0x04)
 19: 0x0067 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16982211/0x010320C3), tag_num=0x04)
 20: 0x006E [0x92] LocalPlayer->Render.Flags3 ^= 0x01
 21: 0x0074 [0x92] Nashmeira (ID: 16982184/0x010320A8)->Render.Flags3 ^= 0x01
 22: 0x007A [0x92] ??? (ID: 16982186/0x010320AA)->Render.Flags3 ^= 0x01
 23: 0x0080 [0x92] ??? (ID: 16982187/0x010320AB)->Render.Flags3 ^= 0x01
 24: 0x0086 [0x92] ??? (ID: 16982188/0x010320AC)->Render.Flags3 ^= 0x01
 25: 0x008C [0x92] ??? (ID: 16982189/0x010320AD)->Render.Flags3 ^= 0x01
 26: 0x0092 [0x92] ??? (ID: 16982190/0x010320AE)->Render.Flags3 ^= 0x01
 27: 0x0098 [0x92] ??? (ID: 16982191/0x010320AF)->Render.Flags3 ^= 0x01
 28: 0x009E [0x92] Unnamed NPC (ID: 16982208/0x010320C0)->Render.Flags3 ^= 0x01
 29: 0x00A4 [0x92] Unnamed NPC (ID: 16982209/0x010320C1)->Render.Flags3 ^= 0x01
 30: 0x00AA [0x92] Unnamed NPC (ID: 16982210/0x010320C2)->Render.Flags3 ^= 0x01
 31: 0x00B0 [0x92] Unnamed NPC (ID: 16982211/0x010320C3)->Render.Flags3 ^= 0x01
 32: 0x00B6 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 33: 0x00BC [0x94] Nashmeira (ID: 16982184/0x010320A8)->Render.Flags3 ^= 0x01
 34: 0x00C2 [0x94] ??? (ID: 16982186/0x010320AA)->Render.Flags3 ^= 0x01
 35: 0x00C8 [0x94] ??? (ID: 16982187/0x010320AB)->Render.Flags3 ^= 0x01
 36: 0x00CE [0x94] ??? (ID: 16982188/0x010320AC)->Render.Flags3 ^= 0x01
 37: 0x00D4 [0x94] ??? (ID: 16982189/0x010320AD)->Render.Flags3 ^= 0x01
 38: 0x00DA [0x94] ??? (ID: 16982190/0x010320AE)->Render.Flags3 ^= 0x01
 39: 0x00E0 [0x94] ??? (ID: 16982191/0x010320AF)->Render.Flags3 ^= 0x01
 40: 0x00E6 [0x94] Unnamed NPC (ID: 16982208/0x010320C0)->Render.Flags3 ^= 0x01
 41: 0x00EC [0x94] Unnamed NPC (ID: 16982209/0x010320C1)->Render.Flags3 ^= 0x01
 42: 0x00F2 [0x94] Unnamed NPC (ID: 16982210/0x010320C2)->Render.Flags3 ^= 0x01
 43: 0x00F8 [0x94] Unnamed NPC (ID: 16982211/0x010320C3)->Render.Flags3 ^= 0x01
 44: 0x00FE [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x1E)
 45: 0x0105 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=??? (ID: 16982186/0x010320AA), tag_num=0x09)
 46: 0x010C [0x29] REQ_SET_WAIT(priority=0x10, entity_id=??? (ID: 16982187/0x010320AB), tag_num=0x09)
 47: 0x0113 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=??? (ID: 16982188/0x010320AC), tag_num=0x09)
 48: 0x011A [0x29] REQ_SET_WAIT(priority=0x10, entity_id=??? (ID: 16982189/0x010320AD), tag_num=0x09)
 49: 0x0121 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=??? (ID: 16982190/0x010320AE), tag_num=0x09)
 50: 0x0128 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=??? (ID: 16982191/0x010320AF), tag_num=0x09)
 51: 0x012F [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 16982208/0x010320C0), tag_num=0x09)
 52: 0x0136 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 16982209/0x010320C1), tag_num=0x09)
 53: 0x013D [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 16982210/0x010320C2), tag_num=0x09)
 54: 0x0144 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 16982211/0x010320C3), tag_num=0x09)
 55: 0x014B [0x80] LOAD_WAIT(entity=??? (ID: 16982186/0x010320AA))
 56: 0x0150 [0x80] LOAD_WAIT(entity=??? (ID: 16982187/0x010320AB))
 57: 0x0155 [0x80] LOAD_WAIT(entity=??? (ID: 16982188/0x010320AC))
 58: 0x015A [0x80] LOAD_WAIT(entity=??? (ID: 16982189/0x010320AD))
 59: 0x015F [0x80] LOAD_WAIT(entity=??? (ID: 16982190/0x010320AE))
 60: 0x0164 [0x80] LOAD_WAIT(entity=??? (ID: 16982191/0x010320AF))
 61: 0x0169 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16982208/0x010320C0))
 62: 0x016E [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16982209/0x010320C1))
 63: 0x0173 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16982210/0x010320C2))
 64: 0x0178 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16982211/0x010320C3))
 65: 0x017D [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x18)
 66: 0x0184 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 16982208/0x010320C0), tag_num=0x0A)
 67: 0x018B [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 16982209/0x010320C1), tag_num=0x0A)
 68: 0x0192 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 16982210/0x010320C2), tag_num=0x0A)
 69: 0x0199 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 16982211/0x010320C3), tag_num=0x0A)
 70: 0x01A0 [0x7B] LocalPlayer stops talking
 71: 0x01A5 [0x1C] WAIT(15* ticks)
 72: 0x01A8 [0x45] LOAD_SCHEDULED_TASK(work_offset1=258*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="da00", work_offset2=0*)
 73: 0x01B9 [0x1A] CALL_SUBROUTINE(address=0x3449)
 74: 0x01BC [0x1C] WAIT(60* ticks)
 75: 0x01BF [0x2B] Nashmeira (ID: 16982184/0x010320A8) [4873*]:
    → "We are the Empress...\u0007The Empress and Aht Urhgan are as one...\u007F1\u0000\u0007"
 76: 0x01C6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 77: 0x01C7 [0x52] END_LOAD_SCHEDULER: End scheduler "da00" with entities [LocalPlayer, LocalPlayer], work=258*
 78: 0x01D6 [0x45] LOAD_SCHEDULED_TASK(work_offset1=258*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="da01", work_offset2=0*)
 79: 0x01E7 [0x1C] WAIT(60* ticks)
 80: 0x01EA [0x2B] Nashmeira (ID: 16982184/0x010320A8) [4874*]:
    → "Our wishes are the wishes of the Empire...\u007F1\u0000\u0007"
 81: 0x01F1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 82: 0x01F2 [0x6A] CHANGE_SOUND_VOLUME: Set Effects/System/Zone/Master volume to 0*, fade_time=60*
 83: 0x01F9 [0x1A] CALL_SUBROUTINE(address=0x346A)
 84: 0x01FC [0x1C] WAIT(30* ticks)
 85: 0x01FF [0x52] END_LOAD_SCHEDULER: End scheduler "da01" with entities [LocalPlayer, LocalPlayer], work=258*
 86: 0x020E [0x35] LOAD_ZONE_NO_CLOSE(zone_id=50*)
 87: 0x0211 [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 88: 0x0212 [0x1C] WAIT(1* ticks)
 89: 0x0215 [0x45] LOAD_SCHEDULED_TASK(work_offset1=272*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="nose", work_offset2=0*)
 90: 0x0226 [0x55] WAIT_LOAD_SCHEDULER(work_offset=272*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="nose")
 91: 0x0235 [0x6A] CHANGE_SOUND_VOLUME: Set Effects/System/Zone/Master volume to 999*, fade_time=60*
 92: 0x023C [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 93: 0x023E [0x2D] CREATE_ZONE_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, zone_action="1pb1")
 94: 0x024B [0x46] CAMERA_CONTROL: Restore default settings
 95: 0x024D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 96: 0x025E [0x21] END_EVENT
 97: 0x025F [0x00] END_REQSTACK()
```
