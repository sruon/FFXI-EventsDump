# Event 901

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 32/34     |
| Offset          | 0xE23D    |
| Data Size       | 454 bytes |
| Calculated Size | 454 bytes |
| Instructions    | 45        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
E230:                                         42 05 03               B..
E240: 10 45 00 80 F8 FF FF 7F  F8 FF FF 7F 66 64 6F 31  .E..........fdo1
E250: 01 80 55 00 80 F8 FF FF  7F F8 FF FF 7F 66 64 6F  ..U..........fdo
E260: 31 46 01 75 00 22 81 75  01 38 02 80 4E 01 91 20  1F.u.".u.8..N.. 
E270: 03 01 2F 00 95 20 03 01  4E 00 95 20 03 01 29 05  ../.. ..N.. ..).
E280: 95 20 03 01 01 92 01 95  20 03 01 92 01 92 20 03  . ...... ..... .
E290: 01 92 01 93 20 03 01 29  05 F0 FF FF 7F A1 4A 95  .... ..)......J.
E2A0: 20 03 01 F0 FF FF 7F 1C  0F 80 02 04 10 01 80 00   ...............
E2B0: FE E2 02 87 7F 1A 80 80  CE E2 45 0E 80 F8 FF FF  ..........E.....
E2C0: 7F F8 FF FF 7F 73 30 35  35 01 80 01 FB E2 02 87  .....s055.......
E2D0: 7F 1B 80 80 EA E2 45 0E  80 F8 FF FF 7F F8 FF FF  ......E.........
E2E0: 7F 73 30 35 35 01 80 01  FB E2 45 0E 80 F8 FF FF  .s055.....E.....
E2F0: 7F F8 FF FF 7F 73 30 35  34 01 80 01 0F E3 45 0E  .....s054.....E.
E300: 80 F8 FF FF 7F F8 FF FF  7F 73 30 35 37 01 80 1C  .........s057...
E310: 04 80 29 05 F0 FF FF 7F  A0 4A F0 FF FF 7F 95 20  ..)......J..... 
E320: 03 01 45 00 80 F8 FF FF  7F F8 FF FF 7F 66 64 69  ..E..........fdi
E330: 31 01 80 02 04 10 01 80  00 68 E3 2B 95 20 03 01  1........h.+. ..
E340: 66 83 23 6E 95 20 03 01  1C 80 99 95 20 03 01 2B  f.#n. ...... ..+
E350: 95 20 03 01 67 83 23 45  0E 80 F8 FF FF 7F F8 FF  . ..g.#E........
E360: FF 7F 73 30 35 37 01 80  02 02 10 01 80 00 76 E3  ..s057........v.
E370: 01 B7 DF 01 79 E3 01 C4  E0 45 00 80 F8 FF FF 7F  ....y....E......
E380: F8 FF FF 7F 66 64 6F 31  01 80 55 00 80 F8 FF FF  ....fdo1..U.....
E390: 7F F8 FF FF 7F 66 64 6F  31 52 0E 80 F8 FF FF 7F  .....fdo1R......
E3A0: F8 FF FF 7F 73 30 35 36  02 87 7F 1A 80 80 C2 E3  ....s056........
E3B0: 52 0E 80 F8 FF FF 7F F8  FF FF 7F 73 30 35 35 01  R..........s055.
E3C0: EB E3 02 87 7F 1B 80 80  DC E3 52 0E 80 F8 FF FF  ..........R.....
E3D0: 7F F8 FF FF 7F 73 30 35  35 01 EB E3 52 0E 80 F8  .....s055...R...
E3E0: FF FF 7F F8 FF FF 7F 73  30 35 34 46 00 1C 04 80  .......s054F....
E3F0: 45 00 80 F8 FF FF 7F F8  FF FF 7F 66 64 69 31 01  E..........fdi1.
E400: 80 21 00                                          .!.             
```

## Opcodes

```
  0: 0xE23D [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0xE23E [0x05] Work_Zone[3] = 1
  2: 0xE241 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  3: 0xE252 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
  4: 0xE261 [0x46] CAMERA_CONTROL: Disable user control
  5: 0xE263 [0x75] LOAD_ROOM(Load indoor room, room=564*)
  6: 0xE267 [0x75] LOAD_ROOM(No action)
  7: 0xE269 [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  8: 0xE26C [0x4E] SET_ENTITY_HIDE_FLAG: Hide Ghatsad (ID: 16982161/0x01032091)
  9: 0xE272 [0x2F] Ghatsad (ID: 16982165/0x01032095)->Render.Flags0 &= ~0x80000 // Bit 19
 10: 0xE278 [0x4E] SET_ENTITY_HIDE_FLAG: Show Ghatsad (ID: 16982165/0x01032095)
 11: 0xE27E [0x29] REQ_SET_WAIT(priority=0x05, entity_id=Ghatsad (ID: 16982165/0x01032095), tag_num=0x01)
 12: 0xE285 [0x92] Ghatsad (ID: 16982165/0x01032095)->Render.Flags3 ^= 0x01
 13: 0xE28B [0x92] Abda-Lurabda (ID: 16982162/0x01032092)->Render.Flags3 ^= 0x01
 14: 0xE291 [0x92] Tateeya (ID: 16982163/0x01032093)->Render.Flags3 ^= 0x01
 15: 0xE297 [0x29] REQ_SET_WAIT(priority=0x05, entity_id=LocalPlayer, tag_num=0xA1)
 16: 0xE29E [0x4A] Ghatsad (ID: 16982165/0x01032095) looks at LocalPlayer
 17: 0xE2A7 [0x1C] WAIT(120* ticks)
 18: 0xE2AA [0x02] IF !(Work_Zone[4] == 0*) GOTO 0xE2FE
 19: 0xE2B2 [0x02] IF !(LocalPlayer->Race == 5*) GOTO 0xE2CE
 20: 0xE2BA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s055" with entities [EventEntity, EventEntity], work=[255*, 0*]
 21: 0xE2CB [0x01] GOTO 0xE2FB

SUBROUTINE_E2CE:
 22: 0xE2CE [0x02] IF !(LocalPlayer->Race == 6*) GOTO 0xE2EA
 23: 0xE2D6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s055" with entities [EventEntity, EventEntity], work=[255*, 0*]
 24: 0xE2E7 [0x01] GOTO 0xE2FB

SUBROUTINE_E2EA:
 25: 0xE2EA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s054" with entities [EventEntity, EventEntity], work=[255*, 0*]
 26: 0xE2FB [0x01] GOTO 0xE30F

SUBROUTINE_E2FE:
 27: 0xE2FE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s057" with entities [EventEntity, EventEntity], work=[255*, 0*]
 28: 0xE30F [0x1C] WAIT(60* ticks)
 29: 0xE312 [0x29] REQ_SET_WAIT(priority=0x05, entity_id=LocalPlayer, tag_num=0xA0)
 30: 0xE319 [0x4A] LocalPlayer looks at Ghatsad (ID: 16982165/0x01032095)
 31: 0xE322 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 32: 0xE333 [0x02] IF !(Work_Zone[4] == 0*) GOTO 0xE368
 33: 0xE33B [0x2B] Ghatsad (ID: 16982165/0x01032095) [9656*]:
    → "Ah...You seem much more confident.\u0007You are nearly one with \u001C\u0000.\u007F1\u0000\u0007"
 34: 0xE342 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0xE343 [0x6E] Ghatsad (ID: 16982165/0x01032095) uses emote 7*
 36: 0xE34A [0x99] Wait for Ghatsad (ID: 16982165/0x01032095) animation to complete
 37: 0xE34F [0x2B] Ghatsad (ID: 16982165/0x01032095) [9657*]:
    → "Excellent, \u0008.\u0007If you wish, I will construct you a new head for your automaton's Stormwaker Y-700 to optimize its efficiency in battle.\u007F1\u0000\u0007"
 38: 0xE356 [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0xE357 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s057" with entities [EventEntity, EventEntity], work=[255*, 0*]
 40: 0xE368 [0x02] IF !(Work_Zone[2] == 0*) GOTO 0xE376
 41: 0xE370 [0x01] GOTO 0xDFB7

SUBROUTINE_E376:
 42: 0xE376 [0x01] GOTO 0xE0C4
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0xE373 [0x01] GOTO 0xE379
# Data Section: 0xE379 (138 bytes)
     0xE379: 45 00 80 F8 FF FF 7F F8 FF FF 7F 66 64 6F 31 01
     0xE389: 80 55 00 80 F8 FF FF 7F F8 FF FF 7F 66 64 6F 31
     0xE399: 52 0E 80 F8 FF FF 7F F8 FF FF 7F 73 30 35 36 02
     0xE3A9: 87 7F 1A 80 80 C2 E3 52 0E 80 F8 FF FF 7F F8 FF
     0xE3B9: FF 7F 73 30 35 35 01 EB E3 02 87 7F 1B 80 80 DC
     0xE3C9: E3 52 0E 80 F8 FF FF 7F F8 FF FF 7F 73 30 35 35
     0xE3D9: 01 EB E3 52 0E 80 F8 FF FF 7F F8 FF FF 7F 73 30
     0xE3E9: 35 34 46 00 1C 04 80 45 00 80 F8 FF FF 7F F8 FF
     0xE3F9: FF 7F 66 64 69 31 01 80 21 00
```