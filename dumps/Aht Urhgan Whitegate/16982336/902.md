# Event 902

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 33/34     |
| Offset          | 0xE403    |
| Data Size       | 272 bytes |
| Calculated Size | 272 bytes |
| Instructions    | 36        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
E400:          42 45 00 80 F8  FF FF 7F F8 FF FF 7F 66     BE..........f
E410: 64 6F 31 01 80 55 00 80  F8 FF FF 7F F8 FF FF 7F  do1..U..........
E420: 66 64 6F 31 46 01 75 00  22 81 75 01 38 02 80 4E  fdo1F.u.".u.8..N
E430: 01 91 20 03 01 2F 00 95  20 03 01 4E 00 95 20 03  .. ../.. ..N.. .
E440: 01 29 05 95 20 03 01 01  92 01 95 20 03 01 29 05  .).. ...... ..).
E450: F0 FF FF 7F A1 4A F0 FF  FF 7F 95 20 03 01 4A 95  .....J..... ..J.
E460: 20 03 01 F0 FF FF 7F 1C  0F 80 45 0E 80 F8 FF FF   .........E.....
E470: 7F F8 FF FF 7F 73 30 35  37 01 80 1C 04 80 29 05  .....s057.....).
E480: F0 FF FF 7F A0 45 00 80  F8 FF FF 7F F8 FF FF 7F  .....E..........
E490: 66 64 69 31 01 80 2B 95  20 03 01 68 83 23 66 27  fdi1..+. ..h.#f'
E4A0: 81 95 20 03 01 95 20 03  01 74 6C 6B 30 2B 95 20  .. ... ..tlk0+. 
E4B0: 03 01 69 83 23 66 27 81  95 20 03 01 95 20 03 01  ..i.#f'.. ... ..
E4C0: 74 6C 6B 31 2B 95 20 03  01 6A 83 23 45 00 80 F8  tlk1+. ..j.#E...
E4D0: FF FF 7F F8 FF FF 7F 66  64 6F 31 01 80 55 00 80  .......fdo1..U..
E4E0: F8 FF FF 7F F8 FF FF 7F  66 64 6F 31 52 0E 80 F8  ........fdo1R...
E4F0: FF FF 7F F8 FF FF 7F 73  30 35 37 46 00 1C 04 80  .......s057F....
E500: 45 00 80 F8 FF FF 7F F8  FF FF 7F 66 64 69 31 01  E..........fdi1.
E510: 80 21 00                                          .!.             
```

## Opcodes

```
  0: 0xE403 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0xE404 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  2: 0xE415 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
  3: 0xE424 [0x46] CAMERA_CONTROL: Disable user control
  4: 0xE426 [0x75] LOAD_ROOM(Load indoor room, room=564*)
  5: 0xE42A [0x75] LOAD_ROOM(No action)
  6: 0xE42C [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  7: 0xE42F [0x4E] SET_ENTITY_HIDE_FLAG: Hide Ghatsad (ID: 16982161/0x01032091)
  8: 0xE435 [0x2F] Ghatsad (ID: 16982165/0x01032095)->Render.Flags0 &= ~0x80000 // Bit 19
  9: 0xE43B [0x4E] SET_ENTITY_HIDE_FLAG: Show Ghatsad (ID: 16982165/0x01032095)
 10: 0xE441 [0x29] REQ_SET_WAIT(priority=0x05, entity_id=Ghatsad (ID: 16982165/0x01032095), tag_num=0x01)
 11: 0xE448 [0x92] Ghatsad (ID: 16982165/0x01032095)->Render.Flags3 ^= 0x01
 12: 0xE44E [0x29] REQ_SET_WAIT(priority=0x05, entity_id=LocalPlayer, tag_num=0xA1)
 13: 0xE455 [0x4A] LocalPlayer looks at Ghatsad (ID: 16982165/0x01032095)
 14: 0xE45E [0x4A] Ghatsad (ID: 16982165/0x01032095) looks at LocalPlayer
 15: 0xE467 [0x1C] WAIT(120* ticks)
 16: 0xE46A [0x45] LOAD_SCHEDULED_TASK(work_offset1=255*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s057", work_offset2=0*)
 17: 0xE47B [0x1C] WAIT(60* ticks)
 18: 0xE47E [0x29] REQ_SET_WAIT(priority=0x05, entity_id=LocalPlayer, tag_num=0xA0)
 19: 0xE485 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 20: 0xE496 [0x2B] Ghatsad (ID: 16982165/0x01032095) [9642*]:
    → "The turban, the scroll, and the coin. Yes, everything seems to be in order.\u007F1\u0000\u0007"
 21: 0xE49D [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0xE49E [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=69*, entity1=Ghatsad (ID: 16982165/0x01032095), entity2=Ghatsad (ID: 16982165/0x01032095), action="tlk0")
 23: 0xE4AD [0x2B] Ghatsad (ID: 16982165/0x01032095) [9643*]:
    → "I shall begin work on your automaton's new head right away. As I mentioned before, programming artificial intelligence can prove remarkably time-consuming. I ask that you stop by every now and then to check on my progress...\u007F1\u0000\u0007"
 24: 0xE4B4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0xE4B5 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=69*, entity1=Ghatsad (ID: 16982165/0x01032095), entity2=Ghatsad (ID: 16982165/0x01032095), action="tlk1")
 26: 0xE4C4 [0x2B] Ghatsad (ID: 16982165/0x01032095) [9644*]:
    → "...and maybe bring a cup of the Empire's finest roast when you do. Ahahaha!\u007F1\u0000\u0007"
 27: 0xE4CB [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0xE4CC [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 29: 0xE4DD [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
 30: 0xE4EC [0x52] END_LOAD_SCHEDULER: End scheduler "s057" with entities [EventEntity, EventEntity], work=255*
 31: 0xE4FB [0x46] CAMERA_CONTROL: Restore default settings
 32: 0xE4FD [0x1C] WAIT(60* ticks)
 33: 0xE500 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 34: 0xE511 [0x21] END_EVENT
 35: 0xE512 [0x00] END_REQSTACK()
```
