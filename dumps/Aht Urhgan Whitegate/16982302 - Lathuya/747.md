# Event 747

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 25/36     |
| Offset          | 0x08CF    |
| Data Size       | 356 bytes |
| Calculated Size | 356 bytes |
| Instructions    | 63        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
08C0:                                               1E                 .
08D0: F0 FF FF 7F 6F 70 03 01  10 0C 80 43 00 43 01 02  ....op.....C.C..
08E0: 09 10 0D 80 80 3C 09 03  02 10 0E 80 66 08 80 1E  .....<......f...
08F0: 21 03 01 1E 21 03 01 74  68 6B 31 2B 1E 21 03 01  !...!..thk1+.!..
0900: 0F 80 23 66 08 80 1E 21  03 01 1E 21 03 01 74 68  ..#f...!...!..th
0910: 6B 32 53 1E 21 03 01 1E  21 03 01 74 68 6B 32 03  k2S.!...!..thk2.
0920: 01 10 10 80 43 00 43 01  2B 1E 21 03 01 11 80 23  ....C.C.+.!....#
0930: 03 01 10 12 80 43 00 43  01 01 F6 09 02 09 10 10  .....C.C........
0940: 80 80 99 09 03 02 10 13  80 66 08 80 1E 21 03 01  .........f...!..
0950: 1E 21 03 01 74 68 6B 31  2B 1E 21 03 01 0F 80 23  .!..thk1+.!....#
0960: 66 08 80 1E 21 03 01 1E  21 03 01 74 68 6B 32 53  f...!...!..thk2S
0970: 1E 21 03 01 1E 21 03 01  74 68 6B 32 03 01 10 14  .!...!..thk2....
0980: 80 43 00 43 01 2B 1E 21  03 01 11 80 23 03 01 10  .C.C.+.!....#...
0990: 15 80 43 00 43 01 01 F6  09 02 09 10 12 80 80 F6  ..C.C...........
09A0: 09 03 02 10 16 80 66 08  80 1E 21 03 01 1E 21 03  ......f...!...!.
09B0: 01 74 68 6B 31 2B 1E 21  03 01 0F 80 23 66 08 80  .thk1+.!....#f..
09C0: 1E 21 03 01 1E 21 03 01  74 68 6B 32 53 1E 21 03  .!...!..thk2S.!.
09D0: 01 1E 21 03 01 74 68 6B  32 03 01 10 17 80 43 00  ..!..thk2.....C.
09E0: 43 01 2B 1E 21 03 01 11  80 23 03 01 10 18 80 43  C.+.!....#.....C
09F0: 00 43 01 01 F6 09 2B 1E  21 03 01 19 80 23 66 08  .C....+.!....#f.
0A00: 80 1E 21 03 01 1E 21 03  01 74 6C 6B 30 2B 1E 21  ..!...!..tlk0+.!
0A10: 03 01 1A 80 23 66 08 80  1E 21 03 01 1E 21 03 01  ....#f...!...!..
0A20: 74 6C 6B 31 53 1E 21 03  01 1E 21 03 01 74 6C 6B  tlk1S.!...!..tlk
0A30: 31 21 00                                          1!.             
```

## Opcodes

```
  0: 0x08CF [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x08D4 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x08D5 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x08D6 [0x03] Work_Zone[1] = 12*
  4: 0x08DB [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
  5: 0x08DD [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
  6: 0x08DF [0x02] IF !(Work_Zone[9] == 1*) GOTO 0x093C
  7: 0x08E7 [0x03] Work_Zone[2] = 14928*
  8: 0x08EC [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
  9: 0x08FB [0x2B] Lathuya (ID: 16982302/0x0103211E) [8978*]:
    → "The materials for making the \u0001\u0005#\u0002\u0000\u0000\u0000?\u0007Ah, just a moment...\u007F1\u0000\u0007"
 10: 0x0902 [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x0903 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 12: 0x0912 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk2" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)]
 13: 0x091F [0x03] Work_Zone[1] = 2*
 14: 0x0924 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 15: 0x0926 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 16: 0x0928 [0x2B] Lathuya (ID: 16982302/0x0103211E) [8979*]:
    → "According to the list here, we need \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0003\u0000\u0000, and \u0001\u0001\u0001 \u0001\u0005$\u0002\u0004\u0000\u0000.\u007F1\u0000\u0007"
 17: 0x092F [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x0930 [0x03] Work_Zone[1] = 3*
 19: 0x0935 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 20: 0x0937 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 21: 0x0939 [0x01] GOTO 0x09F6

SUBROUTINE_093C:
 22: 0x093C [0x02] IF !(Work_Zone[9] == 2*) GOTO 0x0999
 23: 0x0944 [0x03] Work_Zone[2] = 15600*
 24: 0x0949 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 25: 0x0958 [0x2B] Lathuya (ID: 16982302/0x0103211E) [8978*]:
    → "The materials for making the \u0001\u0005#\u0002\u0000\u0000\u0000?\u0007Ah, just a moment...\u007F1\u0000\u0007"
 26: 0x095F [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x0960 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 28: 0x096F [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk2" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)]
 29: 0x097C [0x03] Work_Zone[1] = 5*
 30: 0x0981 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 31: 0x0983 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 32: 0x0985 [0x2B] Lathuya (ID: 16982302/0x0103211E) [8979*]:
    → "According to the list here, we need \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0003\u0000\u0000, and \u0001\u0001\u0001 \u0001\u0005$\u0002\u0004\u0000\u0000.\u007F1\u0000\u0007"
 33: 0x098C [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x098D [0x03] Work_Zone[1] = 6*
 35: 0x0992 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 36: 0x0994 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 37: 0x0996 [0x01] GOTO 0x09F6

SUBROUTINE_0999:
 38: 0x0999 [0x02] IF !(Work_Zone[9] == 3*) GOTO 0x09F6
 39: 0x09A1 [0x03] Work_Zone[2] = 14521*
 40: 0x09A6 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 41: 0x09B5 [0x2B] Lathuya (ID: 16982302/0x0103211E) [8978*]:
    → "The materials for making the \u0001\u0005#\u0002\u0000\u0000\u0000?\u0007Ah, just a moment...\u007F1\u0000\u0007"
 42: 0x09BC [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x09BD [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 44: 0x09CC [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk2" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)]
 45: 0x09D9 [0x03] Work_Zone[1] = 8*
 46: 0x09DE [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 47: 0x09E0 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 48: 0x09E2 [0x2B] Lathuya (ID: 16982302/0x0103211E) [8979*]:
    → "According to the list here, we need \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0003\u0000\u0000, and \u0001\u0001\u0001 \u0001\u0005$\u0002\u0004\u0000\u0000.\u007F1\u0000\u0007"
 49: 0x09E9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x09EA [0x03] Work_Zone[1] = 9*
 51: 0x09EF [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 52: 0x09F1 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 53: 0x09F3 [0x01] GOTO 0x09F6

SUBROUTINE_09F6:
 54: 0x09F6 [0x2B] Lathuya (ID: 16982302/0x0103211E) [8980*]:
    → "The crafting fee comes to 
\u0002 \u0001	)\u0002\u0002\u0000\u0000\u0002\u0001\u0000\u0000.\u0007We require customers to pay up front for made-to-order pieces.\u007F1\u0000\u0007"
 55: 0x09FD [0x23] WAIT_FOR_DIALOG_INTERACTION
 56: 0x09FE [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 57: 0x0A0D [0x2B] Lathuya (ID: 16982302/0x0103211E) [8981*]:
    → "Please show me the materials first, and then we can settle the payment.\u007F1\u0000\u0007"
 58: 0x0A14 [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0x0A15 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 60: 0x0A24 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)]
 61: 0x0A31 [0x21] END_EVENT
 62: 0x0A32 [0x00] END_REQSTACK()
```
