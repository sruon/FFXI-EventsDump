# Event 731

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 9/36      |
| Offset          | 0x0145    |
| Data Size       | 356 bytes |
| Calculated Size | 356 bytes |
| Instructions    | 63        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0140:                1E F0 FF  FF 7F 6F 70 03 01 10 0C       .....op....
0150: 80 43 00 43 01 02 09 10  0D 80 80 B2 01 03 02 10  .C.C............
0160: 0E 80 66 08 80 1E 21 03  01 1E 21 03 01 74 68 6B  ..f...!...!..thk
0170: 31 2B 1E 21 03 01 0F 80  23 66 08 80 1E 21 03 01  1+.!....#f...!..
0180: 1E 21 03 01 74 68 6B 32  53 1E 21 03 01 1E 21 03  .!..thk2S.!...!.
0190: 01 74 68 6B 32 03 01 10  10 80 43 00 43 01 2B 1E  .thk2.....C.C.+.
01A0: 21 03 01 11 80 23 03 01  10 12 80 43 00 43 01 01  !....#.....C.C..
01B0: 6C 02 02 09 10 10 80 80  0F 02 03 02 10 13 80 66  l..............f
01C0: 08 80 1E 21 03 01 1E 21  03 01 74 68 6B 31 2B 1E  ...!...!..thk1+.
01D0: 21 03 01 0F 80 23 66 08  80 1E 21 03 01 1E 21 03  !....#f...!...!.
01E0: 01 74 68 6B 32 53 1E 21  03 01 1E 21 03 01 74 68  .thk2S.!...!..th
01F0: 6B 32 03 01 10 14 80 43  00 43 01 2B 1E 21 03 01  k2.....C.C.+.!..
0200: 11 80 23 03 01 10 15 80  43 00 43 01 01 6C 02 02  ..#.....C.C..l..
0210: 09 10 12 80 80 6C 02 03  02 10 16 80 66 08 80 1E  .....l......f...
0220: 21 03 01 1E 21 03 01 74  68 6B 31 2B 1E 21 03 01  !...!..thk1+.!..
0230: 0F 80 23 66 08 80 1E 21  03 01 1E 21 03 01 74 68  ..#f...!...!..th
0240: 6B 32 53 1E 21 03 01 1E  21 03 01 74 68 6B 32 03  k2S.!...!..thk2.
0250: 01 10 17 80 43 00 43 01  2B 1E 21 03 01 11 80 23  ....C.C.+.!....#
0260: 03 01 10 18 80 43 00 43  01 01 6C 02 2B 1E 21 03  .....C.C..l.+.!.
0270: 01 19 80 23 66 08 80 1E  21 03 01 1E 21 03 01 74  ...#f...!...!..t
0280: 6C 6B 30 2B 1E 21 03 01  1A 80 23 66 08 80 1E 21  lk0+.!....#f...!
0290: 03 01 1E 21 03 01 74 6C  6B 31 53 1E 21 03 01 1E  ...!..tlk1S.!...
02A0: 21 03 01 74 6C 6B 31 21  00                       !..tlk1!.       
```

## Opcodes

```
  0: 0x0145 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x014A [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x014B [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x014C [0x03] Work_Zone[1] = 12*
  4: 0x0151 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
  5: 0x0153 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
  6: 0x0155 [0x02] IF !(Work_Zone[9] == 1*) GOTO 0x01B2
  7: 0x015D [0x03] Work_Zone[2] = 14928*
  8: 0x0162 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
  9: 0x0171 [0x2B] Lathuya (ID: 16982302/0x0103211E) [8978*]:
    → "The materials for making the \u0001\u0005#\u0002\u0000\u0000\u0000?\u0007Ah, just a moment...\u007F1\u0000\u0007"
 10: 0x0178 [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x0179 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 12: 0x0188 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk2" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)]
 13: 0x0195 [0x03] Work_Zone[1] = 2*
 14: 0x019A [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 15: 0x019C [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 16: 0x019E [0x2B] Lathuya (ID: 16982302/0x0103211E) [8979*]:
    → "According to the list here, we need \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0003\u0000\u0000, and \u0001\u0001\u0001 \u0001\u0005$\u0002\u0004\u0000\u0000.\u007F1\u0000\u0007"
 17: 0x01A5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x01A6 [0x03] Work_Zone[1] = 3*
 19: 0x01AB [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 20: 0x01AD [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 21: 0x01AF [0x01] GOTO 0x026C

SUBROUTINE_01B2:
 22: 0x01B2 [0x02] IF !(Work_Zone[9] == 2*) GOTO 0x020F
 23: 0x01BA [0x03] Work_Zone[2] = 15600*
 24: 0x01BF [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 25: 0x01CE [0x2B] Lathuya (ID: 16982302/0x0103211E) [8978*]:
    → "The materials for making the \u0001\u0005#\u0002\u0000\u0000\u0000?\u0007Ah, just a moment...\u007F1\u0000\u0007"
 26: 0x01D5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x01D6 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 28: 0x01E5 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk2" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)]
 29: 0x01F2 [0x03] Work_Zone[1] = 5*
 30: 0x01F7 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 31: 0x01F9 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 32: 0x01FB [0x2B] Lathuya (ID: 16982302/0x0103211E) [8979*]:
    → "According to the list here, we need \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0003\u0000\u0000, and \u0001\u0001\u0001 \u0001\u0005$\u0002\u0004\u0000\u0000.\u007F1\u0000\u0007"
 33: 0x0202 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x0203 [0x03] Work_Zone[1] = 6*
 35: 0x0208 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 36: 0x020A [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 37: 0x020C [0x01] GOTO 0x026C

SUBROUTINE_020F:
 38: 0x020F [0x02] IF !(Work_Zone[9] == 3*) GOTO 0x026C
 39: 0x0217 [0x03] Work_Zone[2] = 14521*
 40: 0x021C [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 41: 0x022B [0x2B] Lathuya (ID: 16982302/0x0103211E) [8978*]:
    → "The materials for making the \u0001\u0005#\u0002\u0000\u0000\u0000?\u0007Ah, just a moment...\u007F1\u0000\u0007"
 42: 0x0232 [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x0233 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 44: 0x0242 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk2" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)]
 45: 0x024F [0x03] Work_Zone[1] = 8*
 46: 0x0254 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 47: 0x0256 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 48: 0x0258 [0x2B] Lathuya (ID: 16982302/0x0103211E) [8979*]:
    → "According to the list here, we need \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0003\u0000\u0000, and \u0001\u0001\u0001 \u0001\u0005$\u0002\u0004\u0000\u0000.\u007F1\u0000\u0007"
 49: 0x025F [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x0260 [0x03] Work_Zone[1] = 9*
 51: 0x0265 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 52: 0x0267 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 53: 0x0269 [0x01] GOTO 0x026C

SUBROUTINE_026C:
 54: 0x026C [0x2B] Lathuya (ID: 16982302/0x0103211E) [8980*]:
    → "The crafting fee comes to 
\u0002 \u0001	)\u0002\u0002\u0000\u0000\u0002\u0001\u0000\u0000.\u0007We require customers to pay up front for made-to-order pieces.\u007F1\u0000\u0007"
 55: 0x0273 [0x23] WAIT_FOR_DIALOG_INTERACTION
 56: 0x0274 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 57: 0x0283 [0x2B] Lathuya (ID: 16982302/0x0103211E) [8981*]:
    → "Please show me the materials first, and then we can settle the payment.\u007F1\u0000\u0007"
 58: 0x028A [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0x028B [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)], work=30*
 60: 0x029A [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [Lathuya (ID: 16982302/0x0103211E), Lathuya (ID: 16982302/0x0103211E)]
 61: 0x02A7 [0x21] END_EVENT
 62: 0x02A8 [0x00] END_REQSTACK()
```
