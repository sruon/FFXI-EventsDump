# Event 89

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 6/6       |
| Offset          | 0x000A    |
| Data Size       | 693 bytes |
| Calculated Size | 693 bytes |
| Instructions    | 112       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:                                03 02 00 02 10 03            ......
0010: 03 00 03 10 03 04 00 04  10 03 05 00 05 10 03 0A  ................
0020: 00 06 10 3E 0A 00 01 80  2D 00 01 35 00 2B B6 21  ...>....-..5.+.!
0030: 03 01 02 80 23 2B B6 21  03 01 03 80 23 3E 0A 00  ....#+.!....#>..
0040: 01 80 47 00 01 4F 00 2B  B6 21 03 01 04 80 23 06  ..G..O.+.!....#.
0050: 00 00 06 01 00 02 03 00  05 80 00 64 00 3C 01 00  ...........d.<..
0060: 06 80 07 80 02 04 00 05  80 00 73 00 3C 01 00 08  ..........s.<...
0070: 80 07 80 02 05 00 05 80  00 82 00 3C 01 00 09 80  ...........<....
0080: 07 80 24 0A 80 00 00 01  00 25 03 00 00 00 10 02  ..$......%......
0090: 00 10 07 80 00 E3 00 06  06 00 24 0B 80 06 00 02  ..........$.....
00A0: 00 25 02 00 10 01 80 00  B0 00 01 55 00 01 B0 00  .%.........U....
00B0: 03 06 00 00 10 03 16 17  00 10 2B B6 21 03 01 0C  ..........+.!...
00C0: 80 23 24 0D 80 01 80 01  80 25 02 00 10 07 80 00  .#$......%......
00D0: D8 00 01 9A 00 01 E0 00  9D 00 0F 02 0B 00 16 17  ................
00E0: 01 E4 01 02 00 10 06 80  00 37 01 06 07 00 24 0E  .........7....$.
00F0: 80 07 00 03 00 25 02 00  10 01 80 00 04 01 01 55  .....%.........U
0100: 00 01 04 01 03 07 00 00  10 03 16 17 00 10 2B B6  ..............+.
0110: 21 03 01 0F 80 23 24 0D  80 01 80 01 80 25 02 00  !....#$......%..
0120: 10 07 80 00 2C 01 01 EE  00 01 34 01 9D 00 4F 02  ....,.....4...O.
0130: 0B 00 16 17 01 E4 01 02  00 10 08 80 00 8B 01 06  ................
0140: 08 00 24 10 80 08 00 04  00 25 02 00 10 01 80 00  ..$......%......
0150: 58 01 01 55 00 01 58 01  03 08 00 00 10 03 16 17  X..U..X.........
0160: 00 10 2B B6 21 03 01 11  80 23 24 0D 80 01 80 01  ..+.!....#$.....
0170: 80 25 02 00 10 07 80 00  80 01 01 42 01 01 88 01  .%.........B....
0180: 9D 00 6F 02 0B 00 16 17  01 E4 01 02 00 10 09 80  ..o.............
0190: 00 DF 01 06 09 00 24 12  80 09 00 05 00 25 02 00  ......$......%..
01A0: 10 01 80 00 AC 01 01 55  00 01 AC 01 03 09 00 00  .......U........
01B0: 10 03 16 17 00 10 2B B6  21 03 01 13 80 23 24 0D  ......+.!....#$.
01C0: 80 01 80 01 80 25 02 00  10 07 80 00 D4 01 01 96  .....%..........
01D0: 01 01 DC 01 9D 00 9F 02  0B 00 16 17 01 E4 01 03  ................
01E0: 00 00 05 80 02 00 00 01  80 02 08 02 5C 00 01 80  ............\...
01F0: 5C 01 01 80 9A 2B B6 21  03 01 14 80 23 5C 00 0B  \....+.!....#\..
0200: 00 5C 01 0B 00 01 0D 02  03 01 10 15 80 21 00 01  .\...........!..
0210: 80 16 80 17 80 18 80 19  80 1A 80 1B 80 1C 80 1D  ................
0220: 80 1E 80 1F 80 20 80 21  80 22 80 23 80 24 80 25  ..... .!.".#.$.%
0230: 80 26 80 27 80 28 80 29  80 2A 80 2B 80 2C 80 2D  .&.'.(.).*.+.,.-
0240: 80 2E 80 01 80 01 80 01  80 01 80 01 80 01 80 01  ................
0250: 80 2F 80 30 80 31 80 32  80 33 80 00 80 34 80 35  ./.0.1.2.3...4.5
0260: 80 36 80 37 80 38 80 39  80 01 80 01 80 01 80 01  .6.7.8.9........
0270: 80 3A 80 3B 80 3C 80 3D  80 3E 80 3F 80 40 80 41  .:.;.<.=.>.?.@.A
0280: 80 42 80 43 80 44 80 45  80 46 80 47 80 48 80 01  .B.C.D.E.F.G.H..
0290: 80 01 80 01 80 01 80 01  80 01 80 01 80 01 80 01  ................
02A0: 80 49 80 4A 80 4B 80 4C  80 4D 80 4E 80 4F 80 01  .I.J.K.L.M.N.O..
02B0: 80 01 80 01 80 01 80 01  80 01 80 01 80 01 80     ............... 
```

## Opcodes

```
  0: 0x000A [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[2]
  1: 0x000F [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[3]
  2: 0x0014 [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[4]
  3: 0x0019 [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[5]
  4: 0x001E [0x03] ExtData[1]->WorkLocal[10] = Work_Zone[6]
  5: 0x0023 [0x3E] IF !(ExtData[1]->WorkLocal[10] bit 0*) GOTO 0x002D
  6: 0x002A [0x01] GOTO 0x0035

SUBROUTINE_002D:
  7: 0x002D [0x2B] Ohsi Shomahl (ID: 16982454/0x010321B6) [9757*]:
    → "Greetings!\u0007I am the wandering minstrel, Ohsi Shomahl!\u0007Today my services are available to all who stay at the Kokbah Hostel.\u007F1\u0000\u0007"
  8: 0x0034 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x0035 [0x2B] Ohsi Shomahl (ID: 16982454/0x010321B6) [9758*]:
    → "Choose a song from my repertoire, and I shall endeavor to move you with my melody.\u007F1\u0000\u0007"
 10: 0x003C [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x003D [0x3E] IF !(ExtData[1]->WorkLocal[10] bit 0*) GOTO 0x0047
 12: 0x0044 [0x01] GOTO 0x004F

SUBROUTINE_0047:
 13: 0x0047 [0x2B] Ohsi Shomahl (ID: 16982454/0x010321B6) [9759*]:
    → "First select an album, then request the song you wish to hear.\u0007No coin is required! The owner of the hostel has been most gracious in his payment.\u007F1\u0000\u0007"
 14: 0x004E [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x004F [0x06] ExtData[1]->WorkLocal[0] = 0
 16: 0x0052 [0x06] ExtData[1]->WorkLocal[1] = 0
 17: 0x0055 [0x02] IF !(ExtData[1]->WorkLocal[3] == 4294967295*) GOTO 0x0064
 18: 0x005D [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x01, bit_index_work_offset=0x8006, condition_work_offset=0x8007)
 19: 0x0064 [0x02] IF !(ExtData[1]->WorkLocal[4] == 4294967295*) GOTO 0x0073
 20: 0x006C [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x01, bit_index_work_offset=0x8008, condition_work_offset=0x8007)
 21: 0x0073 [0x02] IF !(ExtData[1]->WorkLocal[5] == 4294967295*) GOTO 0x0082
 22: 0x007B [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x01, bit_index_work_offset=0x8009, condition_work_offset=0x8007)
 23: 0x0082 [0x24] CREATE_DIALOG(message_id=9760*, default_option=0x0000, option_flags=0x01)
    → "Which album do you choose?\u0007\u000BNone\u0007Untitled.\u0007Rise of the Zilart.\u0007Chains of Promathia.\u0007Treasures of Aht Urhgan.\u007F1\u0000\u0007"
 24: 0x0089 [0x25] WAIT_DIALOG_SELECT()
 25: 0x008A [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[0]
 26: 0x008F [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00E3
 27: 0x0097 [0x06] ExtData[1]->WorkLocal[6] = 0
 28: 0x009A [0x24] CREATE_DIALOG(message_id=9761*, default_option=0x0006, option_flags=0x02)
    → "Which song do you request?\u0007\u000BReturn to album menu.\u0007Prelude.\u0007Vana'diel March.\u0007Vana'diel March #2.\u0007Voyager.\u0007Buccaneers.\u0007Sunbreeze Shuffle.\u0007The Kingdom of San d'Oria.\u0007Chateau d'Oraguille.\u0007The Republic of Bastok.\u0007Metalworks.\u0007The Federation of Windurst.\u0007Heavens Tower.\u0007Hopelessness.\u0007Repression.\u0007Just Once More.\u0007Recollection.\u0007Despair.\u0007Fury.\u0007Sorrow.\u0007Anxiety.\u0007Sometime, Somewhere.\u0007Ghelsba.\u0007Tough Battle.\u0007Shadow Lord.\u0007Awakening.\u007F1\u0000\u0007"
 29: 0x00A1 [0x25] WAIT_DIALOG_SELECT()
 30: 0x00A2 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00B0
 31: 0x00AA [0x01] GOTO 0x0055

SUBROUTINE_00B0:
 32: 0x00B0 [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[0]
 33: 0x00B5 [0x03] Work_Zone_1700[22] = Work_Zone[0]
 34: 0x00BA [0x2B] Ohsi Shomahl (ID: 16982454/0x010321B6) [9762*]:
    → "You wish to request \u00072\u000C\u001E[/Prelude/Vana'diel March/Vana'diel March #2/Voyager/Buccaneers/Sunbreeze Shuffle/The Kingdom of San d'Oria/Chateau d'Oraguille/The Republic of Bastok/Metalworks/The Federation of Windurst/Heavens Tower/Hopelessness/Repression/Just Once More/Recollection/Despair/Fury/Sorrow/Anxiety/Sometime, Somewhere/Ghelsba/Tough Battle/Shadow Lord/Awakening/]\u00073?\u007F1\u0000\u0007"
 35: 0x00C1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x00C2 [0x24] CREATE_DIALOG(message_id=9769*, default_option=0*, option_flags=0*)
    → "This is the song you request?\u0007\u000BThat's the one!\u0007Let me see the list again...\u007F1\u0000\u0007"
 37: 0x00C9 [0x25] WAIT_DIALOG_SELECT()
 38: 0x00CA [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00D8
 39: 0x00D2 [0x01] GOTO 0x009A

SUBROUTINE_00D8:
 40: 0x00D8 [0x9D] ExtData[1]->WorkLocal[11] = 0x020F[Work_Zone_1700[22]] // Read WORD
 41: 0x00E0 [0x01] GOTO 0x01E4

SUBROUTINE_00E3:
 42: 0x00E3 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0137
 43: 0x00EB [0x06] ExtData[1]->WorkLocal[7] = 0
 44: 0x00EE [0x24] CREATE_DIALOG(message_id=9763*, default_option=0x0007, option_flags=0x03)
    → "Which song do you request?\u0007\u000BReturn to album menu.\u0007Wedding march.\u0007Tough Battle #2.\u0007Bloody Promise.\u0007Memoro de la S^tono.\u0007Grav'iton.\u0007Kamlanaut#1.\u0007Kamlanaut#2.\u0007The Zilart.\u0007Warriors of the Crystal.\u0007Eald'narche.\u0007Belief.\u0007End Theme.\u007F1\u0000\u0007"
 45: 0x00F5 [0x25] WAIT_DIALOG_SELECT()
 46: 0x00F6 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0104
 47: 0x00FE [0x01] GOTO 0x0055

SUBROUTINE_0104:
 48: 0x0104 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[0]
 49: 0x0109 [0x03] Work_Zone_1700[22] = Work_Zone[0]
 50: 0x010E [0x2B] Ohsi Shomahl (ID: 16982454/0x010321B6) [9764*]:
    → "You wish to request \u00072\u000C\u001E[/Wedding march/Tough Battle #2/Bloody Promise/Memoro de la S^tono/Grav'iton/Kamlanaut#1/Kamlanaut#2/The Zilart/Warriors of the Crystal/Eald'narche/Belief/End Theme]\u00073?\u007F1\u0000\u0007"
 51: 0x0115 [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x0116 [0x24] CREATE_DIALOG(message_id=9769*, default_option=0*, option_flags=0*)
    → "This is the song you request?\u0007\u000BThat's the one!\u0007Let me see the list again...\u007F1\u0000\u0007"
 53: 0x011D [0x25] WAIT_DIALOG_SELECT()
 54: 0x011E [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x012C
 55: 0x0126 [0x01] GOTO 0x00EE

SUBROUTINE_012C:
 56: 0x012C [0x9D] ExtData[1]->WorkLocal[11] = 0x024F[Work_Zone_1700[22]] // Read WORD
 57: 0x0134 [0x01] GOTO 0x01E4

SUBROUTINE_0137:
 58: 0x0137 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x018B
 59: 0x013F [0x06] ExtData[1]->WorkLocal[8] = 0
 60: 0x0142 [0x24] CREATE_DIALOG(message_id=9765*, default_option=0x0008, option_flags=0x04)
    → "Which song do you request?\u0007\u000BReturn to album menu.\u0007Unity.\u0007Currents Of Time.\u0007Xmas.\u0007Turmoil.\u0007Conflict: March Of The Hero.\u0007Conflict: You Want To Live Forever?\u0007Trembling Sky.\u0007Happily Ever After.\u0007The Ruler Of The Skies.\u0007Second Ode: Distant Promises.\u0007Dusk And Dawn.\u0007Fourth Ode: Clouded Dawn.\u0007Words Unspoken--Pso'Xja.\u0007VS Promathia.\u0007A New Morning.\u007F1\u0000\u0007"
 61: 0x0149 [0x25] WAIT_DIALOG_SELECT()
 62: 0x014A [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0158
 63: 0x0152 [0x01] GOTO 0x0055

SUBROUTINE_0158:
 64: 0x0158 [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
 65: 0x015D [0x03] Work_Zone_1700[22] = Work_Zone[0]
 66: 0x0162 [0x2B] Ohsi Shomahl (ID: 16982454/0x010321B6) [9766*]:
    → "You wish to request \u00072\u000C\u001E[/Unity/Currents Of Time/Xmas/Turmoil/Conflict: March Of The Hero/Conflict: You Want To Live Forever?/Trembling Sky/Happily Ever After/The Ruler Of The Skies/Second Ode: Distant Promises/Dusk And Dawn/Fourth Ode: Clouded Dawn/Words Unspoken--Pso'Xja/VS Promathia/A New Morning]\u00073?\u007F1\u0000\u0007"
 67: 0x0169 [0x23] WAIT_FOR_DIALOG_INTERACTION
 68: 0x016A [0x24] CREATE_DIALOG(message_id=9769*, default_option=0*, option_flags=0*)
    → "This is the song you request?\u0007\u000BThat's the one!\u0007Let me see the list again...\u007F1\u0000\u0007"
 69: 0x0171 [0x25] WAIT_DIALOG_SELECT()
 70: 0x0172 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0180
 71: 0x017A [0x01] GOTO 0x0142

SUBROUTINE_0180:
 72: 0x0180 [0x9D] ExtData[1]->WorkLocal[11] = 0x026F[Work_Zone_1700[22]] // Read WORD
 73: 0x0188 [0x01] GOTO 0x01E4

SUBROUTINE_018B:
 74: 0x018B [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x01DF
 75: 0x0193 [0x06] ExtData[1]->WorkLocal[9] = 0
 76: 0x0196 [0x24] CREATE_DIALOG(message_id=9767*, default_option=0x0009, option_flags=0x05)
    → "Which song do you request?\u0007\u000BReturn to album menu.\u0007Vana'diel March #4.\u0007Eastward Bound...\u0007Hellriders.\u0007Fated Strife -Besieged-.\u0007Rapid Onslaught -Assault-.\u0007Ever-Turning Wheels.\u0007Eternal Gravestone.\u007F1\u0000\u0007"
 77: 0x019D [0x25] WAIT_DIALOG_SELECT()
 78: 0x019E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x01AC
 79: 0x01A6 [0x01] GOTO 0x0055

SUBROUTINE_01AC:
 80: 0x01AC [0x03] ExtData[1]->WorkLocal[9] = Work_Zone[0]
 81: 0x01B1 [0x03] Work_Zone_1700[22] = Work_Zone[0]
 82: 0x01B6 [0x2B] Ohsi Shomahl (ID: 16982454/0x010321B6) [9768*]:
    → "You wish to request \u00072\u000C\u001E[/Vana'diel March #4/Eastward Bound.../Hellriders/Fated Strife -Besieged-/Rapid Onslaught -Assault-/Ever-Turning Wheels/Eternal Gravestone]\u00073?\u007F1\u0000\u0007"
 83: 0x01BD [0x23] WAIT_FOR_DIALOG_INTERACTION
 84: 0x01BE [0x24] CREATE_DIALOG(message_id=9769*, default_option=0*, option_flags=0*)
    → "This is the song you request?\u0007\u000BThat's the one!\u0007Let me see the list again...\u007F1\u0000\u0007"
 85: 0x01C5 [0x25] WAIT_DIALOG_SELECT()
 86: 0x01C6 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x01D4
 87: 0x01CE [0x01] GOTO 0x0196

SUBROUTINE_01D4:
 88: 0x01D4 [0x9D] ExtData[1]->WorkLocal[11] = 0x029F[Work_Zone_1700[22]] // Read WORD
 89: 0x01DC [0x01] GOTO 0x01E4

SUBROUTINE_01DF:
 90: 0x01DF [0x03] ExtData[1]->WorkLocal[0] = 4294967295*
 91: 0x01E4 [0x02] IF !(ExtData[1]->WorkLocal[0] <= 0*) GOTO 0x0208
 92: 0x01EC [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 93: 0x01F0 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 94: 0x01F4 [0x9A] WAIT_MUSIC_SERVER()
 95: 0x01F5 [0x2B] Ohsi Shomahl (ID: 16982454/0x010321B6) [9770*]:
    → "Sit back and enjoy the performance!\u0000\u0007"
 96: 0x01FC [0x23] WAIT_FOR_DIALOG_INTERACTION
 97: 0x01FD [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 11
 98: 0x0201 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 11
 99: 0x0205 [0x01] GOTO 0x020D

SUBROUTINE_0208:
100: 0x0208 [0x03] Work_Zone[1] = 1073741824*
101: 0x020D [0x21] END_EVENT
102: 0x020E [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x00AD [0x01] GOTO 0x00B0
# Dead code (unreachable instructions):
     0x00D5 [0x01] GOTO 0x00E0
# Dead code (unreachable instructions):
     0x0101 [0x01] GOTO 0x0104
# Dead code (unreachable instructions):
     0x0129 [0x01] GOTO 0x0134
# Dead code (unreachable instructions):
     0x0155 [0x01] GOTO 0x0158
# Dead code (unreachable instructions):
     0x017D [0x01] GOTO 0x0188
# Dead code (unreachable instructions):
     0x01A9 [0x01] GOTO 0x01AC
# Dead code (unreachable instructions):
     0x01D1 [0x01] GOTO 0x01DC
# Data Section: 0x020F (176 bytes)
     0x020F: 01 80 16 80 17 80 18 80 19 80 1A 80 1B 80 1C 80
     0x021F: 1D 80 1E 80 1F 80 20 80 21 80 22 80 23 80 24 80
     0x022F: 25 80 26 80 27 80 28 80 29 80 2A 80 2B 80 2C 80
     0x023F: 2D 80 2E 80 01 80 01 80 01 80 01 80 01 80 01 80
     0x024F: 01 80 2F 80 30 80 31 80 32 80 33 80 00 80 34 80
     0x025F: 35 80 36 80 37 80 38 80 39 80 01 80 01 80 01 80
     0x026F: 01 80 3A 80 3B 80 3C 80 3D 80 3E 80 3F 80 40 80
     0x027F: 41 80 42 80 43 80 44 80 45 80 46 80 47 80 48 80
     0x028F: 01 80 01 80 01 80 01 80 01 80 01 80 01 80 01 80
     0x029F: 01 80 49 80 4A 80 4B 80 4C 80 4D 80 4E 80 4F 80
     0x02AF: 01 80 01 80 01 80 01 80 01 80 01 80 01 80 01 80
```