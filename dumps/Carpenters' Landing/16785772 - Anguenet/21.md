# Event 21

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 32/38     |
| Offset          | 0x01C3    |
| Data Size       | 350 bytes |
| Calculated Size | 350 bytes |
| Instructions    | 89        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
01C0:          1E F0 FF FF 7F  6F 70 29 08 6C 21 00 01     .....op).l!..
01D0: 15 1D 05 80 23 1D 06 80  23 29 08 6C 21 00 01 16  ....#...#).l!...
01E0: 29 08 6C 21 00 01 17 1D  07 80 23 29 08 6C 21 00  ).l!......#).l!.
01F0: 01 18 29 08 6C 21 00 01  05 1D 08 80 23 29 08 6C  ..).l!......#).l
0200: 21 00 01 06 24 09 80 0A  80 0A 80 25 02 00 10 0A  !...$......%....
0210: 80 00 1C 02 03 01 10 0B  80 01 1D 03 02 00 10 0B  ................
0220: 80 00 6E 02 03 01 10 0C  80 29 08 6C 21 00 01 07  ..n......).l!...
0230: 1D 0D 80 23 29 08 6C 21  00 01 08 29 08 6C 21 00  ...#).l!...).l!.
0240: 01 01 1D 0E 80 23 1D 0F  80 23 1D 10 80 23 29 08  .....#...#...#).
0250: 6C 21 00 01 02 29 08 6C  21 00 01 03 1D 11 80 23  l!...).l!......#
0260: 29 08 6C 21 00 01 04 1D  12 80 23 01 1D 03 02 00  ).l!......#.....
0270: 10 0C 80 00 BC 02 03 01  10 13 80 29 08 6C 21 00  ...........).l!.
0280: 01 07 1D 14 80 23 29 08  6C 21 00 01 08 29 08 6C  .....#).l!...).l
0290: 21 00 01 01 1D 15 80 23  1D 16 80 23 1D 17 80 23  !......#...#...#
02A0: 29 08 6C 21 00 01 02 29  08 6C 21 00 01 03 1D 18  ).l!...).l!.....
02B0: 80 23 29 08 6C 21 00 01  04 01 1D 03 02 00 10 13  .#).l!..........
02C0: 80 00 1D 03 42 03 01 10  19 80 29 08 6C 21 00 01  ....B.....).l!..
02D0: 07 1D 1A 80 23 29 08 6C  21 00 01 08 29 08 6C 21  ....#).l!...).l!
02E0: 00 01 01 1D 1B 80 23 1D  1C 80 23 29 08 6C 21 00  ......#...#).l!.
02F0: 01 02 29 08 6C 21 00 01  03 1D 1D 80 23 29 08 6C  ..).l!......#).l
0300: 21 00 01 04 29 08 6C 21  00 01 0F 1D 1E 80 23 29  !...).l!......#)
0310: 08 6C 21 00 01 10 1D 1F  80 23 01 1D 03 20 00 21  .l!......#... .!
0320: 00                                                .               
```

## Opcodes

```
  0: 0x01C3 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x01C8 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x01C9 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x01CA [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x15)
  4: 0x01D1 [0x1D] PRINT_EVENT_MESSAGE(message_id=7413*)
    → "Well, what have we here?\u0007An adventurer, by chance?\u007F1\u0000\u0007"
  5: 0x01D4 [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x01D5 [0x1D] PRINT_EVENT_MESSAGE(message_id=7414*)
    → "I am Anguenet.\u007F1\u0000\u0007"
  7: 0x01D8 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x01D9 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x16)
  9: 0x01E0 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x17)
 10: 0x01E7 [0x1D] PRINT_EVENT_MESSAGE(message_id=7415*)
    → "My job here at the Carpenters' Landing is to make your short trip on the channel as enjoyable as possible.\u007F1\u0000\u0007"
 11: 0x01EA [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x01EB [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x18)
 13: 0x01F2 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x05)
 14: 0x01F9 [0x1D] PRINT_EVENT_MESSAGE(message_id=7416*)
    → "Shall I give you an idea of the different routes the barge follows?\u007F1\u0000\u0007"
 15: 0x01FC [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x01FD [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x06)
 17: 0x0204 [0x24] CREATE_DIALOG(message_id=7417*, default_option=0*, option_flags=0*)
    → "Hear an explanation of the routes?\u0007\u000BThat won't be necessary.\u0007The main canal.\u0007The Emfea Waterway.\u0007Newtpool.\u007F1\u0000\u0007"
 18: 0x020B [0x25] WAIT_DIALOG_SELECT()
 19: 0x020C [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x021C
 20: 0x0214 [0x03] Work_Zone[1] = 1*
 21: 0x0219 [0x01] GOTO 0x031D
 22: 0x021C [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x026E
 23: 0x0224 [0x03] Work_Zone[1] = 2*
 24: 0x0229 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x07)
 25: 0x0230 [0x1D] PRINT_EVENT_MESSAGE(message_id=7429*)
    → "We leave from South Landing and head for North Landing, following the main waterway of the Phanauet Channel.\u0007This is the longest of the three routes.\u007F1\u0000\u0007"
 26: 0x0233 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x0234 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x08)
 28: 0x023B [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x01)
 29: 0x0242 [0x1D] PRINT_EVENT_MESSAGE(message_id=7430*)
    → "This canal is the Phanauet Channel's newest and widest waterway.\u007F1\u0000\u0007"
 30: 0x0245 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x0246 [0x1D] PRINT_EVENT_MESSAGE(message_id=7431*)
    → "Its waters are used by the Carpenters' Guild to bring in wood and ship out processed lumber--week in, week out.\u007F1\u0000\u0007"
 32: 0x0249 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x024A [0x1D] PRINT_EVENT_MESSAGE(message_id=7432*)
    → "Please pay careful attention to the eastern cliff.\u0007You will be able to witness the gentle waterfalls that are one of the main attractions of this route.\u007F1\u0000\u0007"
 34: 0x024D [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x024E [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x02)
 36: 0x0255 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x03)
 37: 0x025C [0x1D] PRINT_EVENT_MESSAGE(message_id=7433*)
    → "This canal is also home to an abundant variety of fish, providing a distraction for even the novice fisherman.\u007F1\u0000\u0007"
 38: 0x025F [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x0260 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x04)
 40: 0x0267 [0x1D] PRINT_EVENT_MESSAGE(message_id=7434*)
    → "Enjoy the bounties of nature on the Carpenters' Guild barge.\u007F1\u0000\u0007"
 41: 0x026A [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x026B [0x01] GOTO 0x031D
 43: 0x026E [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x02BC
 44: 0x0276 [0x03] Work_Zone[1] = 3*
 45: 0x027B [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x07)
 46: 0x0282 [0x1D] PRINT_EVENT_MESSAGE(message_id=7424*)
    → "We leave South Landing and head northwards to Central Landing through the narrow and winding Emfea Waterway.\u0007This is the most exciting route.\u007F1\u0000\u0007"
 47: 0x0285 [0x23] WAIT_FOR_DIALOG_INTERACTION
 48: 0x0286 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x08)
 49: 0x028D [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x01)
 50: 0x0294 [0x1D] PRINT_EVENT_MESSAGE(message_id=7425*)
    → "At times, the barge comes to within several ilms of the cliffs on both sides, causing not a few sweaty palms among the passengers...\u007F1\u0000\u0007"
 51: 0x0297 [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x0298 [0x1D] PRINT_EVENT_MESSAGE(message_id=7426*)
    → "But please, do not be alarmed.\u0007Our experienced captain is the best in the guild, and a safe journey is guaranteed.\u007F1\u0000\u0007"
 53: 0x029B [0x23] WAIT_FOR_DIALOG_INTERACTION
 54: 0x029C [0x1D] PRINT_EVENT_MESSAGE(message_id=7427*)
    → "This waterway is the oldest part of the channel, and its depths teem with rare fish peculiar to this area.\u007F1\u0000\u0007"
 55: 0x029F [0x23] WAIT_FOR_DIALOG_INTERACTION
 56: 0x02A0 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x02)
 57: 0x02A7 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x03)
 58: 0x02AE [0x1D] PRINT_EVENT_MESSAGE(message_id=7428*)
    → "Those passengers that have come for a spot of fishing will not go home disappointed.\u0007The Emfea Waterway route is an experience not to be missed.\u007F1\u0000\u0007"
 59: 0x02B1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x02B2 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x04)
 61: 0x02B9 [0x01] GOTO 0x031D
 62: 0x02BC [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x031D
 63: 0x02C4 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 64: 0x02C5 [0x03] Work_Zone[1] = 4*
 65: 0x02CA [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x07)
 66: 0x02D1 [0x1D] PRINT_EVENT_MESSAGE(message_id=7418*)
    → "We leave Central Landing and embark on a leisurely southern course for South Landing.\u0007Our route takes us through Newtpool, which as the name suggests, is literally squirming with newts.\u007F1\u0000\u0007"
 67: 0x02D4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 68: 0x02D5 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x08)
 69: 0x02DC [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x01)
 70: 0x02E3 [0x1D] PRINT_EVENT_MESSAGE(message_id=7419*)
    → "This is the birthplace of \u00072frog-fishing,\u00073 an activity requiring the use of live flies.\u007F1\u0000\u0007"
 71: 0x02E6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 72: 0x02E7 [0x1D] PRINT_EVENT_MESSAGE(message_id=7420*)
    → "The Newtpool route is extraordinarily popular with fisherman of all shapes and sizes all year round.\u007F1\u0000\u0007"
 73: 0x02EA [0x23] WAIT_FOR_DIALOG_INTERACTION
 74: 0x02EB [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x02)
 75: 0x02F2 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x03)
 76: 0x02F9 [0x1D] PRINT_EVENT_MESSAGE(message_id=7421*)
    → "Ah yes--if you happen to catch yourself a brownish newt, a \u0001\u0005#\u0002\u0001\u0000\u0000, hand it over to my vertically challenged partner over there.\u007F1\u0000\u0007"
 77: 0x02FC [0x23] WAIT_FOR_DIALOG_INTERACTION
 78: 0x02FD [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x04)
 79: 0x0304 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x0F)
 80: 0x030B [0x1D] PRINT_EVENT_MESSAGE(message_id=7422*)
    → "He is a man of few words, but I can assure you his delicious charred newts reflect his unwavering devotion towards pleasing our customers.\u007F1\u0000\u0007"
 81: 0x030E [0x23] WAIT_FOR_DIALOG_INTERACTION
 82: 0x030F [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anguenet (ID: 16785772/0x0100216C), tag_num=0x10)
 83: 0x0316 [0x1D] PRINT_EVENT_MESSAGE(message_id=7423*)
    → "These mouthwatering delicacies are a treat for young and old.\u0007In particular, Mithran customers are always showering our diminutive chef with compliments, and pestering him for the names of his secret spices.\u007F1\u0000\u0007"
 84: 0x0319 [0x23] WAIT_FOR_DIALOG_INTERACTION
 85: 0x031A [0x01] GOTO 0x031D

SUBROUTINE_031D:
 86: 0x031D [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 87: 0x031F [0x21] END_EVENT
 88: 0x0320 [0x00] END_REQSTACK()
```
