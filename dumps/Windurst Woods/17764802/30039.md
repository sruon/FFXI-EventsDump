# Event 30039

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/12      |
| Offset          | 0x0820    |
| Data Size       | 925 bytes |
| Calculated Size | 925 bytes |
| Instructions    | 107       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0820: 42 5D 00 80 01 80 45 02  80 F8 FF FF 7F F8 FF FF  B]....E.........
0830: 7F 66 64 6F 31 00 80 55  02 80 F8 FF FF 7F F8 FF  .fdo1..U........
0840: FF 7F 66 64 6F 31 46 01  38 03 80 34 34 80 77 35  ..fdo1F.8..44.w5
0850: 80 06 80 1C 06 80 2F 00  C3 11 0F 01 2F 00 C6 11  ....../...../...
0860: 0F 01 4E 00 C3 11 0F 01  4E 00 C6 11 0F 01 4E 00  ..N.....N.....N.
0870: F0 FF FF 7F 92 01 C3 11  0F 01 92 01 C6 11 0F 01  ................
0880: 94 01 C3 11 0F 01 94 01  C6 11 0F 01 94 01 F0 FF  ................
0890: FF 7F 59 05 C6 11 0F 01  01 BA C3 11 0F 01 4C 80  ..Y...........L.
08A0: 4D 80 38 80 4E 80 BA C6  11 0F 01 4F 80 50 80 38  M.8.N......O.P.8
08B0: 80 51 80 BA F0 FF FF 7F  52 80 53 80 38 80 54 80  .Q......R.S.8.T.
08C0: 80 C3 11 0F 01 80 C6 11  0F 01 80 F0 FF FF 7F 5C  ...............\
08D0: 00 00 80 5C 01 00 80 9A  29 10 C3 11 0F 01 0B 4A  ...\....)......J
08E0: F0 FF FF 7F C3 11 0F 01  4A C3 11 0F 01 F0 FF FF  ........J.......
08F0: 7F 1C 08 80 D0 55 80 C3  11 0F 01 C3 11 0F 01 65  .....U.........e
0900: 66 66 30 00 80 5B 56 80  C6 11 0F 01 C6 11 0F 01  ff0..[V.........
0910: 75 6B 75 30 D0 57 80 C6  11 0F 01 C6 11 0F 01 73  uku0.W.........s
0920: 74 61 72 00 80 1C 08 80  45 63 80 F8 FF FF 7F F8  tar.....Ec......
0930: FF FF 7F 73 30 32 38 00  80 1C 3D 80 45 02 80 F8  ...s028...=.E...
0940: FF FF 7F F8 FF FF 7F 66  64 69 31 00 80 1C 59 80  .......fdi1...Y.
0950: 52 63 80 F8 FF FF 7F F8  FF FF 7F 73 30 32 38 45  Rc.........s028E
0960: 63 80 F8 FF FF 7F F8 FF  FF 7F 73 30 32 39 00 80  c.........s029..
0970: 5B 5A 80 C3 11 0F 01 C3  11 0F 01 74 6C 6B 30 2B  [Z.........tlk0+
0980: C3 11 0F 01 64 80 23 52  63 80 F8 FF FF 7F F8 FF  ....d.#Rc.......
0990: FF 7F 73 30 32 39 45 63  80 F8 FF FF 7F F8 FF FF  ..s029Ec........
09A0: 7F 73 30 33 30 00 80 2B  C3 11 0F 01 65 80 23 52  .s030..+....e.#R
09B0: 63 80 F8 FF FF 7F F8 FF  FF 7F 73 30 33 30 45 63  c.........s030Ec
09C0: 80 F8 FF FF 7F F8 FF FF  7F 73 30 33 31 00 80 5B  .........s031..[
09D0: 5A 80 C3 11 0F 01 C3 11  0F 01 74 6C 6B 31 2B C3  Z.........tlk1+.
09E0: 11 0F 01 66 80 23 2B C3  11 0F 01 67 80 23 52 63  ...f.#+....g.#Rc
09F0: 80 F8 FF FF 7F F8 FF FF  7F 73 30 33 31 45 63 80  .........s031Ec.
0A00: F8 FF FF 7F F8 FF FF 7F  73 30 33 32 00 80 81 00  ........s032....
0A10: C3 11 0F 01 7C 00 C3 11  0F 01 5B 68 80 C3 11 0F  ....|.....[h....
0A20: 01 C3 11 0F 01 66 67 30  31 5F 05 69 80 C3 11 0F  .....fg01_.i....
0A30: 01 C3 11 0F 01 6E 6F 6E  30 6A 80 2B C3 11 0F 01  .....non0j.+....
0A40: 6B 80 23 2B C3 11 0F 01  6C 80 23 5F 07 C3 11 0F  k.#+....l.#_....
0A50: 01 C3 11 0F 01 6E 6F 6E  30 52 63 80 F8 FF FF 7F  .....non0Rc.....
0A60: F8 FF FF 7F 73 30 33 32  45 63 80 F8 FF FF 7F F8  ....s032Ec......
0A70: FF FF 7F 73 30 33 33 00  80 5B 68 80 C3 11 0F 01  ...s033..[h.....
0A80: C3 11 0F 01 66 64 30 31  2B C3 11 0F 01 6D 80 23  ....fd01+....m.#
0A90: 5B 68 80 C3 11 0F 01 C3  11 0F 01 66 64 30 30 5B  [h.........fd00[
0AA0: 6E 80 C3 11 0F 01 C3 11  0F 01 68 69 7A 30 1C 6F  n.........hiz0.o
0AB0: 80 52 63 80 F8 FF FF 7F  F8 FF FF 7F 73 30 33 33  .Rc.........s033
0AC0: 45 63 80 F8 FF FF 7F F8  FF FF 7F 73 30 33 34 00  Ec.........s034.
0AD0: 80 1C 6F 80 6E F0 FF FF  7F 70 80 99 F0 FF FF 7F  ..o.n....p......
0AE0: 1C 6F 80 2B C3 11 0F 01  71 80 23 2B C3 11 0F 01  .o.+....q.#+....
0AF0: 72 80 23 D0 55 80 C3 11  0F 01 C3 11 0F 01 6B 69  r.#.U.........ki
0B00: 65 31 00 80 1C 28 80 45  4A 80 F0 FF FF 7F F0 FF  e1...(.EJ.......
0B10: FF 7F 77 68 6F 31 00 80  55 4A 80 F0 FF FF 7F F0  ..who1..UJ......
0B20: FF FF 7F 77 68 6F 31 45  02 80 F8 FF FF 7F F8 FF  ...who1E........
0B30: FF 7F 66 64 6F 31 00 80  55 02 80 F8 FF FF 7F F8  ..fdo1..U.......
0B40: FF FF 7F 66 64 6F 31 52  63 80 F8 FF FF 7F F8 FF  ...fdo1Rc.......
0B50: FF 7F 73 30 33 34 D0 57  80 C6 11 0F 01 C6 11 0F  ..s034.W........
0B60: 01 6B 69 6C 6C 00 80 45  63 80 F8 FF FF 7F F8 FF  .kill..Ec.......
0B70: FF 7F 62 6C 6F 66 00 80  45 4A 80 F0 FF FF 7F F0  ..blof..EJ......
0B80: FF FF 7F 77 68 69 30 00  80 55 4A 80 F0 FF FF 7F  ...whi0..UJ.....
0B90: F0 FF FF 7F 77 68 69 30  35 2C 80 78 1C 06 80 5C  ....whi05,.x...\
0BA0: 00 4B 80 5C 01 4B 80 9A  46 00 45 02 80 F8 FF FF  .K.\.K..F.E.....
0BB0: 7F F8 FF FF 7F 66 64 69  32 00 80 21 00           .....fdi2..!.   
```

## Opcodes

```
  0: 0x0820 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0821 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=120*)
  2: 0x0826 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  3: 0x0837 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
  4: 0x0846 [0x46] CAMERA_CONTROL: Disable user control
  5: 0x0848 [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  6: 0x084B [0x34] LOAD_UNLOAD_ZONE(zone_id=541*)
  7: 0x084E [0x77] SET_EVENT_TIME_WEATHER(hour=255*, weather=1*)
  8: 0x0853 [0x1C] WAIT(1* ticks)
  9: 0x0856 [0x2F] Iroha (ID: 17764803/0x010F11C3)->Render.Flags0 &= ~0x80000 // Bit 19
 10: 0x085C [0x2F] Unnamed NPC (ID: 17764806/0x010F11C6)->Render.Flags0 &= ~0x80000 // Bit 19
 11: 0x0862 [0x4E] SET_ENTITY_HIDE_FLAG: Show Iroha (ID: 17764803/0x010F11C3)
 12: 0x0868 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17764806/0x010F11C6)
 13: 0x086E [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 14: 0x0874 [0x92] Iroha (ID: 17764803/0x010F11C3)->Render.Flags3 ^= 0x01
 15: 0x087A [0x92] Unnamed NPC (ID: 17764806/0x010F11C6)->Render.Flags3 ^= 0x01
 16: 0x0880 [0x94] Iroha (ID: 17764803/0x010F11C3)->Render.Flags3 ^= 0x01
 17: 0x0886 [0x94] Unnamed NPC (ID: 17764806/0x010F11C6)->Render.Flags3 ^= 0x01
 18: 0x088C [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 19: 0x0892 [0x59] UPDATE_ENTITY_DATA: Unnamed NPC (ID: 17764806/0x010F11C6)->Render.Flags0 |= 0x200000
 20: 0x0899 [0xBA] SET_ENTITY_POSITION(entity_id=Iroha (ID: 17764803/0x010F11C3), pos_x=398.621*, pos_z=-454.757*, pos_y=-19.099*, direction=272.6°*)
 21: 0x08A6 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17764806/0x010F11C6), pos_x=399.867*, pos_z=-454.677*, pos_y=-19.099*, direction=358.1°*)
 22: 0x08B3 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=401.611*, pos_z=-454.671*, pos_y=-19.099*, direction=352.6°*)
 23: 0x08C0 [0x80] LOAD_WAIT(entity=Iroha (ID: 17764803/0x010F11C3))
 24: 0x08C5 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17764806/0x010F11C6))
 25: 0x08CA [0x80] LOAD_WAIT(entity=LocalPlayer)
 26: 0x08CF [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 27: 0x08D3 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 28: 0x08D7 [0x9A] WAIT_MUSIC_SERVER()
 29: 0x08D8 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Iroha (ID: 17764803/0x010F11C3), tag_num=0x0B)
 30: 0x08DF [0x4A] LocalPlayer looks at Iroha (ID: 17764803/0x010F11C3)
 31: 0x08E8 [0x4A] Iroha (ID: 17764803/0x010F11C3) looks at LocalPlayer
 32: 0x08F1 [0x1C] WAIT(30* ticks)
 33: 0x08F4 [0xD0] LOAD_SCHEDULED_TASK_ALT5(work_offset=104*, entity1=Iroha (ID: 17764803/0x010F11C3), entity2=Iroha (ID: 17764803/0x010F11C3), action="eff0", work_offset2=0*)
 34: 0x0905 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3878*, entity1=Unnamed NPC (ID: 17764806/0x010F11C6), entity2=Unnamed NPC (ID: 17764806/0x010F11C6), action="uku0")
 35: 0x0914 [0xD0] LOAD_SCHEDULED_TASK_ALT5(work_offset=103*, entity1=Unnamed NPC (ID: 17764806/0x010F11C6), entity2=Unnamed NPC (ID: 17764806/0x010F11C6), action="star", work_offset2=0*)
 36: 0x0925 [0x1C] WAIT(30* ticks)
 37: 0x0928 [0x45] LOAD_SCHEDULED_TASK(work_offset1=764*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s028", work_offset2=0*)
 38: 0x0939 [0x1C] WAIT(15* ticks)
 39: 0x093C [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 40: 0x094D [0x1C] WAIT(180* ticks)
 41: 0x0950 [0x52] END_LOAD_SCHEDULER: End scheduler "s028" with entities [EventEntity, EventEntity], work=764*
 42: 0x095F [0x45] LOAD_SCHEDULED_TASK(work_offset1=764*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s029", work_offset2=0*)
 43: 0x0970 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3861*, entity1=Iroha (ID: 17764803/0x010F11C3), entity2=Iroha (ID: 17764803/0x010F11C3), action="tlk0")
 44: 0x097F [0x2B] Iroha (ID: 17764803/0x010F11C3) [14622*]:
    → "Master, behold your orb.\u007F1\u0000\u0007"
 45: 0x0986 [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x0987 [0x52] END_LOAD_SCHEDULER: End scheduler "s029" with entities [EventEntity, EventEntity], work=764*
 47: 0x0996 [0x45] LOAD_SCHEDULED_TASK(work_offset1=764*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s030", work_offset2=0*)
 48: 0x09A7 [0x2B] Iroha (ID: 17764803/0x010F11C3) [14623*]:
    → "Your path remains steadfast, and you have successfully reached the third gate.\u007F1\u0000\u0007"
 49: 0x09AE [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x09AF [0x52] END_LOAD_SCHEDULER: End scheduler "s030" with entities [EventEntity, EventEntity], work=764*
 51: 0x09BE [0x45] LOAD_SCHEDULED_TASK(work_offset1=764*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s031", work_offset2=0*)
 52: 0x09CF [0x5B] LOAD_EXT_SCHEDULER(work_offset=3861*, entity1=Iroha (ID: 17764803/0x010F11C3), entity2=Iroha (ID: 17764803/0x010F11C3), action="tlk1")
 53: 0x09DE [0x2B] Iroha (ID: 17764803/0x010F11C3) [14624*]:
    → "But the spirits which protect Reisenjima Sanctorium have gone silent...\u007F1\u0000\u0007"
 54: 0x09E5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 55: 0x09E6 [0x2B] Iroha (ID: 17764803/0x010F11C3) [14625*]:
    → "And I am unable to remain here in 884.\u007F1\u0000\u0007"
 56: 0x09ED [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x09EE [0x52] END_LOAD_SCHEDULER: End scheduler "s031" with entities [EventEntity, EventEntity], work=764*
 58: 0x09FD [0x45] LOAD_SCHEDULED_TASK(work_offset1=764*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s032", work_offset2=0*)
 59: 0x0A0E [0x81] SET_ENTITY_BLINKING(blink_flag=0x00, entity=Iroha (ID: 17764803/0x010F11C3))
 60: 0x0A14 [0x7C] Iroha (ID: 17764803/0x010F11C3)->Render.Flags2 |= 0x00
 61: 0x0A1A [0x5B] LOAD_EXT_SCHEDULER(work_offset=3858*, entity1=Iroha (ID: 17764803/0x010F11C3), entity2=Iroha (ID: 17764803/0x010F11C3), action="fg01")
 62: 0x0A29 [0x5F] MULTI_HANDLER_COMPLEX(mode=0x05 - Load ext scheduler with flag (OpCode 0x5B mode 0, flag 1), ref=References[105], entity1=Iroha (ID: 17764803/0x010F11C3), entity2=Iroha (ID: 17764803/0x010F11C3), string="non0", extra=References[106])
 63: 0x0A3B [0x2B] Iroha (ID: 17764803/0x010F11C3) [14626*]:
    → "My abject failure to guide you in your hour of need is a shame that I shall not overcome.\u007F1\u0000\u0007"
 64: 0x0A42 [0x23] WAIT_FOR_DIALOG_INTERACTION
 65: 0x0A43 [0x2B] Iroha (ID: 17764803/0x010F11C3) [14627*]:
    → "Had I been able to better serve you, then maybe...\u007F1\u0000\u0007"
 66: 0x0A4A [0x23] WAIT_FOR_DIALOG_INTERACTION
 67: 0x0A4B [0x5F] MULTI_HANDLER_COMPLEX(mode=0x07 - Wait scheduler task (OpCode 0x53))
 68: 0x0A59 [0x52] END_LOAD_SCHEDULER: End scheduler "s032" with entities [EventEntity, EventEntity], work=764*
 69: 0x0A68 [0x45] LOAD_SCHEDULED_TASK(work_offset1=764*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s033", work_offset2=0*)
 70: 0x0A79 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3858*, entity1=Iroha (ID: 17764803/0x010F11C3), entity2=Iroha (ID: 17764803/0x010F11C3), action="fd01")
 71: 0x0A88 [0x2B] Iroha (ID: 17764803/0x010F11C3) [14628*]:
    → "But I can safely place my trust in you. You have come this far, and the orb grows stronger with each passing day. You will be ready when the world has reached the fulcrum.\u007F1\u0000\u0007"
 72: 0x0A8F [0x23] WAIT_FOR_DIALOG_INTERACTION
 73: 0x0A90 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3858*, entity1=Iroha (ID: 17764803/0x010F11C3), entity2=Iroha (ID: 17764803/0x010F11C3), action="fd00")
 74: 0x0A9F [0x5B] LOAD_EXT_SCHEDULER(work_offset=3865*, entity1=Iroha (ID: 17764803/0x010F11C3), entity2=Iroha (ID: 17764803/0x010F11C3), action="hiz0")
 75: 0x0AAE [0x1C] WAIT(60* ticks)
 76: 0x0AB1 [0x52] END_LOAD_SCHEDULER: End scheduler "s033" with entities [EventEntity, EventEntity], work=764*
 77: 0x0AC0 [0x45] LOAD_SCHEDULED_TASK(work_offset1=764*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s034", work_offset2=0*)
 78: 0x0AD1 [0x1C] WAIT(60* ticks)
 79: 0x0AD4 [0x6E] LocalPlayer uses emote 21*
 80: 0x0ADB [0x99] Wait for LocalPlayer animation to complete
 81: 0x0AE0 [0x1C] WAIT(60* ticks)
 82: 0x0AE3 [0x2B] Iroha (ID: 17764803/0x010F11C3) [14629*]:
    → "May your steps remain swift and true.\u007F1\u0000\u0007"
 83: 0x0AEA [0x23] WAIT_FOR_DIALOG_INTERACTION
 84: 0x0AEB [0x2B] Iroha (ID: 17764803/0x010F11C3) [14630*]:
    → "Head for...the palace...\u007F1\u0000\u0007"
 85: 0x0AF2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 86: 0x0AF3 [0xD0] LOAD_SCHEDULED_TASK_ALT5(work_offset=104*, entity1=Iroha (ID: 17764803/0x010F11C3), entity2=Iroha (ID: 17764803/0x010F11C3), action="kie1", work_offset2=0*)
 87: 0x0B04 [0x1C] WAIT(240* ticks)
 88: 0x0B07 [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="who1", work_offset2=0*)
 89: 0x0B18 [0x55] WAIT_LOAD_SCHEDULER(work_offset=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="who1")
 90: 0x0B27 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 91: 0x0B38 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
 92: 0x0B47 [0x52] END_LOAD_SCHEDULER: End scheduler "s034" with entities [EventEntity, EventEntity], work=764*
 93: 0x0B56 [0xD0] LOAD_SCHEDULED_TASK_ALT5(work_offset=103*, entity1=Unnamed NPC (ID: 17764806/0x010F11C6), entity2=Unnamed NPC (ID: 17764806/0x010F11C6), action="kill", work_offset2=0*)
 94: 0x0B67 [0x45] LOAD_SCHEDULED_TASK(work_offset1=764*, entity1=EventEntity, entity2=EventEntity, scheduler_id="blof", work_offset2=0*)
 95: 0x0B78 [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="whi0", work_offset2=0*)
 96: 0x0B89 [0x55] WAIT_LOAD_SCHEDULER(work_offset=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="whi0")
 97: 0x0B98 [0x35] LOAD_ZONE_NO_CLOSE(zone_id=241*)
 98: 0x0B9B [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 99: 0x0B9C [0x1C] WAIT(1* ticks)
100: 0x0B9F [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 151*
101: 0x0BA3 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 151*
102: 0x0BA7 [0x9A] WAIT_MUSIC_SERVER()
103: 0x0BA8 [0x46] CAMERA_CONTROL: Restore default settings
104: 0x0BAA [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi2", work_offset2=0*)
105: 0x0BBB [0x21] END_EVENT
106: 0x0BBC [0x00] END_REQSTACK()
```
