# Event 947

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 19/33     |
| Offset          | 0x1590    |
| Data Size       | 235 bytes |
| Calculated Size | 235 bytes |
| Instructions    | 50        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1590: 4A F8 FF FF 7F F0 FF FF  7F 4A F0 FF FF 7F F8 FF  J........J......
15A0: FF 7F 6F 70 66 08 80 F8  FF FF 7F F8 FF FF 7F 74  ..opf..........t
15B0: 6C 6B 30 1D DB 80 23 66  08 80 F8 FF FF 7F F8 FF  lk0...#f........
15C0: FF 7F 74 6C 6B 31 03 01  10 0E 80 43 00 43 01 02  ..tlk1.....C.C..
15D0: 09 10 00 80 03 D9 15 21  00 03 15 00 02 10 03 16  .......!........
15E0: 00 03 10 03 1D 00 04 10  1A D4 1D 1D DC 80 23 24  ..............#$
15F0: DD 80 00 80 00 80 25 02  00 10 00 80 00 0D 16 1D  ......%.........
1600: DE 80 23 03 01 10 6E 80  21 00 01 0D 16 66 08 80  ..#...n.!....f..
1610: F8 FF FF 7F F8 FF FF 7F  74 68 6B 31 1D DF 80 23  ........thk1...#
1620: 66 08 80 F8 FF FF 7F F8  FF FF 7F 74 68 6B 32 24  f..........thk2$
1630: E0 80 00 80 00 80 25 02  00 10 00 80 00 4D 16 1D  ......%......M..
1640: DE 80 23 03 01 10 6E 80  21 00 01 4D 16 42 66 08  ..#...n.!..M.Bf.
1650: 80 F8 FF FF 7F F8 FF FF  7F 74 6C 6B 30 1D E1 80  .........tlk0...
1660: 23 1D E2 80 23 66 08 80  F8 FF FF 7F F8 FF FF 7F  #...#f..........
1670: 74 6C 6B 31 03 01 10 0E  80 21 00                 tlk1.....!.     
```

## Opcodes

```
  0: 0x1590 [0x4A] EventEntity looks at LocalPlayer
  1: 0x1599 [0x4A] LocalPlayer looks at EventEntity
  2: 0x15A2 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x15A3 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x15A4 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=40*
  5: 0x15B3 [0x1D] PRINT_EVENT_MESSAGE(message_id=14942*)
    → "Your current requestaru is...\u007F1\u0000\u0007"
  6: 0x15B6 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x15B7 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=40*
  8: 0x15C6 [0x03] Work_Zone[1] = 1*
  9: 0x15CB [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 10: 0x15CD [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 11: 0x15CF [0x02] IF !(Work_Zone[9] >= 0*) GOTO 0x15D9
 12: 0x15D7 [0x21] END_EVENT
 13: 0x15D8 [0x00] END_REQSTACK()
 14: 0x15D9 [0x03] ExtData[1]->WorkLocal[21] = Work_Zone[2]
 15: 0x15DE [0x03] ExtData[1]->WorkLocal[22] = Work_Zone[3]
 16: 0x15E3 [0x03] ExtData[1]->WorkLocal[29] = Work_Zone[4]
 17: 0x15E8 [0x1A] CALL_SUBROUTINE(address=0x1DD4)
 18: 0x15EB [0x1D] PRINT_EVENT_MESSAGE(message_id=14943*)
    → "How is everything going?\u007F1\u0000\u0007"
 19: 0x15EE [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x15EF [0x24] CREATE_DIALOG(message_id=14944*, default_option=0*, option_flags=0*)
    → "How is your progress?\u0007\u000BFine.\u0007I give up.\u007F1\u0000\u0007"
 21: 0x15F6 [0x25] WAIT_DIALOG_SELECT()
 22: 0x15F7 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x160D
 23: 0x15FF [0x1D] PRINT_EVENT_MESSAGE(message_id=14945*)
    → "Glad-wad to hear it!\u007F1\u0000\u0007"
 24: 0x1602 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x1603 [0x03] Work_Zone[1] = 1073741824*
 26: 0x1608 [0x21] END_EVENT
 27: 0x1609 [0x00] END_REQSTACK()

SUBROUTINE_160D:
 28: 0x160D [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [EventEntity, EventEntity], work=40*
 29: 0x161C [0x1D] PRINT_EVENT_MESSAGE(message_id=14946*)
    → "Terrible news indeed! Are you sure there's nothing to be done?\u007F1\u0000\u0007"
 30: 0x161F [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x1620 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [EventEntity, EventEntity], work=40*
 32: 0x162F [0x24] CREATE_DIALOG(message_id=14947*, default_option=0*, option_flags=0*)
    → "Really give up?\u0007\u000BNot yet.\u0007Yes.\u007F1\u0000\u0007"
 33: 0x1636 [0x25] WAIT_DIALOG_SELECT()
 34: 0x1637 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x164D
 35: 0x163F [0x1D] PRINT_EVENT_MESSAGE(message_id=14945*)
    → "Glad-wad to hear it!\u007F1\u0000\u0007"
 36: 0x1642 [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x1643 [0x03] Work_Zone[1] = 1073741824*
 38: 0x1648 [0x21] END_EVENT
 39: 0x1649 [0x00] END_REQSTACK()

SUBROUTINE_164D:
 40: 0x164D [0x42] SET_CLI_EVENT_CANCEL_DATA()
 41: 0x164E [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=40*
 42: 0x165D [0x1D] PRINT_EVENT_MESSAGE(message_id=14948*)
    → "That's too bad-wad. I'll just have to get someone else to fill the order.\u007F1\u0000\u0007"
 43: 0x1660 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x1661 [0x1D] PRINT_EVENT_MESSAGE(message_id=14949*)
    → "Not that I can blame you for wanting a break. Let me know when you change your mind.\u007F1\u0000\u0007"
 45: 0x1664 [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x1665 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=40*
 47: 0x1674 [0x03] Work_Zone[1] = 1*
 48: 0x1679 [0x21] END_EVENT
 49: 0x167A [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x160A [0x01] GOTO 0x160D
# Dead code (unreachable instructions):
     0x164A [0x01] GOTO 0x164D
```