# Event 948

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 18/33     |
| Offset          | 0x14E0    |
| Data Size       | 176 bytes |
| Calculated Size | 176 bytes |
| Instructions    | 39        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
14E0: 42 4A F8 FF FF 7F F0 FF  FF 7F 4A F0 FF FF 7F F8  BJ........J.....
14F0: FF FF 7F 6F 70 66 08 80  F8 FF FF 7F F8 FF FF 7F  ...opf..........
1500: 74 6C 6B 30 02 02 10 D8  80 80 13 15 1D D9 80 23  tlk0...........#
1510: 01 38 15 02 02 10 11 80  80 2B 15 03 02 10 07 80  .8.......+......
1520: 1D DA 80 23 1D D0 80 23  01 38 15 03 02 10 0E 80  ...#...#.8......
1530: 1D DA 80 23 1D D0 80 23  66 08 80 F8 FF FF 7F F8  ...#...#f.......
1540: FF FF 7F 74 6C 6B 31 03  01 10 0E 80 43 00 43 01  ...tlk1.....C.C.
1550: 02 09 10 00 80 03 5A 15  21 00 03 15 00 02 10 03  ......Z.!.......
1560: 16 00 03 10 03 1D 00 04  10 1A D4 1D 66 08 80 F8  ............f...
1570: FF FF 7F F8 FF FF 7F 74  6C 6B 30 1D D1 80 23 66  .......tlk0...#f
1580: 08 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 31 21 00  ..........tlk1!.
```

## Opcodes

```
  0: 0x14E0 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x14E1 [0x4A] EventEntity looks at LocalPlayer
  2: 0x14EA [0x4A] LocalPlayer looks at EventEntity
  3: 0x14F3 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x14F4 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  5: 0x14F5 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=40*
  6: 0x1504 [0x02] IF !(Work_Zone[2] == 4294967295*) GOTO 0x1513
  7: 0x150C [0x1D] PRINT_EVENT_MESSAGE(message_id=14950*)
    → "I trust that everything is going well? Let me give you your next assignment.\u007F1\u0000\u0007"
  8: 0x150F [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x1510 [0x01] GOTO 0x1538
 10: 0x1513 [0x02] IF !(Work_Zone[2] == 3*) GOTO 0x152B
 11: 0x151B [0x03] Work_Zone[2] = 2*
 12: 0x1520 [0x1D] PRINT_EVENT_MESSAGE(message_id=14951*)
    → "I've received work that the order was successfully filled-willed. Well done!\u007F1\u0000\u0007"
 13: 0x1523 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x1524 [0x1D] PRINT_EVENT_MESSAGE(message_id=14935*)
    → "Here is the \u000C\u0000[first/second/last] order.\u007F1\u0000\u0007"
 15: 0x1527 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x1528 [0x01] GOTO 0x1538
 17: 0x152B [0x03] Work_Zone[2] = 1*
 18: 0x1530 [0x1D] PRINT_EVENT_MESSAGE(message_id=14951*)
    → "I've received work that the order was successfully filled-willed. Well done!\u007F1\u0000\u0007"
 19: 0x1533 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x1534 [0x1D] PRINT_EVENT_MESSAGE(message_id=14935*)
    → "Here is the \u000C\u0000[first/second/last] order.\u007F1\u0000\u0007"
 21: 0x1537 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_1538:
 22: 0x1538 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=40*
 23: 0x1547 [0x03] Work_Zone[1] = 1*
 24: 0x154C [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 25: 0x154E [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 26: 0x1550 [0x02] IF !(Work_Zone[9] >= 0*) GOTO 0x155A
 27: 0x1558 [0x21] END_EVENT
 28: 0x1559 [0x00] END_REQSTACK()
 29: 0x155A [0x03] ExtData[1]->WorkLocal[21] = Work_Zone[2]
 30: 0x155F [0x03] ExtData[1]->WorkLocal[22] = Work_Zone[3]
 31: 0x1564 [0x03] ExtData[1]->WorkLocal[29] = Work_Zone[4]
 32: 0x1569 [0x1A] CALL_SUBROUTINE(address=0x1DD4)
 33: 0x156C [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=40*
 34: 0x157B [0x1D] PRINT_EVENT_MESSAGE(message_id=14941*)
    → "Report back once you have delivered-wivered the items.\u007F1\u0000\u0007"
 35: 0x157E [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x157F [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=40*
 37: 0x158E [0x21] END_EVENT
 38: 0x158F [0x00] END_REQSTACK()
```
