# 17764365 - Papo-Hopo

## Common Data

| Field            | Value                    |
|------------------|--------------------------|
| Zone             | Windurst Woods (ID: 241) |
| Block Size       | 636 bytes                |
| Total Events     | 19                       |
| References Count | 29                       |

## List of Events

| Event ID                   | Entrypoint   |   Size |   Instructions |
|----------------------------|--------------|--------|----------------|
| [65535](#event-65535)      | 0x0000       |      1 |              1 |
| [65535.1](#event-655351)   | 0x0001       |     16 |              2 |
| [65535.2](#event-655352)   | 0x0011       |     14 |              2 |
| [65535.3](#event-655353)   | 0x001F       |     19 |              3 |
| [65535.4](#event-655354)   | 0x0032       |     16 |              2 |
| [65535.5](#event-655355)   | 0x0042       |     16 |              2 |
| [65535.6](#event-655356)   | 0x0052       |     16 |              2 |
| [65535.7](#event-655357)   | 0x0062       |     14 |              2 |
| [65535.8](#event-655358)   | 0x0070       |     22 |              3 |
| [65535.9](#event-655359)   | 0x0086       |     20 |              3 |
| [65535.10](#event-6553510) | 0x009A       |      9 |              3 |
| [65535.11](#event-6553511) | 0x00A3       |     35 |              8 |
| [65535.12](#event-6553512) | 0x00C6       |     15 |              5 |
| [65535.13](#event-6553513) | 0x00D5       |     15 |              5 |
| [65535.14](#event-6553514) | 0x00E4       |     15 |              5 |
| [11](#event-11)            | 0x00F3       |      1 |              1 |
| [367](#event-367)          | 0x00F4       |      1 |              1 |
| [65535.15](#event-6553515) | 0x00F5       |      5 |              3 |
| [65535.16](#event-6553516) | 0x00FA       |    176 |             27 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x0055      |          85 |
|       1 | 0x001E      |          30 |
|       2 | 0x3B06      |       15110 |
|       3 | 0xFFFF41DC  |  4294918620 |
|       4 | 0x07CF      |        1999 |
|       5 | 0x0DC1      |        3521 |
|       6 | 0x0015      |          21 |
|       7 | 0x5AC8      |       23240 |
|       8 | 0xFFFF5306  |  4294923014 |
|       9 | 0x5826      |       22566 |
|      10 | 0xFFFF5E94  |  4294925972 |
|      11 | 0x0007      |           7 |
|      12 | 0x5C3A      |       23610 |
|      13 | 0xFFFF5F20  |  4294926112 |
|      14 | 0x5259      |       21081 |
|      15 | 0xFFFF8232  |  4294935090 |
|      16 | 0x07BE      |        1982 |
|      17 | 0x20AC      |        8364 |
|      18 | 0x00F1      |         241 |
|      19 | 0x0000      |           0 |
|      20 | 0x0001      |           1 |
|      21 | 0xFFFFDA7C  |  4294957692 |
|      22 | 0xFFFF116B  |  4294906219 |
|      23 | 0x20AE      |        8366 |
|      24 | 0x008D      |         141 |
|      25 | 0x1B1A      |        6938 |
|      26 | 0x20AF      |        8367 |
|      27 | 0x1B1B      |        6939 |
|      28 | 0x20B0      |        8368 |

## String References

- **8364**: <Sigh>......
- **8368**: Ah, we forgot to intwoduce ourselves. We are da Star Onion Bwigade! We are da pwotectors of a bwighter tomorrow! It'll pay you to wemember us!

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 65535.1

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 16 bytes |
| Instructions | 2        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    5B 00 80 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 30   [..........tlk0
0010: 00                                                .               
```

#### Opcodes

```
  0: 0x0001 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=85*
  1: 0x0010 [0x00] END_REQSTACK()
```

### Event 65535.2

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0011   |
| Data Size    | 14 bytes |
| Instructions | 2        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0010:    53 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 00      S........tlk0. 
```

#### Opcodes

```
  0: 0x0011 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk0" with entities [EventEntity, EventEntity]
  1: 0x001E [0x00] END_REQSTACK()
```

### Event 65535.3

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x001F   |
| Data Size    | 19 bytes |
| Instructions | 3        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0010:                                               5B                 [
0020: 00 80 F8 FF FF 7F F8 FF  FF 7F 6A 6D 70 30 1C 01  ..........jmp0..
0030: 80 00                                             ..              
```

#### Opcodes

```
  0: 0x001F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "jmp0" with entities [EventEntity, EventEntity], work=85*
  1: 0x002E [0x1C] WAIT(30* ticks)
  2: 0x0031 [0x00] END_REQSTACK()
```

### Event 65535.4

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0032   |
| Data Size    | 16 bytes |
| Instructions | 2        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0030:       5B 00 80 F8 FF FF  7F F8 FF FF 7F 74 68 6B    [..........thk
0040: 31 00                                             1.              
```

#### Opcodes

```
  0: 0x0032 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk1" with entities [EventEntity, EventEntity], work=85*
  1: 0x0041 [0x00] END_REQSTACK()
```

### Event 65535.5

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0042   |
| Data Size    | 16 bytes |
| Instructions | 2        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0040:       5B 00 80 F8 FF FF  7F F8 FF FF 7F 74 68 6B    [..........thk
0050: 32 00                                             2.              
```

#### Opcodes

```
  0: 0x0042 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk2" with entities [EventEntity, EventEntity], work=85*
  1: 0x0051 [0x00] END_REQSTACK()
```

### Event 65535.6

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0052   |
| Data Size    | 16 bytes |
| Instructions | 2        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0050:       5B 00 80 F8 FF FF  7F F8 FF FF 7F 70 61 73    [..........pas
0060: 30 00                                             0.              
```

#### Opcodes

```
  0: 0x0052 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "pas0" with entities [EventEntity, EventEntity], work=85*
  1: 0x0061 [0x00] END_REQSTACK()
```

### Event 65535.7

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0062   |
| Data Size    | 14 bytes |
| Instructions | 2        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0060:       53 F8 FF FF 7F F8  FF FF 7F 70 61 73 30 00    S........pas0.
```

#### Opcodes

```
  0: 0x0062 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "pas0" with entities [EventEntity, EventEntity]
  1: 0x006F [0x00] END_REQSTACK()
```

### Event 65535.8

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0070   |
| Data Size    | 22 bytes |
| Instructions | 3        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0070: 7C 00 F8 FF FF 7F 5B 00  80 F8 FF FF 7F F8 FF FF  |.....[.........
0080: 7F 73 75 72 30 00                                 .sur0.          
```

#### Opcodes

```
  0: 0x0070 [0x7C] EventEntity->Render.Flags2 |= 0x00
  1: 0x0076 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "sur0" with entities [EventEntity, EventEntity], work=85*
  2: 0x0085 [0x00] END_REQSTACK()
```

### Event 65535.9

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0086   |
| Data Size    | 20 bytes |
| Instructions | 3        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0080:                   53 F8  FF FF 7F F8 FF FF 7F 73        S........s
0090: 75 72 30 7C 01 F8 FF FF  7F 00                    ur0|......      
```

#### Opcodes

```
  0: 0x0086 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "sur0" with entities [EventEntity, EventEntity]
  1: 0x0093 [0x7C] EventEntity->Render.Flags2 |= 0x01
  2: 0x0099 [0x00] END_REQSTACK()
```

### Event 65535.10

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x009A  |
| Data Size    | 9 bytes |
| Instructions | 3       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0090:                                5E 69 64 6C 30 1C            ^idl0.
00A0: 01 80 00                                          ...             
```

#### Opcodes

```
  0: 0x009A [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
  1: 0x009F [0x1C] WAIT(30* ticks)
  2: 0x00A2 [0x00] END_REQSTACK()
```

### Event 65535.11

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00A3   |
| Data Size    | 35 bytes |
| Instructions | 8        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00A0:          37 02 80 03 80  04 80 05 80 4E 00 0D 10     7........N...
00B0: 0F 01 32 06 80 1F 00 07  80 08 80 04 80 1F 01 6F  ..2............o
00C0: 1E 0F 10 0F 01 00                                 ......          
```

#### Opcodes

```
  0: 0x00A3 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=15.110*, z=-48.676*, y=1.999*, direction=309.5°*
  1: 0x00AC [0x4E] SET_ENTITY_HIDE_FLAG: Show Papo-Hopo (ID: 17764365/0x010F100D)
  2: 0x00B2 [0x32] ExtData[1]->MainSpeed = 21* * 0.1
  3: 0x00B5 [0x1F] MOVE_ENTITY: EventEntity moves to X=23.240*, Z=-44.282*, Y=1.999*
  4: 0x00BD [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  5: 0x00BF [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  6: 0x00C0 [0x1E] EventEntity looks at Nanaa Mihgo (ID: 17764367/0x010F100F) and starts talking
  7: 0x00C5 [0x00] END_REQSTACK()
```

### Event 65535.12

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00C6   |
| Data Size    | 15 bytes |
| Instructions | 5        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00C0:                   32 06  80 1F 00 09 80 0A 80 04        2.........
00D0: 80 1F 01 6F 00                                    ...o.           
```

#### Opcodes

```
  0: 0x00C6 [0x32] ExtData[1]->MainSpeed = 21* * 0.1
  1: 0x00C9 [0x1F] MOVE_ENTITY: EventEntity moves to X=22.566*, Z=-41.324*, Y=1.999*
  2: 0x00D1 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  3: 0x00D3 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x00D4 [0x00] END_REQSTACK()
```

### Event 65535.13

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00D5   |
| Data Size    | 15 bytes |
| Instructions | 5        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00D0:                32 0B 80  1F 00 0C 80 0D 80 04 80       2..........
00E0: 1F 01 6F 00                                       ..o.            
```

#### Opcodes

```
  0: 0x00D5 [0x32] ExtData[1]->MainSpeed = 7* * 0.1
  1: 0x00D8 [0x1F] MOVE_ENTITY: EventEntity moves to X=23.610*, Z=-41.184*, Y=1.999*
  2: 0x00E0 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  3: 0x00E2 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x00E3 [0x00] END_REQSTACK()
```

### Event 65535.14

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00E4   |
| Data Size    | 15 bytes |
| Instructions | 5        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00E0:             32 06 80 1F  00 0E 80 0F 80 10 80 1F      2...........
00F0: 01 6F 00                                          .o.             
```

#### Opcodes

```
  0: 0x00E4 [0x32] ExtData[1]->MainSpeed = 21* * 0.1
  1: 0x00E7 [0x1F] MOVE_ENTITY: EventEntity moves to X=21.081*, Z=-32.206*, Y=1.982*
  2: 0x00EF [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  3: 0x00F1 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x00F2 [0x00] END_REQSTACK()
```

### Event 11

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x00F3  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00F0:          00                                          .            
```

#### Opcodes

```
  0: 0x00F3 [0x00] END_REQSTACK()
```

### Event 367

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x00F4  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00F0:             00                                        .           
```

#### Opcodes

```
  0: 0x00F4 [0x00] END_REQSTACK()
```

### Event 65535.15

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x00F5  |
| Data Size    | 5 bytes |
| Instructions | 3       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00F0:                1D 11 80  23 00                         ...#.      
```

#### Opcodes

```
  0: 0x00F5 [0x1D] PRINT_EVENT_MESSAGE(message_id=8364*)
    → "<Sigh>......"
  1: 0x00F8 [0x23] WAIT_FOR_DIALOG_INTERACTION
  2: 0x00F9 [0x00] END_REQSTACK()
```

### Event 65535.16

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x00FA    |
| Data Size    | 176 bytes |
| Instructions | 27        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00F0:                                C8 12 80 13 80 14            ......
0100: 80 8B 12 80 13 80 15 80  16 80 4A 61 63 6B 5F 6F  ..........Jack_o
0110: 66 5F 53 70 61 64 65 73  00 00 29 08 0D 10 0F 01  f_Spades..).....
0120: 01 2B 0D 10 0F 01 17 80  23 29 08 0D 10 0F 01 02  .+......#)......
0130: 8A 52 18 80 F0 FF FF 7F  F0 FF FF 7F 73 30 32 34  .R..........s024
0140: 45 18 80 F0 FF FF 7F F0  FF FF 7F 73 31 35 30 13  E..........s150.
0150: 80 2B 0D 10 0F 01 19 80  23 52 18 80 F0 FF FF 7F  .+......#R......
0160: F0 FF FF 7F 73 31 35 30  45 18 80 F0 FF FF 7F F0  ....s150E.......
0170: FF FF 7F 73 30 32 34 13  80 29 08 0D 10 0F 01 06  ...s024..)......
0180: 2B 0D 10 0F 01 1A 80 23  29 08 0D 10 0F 01 07 2B  +......#)......+
0190: 0D 10 0F 01 1B 80 23 29  08 0D 10 0F 01 08 1D 1C  ......#)........
01A0: 80 23 29 08 0D 10 0F 01  09 00                    .#).......      
```

#### Opcodes

```
  0: 0x00FA [0xC8] OPEN_MAP_WINDOW(zone=0x8012, submap=0x8013, flag=0x8014)
  1: 0x0101 [0x8B] SET_EVENT_MARK: Add/update map marker on map 241* at (-9.604*, -61.077*), index=0*, name=(no name)
  2: 0x010A [0x4A] Unknown NPC (ID: 1600873313/0x5F6B6361) looks at Unknown NPC (ID: 1398761071/0x535F666F)
  3: 0x0113 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x0114 [0x61] EventEntity->Render.Flags2 &= ~0x00000001
  5: 0x0116 [0x65] CALCULATE_3D_DISTANCE(result=0x73, entity1=Unknown NPC (ID: 218638592/0x0D082900), entity2=Unknown NPC (ID: 16846608/0x01010F10))
  6: 0x0121 [0x2B] Papo-Hopo (ID: 17764365/0x010F100D) [8366*]:
    → "If you need weal help, head towards da fountain. Jack of Spades is on guard around dere. He will teach you all you need to know. Check da "Map" to find da way dere."
  7: 0x0128 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x0129 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Papo-Hopo (ID: 17764365/0x010F100D), tag_num=0x02)
  9: 0x0130 [0x8A] CLOSE_MAP()
 10: 0x0131 [0x52] END_LOAD_SCHEDULER: End scheduler "s024" with entities [LocalPlayer, LocalPlayer], work=141*
 11: 0x0140 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s150" with entities [LocalPlayer, LocalPlayer], work=[141*, 0*]
 12: 0x0151 [0x2B] Papo-Hopo (ID: 17764365/0x010F100D) [6938*]:
    → "Jack looks a bit scawy, but I pwomise he's de nicest Cawdian you'll ever meet!"
 13: 0x0158 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0159 [0x52] END_LOAD_SCHEDULER: End scheduler "s150" with entities [LocalPlayer, LocalPlayer], work=141*
 15: 0x0168 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s024" with entities [LocalPlayer, LocalPlayer], work=[141*, 0*]
 16: 0x0179 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Papo-Hopo (ID: 17764365/0x010F100D), tag_num=0x06)
 17: 0x0180 [0x2B] Papo-Hopo (ID: 17764365/0x010F100D) [8367*]:
    → "Oh, and give Jack dis. You can give it to him by using da main menu's "Trade" option."
 18: 0x0187 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x0188 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Papo-Hopo (ID: 17764365/0x010F100D), tag_num=0x07)
 20: 0x018F [0x2B] Papo-Hopo (ID: 17764365/0x010F100D) [6939*]:
    → "I've mawked his location on your map for you! Select "Map" from the main menu, and choose "Markers" and scwoll to the wight."
 21: 0x0196 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x0197 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Papo-Hopo (ID: 17764365/0x010F100D), tag_num=0x08)
 23: 0x019E [0x1D] PRINT_EVENT_MESSAGE(message_id=8368*)
    → "Ah, we forgot to intwoduce ourselves. We are da Star Onion Bwigade! We are da pwotectors of a bwighter tomorrow! It'll pay you to wemember us!"
 24: 0x01A1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x01A2 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Papo-Hopo (ID: 17764365/0x010F100D), tag_num=0x09)
 26: 0x01A9 [0x00] END_REQSTACK()
```
