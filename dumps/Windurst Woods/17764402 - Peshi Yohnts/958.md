# Event 958

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 17/32     |
| Offset          | 0x13C8    |
| Data Size       | 176 bytes |
| Calculated Size | 176 bytes |
| Instructions    | 39        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
13C0:                          42 4A F8 FF FF 7F F0 FF          BJ......
13D0: FF 7F 4A F0 FF FF 7F F8  FF FF 7F 6F 70 66 10 80  ..J........opf..
13E0: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 02 02 10 C5  ........tlk0....
13F0: 80 80 FB 13 1D C6 80 23  01 20 14 02 02 10 11 80  .......#. ......
1400: 80 13 14 03 02 10 07 80  1D C7 80 23 1D BD 80 23  ...........#...#
1410: 01 20 14 03 02 10 0E 80  1D C7 80 23 1D BD 80 23  . .........#...#
1420: 66 10 80 F8 FF FF 7F F8  FF FF 7F 74 6C 6B 31 03  f..........tlk1.
1430: 01 10 0E 80 43 00 43 01  02 09 10 00 80 03 42 14  ....C.C.......B.
1440: 21 00 03 16 00 02 10 03  17 00 03 10 03 1E 00 04  !...............
1450: 10 1A B2 1C 66 10 80 F8  FF FF 7F F8 FF FF 7F 74  ....f..........t
1460: 6C 6B 30 1D BE 80 23 66  10 80 F8 FF FF 7F F8 FF  lk0...#f........
1470: FF 7F 74 6C 6B 31 21 00                           ..tlk1!.        
```

## Opcodes

```
  0: 0x13C8 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x13C9 [0x4A] EventEntity looks at LocalPlayer
  2: 0x13D2 [0x4A] LocalPlayer looks at EventEntity
  3: 0x13DB [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x13DC [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  5: 0x13DD [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=50*
  6: 0x13EC [0x02] IF !(Work_Zone[2] == 4294967295*) GOTO 0x13FB
  7: 0x13F4 [0x1D] PRINT_EVENT_MESSAGE(message_id=15059*)
    → "Hello. You look like you're feeling better. Indeed, you're not nearrrly as pale as you were before! Okay, let's get down to business, shall we?\u007F1\u0000\u0007"
  8: 0x13F7 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x13F8 [0x01] GOTO 0x1420

SUBROUTINE_13FB:
 10: 0x13FB [0x02] IF !(Work_Zone[2] == 3*) GOTO 0x1413
 11: 0x1403 [0x03] Work_Zone[2] = 2*
 12: 0x1408 [0x1D] PRINT_EVENT_MESSAGE(message_id=15060*)
    → "Ahh, it seems you've finished the deliverrry to our customer. Nice work!\u007F1\u0000\u0007"
 13: 0x140B [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x140C [0x1D] PRINT_EVENT_MESSAGE(message_id=15044*)
    → "This is the \u000C\u0000[first/next/last] request.\u007F1\u0000\u0007"
 15: 0x140F [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x1410 [0x01] GOTO 0x1420

SUBROUTINE_1413:
 17: 0x1413 [0x03] Work_Zone[2] = 1*
 18: 0x1418 [0x1D] PRINT_EVENT_MESSAGE(message_id=15060*)
    → "Ahh, it seems you've finished the deliverrry to our customer. Nice work!\u007F1\u0000\u0007"
 19: 0x141B [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x141C [0x1D] PRINT_EVENT_MESSAGE(message_id=15044*)
    → "This is the \u000C\u0000[first/next/last] request.\u007F1\u0000\u0007"
 21: 0x141F [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x1420 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=50*
 23: 0x142F [0x03] Work_Zone[1] = 1*
 24: 0x1434 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 25: 0x1436 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 26: 0x1438 [0x02] IF !(Work_Zone[9] >= 0*) GOTO 0x1442
 27: 0x1440 [0x21] END_EVENT
 28: 0x1441 [0x00] END_REQSTACK()

SUBROUTINE_1442:
 29: 0x1442 [0x03] ExtData[1]->WorkLocal[22] = Work_Zone[2]
 30: 0x1447 [0x03] ExtData[1]->WorkLocal[23] = Work_Zone[3]
 31: 0x144C [0x03] ExtData[1]->WorkLocal[30] = Work_Zone[4]
 32: 0x1451 [0x1A] CALL_SUBROUTINE(address=0x1CB2)
 33: 0x1454 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=50*
 34: 0x1463 [0x1D] PRINT_EVENT_MESSAGE(message_id=15050*)
    → "Don't forrrget to report back to me once you finish the request.\u007F1\u0000\u0007"
 35: 0x1466 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x1467 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=50*
 37: 0x1476 [0x21] END_EVENT
 38: 0x1477 [0x00] END_REQSTACK()
```
