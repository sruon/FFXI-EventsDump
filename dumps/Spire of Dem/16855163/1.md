# Event 1

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/6       |
| Offset          | 0x016B    |
| Data Size       | 924 bytes |
| Calculated Size | 924 bytes |
| Instructions    | 120       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0160:                                   42 1A B6 0A 5D             B...]
0170: 01 80 2B 80 46 01 38 2C  80 79 00 F0 FF FF 7F F0  ..+.F.8,.y......
0180: FF FF 7F 34 2D 80 77 2E  80 02 80 1C 2F 80 AB 09  ...4-.w...../...
0190: 27 10 7E 30 01 01 02 27  10 7F 30 01 01 02 27 10  '.~0...'..0...'.
01A0: 80 30 01 01 02 27 10 81  30 01 01 02 92 01 F0 FF  .0...'..0.......
01B0: FF 7F 92 01 7E 30 01 01  92 01 7F 30 01 01 92 01  ....~0.....0....
01C0: 80 30 01 01 92 01 81 30  01 01 27 10 F0 FF FF 7F  .0.....0..'.....
01D0: 0C 27 10 7E 30 01 01 0D  27 10 7F 30 01 01 0C 27  .'.~0...'..0...'
01E0: 10 80 30 01 01 0B 27 10  81 30 01 01 0B 27 10 82  ..0...'..0...'..
01F0: 30 01 01 02 27 10 83 30  01 01 02 27 10 84 30 01  0...'..0...'..0.
0200: 01 02 27 10 85 30 01 01  02 2D F8 FF FF 7F F8 FF  ..'..0...-......
0210: FF 7F 6B 61 6B 73 80 F0  FF FF 7F 1C 30 80 27 10  ..kaks......0.'.
0220: F0 FF FF 7F 0F 45 04 80  F0 FF FF 7F F0 FF FF 7F  .....E..........
0230: 63 31 30 30 01 80 45 31  80 F0 FF FF 7F F0 FF FF  c100..E1........
0240: 7F 66 64 69 32 01 80 2A  10 F0 FF FF 7F 55 04 80  .fdi2..*.....U..
0250: F0 FF FF 7F F0 FF FF 7F  63 31 30 30 45 04 80 F0  ........c100E...
0260: FF FF 7F F0 FF FF 7F 63  31 30 31 01 80 1C 08 80  .......c101.....
0270: 2B 7D 30 01 01 32 80 23  4A F0 FF FF 7F 7F 30 01  +}0..2.#J.....0.
0280: 01 5C 00 33 80 5C 01 33  80 5C 02 33 80 5C 03 33  .\.3.\.3.\.3.\.3
0290: 80 9A 27 10 7F 30 01 01  0E 27 10 80 30 01 01 0C  ..'..0...'..0...
02A0: 27 10 81 30 01 01 0C 52  04 80 F0 FF FF 7F F0 FF  '..0...R........
02B0: FF 7F 63 31 30 31 45 04  80 F0 FF FF 7F F0 FF FF  ..c101E.........
02C0: 7F 63 31 30 32 01 80 2B  7F 30 01 01 34 80 23 2A  .c102..+.0..4.#*
02D0: 10 7F 30 01 01 5B 35 80  7F 30 01 01 7F 30 01 01  ..0..[5..0...0..
02E0: 74 68 62 30 2B 7F 30 01  01 36 80 23 52 04 80 F0  thb0+.0..6.#R...
02F0: FF FF 7F F0 FF FF 7F 63  31 30 32 45 04 80 F0 FF  .......c102E....
0300: FF 7F F0 FF FF 7F 63 31  30 33 01 80 2B 7F 30 01  ......c103..+.0.
0310: 01 37 80 23 5B 35 80 7F  30 01 01 7F 30 01 01 68  .7.#[5..0...0..h
0320: 62 74 62 2B 7F 30 01 01  38 80 23 5B 35 80 7F 30  btb+.0..8.#[5..0
0330: 01 01 7F 30 01 01 74 6C  62 31 53 7F 30 01 01 7F  ...0..tlb1S.0...
0340: 30 01 01 74 6C 62 31 52  04 80 F0 FF FF 7F F0 FF  0..tlb1R........
0350: FF 7F 63 31 30 33 45 04  80 F0 FF FF 7F F0 FF FF  ..c103E.........
0360: 7F 63 31 6D 67 01 80 27  10 7C 30 01 01 02 5B 39  .c1mg..'.|0...[9
0370: 80 7F 30 01 01 7F 30 01  01 6D 67 63 30 2B 7F 30  ..0...0..mgc0+.0
0380: 01 01 3A 80 23 53 7F 30  01 01 7F 30 01 01 6D 67  ..:.#S.0...0..mg
0390: 63 30 27 10 7D 30 01 01  02 1C 30 80 27 10 7E 30  c0'.}0....0.'.~0
03A0: 01 01 10 52 04 80 F0 FF  FF 7F F0 FF FF 7F 63 31  ...R..........c1
03B0: 6D 67 45 04 80 F0 FF FF  7F F0 FF FF 7F 63 31 30  mgE..........c10
03C0: 34 01 80 4A F0 FF FF 7F  7E 30 01 01 2B 7F 30 01  4..J....~0..+.0.
03D0: 01 3B 80 23 52 04 80 F0  FF FF 7F F0 FF FF 7F 63  .;.#R..........c
03E0: 31 30 34 45 04 80 F0 FF  FF 7F F0 FF FF 7F 63 31  104E..........c1
03F0: 30 35 01 80 1C 2B 80 45  04 80 F0 FF FF 7F F0 FF  05...+.E........
0400: FF 7F 73 31 37 36 01 80  27 10 7C 30 01 01 03 27  ..s176..'.|0...'
0410: 10 7C 30 01 01 04 2B 7F  30 01 01 3C 80 23 27 10  .|0...+.0..<.#'.
0420: 7E 30 01 01 11 52 04 80  F0 FF FF 7F F0 FF FF 7F  ~0...R..........
0430: 63 31 30 35 45 04 80 F0  FF FF 7F F0 FF FF 7F 63  c105E..........c
0440: 31 30 36 01 80 29 10 7E  30 01 01 12 1C 2B 80 1A  106..).~0....+..
0450: F8 0A 5D 01 80 08 80 45  04 80 F0 FF FF 7F F0 FF  ..]....E........
0460: FF 7F 6B 31 37 36 01 80  1C 08 80 52 04 80 F0 FF  ..k176.....R....
0470: FF 7F F0 FF FF 7F 63 31  30 36 45 04 80 F0 FF FF  ......c106E.....
0480: 7F F0 FF FF 7F 62 6C 6F  66 01 80 9F 1B 80 82 30  .....blof......0
0490: 01 01 82 30 01 01 6B 69  6C 6C 01 80 9F 1B 80 83  ...0..kill......
04A0: 30 01 01 83 30 01 01 6B  69 6C 6C 01 80 9F 1B 80  0...0..kill.....
04B0: 84 30 01 01 84 30 01 01  6B 69 6C 6C 01 80 9F 1B  .0...0..kill....
04C0: 80 85 30 01 01 85 30 01  01 6B 69 6C 6C 01 80 1A  ..0...0..kill...
04D0: B6 0A 1A D7 0A 1C 2B 80  35 3D 80 78 1C 2F 80 AB  ......+.5=.x./..
04E0: 0A 5C 00 01 80 5C 01 01  80 5C 02 01 80 5C 03 01  .\...\...\...\..
04F0: 80 9A 46 00 45 31 80 F0  FF FF 7F F0 FF FF 7F 66  ..F.E1.........f
0500: 64 69 32 01 80 21 00                              di2..!.         
```

## Opcodes

```
  0: 0x016B [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x016C [0x1A] CALL_SUBROUTINE(address=0x0AB6)
  2: 0x016F [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=30*)
  3: 0x0174 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x0176 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x0179 [0x79] LocalPlayer looks at LocalPlayer (Basic look)
  6: 0x0183 [0x34] LOAD_UNLOAD_ZONE(zone_id=541*)
  7: 0x0186 [0x77] SET_EVENT_TIME_WEATHER(hour=12*, weather=1*)
  8: 0x018B [0x1C] WAIT(15* ticks)
  9: 0x018E [0xAB] EventEntity->UnknownFlag = 1 // Enable unknown flag
 10: 0x0190 [0x27] REQ_SET(priority=0x10, entity_id=Selh'teus (ID: 16855166/0x0101307E), tag_num=0x02)
 11: 0x0197 [0x27] REQ_SET(priority=0x10, entity_id=Nag'molada (ID: 16855167/0x0101307F), tag_num=0x02)
 12: 0x019E [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855168/0x01013080), tag_num=0x02)
 13: 0x01A5 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855169/0x01013081), tag_num=0x02)
 14: 0x01AC [0x92] LocalPlayer->Render.Flags3 ^= 0x01
 15: 0x01B2 [0x92] Selh'teus (ID: 16855166/0x0101307E)->Render.Flags3 ^= 0x01
 16: 0x01B8 [0x92] Nag'molada (ID: 16855167/0x0101307F)->Render.Flags3 ^= 0x01
 17: 0x01BE [0x92] Unnamed NPC (ID: 16855168/0x01013080)->Render.Flags3 ^= 0x01
 18: 0x01C4 [0x92] Unnamed NPC (ID: 16855169/0x01013081)->Render.Flags3 ^= 0x01
 19: 0x01CA [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x0C)
 20: 0x01D1 [0x27] REQ_SET(priority=0x10, entity_id=Selh'teus (ID: 16855166/0x0101307E), tag_num=0x0D)
 21: 0x01D8 [0x27] REQ_SET(priority=0x10, entity_id=Nag'molada (ID: 16855167/0x0101307F), tag_num=0x0C)
 22: 0x01DF [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855168/0x01013080), tag_num=0x0B)
 23: 0x01E6 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855169/0x01013081), tag_num=0x0B)
 24: 0x01ED [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855170/0x01013082), tag_num=0x02)
 25: 0x01F4 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855171/0x01013083), tag_num=0x02)
 26: 0x01FB [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855172/0x01013084), tag_num=0x02)
 27: 0x0202 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855173/0x01013085), tag_num=0x02)
 28: 0x0209 [0x2D] CREATE_ZONE_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, zone_action="kaks")
 29: 0x0216 [0x80] LOAD_WAIT(entity=LocalPlayer)
 30: 0x021B [0x1C] WAIT(45* ticks)
 31: 0x021E [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x0F)
 32: 0x0225 [0x45] LOAD_SCHEDULED_TASK(work_offset1=155*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="c100", work_offset2=0*)
 33: 0x0236 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 34: 0x0247 [0x2A] GET_REQ_LEVEL(level=16, entity_id=LocalPlayer)
 35: 0x024D [0x55] WAIT_LOAD_SCHEDULER(work_offset=155*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="c100")
 36: 0x025C [0x45] LOAD_SCHEDULED_TASK(work_offset1=155*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="c101", work_offset2=0*)
 37: 0x026D [0x1C] WAIT(90* ticks)
 38: 0x0270 [0x2B] ??? (ID: 16855165/0x0101307D) [7641*]:
    → "You shouldn't move any closer...\u007F1\u0000\u0007"
 39: 0x0277 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x0278 [0x4A] LocalPlayer looks at Nag'molada (ID: 16855167/0x0101307F)
 41: 0x0281 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 231*
 42: 0x0285 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 231*
 43: 0x0289 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 231*
 44: 0x028D [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 231*
 45: 0x0291 [0x9A] WAIT_MUSIC_SERVER()
 46: 0x0292 [0x27] REQ_SET(priority=0x10, entity_id=Nag'molada (ID: 16855167/0x0101307F), tag_num=0x0E)
 47: 0x0299 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855168/0x01013080), tag_num=0x0C)
 48: 0x02A0 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855169/0x01013081), tag_num=0x0C)
 49: 0x02A7 [0x52] END_LOAD_SCHEDULER: End scheduler "c101" with entities [LocalPlayer, LocalPlayer], work=155*
 50: 0x02B6 [0x45] LOAD_SCHEDULED_TASK(work_offset1=155*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="c102", work_offset2=0*)
 51: 0x02C7 [0x2B] Nag'molada (ID: 16855167/0x0101307F) [7642*]:
    → "Amazing.\u0007I don't know who you are, but I commend you on your ability to make it this far.\u007F1\u0000\u0007"
 52: 0x02CE [0x23] WAIT_FOR_DIALOG_INTERACTION
 53: 0x02CF [0x2A] GET_REQ_LEVEL(level=16, entity_id=Nag'molada (ID: 16855167/0x0101307F))
 54: 0x02D5 [0x5B] LOAD_EXT_SCHEDULER(work_offset=465*, entity1=Nag'molada (ID: 16855167/0x0101307F), entity2=Nag'molada (ID: 16855167/0x0101307F), action="thb0")
 55: 0x02E4 [0x2B] Nag'molada (ID: 16855167/0x0101307F) [7643*]:
    → "There she is. The mothercrystal.\u0007Well, what do you think?\u007F1\u0000\u0007"
 56: 0x02EB [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x02EC [0x52] END_LOAD_SCHEDULER: End scheduler "c102" with entities [LocalPlayer, LocalPlayer], work=155*
 58: 0x02FB [0x45] LOAD_SCHEDULED_TASK(work_offset1=155*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="c103", work_offset2=0*)
 59: 0x030C [0x2B] Nag'molada (ID: 16855167/0x0101307F) [7644*]:
    → "Can't you feel her power? Can't you feel her marvelous light streaming through your body? Can't you feel the endless joy she brings?\u007F1\u0000\u0007"
 60: 0x0313 [0x23] WAIT_FOR_DIALOG_INTERACTION
 61: 0x0314 [0x5B] LOAD_EXT_SCHEDULER(work_offset=465*, entity1=Nag'molada (ID: 16855167/0x0101307F), entity2=Nag'molada (ID: 16855167/0x0101307F), action="hbtb")
 62: 0x0323 [0x2B] Nag'molada (ID: 16855167/0x0101307F) [7645*]:
    → "The light from this crystal feeds our souls and keeps us alive... It keeps the whole world alive.\u007F1\u0000\u0007"
 63: 0x032A [0x23] WAIT_FOR_DIALOG_INTERACTION
 64: 0x032B [0x5B] LOAD_EXT_SCHEDULER(work_offset=465*, entity1=Nag'molada (ID: 16855167/0x0101307F), entity2=Nag'molada (ID: 16855167/0x0101307F), action="tlb1")
 65: 0x033A [0x53] WAIT_SCHEDULER_TASK(entity1=Nag'molada (ID: 16855167/0x0101307F), entity2=Nag'molada (ID: 16855167/0x0101307F), action_id="tlb1")
 66: 0x0347 [0x52] END_LOAD_SCHEDULER: End scheduler "c103" with entities [LocalPlayer, LocalPlayer], work=155*
 67: 0x0356 [0x45] LOAD_SCHEDULED_TASK(work_offset1=155*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="c1mg", work_offset2=0*)
 68: 0x0367 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855164/0x0101307C), tag_num=0x02)
 69: 0x036E [0x5B] LOAD_EXT_SCHEDULER(work_offset=466*, entity1=Nag'molada (ID: 16855167/0x0101307F), entity2=Nag'molada (ID: 16855167/0x0101307F), action="mgc0")
 70: 0x037D [0x2B] Nag'molada (ID: 16855167/0x0101307F) [7646*]:
    → "And that is why we cannot forgive any who attempt to harm the crystal.\u007F1\u0000\u0007"
 71: 0x0384 [0x23] WAIT_FOR_DIALOG_INTERACTION
 72: 0x0385 [0x53] WAIT_SCHEDULER_TASK(entity1=Nag'molada (ID: 16855167/0x0101307F), entity2=Nag'molada (ID: 16855167/0x0101307F), action_id="mgc0")
 73: 0x0392 [0x27] REQ_SET(priority=0x10, entity_id=??? (ID: 16855165/0x0101307D), tag_num=0x02)
 74: 0x0399 [0x1C] WAIT(45* ticks)
 75: 0x039C [0x27] REQ_SET(priority=0x10, entity_id=Selh'teus (ID: 16855166/0x0101307E), tag_num=0x10)
 76: 0x03A3 [0x52] END_LOAD_SCHEDULER: End scheduler "c1mg" with entities [LocalPlayer, LocalPlayer], work=155*
 77: 0x03B2 [0x45] LOAD_SCHEDULED_TASK(work_offset1=155*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="c104", work_offset2=0*)
 78: 0x03C3 [0x4A] LocalPlayer looks at Selh'teus (ID: 16855166/0x0101307E)
 79: 0x03CC [0x2B] Nag'molada (ID: 16855167/0x0101307F) [7647*]:
    → "!?\u0007Who are...\u0007What are you doing here!?\u007F1\u0000\u0007"
 80: 0x03D3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 81: 0x03D4 [0x52] END_LOAD_SCHEDULER: End scheduler "c104" with entities [LocalPlayer, LocalPlayer], work=155*
 82: 0x03E3 [0x45] LOAD_SCHEDULED_TASK(work_offset1=155*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="c105", work_offset2=0*)
 83: 0x03F4 [0x1C] WAIT(30* ticks)
 84: 0x03F7 [0x45] LOAD_SCHEDULED_TASK(work_offset1=155*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s176", work_offset2=0*)
 85: 0x0408 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855164/0x0101307C), tag_num=0x03)
 86: 0x040F [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16855164/0x0101307C), tag_num=0x04)
 87: 0x0416 [0x2B] Nag'molada (ID: 16855167/0x0101307F) [7648*]:
    → "That... That darkness...!\u007F1\u0000\u0007"
 88: 0x041D [0x23] WAIT_FOR_DIALOG_INTERACTION
 89: 0x041E [0x27] REQ_SET(priority=0x10, entity_id=Selh'teus (ID: 16855166/0x0101307E), tag_num=0x11)
 90: 0x0425 [0x52] END_LOAD_SCHEDULER: End scheduler "c105" with entities [LocalPlayer, LocalPlayer], work=155*
 91: 0x0434 [0x45] LOAD_SCHEDULED_TASK(work_offset1=155*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="c106", work_offset2=0*)
 92: 0x0445 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Selh'teus (ID: 16855166/0x0101307E), tag_num=0x12)
 93: 0x044C [0x1C] WAIT(30* ticks)
 94: 0x044F [0x1A] CALL_SUBROUTINE(address=0x0AF8)
 95: 0x0452 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=90*)
 96: 0x0457 [0x45] LOAD_SCHEDULED_TASK(work_offset1=155*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="k176", work_offset2=0*)
 97: 0x0468 [0x1C] WAIT(90* ticks)
 98: 0x046B [0x52] END_LOAD_SCHEDULER: End scheduler "c106" with entities [LocalPlayer, LocalPlayer], work=155*
 99: 0x047A [0x45] LOAD_SCHEDULED_TASK(work_offset1=155*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="blof", work_offset2=0*)
100: 0x048B [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "kill" with entities [Unnamed NPC (ID: 16855170/0x01013082), Unnamed NPC (ID: 16855170/0x01013082)], work=[94*, 0*]
101: 0x049C [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "kill" with entities [Unnamed NPC (ID: 16855171/0x01013083), Unnamed NPC (ID: 16855171/0x01013083)], work=[94*, 0*]
102: 0x04AD [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "kill" with entities [Unnamed NPC (ID: 16855172/0x01013084), Unnamed NPC (ID: 16855172/0x01013084)], work=[94*, 0*]
103: 0x04BE [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "kill" with entities [Unnamed NPC (ID: 16855173/0x01013085), Unnamed NPC (ID: 16855173/0x01013085)], work=[94*, 0*]
104: 0x04CF [0x1A] CALL_SUBROUTINE(address=0x0AB6)
105: 0x04D2 [0x1A] CALL_SUBROUTINE(address=0x0AD7)
106: 0x04D5 [0x1C] WAIT(30* ticks)
107: 0x04D8 [0x35] LOAD_ZONE_NO_CLOSE(zone_id=17*)
108: 0x04DB [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
109: 0x04DC [0x1C] WAIT(15* ticks)
110: 0x04DF [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
111: 0x04E1 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
112: 0x04E5 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
113: 0x04E9 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 0*
114: 0x04ED [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 0*
115: 0x04F1 [0x9A] WAIT_MUSIC_SERVER()
116: 0x04F2 [0x46] CAMERA_CONTROL: Restore default settings
117: 0x04F4 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
118: 0x0505 [0x21] END_EVENT
119: 0x0506 [0x00] END_REQSTACK()
```
