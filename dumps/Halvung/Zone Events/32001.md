# Event 32001

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 17/19     |
| Offset          | 0x0AEC    |
| Data Size       | 515 bytes |
| Calculated Size | 515 bytes |
| Instructions    | 81        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0AE0:                                      79 00 F0 FF              y...
0AF0: FF 7F F0 FF FF 7F 03 1E  00 02 10 03 17 00 03 10  ................
0B00: 03 18 00 05 10 03 1D 00  06 10 03 16 00 07 10 03  ................
0B10: 14 00 08 10 03 19 00 09  10 20 01 42 3B F0 FF FF  ......... .B;...
0B20: 7F 20 10 21 10 22 10 3A  F0 FF FF 7F 23 10 02 1D  . .!.".:....#...
0B30: 00 58 80 01 39 0B 1C 59  80 45 53 80 F0 FF FF 7F  .X..9..Y.ES.....
0B40: F0 FF FF 7F 77 68 69 31  02 80 45 01 80 F0 FF FF  ....whi1..E.....
0B50: 7F F0 FF FF 7F 62 6C 6F  66 02 80 45 01 80 F0 FF  .....blof..E....
0B60: FF 7F F0 FF FF 7F 66 64  6F 31 02 80 55 01 80 F0  ......fdo1..U...
0B70: FF FF 7F F0 FF FF 7F 66  64 6F 31 6C F0 FF FF 7F  .......fdo1l....
0B80: 5A 80 0A 80 06 01 10 02  14 00 02 80 03 92 0B 01  Z...............
0B90: A9 0B 02 1D 00 57 80 80  9D 0B 01 A9 0B 47 00 36  .....W.......G.6
0BA0: 80 54 80 55 80 56 80 47  01 38 33 80 02 14 00 0A  .T.U.V.G.83.....
0BB0: 80 00 0B 0C 1C 2C 80 24  50 80 0A 80 02 80 25 02  .....,.$P.....%.
0BC0: 00 10 02 80 00 0B 0C 37  36 80 54 80 55 80 56 80  .......76.T.U.V.
0BD0: 80 F0 FF FF 7F 62 0E 80  F0 FF FF 7F F0 FF FF 7F  .....b..........
0BE0: 6D 61 69 6E 02 80 45 01  80 F0 FF FF 7F F0 FF FF  main..E.........
0BF0: 7F 66 64 69 32 02 80 46  02 10 00 02 10 00 02 80  .fdi2..F........
0C00: 00 05 0C 46 00 01 32 0C  01 0B 0C 02 14 00 2F 80  ...F..2......./.
0C10: 04 24 0C 5C 00 51 80 5C  01 51 80 5C 02 51 80 5C  .$.\.Q.\.Q.\.Q.\
0C20: 03 51 80 9A 1A 8E 0F 02  14 00 02 80 03 32 0C 01  .Q...........2..
0C30: 87 0C 03 05 10 18 00 02  05 10 02 80 02 87 0C 02  ................
0C40: 05 10 05 80 04 56 0C 3F  04 10 05 10 05 80 15 05  .....V.?........
0C50: 10 05 80 01 56 0C 02 18  00 17 00 05 66 0C 03 07  ....V.......f...
0C60: 10 16 00 01 87 0C 02 17  00 05 80 04 82 0C 03 05  ................
0C70: 10 17 00 3F 04 10 05 10  05 80 15 05 10 05 80 01  ...?............
0C80: 87 0C 03 05 10 17 00 02  15 00 02 80 00 9F 0C 5C  ...............\
0C90: 00 02 80 5C 01 02 80 5C  02 51 80 5C 03 51 80 02  ...\...\.Q.\.Q..
0CA0: 14 00 02 80 03 C8 0C 45  01 80 F0 FF FF 7F F0 FF  .......E........
0CB0: FF 7F 66 64 69 32 02 80  5C 00 02 80 5C 01 02 80  ..fdi2..\...\...
0CC0: 5C 02 51 80 5C 03 51 80  06 15 00 45 53 80 F0 FF  \.Q.\.Q....ES...
0CD0: FF 7F F0 FF FF 7F 77 68  69 31 02 80 45 01 80 F0  ......whi1..E...
0CE0: FF FF 7F F0 FF FF 7F 62  6C 6F 66 02 80 21 00     .......blof..!. 
```

## Opcodes

```
  0: 0x0AEC [0x79] LocalPlayer looks at LocalPlayer (Basic look)
  1: 0x0AF6 [0x03] ExtData[1]->WorkLocal[30] = Work_Zone[2]
  2: 0x0AFB [0x03] ExtData[1]->WorkLocal[23] = Work_Zone[3]
  3: 0x0B00 [0x03] ExtData[1]->WorkLocal[24] = Work_Zone[5]
  4: 0x0B05 [0x03] ExtData[1]->WorkLocal[29] = Work_Zone[6]
  5: 0x0B0A [0x03] ExtData[1]->WorkLocal[22] = Work_Zone[7]
  6: 0x0B0F [0x03] ExtData[1]->WorkLocal[20] = Work_Zone[8]
  7: 0x0B14 [0x03] ExtData[1]->WorkLocal[25] = Work_Zone[9]
  8: 0x0B19 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  9: 0x0B1B [0x42] SET_CLI_EVENT_CANCEL_DATA()
 10: 0x0B1C [0x3B] GET_ENTITY_POSITION(entity=LocalPlayer, x_destination=Work_Zone[32], y_destination=Work_Zone[33], z_destination=Work_Zone[34])
 11: 0x0B27 [0x3A] CONVERT_YAW_TO_BYTE(entity=LocalPlayer, result_destination=Work_Zone[35])
 12: 0x0B2E [0x02] IF !(ExtData[1]->WorkLocal[29] == 180*) GOTO 0x0B39
 13: 0x0B36 [0x1C] WAIT(300* ticks)
 14: 0x0B39 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 15: 0x0B4A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 16: 0x0B5B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 17: 0x0B6C [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 18: 0x0B7B [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=128*, fade_time=1*)
 19: 0x0B84 [0x06] Work_Zone[1] = 0
 20: 0x0B87 [0x02] IF !(ExtData[1]->WorkLocal[20] >= 0*) GOTO 0x0B92
 21: 0x0B8F [0x01] GOTO 0x0BA9
 22: 0x0B92 [0x02] IF !(ExtData[1]->WorkLocal[29] == 999*) GOTO 0x0B9D
 23: 0x0B9A [0x01] GOTO 0x0BA9
 24: 0x0B9D [0x47] UPDATE_PLAYER_POS(300.000*, -382.000*, 18.900*, yaw=270.0°*)
 25: 0x0BA7 [0x47] WAIT_PLAYER_POS_UPDATE

SUBROUTINE_0BA9:
 26: 0x0BA9 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 27: 0x0BAC [0x02] IF !(ExtData[1]->WorkLocal[20] == 1*) GOTO 0x0C0B
 28: 0x0BB4 [0x1C] WAIT(15* ticks)
 29: 0x0BB7 [0x24] CREATE_DIALOG(message_id=7788*, default_option=1*, option_flags=0*)
    → "Skip the event?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 30: 0x0BBE [0x25] WAIT_DIALOG_SELECT()
 31: 0x0BBF [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0C0B
 32: 0x0BC7 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=300.000*, z=-382.000*, y=18.900*, direction=270.0°*
 33: 0x0BD0 [0x80] LOAD_WAIT(entity=LocalPlayer)
 34: 0x0BD5 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[2*, 0*]
 35: 0x0BE6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 36: 0x0BF7 [0x46] CAMERA_CONTROL: Query status
 37: 0x0BF9 [0x10] 0x0200 <<= ExtData[1]->WorkLocal[16]
 38: 0x0BFE [0x02] IF !(0x80 & 0x0C05) GOTO 0x0100
 39: 0x0C06 [0x32] ExtData[1]->MainSpeed = 0x010C * 0.1
 40: 0x0C09 [0x0B] 0x020C++
 41: 0x0C0C [0x14] 0x2F00 *= 0x0480
 42: 0x0C11 [0x24] CREATE_DIALOG(message_id=0x5C0C, default_option=0x5100, option_flags=0x5C80)
 43: 0x0C18 [0x01] GOTO 0x8051
 44: 0x0C1B [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 143*
 45: 0x0C1F [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 143*
 46: 0x0C23 [0x9A] WAIT_MUSIC_SERVER()
 47: 0x0C24 [0x1A] CALL_SUBROUTINE(address=0x0F8E)
 48: 0x0C27 [0x02] IF !(ExtData[1]->WorkLocal[20] >= 0*) GOTO 0x0C32
 49: 0x0C2F [0x01] GOTO 0x0C87
 50: 0x0C32 [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[24]
 51: 0x0C37 [0x02] IF !(Work_Zone[5] <= 0*) GOTO 0x0C87
 52: 0x0C3F [0x02] IF !(Work_Zone[5] < 60*) GOTO 0x0C56
 53: 0x0C47 [0x3F] Work_Zone[4] = Work_Zone[5] % 60*
 54: 0x0C4E [0x15] Work_Zone[5] /= 60*
 55: 0x0C53 [0x01] GOTO 0x0C56

SUBROUTINE_0C56:
 56: 0x0C56 [0x02] IF !(ExtData[1]->WorkLocal[24] > ExtData[1]->WorkLocal[23]) GOTO 0x0C66
 57: 0x0C5E [0x03] Work_Zone[7] = ExtData[1]->WorkLocal[22]
 58: 0x0C63 [0x01] GOTO 0x0C87
 59: 0x0C66 [0x02] IF !(ExtData[1]->WorkLocal[23] < 60*) GOTO 0x0C82
 60: 0x0C6E [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[23]
 61: 0x0C73 [0x3F] Work_Zone[4] = Work_Zone[5] % 60*
 62: 0x0C7A [0x15] Work_Zone[5] /= 60*
 63: 0x0C7F [0x01] GOTO 0x0C87
 64: 0x0C82 [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[23]

SUBROUTINE_0C87:
 65: 0x0C87 [0x02] IF !(ExtData[1]->WorkLocal[21] == 0*) GOTO 0x0C9F
 66: 0x0C8F [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 67: 0x0C93 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 68: 0x0C97 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 143*
 69: 0x0C9B [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 143*
 70: 0x0C9F [0x02] IF !(ExtData[1]->WorkLocal[20] >= 0*) GOTO 0x0CC8
 71: 0x0CA7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 72: 0x0CB8 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 73: 0x0CBC [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 74: 0x0CC0 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 143*
 75: 0x0CC4 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 143*
 76: 0x0CC8 [0x06] ExtData[1]->WorkLocal[21] = 0
 77: 0x0CCB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 78: 0x0CDC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 79: 0x0CED [0x21] END_EVENT
 80: 0x0CEE [0x00] END_REQSTACK()
```
