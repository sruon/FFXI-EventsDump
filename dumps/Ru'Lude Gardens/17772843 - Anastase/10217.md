# Event 10217

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 6/22      |
| Offset          | 0x05D0    |
| Data Size       | 234 bytes |
| Calculated Size | 234 bytes |
| Instructions    | 50        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
05D0: 02 08 10 00 80 00 E0 05  0F 00 00 08 80 01 E5 05  ................
05E0: 0F 00 00 12 80 4A F0 FF  FF 7F 2B 31 0F 01 1C 04  .....J....+1....
05F0: 80 1E F0 FF FF 7F 2B 2B  31 0F 01 2E 80 23 43 00  ......++1....#C.
0600: 43 01 03 03 00 04 10 03  01 10 06 80 24 4D 80 06  C...........$M..
0610: 80 00 00 25 02 00 10 06  80 00 5E 06 42 03 01 10  ...%......^.B...
0620: 08 80 66 01 80 2B 31 0F  01 2B 31 0F 01 74 77 62  ..f..+1..+1..twb
0630: 30 2B 2B 31 0F 01 4E 80  23 2B 2B 31 0F 01 4F 80  0++1..N.#++1..O.
0640: 23 2B 2B 31 0F 01 50 80  23 66 01 80 2B 31 0F 01  #++1..P.#f..+1..
0650: 2B 31 0F 01 74 77 62 31  1A 55 10 01 B8 06 02 00  +1..twb1.U......
0660: 10 08 80 00 74 06 2B 2B  31 0F 01 50 80 23 1A 55  ....t.++1..P.#.U
0670: 10 01 B8 06 02 00 10 12  80 00 85 06 1A 7C 0F 01  .............|..
0680: 07 06 01 B8 06 02 00 10  00 80 00 96 06 1A F1 0F  ................
0690: 01 07 06 01 B8 06 02 00  10 38 80 00 B8 06 6E 2B  .........8....n+
06A0: 31 0F 01 08 80 99 2B 31  0F 01 2B 2B 31 0F 01 0E  1.....+1..++1...
06B0: 80 1C 0F 80 23 01 B8 06  21 00                    ....#...!.      
```

## Opcodes

```
  0: 0x05D0 [0x02] IF !(Work_Zone[8] == 3*) GOTO 0x05E0
  1: 0x05D8 [0x0F] ExtData[1]->WorkLocal[0] ^= 1*
  2: 0x05DD [0x01] GOTO 0x05E5

SUBROUTINE_05E0:
  3: 0x05E0 [0x0F] ExtData[1]->WorkLocal[0] ^= 2*
  4: 0x05E5 [0x4A] LocalPlayer looks at Anastase (ID: 17772843/0x010F312B)
  5: 0x05EE [0x1C] WAIT(20* ticks)
  6: 0x05F1 [0x1E] EventEntity looks at LocalPlayer and starts talking
  7: 0x05F6 [0x2B] Anastase (ID: 17772843/0x010F312B) [15236*]:
    → "\u0008, my friend! It is good to see you again. With what may I assist you today?\u007F1\u0000\u0007"
  8: 0x05FD [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x05FE [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 10: 0x0600 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 11: 0x0602 [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[4]
 12: 0x0607 [0x03] Work_Zone[1] = 0*
 13: 0x060C [0x24] CREATE_DIALOG(message_id=15237*, default_option=0*, option_flags=0x00)
    → "Any questions?\u0007\u000BLet's expand these warp options.\u0007Any new predictions?\u0007What about these waypoints?\u0007What am I supposed to do again?\u0007None in particular.\u007F1\u0000\u0007"
 14: 0x0613 [0x25] WAIT_DIALOG_SELECT()
 15: 0x0614 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x065E
 16: 0x061C [0x42] SET_CLI_EVENT_CANCEL_DATA()
 17: 0x061D [0x03] Work_Zone[1] = 1*
 18: 0x0622 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=29*, entity1=Anastase (ID: 17772843/0x010F312B), entity2=Anastase (ID: 17772843/0x010F312B), action="twb0")
 19: 0x0631 [0x2B] Anastase (ID: 17772843/0x010F312B) [15238*]:
    → "Utterly magnificent! I suppose adventurers always have to have a sixth sense about these sorts of things.\u007F1\u0000\u0007"
 20: 0x0638 [0x23] WAIT_FOR_DIALOG_INTERACTION
 21: 0x0639 [0x2B] Anastase (ID: 17772843/0x010F312B) [15239*]:
    → "I have just received word that my colleague, Quwi Orihbhe, has predicted the existence of geomagnetic founts in new lands.\u007F1\u0000\u0007"
 22: 0x0640 [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x0641 [0x2B] Anastase (ID: 17772843/0x010F312B) [15240*]:
    → "Would you like to hear more information about these hotspots?\u007F1\u0000\u0007"
 24: 0x0648 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x0649 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=29*, entity1=Anastase (ID: 17772843/0x010F312B), entity2=Anastase (ID: 17772843/0x010F312B), action="twb1")
 26: 0x0658 [0x1A] CALL_SUBROUTINE(address=0x1055)
 27: 0x065B [0x01] GOTO 0x06B8

SUBROUTINE_065E:
 28: 0x065E [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0674
 29: 0x0666 [0x2B] Anastase (ID: 17772843/0x010F312B) [15240*]:
    → "Would you like to hear more information about these hotspots?\u007F1\u0000\u0007"
 30: 0x066D [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x066E [0x1A] CALL_SUBROUTINE(address=0x1055)
 32: 0x0671 [0x01] GOTO 0x06B8

SUBROUTINE_0674:
 33: 0x0674 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0685
 34: 0x067C [0x1A] CALL_SUBROUTINE(address=0x0F7C)
 35: 0x067F [0x01] GOTO 0x0607

SUBROUTINE_0685:
 36: 0x0685 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0696
 37: 0x068D [0x1A] CALL_SUBROUTINE(address=0x0FF1)
 38: 0x0690 [0x01] GOTO 0x0607

SUBROUTINE_0696:
 39: 0x0696 [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x06B8
 40: 0x069E [0x6E] Anastase (ID: 17772843/0x010F312B) uses emote 1*
 41: 0x06A5 [0x99] Wait for Anastase (ID: 17772843/0x010F312B) animation to complete
 42: 0x06AA [0x2B] Anastase (ID: 17772843/0x010F312B) [15167*]:
    → "I wish you well in all your endeavors.\u007F1\u0000\u0007"
 43: 0x06B1 [0x1C] WAIT(180* ticks)
 44: 0x06B4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 45: 0x06B5 [0x01] GOTO 0x06B8

SUBROUTINE_06B8:
 46: 0x06B8 [0x21] END_EVENT
 47: 0x06B9 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0682 [0x01] GOTO 0x06B8
# Dead code (unreachable instructions):
     0x0693 [0x01] GOTO 0x06B8
```