# Event 131

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/3       |
| Offset          | 0x01EC    |
| Data Size       | 660 bytes |
| Calculated Size | 660 bytes |
| Instructions    | 99        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
01E0:                                      03 00 00 02              ....
01F0: 10 20 01 42 45 00 80 F0  FF FF 7F F0 FF FF 7F 66  . .BE..........f
0200: 64 6F 31 01 80 55 00 80  F0 FF FF 7F F0 FF FF 7F  do1..U..........
0210: 66 64 6F 31 5C 00 02 80  5C 01 02 80 75 00 03 80  fdo1\...\...u...
0220: 75 01 38 04 80 46 01 29  03 F0 FF FF 7F 10 79 00  u.8..F.)......y.
0230: 06 30 0F 01 F0 FF FF 7F  79 00 05 30 0F 01 F0 FF  .0......y..0....
0240: FF 7F 79 00 F0 FF FF 7F  06 30 0F 01 80 06 30 0F  ..y......0....0.
0250: 01 4C 1C 06 80 45 00 80  F0 FF FF 7F F0 FF FF 7F  .L...E..........
0260: 66 64 69 31 01 80 45 05  80 F0 FF FF 7F F0 FF FF  fdi1..E.........
0270: 7F 63 6D 33 30 01 80 27  03 F0 FF FF 7F 12 55 00  .cm30..'......U.
0280: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 27 03 05  .........fdi1'..
0290: 30 0F 01 10 29 04 F0 FF  FF 7F 33 52 05 80 F0 FF  0...).....3R....
02A0: FF 7F F0 FF FF 7F 63 6D  33 30 45 05 80 F0 FF FF  ......cm30E.....
02B0: 7F F0 FF FF 7F 63 6D 33  31 01 80 55 05 80 F0 FF  .....cm31..U....
02C0: FF 7F F0 FF FF 7F 63 6D  33 31 4D 27 03 06 30 0F  ......cm31M'..0.
02D0: 01 04 2B 06 30 0F 01 14  80 23 2B 06 30 0F 01 15  ..+.0....#+.0...
02E0: 80 23 2B 06 30 0F 01 16  80 23 27 04 06 30 0F 01  .#+.0....#'..0..
02F0: 08 29 04 05 30 0F 01 17  4A 05 30 0F 01 F0 FF FF  .)..0...J.0.....
0300: 7F 1C 06 80 27 03 05 30  0F 01 11 45 05 80 F0 FF  ....'..0...E....
0310: FF 7F F0 FF FF 7F 63 6D  33 32 01 80 55 05 80 F0  ......cm32..U...
0320: FF FF 7F F0 FF FF 7F 63  6D 33 32 2B 05 30 0F 01  .......cm32+.0..
0330: 17 80 23 29 05 05 30 0F  01 16 24 18 80 01 80 01  ..#)..0...$.....
0340: 80 25 02 00 10 01 80 00  68 03 27 03 06 30 0F 01  .%......h.'..0..
0350: 04 2B 06 30 0F 01 19 80  23 27 04 06 30 0F 01 08  .+.0....#'..0...
0360: 03 01 10 1A 80 01 8E 03  02 00 10 1A 80 00 8E 03  ................
0370: 27 03 06 30 0F 01 04 2B  06 30 0F 01 1B 80 23 27  '..0...+.0....#'
0380: 04 06 30 0F 01 08 03 01  10 1C 80 01 8E 03 79 00  ..0...........y.
0390: F0 FF FF 7F 05 30 0F 01  27 03 F0 FF FF 7F 13 03  .....0..'.......
03A0: 09 10 1D 80 02 00 00 01  80 00 BE 03 2B 05 30 0F  ............+.0.
03B0: 01 1E 80 23 29 03 05 30  0F 01 15 01 C6 03 2B 05  ...#)..0......+.
03C0: 30 0F 01 1F 80 23 79 00  F0 FF FF 7F 06 30 0F 01  0....#y......0..
03D0: 4A F0 FF FF 7F 06 30 0F  01 2B 06 30 0F 01 20 80  J.....0..+.0.. .
03E0: 23 1C 06 80 7B F0 FF FF  7F 27 03 F0 FF FF 7F 15  #...{....'......
03F0: 1C 06 80 45 05 80 F0 FF  FF 7F F0 FF FF 7F 63 6D  ...E..........cm
0400: 33 31 01 80 55 05 80 F0  FF FF 7F F0 FF FF 7F 63  31..U..........c
0410: 6D 33 31 4C 1C 06 80 45  00 80 F0 FF FF 7F F0 FF  m31L...E........
0420: FF 7F 66 64 6F 32 01 80  55 00 80 F0 FF FF 7F F0  ..fdo2..U.......
0430: FF FF 7F 66 64 6F 32 52  05 80 F0 FF FF 7F F0 FF  ...fdo2R........
0440: FF 7F 63 6D 33 31 5C 00  13 80 5C 01 13 80 7B 06  ..cm31\...\...{.
0450: 30 0F 01 7B 05 30 0F 01  4E 01 06 30 0F 01 4E 01  0..{.0..N..0..N.
0460: 05 30 0F 01 1C 06 80 46  00 4D 1C 06 80 45 00 80  .0.....F.M...E..
0470: F0 FF FF 7F F0 FF FF 7F  66 64 69 32 01 80 21 00  ........fdi2..!.
```

## Opcodes

```
  0: 0x01EC [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  1: 0x01F1 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  2: 0x01F3 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  3: 0x01F4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  4: 0x0205 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
  5: 0x0214 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 162*
  6: 0x0218 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 162*
  7: 0x021C [0x75] LOAD_ROOM(Load indoor room, room=436*)
  8: 0x0220 [0x75] LOAD_ROOM(No action)
  9: 0x0222 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
 10: 0x0225 [0x46] CAMERA_CONTROL: Disable user control
 11: 0x0227 [0x29] REQ_SET_WAIT(priority=0x03, entity_id=LocalPlayer, tag_num=0x10)
 12: 0x022E [0x79] Heimji-Keimji (ID: 17772550/0x010F3006) looks at LocalPlayer (Basic look)
 13: 0x0238 [0x79] Pakh Jatalfih (ID: 17772549/0x010F3005) looks at LocalPlayer (Basic look)
 14: 0x0242 [0x79] LocalPlayer looks at Heimji-Keimji (ID: 17772550/0x010F3006) (Basic look)
 15: 0x024C [0x80] LOAD_WAIT(entity=Heimji-Keimji (ID: 17772550/0x010F3006))
 16: 0x0251 [0x4C] EventEntity->StatusEvent = 8 // Open door
 17: 0x0252 [0x1C] WAIT(60* ticks)
 18: 0x0255 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 19: 0x0266 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "cm30" with entities [LocalPlayer, LocalPlayer], work=[143*, 0*]
 20: 0x0277 [0x27] REQ_SET(priority=0x03, entity_id=LocalPlayer, tag_num=0x12)
 21: 0x027E [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
 22: 0x028D [0x27] REQ_SET(priority=0x03, entity_id=Pakh Jatalfih (ID: 17772549/0x010F3005), tag_num=0x10)
 23: 0x0294 [0x29] REQ_SET_WAIT(priority=0x04, entity_id=LocalPlayer, tag_num=0x33)
 24: 0x029B [0x52] END_LOAD_SCHEDULER: End scheduler "cm30" with entities [LocalPlayer, LocalPlayer], work=143*
 25: 0x02AA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "cm31" with entities [LocalPlayer, LocalPlayer], work=[143*, 0*]
 26: 0x02BB [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "cm31" with entities [LocalPlayer, LocalPlayer], work=143*
 27: 0x02CA [0x4D] EventEntity->StatusEvent = 9 // Close door
 28: 0x02CB [0x27] REQ_SET(priority=0x03, entity_id=Heimji-Keimji (ID: 17772550/0x010F3006), tag_num=0x04)
 29: 0x02D2 [0x2B] Heimji-Keimji (ID: 17772550/0x010F3006) [10086*]:
    → "Thanks for coming, \u0008.\u007F1\u0000\u0007"
 30: 0x02D9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x02DA [0x2B] Heimji-Keimji (ID: 17772550/0x010F3006) [10089*]:
    → "We received a request from the Archduke of Jeuno to send someone for a special mission.\u007F1\u0000\u0007"
 32: 0x02E1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x02E2 [0x2B] Heimji-Keimji (ID: 17772550/0x010F3006) [10092*]:
    → "Because of your selfless courage at Delkfutt's Tower, I want to recommend you for this mission.\u007F1\u0000\u0007"
 34: 0x02E9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x02EA [0x27] REQ_SET(priority=0x04, entity_id=Heimji-Keimji (ID: 17772550/0x010F3006), tag_num=0x08)
 36: 0x02F1 [0x29] REQ_SET_WAIT(priority=0x04, entity_id=Pakh Jatalfih (ID: 17772549/0x010F3005), tag_num=0x17)
 37: 0x02F8 [0x4A] Pakh Jatalfih (ID: 17772549/0x010F3005) looks at LocalPlayer
 38: 0x0301 [0x1C] WAIT(60* ticks)
 39: 0x0304 [0x27] REQ_SET(priority=0x03, entity_id=Pakh Jatalfih (ID: 17772549/0x010F3005), tag_num=0x11)
 40: 0x030B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "cm32" with entities [LocalPlayer, LocalPlayer], work=[143*, 0*]
 41: 0x031C [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "cm32" with entities [LocalPlayer, LocalPlayer], work=143*
 42: 0x032B [0x2B] Pakh Jatalfih (ID: 17772549/0x010F3005) [10098*]:
    → "Your deeds will shine upon us all, \u0008. I'm sure you'll be able to put the archduke's worries to rest.\u007F1\u0000\u0007"
 43: 0x0332 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x0333 [0x29] REQ_SET_WAIT(priority=0x05, entity_id=Pakh Jatalfih (ID: 17772549/0x010F3005), tag_num=0x16)
 45: 0x033A [0x24] CREATE_DIALOG(message_id=10099*, default_option=0*, option_flags=0*)
    → "Proceed to the archduke's palace?\u0007\u000BRight away.\u0007Let me think about it.\u007F1\u0000\u0007"
 46: 0x0341 [0x25] WAIT_DIALOG_SELECT()
 47: 0x0342 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0368
 48: 0x034A [0x27] REQ_SET(priority=0x03, entity_id=Heimji-Keimji (ID: 17772550/0x010F3006), tag_num=0x04)
 49: 0x0351 [0x2B] Heimji-Keimji (ID: 17772550/0x010F3006) [10102*]:
    → "Spoken like a true Windurstian!\u007F1\u0000\u0007"
 50: 0x0358 [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x0359 [0x27] REQ_SET(priority=0x04, entity_id=Heimji-Keimji (ID: 17772550/0x010F3006), tag_num=0x08)
 52: 0x0360 [0x03] Work_Zone[1] = 1*
 53: 0x0365 [0x01] GOTO 0x038E
 54: 0x0368 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x038E
 55: 0x0370 [0x27] REQ_SET(priority=0x03, entity_id=Heimji-Keimji (ID: 17772550/0x010F3006), tag_num=0x04)
 56: 0x0377 [0x2B] Heimji-Keimji (ID: 17772550/0x010F3006) [10105*]:
    → "Hey, don't worry! All new diplomatic staff have to present themselves to the archduke anyway. It's always darkest before the dawn, say the wise men.\u007F1\u0000\u0007"
 57: 0x037E [0x23] WAIT_FOR_DIALOG_INTERACTION
 58: 0x037F [0x27] REQ_SET(priority=0x04, entity_id=Heimji-Keimji (ID: 17772550/0x010F3006), tag_num=0x08)
 59: 0x0386 [0x03] Work_Zone[1] = 2*
 60: 0x038B [0x01] GOTO 0x038E

SUBROUTINE_038E:
 61: 0x038E [0x79] LocalPlayer looks at Pakh Jatalfih (ID: 17772549/0x010F3005) (Basic look)
 62: 0x0398 [0x27] REQ_SET(priority=0x03, entity_id=LocalPlayer, tag_num=0x13)
 63: 0x039F [0x03] Work_Zone[9] = 56*
 64: 0x03A4 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x03BE
 65: 0x03AC [0x2B] Pakh Jatalfih (ID: 17772549/0x010F3005) [10110*]:
    → "Here is your \u0001\u00053\u0002\u0007\u0000\u0000.\u007F1\u0000\u0007"
 66: 0x03B3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 67: 0x03B4 [0x29] REQ_SET_WAIT(priority=0x03, entity_id=Pakh Jatalfih (ID: 17772549/0x010F3005), tag_num=0x15)
 68: 0x03BB [0x01] GOTO 0x03C6
 69: 0x03BE [0x2B] Pakh Jatalfih (ID: 17772549/0x010F3005) [10111*]:
    → "You already have \u0001\u00056\u0002\u0007\u0000\u0000? Well, I guess there is no need to issue you a new one.\u007F1\u0000\u0007"
 70: 0x03C5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 71: 0x03C6 [0x79] LocalPlayer looks at Heimji-Keimji (ID: 17772550/0x010F3006) (Basic look)
 72: 0x03D0 [0x4A] LocalPlayer looks at Heimji-Keimji (ID: 17772550/0x010F3006)
 73: 0x03D9 [0x2B] Heimji-Keimji (ID: 17772550/0x010F3006) [10114*]:
    → "This mission is critical to our friendship with the Jeunoans. May the stars watch over you!\u007F1\u0000\u0007"
 74: 0x03E0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 75: 0x03E1 [0x1C] WAIT(60* ticks)
 76: 0x03E4 [0x7B] LocalPlayer stops talking
 77: 0x03E9 [0x27] REQ_SET(priority=0x03, entity_id=LocalPlayer, tag_num=0x15)
 78: 0x03F0 [0x1C] WAIT(60* ticks)
 79: 0x03F3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "cm31" with entities [LocalPlayer, LocalPlayer], work=[143*, 0*]
 80: 0x0404 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "cm31" with entities [LocalPlayer, LocalPlayer], work=143*
 81: 0x0413 [0x4C] EventEntity->StatusEvent = 8 // Open door
 82: 0x0414 [0x1C] WAIT(60* ticks)
 83: 0x0417 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 84: 0x0428 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=200*
 85: 0x0437 [0x52] END_LOAD_SCHEDULER: End scheduler "cm31" with entities [LocalPlayer, LocalPlayer], work=143*
 86: 0x0446 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 117*
 87: 0x044A [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 117*
 88: 0x044E [0x7B] Heimji-Keimji (ID: 17772550/0x010F3006) stops talking
 89: 0x0453 [0x7B] Pakh Jatalfih (ID: 17772549/0x010F3005) stops talking
 90: 0x0458 [0x4E] SET_ENTITY_HIDE_FLAG: Hide Heimji-Keimji (ID: 17772550/0x010F3006)
 91: 0x045E [0x4E] SET_ENTITY_HIDE_FLAG: Hide Pakh Jatalfih (ID: 17772549/0x010F3005)
 92: 0x0464 [0x1C] WAIT(60* ticks)
 93: 0x0467 [0x46] CAMERA_CONTROL: Restore default settings
 94: 0x0469 [0x4D] EventEntity->StatusEvent = 9 // Close door
 95: 0x046A [0x1C] WAIT(60* ticks)
 96: 0x046D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 97: 0x047E [0x21] END_EVENT
 98: 0x047F [0x00] END_REQSTACK()
```
