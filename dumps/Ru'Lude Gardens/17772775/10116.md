# Event 10116

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/3       |
| Offset          | 0x0965    |
| Data Size       | 446 bytes |
| Calculated Size | 446 bytes |
| Instructions    | 65        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0960:                42 45 00  80 F8 FF FF 7F F8 FF FF       BE.........
0970: 7F 66 64 6F 31 01 80 55  00 80 F8 FF FF 7F F8 FF  .fdo1..U........
0980: FF 7F 66 64 6F 31 46 01  38 08 80 4E 00 F0 FF FF  ..fdo1F.8..N....
0990: 7F 4E 00 0D 30 0F 01 4E  00 0E 30 0F 01 4E 00 07  .N..0..N..0..N..
09A0: 30 0F 01 92 01 0D 30 0F  01 92 01 0E 30 0F 01 92  0.....0.....0...
09B0: 01 07 30 0F 01 94 01 F0  FF FF 7F 94 01 0D 30 0F  ..0...........0.
09C0: 01 94 01 0E 30 0F 01 94  01 07 30 0F 01 BA F0 FF  ....0.....0.....
09D0: FF 7F 2D 80 2E 80 0B 80  2F 80 BA 07 30 0F 01 30  ..-...../...0..0
09E0: 80 31 80 0B 80 32 80 7B  F0 FF FF 7F 80 F0 FF FF  .1...2.{........
09F0: 7F 80 07 30 0F 01 80 0D  30 0F 01 80 0E 30 0F 01  ...0....0....0..
0A00: 4A F0 FF FF 7F 07 30 0F  01 4A 07 30 0F 01 F0 FF  J.....0..J.0....
0A10: FF 7F 6F 76 F0 FF FF 7F  1C 06 80 9A 45 12 80 F0  ..ov........E...
0A20: FF FF 7F F0 FF FF 7F 71  31 35 31 01 80 1A 43 00  .......q151...C.
0A30: 1C 00 80 52 12 80 F0 FF  FF 7F F0 FF FF 7F 71 31  ...R..........q1
0A40: 35 31 45 12 80 F0 FF FF  7F F0 FF FF 7F 71 31 35  51E..........q15
0A50: 32 01 80 66 01 80 07 30  0F 01 07 30 0F 01 74 6C  2..f...0...0..tl
0A60: 6B 30 2B 07 30 0F 01 33  80 23 2B 07 30 0F 01 34  k0+.0..3.#+.0..4
0A70: 80 23 52 12 80 F0 FF FF  7F F0 FF FF 7F 71 31 35  .#R..........q15
0A80: 32 45 12 80 F0 FF FF 7F  F0 FF FF 7F 71 31 35 33  2E..........q153
0A90: 01 80 66 01 80 07 30 0F  01 07 30 0F 01 74 65 6E  ..f...0...0..ten
0AA0: 30 2B 07 30 0F 01 35 80  23 6E F0 FF FF 7F 03 80  0+.0..5.#n......
0AB0: 99 F0 FF FF 7F 1C 17 80  52 12 80 F0 FF FF 7F F0  ........R.......
0AC0: FF FF 7F 71 31 35 33 45  12 80 F0 FF FF 7F F0 FF  ...q153E........
0AD0: FF 7F 71 31 35 34 01 80  27 10 F0 FF FF 7F A0 1C  ..q154..'.......
0AE0: 17 80 1A 64 00 1C 06 80  59 05 F0 FF FF 7F 00 52  ...d....Y......R
0AF0: 12 80 F0 FF FF 7F F0 FF  FF 7F 71 31 35 34 78 1C  ..........q154x.
0B00: 15 80 AB 09 1C 15 80 AB  11 01 80 1C 03 80 46 00  ..............F.
0B10: 45 00 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 32 01  E..........fdi2.
0B20: 80 21 00                                          .!.             
```

## Opcodes

```
  0: 0x0965 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0966 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  2: 0x0977 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
  3: 0x0986 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x0988 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x098B [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
  6: 0x0991 [0x4E] SET_ENTITY_HIDE_FLAG: Show High Wind (ID: 17772557/0x010F300D)
  7: 0x0997 [0x4E] SET_ENTITY_HIDE_FLAG: Show Rainhard (ID: 17772558/0x010F300E)
  8: 0x099D [0x4E] SET_ENTITY_HIDE_FLAG: Show Wolfgang (ID: 17772551/0x010F3007)
  9: 0x09A3 [0x92] High Wind (ID: 17772557/0x010F300D)->Render.Flags3 ^= 0x01
 10: 0x09A9 [0x92] Rainhard (ID: 17772558/0x010F300E)->Render.Flags3 ^= 0x01
 11: 0x09AF [0x92] Wolfgang (ID: 17772551/0x010F3007)->Render.Flags3 ^= 0x01
 12: 0x09B5 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 13: 0x09BB [0x94] High Wind (ID: 17772557/0x010F300D)->Render.Flags3 ^= 0x01
 14: 0x09C1 [0x94] Rainhard (ID: 17772558/0x010F300E)->Render.Flags3 ^= 0x01
 15: 0x09C7 [0x94] Wolfgang (ID: 17772551/0x010F3007)->Render.Flags3 ^= 0x01
 16: 0x09CD [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-0.052*, pos_z=64.441*, pos_y=-4.999*, direction=286.5°*)
 17: 0x09DA [0xBA] SET_ENTITY_POSITION(entity_id=Wolfgang (ID: 17772551/0x010F3007), pos_x=-0.003*, pos_z=68.086*, pos_y=-4.999*, direction=88.4°*)
 18: 0x09E7 [0x7B] LocalPlayer stops talking
 19: 0x09EC [0x80] LOAD_WAIT(entity=LocalPlayer)
 20: 0x09F1 [0x80] LOAD_WAIT(entity=Wolfgang (ID: 17772551/0x010F3007))
 21: 0x09F6 [0x80] LOAD_WAIT(entity=High Wind (ID: 17772557/0x010F300D))
 22: 0x09FB [0x80] LOAD_WAIT(entity=Rainhard (ID: 17772558/0x010F300E))
 23: 0x0A00 [0x4A] LocalPlayer looks at Wolfgang (ID: 17772551/0x010F3007)
 24: 0x0A09 [0x4A] Wolfgang (ID: 17772551/0x010F3007) looks at LocalPlayer
 25: 0x0A12 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 26: 0x0A13 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 27: 0x0A18 [0x1C] WAIT(30* ticks)
 28: 0x0A1B [0x9A] WAIT_MUSIC_SERVER()
 29: 0x0A1C [0x45] LOAD_SCHEDULED_TASK(work_offset1=494*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="q151", work_offset2=0*)
 30: 0x0A2D [0x1A] CALL_SUBROUTINE(address=0x0043)
 31: 0x0A30 [0x1C] WAIT(200* ticks)
 32: 0x0A33 [0x52] END_LOAD_SCHEDULER: End scheduler "q151" with entities [LocalPlayer, LocalPlayer], work=494*
 33: 0x0A42 [0x45] LOAD_SCHEDULED_TASK(work_offset1=494*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="q152", work_offset2=0*)
 34: 0x0A53 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=0*, entity1=Wolfgang (ID: 17772551/0x010F3007), entity2=Wolfgang (ID: 17772551/0x010F3007), action="tlk0")
 35: 0x0A62 [0x2B] Wolfgang (ID: 17772551/0x010F3007) [14406*]:
    → "The seals of the three nations...yes, everything seems to be in order.\u0007Good work.\u007F1\u0000\u0007"
 36: 0x0A69 [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x0A6A [0x2B] Wolfgang (ID: 17772551/0x010F3007) [14407*]:
    → "You'll be pleased to know that the Duchy has also agreed to give its consent.\u0007Here are the relevant papers.\u007F1\u0000\u0007"
 38: 0x0A71 [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x0A72 [0x52] END_LOAD_SCHEDULER: End scheduler "q152" with entities [LocalPlayer, LocalPlayer], work=494*
 40: 0x0A81 [0x45] LOAD_SCHEDULED_TASK(work_offset1=494*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="q153", work_offset2=0*)
 41: 0x0A92 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=0*, entity1=Wolfgang (ID: 17772551/0x010F3007), entity2=Wolfgang (ID: 17772551/0x010F3007), action="ten0")
 42: 0x0AA1 [0x2B] Wolfgang (ID: 17772551/0x010F3007) [14408*]:
    → "I trust you'll see that this matter ends well for all of us, \u0008.\u0007Now you'd best be on your way.\u007F1\u0000\u0007"
 43: 0x0AA8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x0AA9 [0x6E] LocalPlayer uses emote 1*
 45: 0x0AB0 [0x99] Wait for LocalPlayer animation to complete
 46: 0x0AB5 [0x1C] WAIT(120* ticks)
 47: 0x0AB8 [0x52] END_LOAD_SCHEDULER: End scheduler "q153" with entities [LocalPlayer, LocalPlayer], work=494*
 48: 0x0AC7 [0x45] LOAD_SCHEDULED_TASK(work_offset1=494*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="q154", work_offset2=0*)
 49: 0x0AD8 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0xA0)
 50: 0x0ADF [0x1C] WAIT(120* ticks)
 51: 0x0AE2 [0x1A] CALL_SUBROUTINE(address=0x0064)
 52: 0x0AE5 [0x1C] WAIT(30* ticks)
 53: 0x0AE8 [0x59] UPDATE_ENTITY_DATA: LocalPlayer->Render.Flags0 &= ~0x200000
 54: 0x0AEF [0x52] END_LOAD_SCHEDULER: End scheduler "q154" with entities [LocalPlayer, LocalPlayer], work=494*
 55: 0x0AFE [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 56: 0x0AFF [0x1C] WAIT(15* ticks)
 57: 0x0B02 [0xAB] EventEntity->UnknownFlag = 1 // Enable unknown flag
 58: 0x0B04 [0x1C] WAIT(15* ticks)
 59: 0x0B07 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 60: 0x0B0B [0x1C] WAIT(1* ticks)
 61: 0x0B0E [0x46] CAMERA_CONTROL: Restore default settings
 62: 0x0B10 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 63: 0x0B21 [0x21] END_EVENT
 64: 0x0B22 [0x00] END_REQSTACK()
```
