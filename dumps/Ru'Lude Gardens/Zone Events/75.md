# Event 75

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 53/196    |
| Offset          | 0x344E    |
| Data Size       | 336 bytes |
| Calculated Size | 336 bytes |
| Instructions    | 49        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
3440:                                            20 01                 .
3450: 42 7B F8 FF FF 7F 79 00  F8 FF FF 7F F8 FF FF 7F  B{....y.........
3460: 24 AB 81 94 80 02 80 25  02 00 10 02 80 00 78 34  $......%......x4
3470: 03 01 10 02 80 01 8B 34  02 00 10 94 80 00 8B 34  .......4.......4
3480: 03 01 10 94 80 01 81 36  01 8B 34 46 01 45 01 80  .......6..4F.E..
3490: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 02 80 55 01  ........fdo1..U.
34A0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 38 04 80  .........fdo18..
34B0: 33 01 37 AC 81 AD 81 AE  81 AF 81 45 09 80 F0 FF  3.7........E....
34C0: FF 7F F0 FF FF 7F 63 6D  35 30 02 80 55 09 80 F0  ......cm50..U...
34D0: FF FF 7F F0 FF FF 7F 63  6D 35 30 45 01 80 F0 FF  .......cm50E....
34E0: FF 7F F0 FF FF 7F 66 64  69 31 02 80 55 01 80 F0  ......fdi1..U...
34F0: FF FF 7F F0 FF FF 7F 66  64 69 31 1F 00 B0 81 B1  .......fdi1.....
3500: 81 B2 81 1F 01 39 73 80  6F 76 F8 FF FF 7F 1C 15  .....9s.ov......
3510: 80 45 09 80 F0 FF FF 7F  F0 FF FF 7F 73 65 30 31  .E..........se01
3520: 02 80 27 03 2B 30 0F 01  03 3B F8 FF FF 7F 0C 00  ..'.+0...;......
3530: 0D 00 0E 00 3A F8 FF FF  7F 0F 00 06 10 00 02 0E  ....:...........
3540: 00 B3 81 05 7E 35 37 0C  00 0D 00 0E 00 0F 00 07  ....~57.........
3550: 0E 00 B4 81 1C 94 80 02  0E 00 B5 81 04 7B 35 02  .............{5.
3560: 10 00 02 80 00 7B 35 45  01 80 F0 FF FF 7F F0 FF  .....{5E........
3570: FF 7F 66 64 6F 32 02 80  05 10 00 01 3E 35 1C 15  ..fdo2......>5..
3580: 80 55 01 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 32  .U..........fdo2
3590: 47 00 0C 00 0D 00 0E 00  0F 00 47 01 21 00        G.........G.!.  
```

## Opcodes

```
  0: 0x344E [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x3450 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x3451 [0x7B] EventEntity stops talking
  3: 0x3456 [0x79] EventEntity looks at EventEntity (Basic look)
  4: 0x3460 [0x24] CREATE_DIALOG(message_id=9993*, default_option=1*, option_flags=0*)
    → "Enter the residential area?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
  5: 0x3467 [0x25] WAIT_DIALOG_SELECT()
  6: 0x3468 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x3478
  7: 0x3470 [0x03] Work_Zone[1] = 0*
  8: 0x3475 [0x01] GOTO 0x348B

SUBROUTINE_3478:
  9: 0x3478 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x348B
 10: 0x3480 [0x03] Work_Zone[1] = 1*
 11: 0x3485 [0x01] GOTO 0x3681

SUBROUTINE_348B:
 12: 0x348B [0x46] CAMERA_CONTROL: Disable user control
 13: 0x348D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 14: 0x349E [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
 15: 0x34AD [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
 16: 0x34B0 [0x33] EventEntity->Render.Flags0 |= 0x200000 // Bit 21 (flag=0x01)
 17: 0x34B2 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=51.571*, z=-72.908*, y=9.976*, direction=86.5°*
 18: 0x34BB [0x45] LOAD_SCHEDULED_TASK(work_offset1=143*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="cm50", work_offset2=0*)
 19: 0x34CC [0x55] WAIT_LOAD_SCHEDULER(work_offset=143*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="cm50")
 20: 0x34DB [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 21: 0x34EC [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1")
 22: 0x34FB [0x1F] MOVE_ENTITY: EventEntity moves to X=51.531*, Z=-77.941*, Y=9.999*
 23: 0x3503 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
 24: 0x3505 [0x39] SET_ENTITY_DIRECTION(direction=16.9°*)
 25: 0x3508 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 26: 0x3509 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until EventEntity Render.Flags0 and Render.Flags3 conditions are met
 27: 0x350E [0x1C] WAIT(60* ticks)
 28: 0x3511 [0x45] LOAD_SCHEDULED_TASK(work_offset1=143*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="se01", work_offset2=0*)
 29: 0x3522 [0x27] REQ_SET(priority=0x03, entity_id=??? (ID: 17772587/0x010F302B), tag_num=0x03)
 30: 0x3529 [0x3B] GET_ENTITY_POSITION(entity=EventEntity, x_destination=ExtData[1]->WorkLocal[12], y_destination=ExtData[1]->WorkLocal[13], z_destination=ExtData[1]->WorkLocal[14])
 31: 0x3534 [0x3A] CONVERT_YAW_TO_BYTE(entity=EventEntity, result_destination=ExtData[1]->WorkLocal[15])
 32: 0x353B [0x06] ExtData[1]->WorkLocal[16] = 0
 33: 0x353E [0x02] IF !(ExtData[1]->WorkLocal[14] > 14999*) GOTO 0x357E
 34: 0x3546 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=ExtData[1]->WorkLocal[12], z=ExtData[1]->WorkLocal[13], y=ExtData[1]->WorkLocal[14], direction=ExtData[1]->WorkLocal[15]
 35: 0x354F [0x07] ExtData[1]->WorkLocal[14] += 50*
 36: 0x3554 [0x1C] WAIT(1* ticks)
 37: 0x3557 [0x02] IF !(ExtData[1]->WorkLocal[14] < 12000*) GOTO 0x357B
 38: 0x355F [0x02] IF !(ExtData[1]->WorkLocal[16] == 0*) GOTO 0x357B
 39: 0x3567 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo2", work_offset2=0*)
 40: 0x3578 [0x05] ExtData[1]->WorkLocal[16] = 1
 41: 0x357B [0x01] GOTO 0x353E

SUBROUTINE_357E:
 42: 0x357E [0x1C] WAIT(60* ticks)
 43: 0x3581 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo2")
 44: 0x3590 [0x47] UPDATE_PLAYER_POS(ExtData[1]->WorkLocal[12], ExtData[1]->WorkLocal[13], ExtData[1]->WorkLocal[14], yaw=ExtData[1]->WorkLocal[15])
 45: 0x359A [0x47] WAIT_PLAYER_POS_UPDATE
 46: 0x359C [0x21] END_EVENT
 47: 0x359D [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x3488 [0x01] GOTO 0x348B
```