# Event 59

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 54/196    |
| Offset          | 0x359E    |
| Data Size       | 229 bytes |
| Calculated Size | 229 bytes |
| Instructions    | 32        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
3590:                                            20 01                 .
35A0: 46 01 42 45 09 80 F0 FF  FF 7F F0 FF FF 7F 63 6D  F.BE..........cm
35B0: 35 31 02 80 55 09 80 F0  FF FF 7F F0 FF FF 7F 63  51..U..........c
35C0: 6D 35 31 38 04 80 33 01  22 00 37 B6 81 B7 81 B8  m518..3.".7.....
35D0: 81 73 80 45 01 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .s.E..........fd
35E0: 69 32 02 80 55 01 80 F0  FF FF 7F F0 FF FF 7F 66  i2..U..........f
35F0: 64 69 32 45 09 80 F0 FF  FF 7F F0 FF FF 7F 73 65  di2E..........se
3600: 30 32 02 80 1C A5 80 3B  F8 FF FF 7F 0C 00 0D 00  02.....;........
3610: 0E 00 3A F8 FF FF 7F 0F  00 27 03 2C 30 0F 01 02  ..:......'.,0...
3620: 02 0E 00 B2 81 04 3C 36  37 0C 00 0D 00 0E 00 0F  ......<67.......
3630: 00 08 0E 00 B4 81 1C 94  80 01 20 36 1C 15 80 32  .......... 6...2
3640: 00 80 1F 00 B9 81 BA 81  AE 81 1F 01 33 00 45 01  ............3.E.
3650: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 32 02 80 55  .........fdo2..U
3660: 01 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 32 46 00  ..........fdo2F.
3670: 45 01 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 32 02  E..........fdi2.
3680: 80 21 00                                          .!.             
```

## Opcodes

```
  0: 0x359E [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x35A0 [0x46] CAMERA_CONTROL: Disable user control
  2: 0x35A2 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  3: 0x35A3 [0x45] LOAD_SCHEDULED_TASK(work_offset1=143*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="cm51", work_offset2=0*)
  4: 0x35B4 [0x55] WAIT_LOAD_SCHEDULER(work_offset=143*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="cm51")
  5: 0x35C3 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  6: 0x35C6 [0x33] EventEntity->Render.Flags0 |= 0x200000 // Bit 21 (flag=0x01)
  7: 0x35C8 [0x22] ENTITY_HIDE_FLAG(enabled=0x00)
  8: 0x35CA [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=46.500*, z=-78.000*, y=12.999*, direction=270.0Â°*
  9: 0x35D3 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 10: 0x35E4 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2")
 11: 0x35F3 [0x45] LOAD_SCHEDULED_TASK(work_offset1=143*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="se02", work_offset2=0*)
 12: 0x3604 [0x1C] WAIT(75* ticks)
 13: 0x3607 [0x3B] GET_ENTITY_POSITION(entity=EventEntity, x_destination=ExtData[1]->WorkLocal[12], y_destination=ExtData[1]->WorkLocal[13], z_destination=ExtData[1]->WorkLocal[14])
 14: 0x3612 [0x3A] CONVERT_YAW_TO_BYTE(entity=EventEntity, result_destination=ExtData[1]->WorkLocal[15])
 15: 0x3619 [0x27] REQ_SET(priority=0x03, entity_id=Unnamed NPC (ID: 17772588/0x010F302C), tag_num=0x02)
 16: 0x3620 [0x02] IF !(ExtData[1]->WorkLocal[14] < 9999*) GOTO 0x363C
 17: 0x3628 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=ExtData[1]->WorkLocal[12], z=ExtData[1]->WorkLocal[13], y=ExtData[1]->WorkLocal[14], direction=ExtData[1]->WorkLocal[15]
 18: 0x3631 [0x08] ExtData[1]->WorkLocal[14] -= 50*
 19: 0x3636 [0x1C] WAIT(1* ticks)
 20: 0x3639 [0x01] GOTO 0x3620

SUBROUTINE_363C:
 21: 0x363C [0x1C] WAIT(60* ticks)
 22: 0x363F [0x32] ExtData[1]->MainSpeed = 13* * 0.1
 23: 0x3642 [0x1F] MOVE_ENTITY: EventEntity moves to X=46.550*, Z=-72.999*, Y=9.976*
 24: 0x364A [0x1F] MOVE_ENTITY: Update entity position (mode=1)
 25: 0x364C [0x33] EventEntity->Render.Flags0 &= ~ 0x200000 // Bit 21 (flag=0x00)
 26: 0x364E [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo2", work_offset2=0*)
 27: 0x365F [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo2")
 28: 0x366E [0x46] CAMERA_CONTROL: Restore default settings
 29: 0x3670 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 30: 0x3681 [0x21] END_EVENT
 31: 0x3682 [0x00] END_REQSTACK()
```
