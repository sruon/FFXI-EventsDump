# Event 10152

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/102     |
| Offset          | 0x00CD    |
| Data Size       | 262 bytes |
| Calculated Size | 262 bytes |
| Instructions    | 62        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00C0:                                         2E 03 2C               ..,
00D0: 00 07 10 03 2D 00 08 10  1E F0 FF FF 7F 79 00 F8  ....-........y..
00E0: FF FF 7F F0 FF FF 7F 29  80 EB 30 0F 01 09 1C 03  .......)..0.....
00F0: 80 1D 01 80 23 1D 12 80  23 06 27 00 02 09 10 08  ....#...#.'.....
0100: 80 00 15 01 3C 27 00 0F  80 0F 80 3C 27 00 13 80  ....<'.....<'...
0110: 0F 80 01 24 01 02 09 10  14 80 00 24 01 3C 27 00  ...$.......$.<'.
0120: 08 80 0F 80 02 0F 80 0F  80 00 80 01 24 15 80 08  ............$...
0130: 80 27 00 25 02 00 10 08  80 00 42 01 1A 82 01 01  .'.%......B.....
0140: 7D 01 02 00 10 0F 80 00  50 01 1A EC 03 01 7D 01  }.......P.....}.
0150: 02 00 10 13 80 00 5F 01  1A 14 04 2E 01 7D 01 02  ......_......}..
0160: 00 10 16 80 00 6D 01 1A  49 06 01 7D 01 02 00 10  .....m..I..}....
0170: 17 80 00 7B 01 1A 92 03  01 7D 01 21 00 01 24 01  ...{.....}.!..$.
0180: 21 00 02 0F 80 0F 80 00  D2 01 03 02 10 08 80 24  !..............$
0190: 18 80 08 80 2C 00 25 02  00 10 08 80 00 A3 01 1B  ....,.%.........
01A0: 01 A3 01 03 22 00 00 10  03 1F 17 08 80 9D 00 88  ...."...........
01B0: 06 22 00 22 00 1A DE 0B  02 22 00 08 80 00 C5 01  ."."....."......
01C0: 21 00 01 CF 01 02 22 00  19 80 00 CF 01 21 00 01  !....."......!..
01D0: 82 01 1B                                          ...             
```

## Opcodes

```
  0: 0x00CD [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
  1: 0x00CE [0x03] ExtData[1]->WorkLocal[44] = Work_Zone[7]
  2: 0x00D3 [0x03] ExtData[1]->WorkLocal[45] = Work_Zone[8]
  3: 0x00D8 [0x1E] EventEntity looks at LocalPlayer and starts talking
  4: 0x00DD [0x79] EventEntity looks at LocalPlayer (Basic look)
  5: 0x00E7 [0x29] REQ_SET_WAIT(priority=0x80, entity_id=Unnamed NPC (ID: 17772779/0x010F30EB), tag_num=0x09)
  6: 0x00EE [0x1C] WAIT(60* ticks)
  7: 0x00F1 [0x1D] PRINT_EVENT_MESSAGE(message_id=14670*)
    → "Hullo there! You can call me Green, the newest member of the Magian Mooglehood!\u0007I might still be wet behind the wings, but just you wait!\u0007Someday I'll be as powerful and pretentious as my elders, kupo!\u007F1\u0000\u0007"
  8: 0x00F4 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x00F5 [0x1D] PRINT_EVENT_MESSAGE(message_id=14682*)
    → "Need something, kupo?\u007F1\u0000\u0007"
 10: 0x00F8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x00F9 [0x06] ExtData[1]->WorkLocal[39] = 0
 12: 0x00FC [0x02] IF !(Work_Zone[9] == 0*) GOTO 0x0115
 13: 0x0104 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x27, bit_index_work_offset=0x800F, condition_work_offset=0x800F)
 14: 0x010B [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x27, bit_index_work_offset=0x8013, condition_work_offset=0x800F)
 15: 0x0112 [0x01] GOTO 0x0124

SUBROUTINE_0115:
 16: 0x0115 [0x02] IF !(Work_Zone[9] == 10*) GOTO 0x0124
 17: 0x011D [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x27, bit_index_work_offset=0x8008, condition_work_offset=0x800F)
 18: 0x0124 [0x02] IF !(1* == 1*) GOTO 0x0180
 19: 0x012C [0x24] CREATE_DIALOG(message_id=14683*, default_option=0*, option_flags=0x27)
    → "What will you do?\u0007\u000BTake on a trial.\u0007Review current trial.\u0007Abandon current trial.\u0007List available trials.\u0007Ask for aid.\u0007Move on.\u007F1\u0000\u0007"
 20: 0x0133 [0x25] WAIT_DIALOG_SELECT()
 21: 0x0134 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0142
 22: 0x013C [0x1A] CALL_SUBROUTINE(address=0x0182)
 23: 0x013F [0x01] GOTO 0x017D

SUBROUTINE_0142:
 24: 0x0142 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0150
 25: 0x014A [0x1A] CALL_SUBROUTINE(address=0x03EC)
 26: 0x014D [0x01] GOTO 0x017D

SUBROUTINE_0150:
 27: 0x0150 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x015F
 28: 0x0158 [0x1A] CALL_SUBROUTINE(address=0x0414)
 29: 0x015B [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
 30: 0x015C [0x01] GOTO 0x017D

SUBROUTINE_015F:
 31: 0x015F [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x016D
 32: 0x0167 [0x1A] CALL_SUBROUTINE(address=0x0649)
 33: 0x016A [0x01] GOTO 0x017D

SUBROUTINE_016D:
 34: 0x016D [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x017B
 35: 0x0175 [0x1A] CALL_SUBROUTINE(address=0x0392)
 36: 0x0178 [0x01] GOTO 0x017D

SUBROUTINE_017B:
 37: 0x017B [0x21] END_EVENT
 38: 0x017C [0x00] END_REQSTACK()

SUBROUTINE_017D:
 39: 0x017D [0x01] GOTO 0x0124

SUBROUTINE_0180:
 40: 0x0180 [0x21] END_EVENT
 41: 0x0181 [0x00] END_REQSTACK()

SUBROUTINE_0182:
 42: 0x0182 [0x02] IF !(1* == 1*) GOTO 0x01D2
 43: 0x018A [0x03] Work_Zone[2] = 0*
 44: 0x018F [0x24] CREATE_DIALOG(message_id=14684*, default_option=0*, option_flags=0x2C)
    → "\u000C\u0000[Take on/Review] which trial?\u0007\u000BNone.\u0007Warrior.\u0007Monk.\u0007White Mage.\u0007Black Mage.\u0007Red Mage.\u0007Thief.\u0007Paladin.\u0007Dark Knight.\u0007Beastmaster.\u0007Bard.\u0007Ranger.\u0007Samurai.\u0007Ninja.\u0007Dragoon.\u0007Summoner.\u0007Blue Mage.\u0007Corsair.\u0007Puppetmaster.\u0007Dancer.\u0007Scholar.\u007F1\u0000\u0007"
 45: 0x0196 [0x25] WAIT_DIALOG_SELECT()
 46: 0x0197 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x01A3
 47: 0x019F [0x1B] RETURN

SUBROUTINE_01A3:
 48: 0x01A3 [0x03] ExtData[1]->WorkLocal[34] = Work_Zone[0]
 49: 0x01A8 [0x03] Work_Zone_1700[31] = 0*
 50: 0x01AD [0x9D] ExtData[1]->WorkLocal[34] = 0x0688[ExtData[1]->WorkLocal[34]] // Read WORD
 51: 0x01B5 [0x1A] CALL_SUBROUTINE(address=0x0BDE)
 52: 0x01B8 [0x02] IF !(ExtData[1]->WorkLocal[34] == 0*) GOTO 0x01C5
 53: 0x01C0 [0x21] END_EVENT
 54: 0x01C1 [0x00] END_REQSTACK()

SUBROUTINE_01C5:
 55: 0x01C5 [0x02] IF !(ExtData[1]->WorkLocal[34] == 4294967294*) GOTO 0x01CF
 56: 0x01CD [0x21] END_EVENT
 57: 0x01CE [0x00] END_REQSTACK()

SUBROUTINE_01CF:
 58: 0x01CF [0x01] GOTO 0x0182

SUBROUTINE_01D2:
 59: 0x01D2 [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x01A0 [0x01] GOTO 0x01A3
# Dead code (unreachable instructions):
     0x01C2 [0x01] GOTO 0x01CF
```