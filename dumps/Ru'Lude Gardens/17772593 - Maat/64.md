# Event 64

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 17/65     |
| Offset          | 0x0272    |
| Data Size       | 450 bytes |
| Calculated Size | 450 bytes |
| Instructions    | 78        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0270:       03 00 00 02 10 03  01 00 03 10 20 01 42 46    .......... .BF
0280: 01 45 0A 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 31  .E..........fdo1
0290: 0B 80 55 0A 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..U..........fdo
02A0: 31 38 0C 80 29 03 F0 FF  FF 7F 23 97 0B 80 0D 80  18..).....#.....
02B0: 22 01 4E 00 32 30 0F 01  4A F0 FF FF 7F 32 30 0F  ".N.20..J....20.
02C0: 01 4A 32 30 0F 01 F0 FF  FF 7F 6F 76 32 30 0F 01  .J20......ov20..
02D0: 27 03 32 30 0F 01 12 45  0E 80 F0 FF FF 7F F0 FF  '.20...E........
02E0: FF 7F 77 30 30 31 0B 80  55 0E 80 F0 FF FF 7F F0  ..w001..U.......
02F0: FF FF 7F 77 30 30 31 45  0A 80 F0 FF FF 7F F0 FF  ...w001E........
0300: FF 7F 66 64 69 31 0B 80  55 0A 80 F0 FF FF 7F F0  ..fdi1..U.......
0310: FF FF 7F 66 64 69 31 1A  2C 0E 2B 32 30 0F 01 1F  ...fdi1.,.+20...
0320: 80 23 2B 32 30 0F 01 20  80 23 27 03 32 30 0F 01  .#+20.. .#'.20..
0330: 13 1C 21 80 45 0E 80 F0  FF FF 7F F0 FF FF 7F 77  ..!.E..........w
0340: 30 30 34 0B 80 55 0E 80  F0 FF FF 7F F0 FF FF 7F  004..U..........
0350: 77 30 30 34 2A 03 32 30  0F 01 2B 32 30 0F 01 22  w004*.20..+20.."
0360: 80 23 27 03 32 30 0F 01  10 2B 32 30 0F 01 23 80  .#'.20...+20..#.
0370: 23 27 03 32 30 0F 01 11  2B 32 30 0F 01 24 80 23  #'.20...+20..$.#
0380: 2B 32 30 0F 01 25 80 23  06 01 10 24 26 80 0D 80  +20..%.#...$&...
0390: 0B 80 25 02 00 10 0B 80  00 15 04 06 02 00 02 00  ..%.............
03A0: 00 27 80 00 A9 03 05 02  00 02 00 00 28 80 00 B4  .'..........(...
03B0: 03 05 02 00 02 00 00 29  80 00 BF 03 05 02 00 06  .......)........
03C0: 02 10 02 02 00 0D 80 00  D6 03 06 03 00 43 00 43  .............C.C
03D0: 01 03 03 00 02 10 03 02  10 00 00 1A 2C 0E 2B 32  ............,.+2
03E0: 30 0F 01 2A 80 23 02 03  00 0B 80 00 12 04 02 01  0..*.#..........
03F0: 00 0B 80 00 12 04 03 01  10 0D 80 73 2B 80 32 30  ...........s+.20
0400: 0F 01 F0 FF FF 7F 1C 2C  80 92 01 F0 FF FF 7F 1C  .......,........
0410: 2D 80 01 2F 04 02 00 10  0D 80 00 2F 04 27 03 32  -../......./.'.2
0420: 30 0F 01 14 2B 32 30 0F  01 2E 80 23 01 2F 04 1A  0...+20....#./..
0430: F6 0D 21 00                                       ..!.            
```

## Opcodes

```
  0: 0x0272 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  1: 0x0277 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[3]
  2: 0x027C [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  3: 0x027E [0x42] SET_CLI_EVENT_CANCEL_DATA()
  4: 0x027F [0x46] CAMERA_CONTROL: Disable user control
  5: 0x0281 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  6: 0x0292 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
  7: 0x02A1 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  8: 0x02A4 [0x29] REQ_SET_WAIT(priority=0x03, entity_id=LocalPlayer, tag_num=0x23)
  9: 0x02AB [0x97] SAVE_SET_WIND_VALUES(wind_base=0x800B, wind_width=0x800D)
 10: 0x02B0 [0x22] ENTITY_HIDE_FLAG(enabled=0x01)
 11: 0x02B2 [0x4E] SET_ENTITY_HIDE_FLAG: Show Maat (ID: 17772594/0x010F3032)
 12: 0x02B8 [0x4A] LocalPlayer looks at Maat (ID: 17772594/0x010F3032)
 13: 0x02C1 [0x4A] Maat (ID: 17772594/0x010F3032) looks at LocalPlayer
 14: 0x02CA [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 15: 0x02CB [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Maat (ID: 17772594/0x010F3032) Render.Flags0 and Render.Flags3 conditions are met
 16: 0x02D0 [0x27] REQ_SET(priority=0x03, entity_id=Maat (ID: 17772594/0x010F3032), tag_num=0x12)
 17: 0x02D7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "w001" with entities [LocalPlayer, LocalPlayer], work=[53*, 0*]
 18: 0x02E8 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "w001" with entities [LocalPlayer, LocalPlayer], work=53*
 19: 0x02F7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 20: 0x0308 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
 21: 0x0317 [0x1A] CALL_SUBROUTINE(address=0x0E2C)
 22: 0x031A [0x2B] Maat (ID: 17772594/0x010F3032) [10479*]:
    → "That wasn't so hard now, was it?\u007F1\u0000\u0007"
 23: 0x0321 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x0322 [0x2B] Maat (ID: 17772594/0x010F3032) [10480*]:
    → "I bet you're wondering why I keep having you travel around the globe, collecting all these rare and obscure items for me.\u007F1\u0000\u0007"
 25: 0x0329 [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x032A [0x27] REQ_SET(priority=0x03, entity_id=Maat (ID: 17772594/0x010F3032), tag_num=0x13)
 27: 0x0331 [0x1C] WAIT(15* ticks)
 28: 0x0334 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "w004" with entities [LocalPlayer, LocalPlayer], work=[53*, 0*]
 29: 0x0345 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "w004" with entities [LocalPlayer, LocalPlayer], work=53*
 30: 0x0354 [0x2A] GET_REQ_LEVEL(level=3, entity_id=Maat (ID: 17772594/0x010F3032))
 31: 0x035A [0x2B] Maat (ID: 17772594/0x010F3032) [10481*]:
    → "Heh heh heh. I know what you're thinking. You're sick and tired of playing fetch for old Maat. You want a chance to show me what you're really made of.\u007F1\u0000\u0007"
 32: 0x0361 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x0362 [0x27] REQ_SET(priority=0x03, entity_id=Maat (ID: 17772594/0x010F3032), tag_num=0x10)
 34: 0x0369 [0x2B] Maat (ID: 17772594/0x010F3032) [10482*]:
    → "Well, now that you mention it, I think I'd be delighted to test your might with my own hands.\u007F1\u0000\u0007"
 35: 0x0370 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x0371 [0x27] REQ_SET(priority=0x03, entity_id=Maat (ID: 17772594/0x010F3032), tag_num=0x11)
 37: 0x0378 [0x2B] Maat (ID: 17772594/0x010F3032) [10483*]:
    → "I may look old, but I still have a lot of spunk in me. I can take anything and everything you've got.\u007F1\u0000\u0007"
 38: 0x037F [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x0380 [0x2B] Maat (ID: 17772594/0x010F3032) [10484*]:
    → "What do you say? You'll get your chance to get back at me for all the trouble I've put you through, and I'll get some good exercise.\u007F1\u0000\u0007"
 40: 0x0387 [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x0388 [0x06] Work_Zone[1] = 0
 42: 0x038B [0x24] CREATE_DIALOG(message_id=10485*, default_option=1*, option_flags=0*)
    → "Challenge Maat?\u0007\u000BYou bet!\u0007I'm not ready to hit the mat.\u007F1\u0000\u0007"
 43: 0x0392 [0x25] WAIT_DIALOG_SELECT()
 44: 0x0393 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0415
 45: 0x039B [0x06] ExtData[1]->WorkLocal[2] = 0
 46: 0x039E [0x02] IF !(ExtData[1]->WorkLocal[0] == 12*) GOTO 0x03A9
 47: 0x03A6 [0x05] ExtData[1]->WorkLocal[2] = 1
 48: 0x03A9 [0x02] IF !(ExtData[1]->WorkLocal[0] == 13*) GOTO 0x03B4
 49: 0x03B1 [0x05] ExtData[1]->WorkLocal[2] = 1
 50: 0x03B4 [0x02] IF !(ExtData[1]->WorkLocal[0] == 14*) GOTO 0x03BF
 51: 0x03BC [0x05] ExtData[1]->WorkLocal[2] = 1
 52: 0x03BF [0x06] Work_Zone[2] = 0
 53: 0x03C2 [0x02] IF !(ExtData[1]->WorkLocal[2] == 1*) GOTO 0x03D6
 54: 0x03CA [0x06] ExtData[1]->WorkLocal[3] = 0
 55: 0x03CD [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 56: 0x03CF [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 57: 0x03D1 [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[2]
 58: 0x03D6 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[0]
 59: 0x03DB [0x1A] CALL_SUBROUTINE(address=0x0E2C)
 60: 0x03DE [0x2B] Maat (ID: 17772594/0x010F3032) [10486*]:
    → "Heh heh heh! That's the spirit!\u0007Now take that \u0001\u0005#\u0002\u0001\u0000\u0000 to the burning circle and throw it in. I'll be waiting for you inside.\u007F1\u0000\u0007"
 61: 0x03E5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 62: 0x03E6 [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x0412
 63: 0x03EE [0x02] IF !(ExtData[1]->WorkLocal[1] == 0*) GOTO 0x0412
 64: 0x03F6 [0x03] Work_Zone[1] = 1*
 65: 0x03FB [0x73] Maat (ID: 17772594/0x010F3032) casts magic 122* on LocalPlayer
 66: 0x0406 [0x1C] WAIT(150* ticks)
 67: 0x0409 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
 68: 0x040F [0x1C] WAIT(110* ticks)
 69: 0x0412 [0x01] GOTO 0x042F

SUBROUTINE_0415:
 70: 0x0415 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x042F
 71: 0x041D [0x27] REQ_SET(priority=0x03, entity_id=Maat (ID: 17772594/0x010F3032), tag_num=0x14)
 72: 0x0424 [0x2B] Maat (ID: 17772594/0x010F3032) [10487*]:
    → "Huh? You're not afraid of an old man now, are you? Well, I guess I can give you a little more time to prepare. You can call it a handicap. Heh heh heh.\u007F1\u0000\u0007"
 73: 0x042B [0x23] WAIT_FOR_DIALOG_INTERACTION
 74: 0x042C [0x01] GOTO 0x042F

SUBROUTINE_042F:
 75: 0x042F [0x1A] CALL_SUBROUTINE(address=0x0DF6)
 76: 0x0432 [0x21] END_EVENT
 77: 0x0433 [0x00] END_REQSTACK()
```
