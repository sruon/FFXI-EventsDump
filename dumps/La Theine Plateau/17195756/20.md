# Event 20

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 5/5       |
| Offset          | 0x1531    |
| Data Size       | 972 bytes |
| Calculated Size | 972 bytes |
| Instructions    | 53        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1530:    42 1A CF 16 46 01 38  02 80 2F 00 DA 62 06 01   B...F.8../..b..
1540: 4E 00 DA 62 06 01 94 01  DA 62 06 01 94 01 F0 FF  N..b.....b......
1550: FF 7F BA DA 62 06 01 25  80 26 80 27 80 28 80 BA  ....b..%.&.'.(..
1560: F0 FF FF 7F C6 80 C7 80  C8 80 C9 80 80 DA 62 06  ..............b.
1570: 01 80 F0 FF FF 7F 4A F0  FF FF 7F DA 62 06 01 7B  ......J.....b..{
1580: F0 FF FF 7F 1C 12 80 D0  8A 80 DA 62 06 01 DA 62  ...........b...b
1590: 06 01 6D 61 69 6E 01 80  5B 8B 80 DA 62 06 01 DA  ..main..[...b...
15A0: 62 06 01 75 6B 75 30 D0  8C 80 DA 62 06 01 DA 62  b..uku0....b...b
15B0: 06 01 73 74 61 72 01 80  1C 12 80 45 0B 80 F8 FF  ..star.....E....
15C0: FF 7F F8 FF FF 7F 73 30  38 38 01 80 1A AE 16 1C  ......s088......
15D0: 74 80 D5 16 80 DA 62 06  01 DA 62 06 01 6D 61 67  t.....b...b..mag
15E0: 30 01 80 1C 0D 80 52 0B  80 F8 FF FF 7F F8 FF FF  0.....R.........
15F0: 7F 73 30 38 38 45 0B 80  F8 FF FF 7F F8 FF FF 7F  .s088E..........
1600: 73 30 38 39 01 80 1C 00  80 1A 11 17 1C 24 80 52  s089.........$.R
1610: 0B 80 F8 FF FF 7F F8 FF  FF 7F 73 30 38 39 45 0B  ..........s089E.
1620: 80 F8 FF FF 7F F8 FF FF  7F 30 62 6C 66 01 80 1A  .........0blf...
1630: CF 16 1A F0 16 D0 8A 80  DA 62 06 01 DA 62 06 01  .........b...b..
1640: 6B 69 6C 6C 01 80 D0 8C  80 DA 62 06 01 DA 62 06  kill......b...b.
1650: 01 6B 69 6C 6C 01 80 46  00 45 00 80 F8 FF FF 7F  .kill..F.E......
1660: F8 FF FF 7F 66 64 69 32  01 80 21 00 45 00 80 F0  ....fdi2..!.E...
1670: FF FF 7F F0 FF FF 7F 66  64 69 30 01 80 55 00 80  .......fdi0..U..
1680: F0 FF FF 7F F0 FF FF 7F  66 64 69 30 1B 45 00 80  ........fdi0.E..
1690: F0 FF FF 7F F0 FF FF 7F  66 64 6F 30 01 80 55 00  ........fdo0..U.
16A0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 30 1B 45 00  .........fdo0.E.
16B0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 01 80 55  .........fdi1..U
16C0: 00 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 31 1B 45  ..........fdi1.E
16D0: 00 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 31 01 80  ..........fdo1..
16E0: 55 00 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 31 1B  U..........fdo1.
16F0: 45 14 80 F0 FF FF 7F F0  FF FF 7F 77 68 69 31 01  E..........whi1.
1700: 80 55 14 80 F0 FF FF 7F  F0 FF FF 7F 77 68 69 31  .U..........whi1
1710: 1B 45 14 80 F0 FF FF 7F  F0 FF FF 7F 77 68 6F 31  .E..........who1
1720: 01 80 55 14 80 F0 FF FF  7F F0 FF FF 7F 77 68 6F  ..U..........who
1730: 31 1B 45 14 80 F0 FF FF  7F F0 FF FF 7F 77 68 6F  1.E..........who
1740: 32 01 80 55 14 80 F0 FF  FF 7F F0 FF FF 7F 77 68  2..U..........wh
1750: 6F 32 1B 45 14 80 F0 FF  FF 7F F0 FF FF 7F 77 68  o2.E..........wh
1760: 6F 33 01 80 55 14 80 F0  FF FF 7F F0 FF FF 7F 77  o3..U..........w
1770: 68 6F 33 1B 62 16 80 F0  FF FF 7F F0 FF FF 7F 6D  ho3.b..........m
1780: 61 69 6E 01 80 1C CA 80  45 00 80 F0 FF FF 7F F0  ain.....E.......
1790: FF FF 7F 66 64 6F 31 01  80 55 00 80 F0 FF FF 7F  ...fdo1..U......
17A0: F0 FF FF 7F 66 64 6F 31  1B 45 00 80 F0 FF FF 7F  ....fdo1.E......
17B0: F0 FF FF 7F 66 64 69 31  01 80 62 CB 80 F0 FF FF  ....fdi1..b.....
17C0: 7F F0 FF FF 7F 6D 61 69  6E 01 80 1C 12 80 55 00  .....main.....U.
17D0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 1B 45 00  .........fdi1.E.
17E0: 80 F0 FF FF 7F F0 FF FF  7F 62 6C 6F 6E 01 80 45  .........blon..E
17F0: 14 80 F0 FF FF 7F F0 FF  FF 7F 62 6C 6F 6E 01 80  ..........blon..
1800: 1B 45 14 80 F0 FF FF 7F  F0 FF FF 7F 77 68 69 30  .E..........whi0
1810: 01 80 55 14 80 F0 FF FF  7F F0 FF FF 7F 77 68 69  ..U..........whi
1820: 30 1B 45 14 80 F0 FF FF  7F F0 FF FF 7F 77 68 6F  0.E..........who
1830: 30 01 80 55 14 80 F0 FF  FF 7F F0 FF FF 7F 77 68  0..U..........wh
1840: 6F 30 1B 45 CC 80 F0 FF  FF 7F F0 FF FF 7F 65 66  o0.E..........ef
1850: 6F 6E 01 80 55 CC 80 F0  FF FF 7F F0 FF FF 7F 65  on..U..........e
1860: 66 6F 6E 1B 45 00 80 F0  FF FF 7F F0 FF FF 7F 66  fon.E..........f
1870: 64 69 73 01 80 1B 45 00  80 F0 FF FF 7F F0 FF FF  dis...E.........
1880: 7F 66 64 6F 73 01 80 55  00 80 F0 FF FF 7F F0 FF  .fdos..U........
1890: FF 7F 66 64 6F 73 1B 45  00 80 F0 FF FF 7F F0 FF  ..fdos.E........
18A0: FF 7F 66 64 69 66 01 80  1B 45 00 80 F0 FF FF 7F  ..fdif...E......
18B0: F0 FF FF 7F 66 64 6F 66  01 80 55 00 80 F0 FF FF  ....fdof..U.....
18C0: 7F F0 FF FF 7F 66 64 6F  66 1B 45 00 80 F0 FF FF  .....fdof.E.....
18D0: 7F F0 FF FF 7F 66 64 69  70 01 80 1B 45 00 80 F0  .....fdip...E...
18E0: FF FF 7F F0 FF FF 7F 66  64 6F 70 01 80 55 00 80  .......fdop..U..
18F0: F0 FF FF 7F F0 FF FF 7F  66 64 6F 70 1B           ........fdop.   
```

## Opcodes

```
  0: 0x1531 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x1532 [0x1A] CALL_SUBROUTINE(address=0x16CF)
  2: 0x1535 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x1537 [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  4: 0x153A [0x2F] Unnamed NPC (ID: 17195738/0x010662DA)->Render.Flags0 &= ~0x80000 // Bit 19
  5: 0x1540 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17195738/0x010662DA)
  6: 0x1546 [0x94] Unnamed NPC (ID: 17195738/0x010662DA)->Render.Flags3 ^= 0x01
  7: 0x154C [0x94] LocalPlayer->Render.Flags3 ^= 0x01
  8: 0x1552 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17195738/0x010662DA), pos_x=-179.101*, pos_z=254.045*, pos_y=8.859*, direction=164.4°*)
  9: 0x155F [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-181.959*, pos_z=254.919*, pos_y=8.569*, direction=9.0°*)
 10: 0x156C [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17195738/0x010662DA))
 11: 0x1571 [0x80] LOAD_WAIT(entity=LocalPlayer)
 12: 0x1576 [0x4A] LocalPlayer looks at Unnamed NPC (ID: 17195738/0x010662DA)
 13: 0x157F [0x7B] LocalPlayer stops talking
 14: 0x1584 [0x1C] WAIT(30* ticks)
 15: 0x1587 [0xD0] LOAD_SCHEDULED_TASK_ALT5(work_offset=254*, entity1=Unnamed NPC (ID: 17195738/0x010662DA), entity2=Unnamed NPC (ID: 17195738/0x010662DA), action="main", work_offset2=0*)
 16: 0x1598 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3878*, entity1=Unnamed NPC (ID: 17195738/0x010662DA), entity2=Unnamed NPC (ID: 17195738/0x010662DA), action="uku0")
 17: 0x15A7 [0xD0] LOAD_SCHEDULED_TASK_ALT5(work_offset=103*, entity1=Unnamed NPC (ID: 17195738/0x010662DA), entity2=Unnamed NPC (ID: 17195738/0x010662DA), action="star", work_offset2=0*)
 18: 0x15B8 [0x1C] WAIT(30* ticks)
 19: 0x15BB [0x45] LOAD_SCHEDULED_TASK(work_offset1=766*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s088", work_offset2=0*)
 20: 0x15CC [0x1A] CALL_SUBROUTINE(address=0x16AE)
 21: 0x15CF [0x1C] WAIT(100* ticks)
 22: 0x15D2 [0xD5] LOAD_EVENT_SCHEDULER_ALT8(unknown1=0x16, unknown2=0x80, entity1_id=0x010662DA, entity2_id=0x010662DA, task_param=0x616D, unknown3=0x67, unknown4=0x30, work_offset=0x01, unknown5=0x80)
 23: 0x15E3 [0x1C] WAIT(60* ticks)
 24: 0x15E6 [0x52] END_LOAD_SCHEDULER: End scheduler "s088" with entities [EventEntity, EventEntity], work=766*
 25: 0x15F5 [0x45] LOAD_SCHEDULED_TASK(work_offset1=766*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s089", work_offset2=0*)
 26: 0x1606 [0x1C] WAIT(200* ticks)
 27: 0x1609 [0x1A] CALL_SUBROUTINE(address=0x1711)
 28: 0x160C [0x1C] WAIT(180* ticks)
 29: 0x160F [0x52] END_LOAD_SCHEDULER: End scheduler "s089" with entities [EventEntity, EventEntity], work=766*
 30: 0x161E [0x45] LOAD_SCHEDULED_TASK(work_offset1=766*, entity1=EventEntity, entity2=EventEntity, scheduler_id="0blf", work_offset2=0*)
 31: 0x162F [0x1A] CALL_SUBROUTINE(address=0x16CF)
 32: 0x1632 [0x1A] CALL_SUBROUTINE(address=0x16F0)
 33: 0x1635 [0xD0] LOAD_SCHEDULED_TASK_ALT5(work_offset=254*, entity1=Unnamed NPC (ID: 17195738/0x010662DA), entity2=Unnamed NPC (ID: 17195738/0x010662DA), action="kill", work_offset2=0*)
 34: 0x1646 [0xD0] LOAD_SCHEDULED_TASK_ALT5(work_offset=103*, entity1=Unnamed NPC (ID: 17195738/0x010662DA), entity2=Unnamed NPC (ID: 17195738/0x010662DA), action="kill", work_offset2=0*)
 35: 0x1657 [0x46] CAMERA_CONTROL: Restore default settings
 36: 0x1659 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi2", work_offset2=0*)
 37: 0x166A [0x21] END_EVENT
 38: 0x166B [0x00] END_REQSTACK()

 39: 0x16AE [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 40: 0x16BF [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1")
 41: 0x16CE [0x1B] RETURN

SUBROUTINE_16CF:
 42: 0x16CF [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 43: 0x16E0 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
 44: 0x16EF [0x1B] RETURN

SUBROUTINE_16F0:
 45: 0x16F0 [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="whi1", work_offset2=0*)
 46: 0x1701 [0x55] WAIT_LOAD_SCHEDULER(work_offset=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="whi1")
 47: 0x1710 [0x1B] RETURN

SUBROUTINE_1711:
 48: 0x1711 [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="who1", work_offset2=0*)
 49: 0x1722 [0x55] WAIT_LOAD_SCHEDULER(work_offset=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="who1")
 50: 0x1731 [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x166C (66 bytes)
     0x166C: 45 00 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 30 01
     0x167C: 80 55 00 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 30
     0x168C: 1B 45 00 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 30
     0x169C: 01 80 55 00 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F
     0x16AC: 30 1B
# Data Section: 0x1732 (459 bytes)
     0x1732: 45 14 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F 32 01
     0x1742: 80 55 14 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F 32
     0x1752: 1B 45 14 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F 33
     0x1762: 01 80 55 14 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x1772: 33 1B 62 16 80 F0 FF FF 7F F0 FF FF 7F 6D 61 69
     0x1782: 6E 01 80 1C CA 80 45 00 80 F0 FF FF 7F F0 FF FF
     0x1792: 7F 66 64 6F 31 01 80 55 00 80 F0 FF FF 7F F0 FF
     0x17A2: FF 7F 66 64 6F 31 1B 45 00 80 F0 FF FF 7F F0 FF
     0x17B2: FF 7F 66 64 69 31 01 80 62 CB 80 F0 FF FF 7F F0
     0x17C2: FF FF 7F 6D 61 69 6E 01 80 1C 12 80 55 00 80 F0
     0x17D2: FF FF 7F F0 FF FF 7F 66 64 69 31 1B 45 00 80 F0
     0x17E2: FF FF 7F F0 FF FF 7F 62 6C 6F 6E 01 80 45 14 80
     0x17F2: F0 FF FF 7F F0 FF FF 7F 62 6C 6F 6E 01 80 1B 45
     0x1802: 14 80 F0 FF FF 7F F0 FF FF 7F 77 68 69 30 01 80
     0x1812: 55 14 80 F0 FF FF 7F F0 FF FF 7F 77 68 69 30 1B
     0x1822: 45 14 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F 30 01
     0x1832: 80 55 14 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F 30
     0x1842: 1B 45 CC 80 F0 FF FF 7F F0 FF FF 7F 65 66 6F 6E
     0x1852: 01 80 55 CC 80 F0 FF FF 7F F0 FF FF 7F 65 66 6F
     0x1862: 6E 1B 45 00 80 F0 FF FF 7F F0 FF FF 7F 66 64 69
     0x1872: 73 01 80 1B 45 00 80 F0 FF FF 7F F0 FF FF 7F 66
     0x1882: 64 6F 73 01 80 55 00 80 F0 FF FF 7F F0 FF FF 7F
     0x1892: 66 64 6F 73 1B 45 00 80 F0 FF FF 7F F0 FF FF 7F
     0x18A2: 66 64 69 66 01 80 1B 45 00 80 F0 FF FF 7F F0 FF
     0x18B2: FF 7F 66 64 6F 66 01 80 55 00 80 F0 FF FF 7F F0
     0x18C2: FF FF 7F 66 64 6F 66 1B 45 00 80 F0 FF FF 7F F0
     0x18D2: FF FF 7F 66 64 69 70 01 80 1B 45 00 80 F0 FF FF
     0x18E2: 7F F0 FF FF 7F 66 64 6F 70 01 80 55 00 80 F0 FF
     0x18F2: FF 7F F0 FF FF 7F 66 64 6F 70 1B
```