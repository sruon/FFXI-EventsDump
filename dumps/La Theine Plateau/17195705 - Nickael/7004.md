# Event 7004

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/9       |
| Offset          | 0x021D    |
| Data Size       | 267 bytes |
| Calculated Size | 267 bytes |
| Instructions    | 62        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0210:                                         1E F0 FF               ...
0220: FF 7F 2B B9 62 06 01 24  80 23 24 25 80 03 80 03  ..+.b..$.#$%....
0230: 80 25 02 00 10 03 80 00  B4 02 2B B9 62 06 01 10  .%........+.b...
0240: 80 23 2B B9 62 06 01 11  80 23 2B B9 62 06 01 12  .#+.b....#+.b...
0250: 80 23 2B B9 62 06 01 13  80 23 2B B9 62 06 01 14  .#+.b....#+.b...
0260: 80 23 2B B9 62 06 01 15  80 23 2B B9 62 06 01 16  .#+.b....#+.b...
0270: 80 23 2B B9 62 06 01 17  80 23 2B B9 62 06 01 18  .#+.b....#+.b...
0280: 80 23 2B B9 62 06 01 19  80 23 02 08 10 03 80 00  .#+.b....#......
0290: A2 02 2B B9 62 06 01 1B  80 23 2B B9 62 06 01 1C  ..+.b....#+.b...
02A0: 80 23 2B B9 62 06 01 1D  80 23 03 01 10 03 80 21  .#+.b....#.....!
02B0: 00 01 26 03 02 00 10 04  80 00 F6 02 2B B9 62 06  ..&.........+.b.
02C0: 01 07 80 23 1A 55 04 89  08 80 8B 08 80 09 80 01  ...#.U..........
02D0: 00 02 00 53 6D 69 6C 65  5F 48 65 6C 70 65 72 00  ...Smile_Helper.
02E0: 00 00 00 2B B9 62 06 01  26 80 23 8A 03 01 10 03  ...+.b..&.#.....
02F0: 80 21 00 01 26 03 02 00  10 0D 80 00 14 03 42 1A  .!..&.........B.
0300: 98 04 2B B9 62 06 01 27  80 23 03 01 10 28 80 21  ..+.b..'.#...(.!
0310: 00 01 26 03 02 00 10 06  80 00 26 03 03 01 10 06  ..&.......&.....
0320: 80 21 00 01 26 03 21 00                           .!..&.!.        
```

## Opcodes

```
  0: 0x021D [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0222 [0x2B] Nickael (ID: 17195705/0x010662B9) [11284*]:
    → "Oh, what're you doing here? Aren't you in the middle of a run right now?\u0007Couldn't stand to be parted from your favorite smile sergeant, maybe? Teehee!\u007F1\u0000\u0007"
  2: 0x0229 [0x23] WAIT_FOR_DIALOG_INTERACTION
  3: 0x022A [0x24] CREATE_DIALOG(message_id=11285*, default_option=0*, option_flags=0*)
    → "What will you do?\u0007\u000BHear an explanation.\u0007Where're the smile helpers again?\u0007Cancel the training.\u0007Nothing.\u007F1\u0000\u0007"
  4: 0x0231 [0x25] WAIT_DIALOG_SELECT()
  5: 0x0232 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x02B4
  6: 0x023A [0x2B] Nickael (ID: 17195705/0x010662B9) [11260*]:
    → "It'd be my pleasure! Here goes nothing! Ahem!\u0007The Smilebringer Boot Camp was established for two purposes, the first being the ongoing training and conditioning of smilebringers. The second--and this is where you come in, yay!--is for us to scout hopefuls from the adventurer community to join our jovial ranks!\u007F1\u0000\u0007"
  7: 0x0241 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x0242 [0x2B] Nickael (ID: 17195705/0x010662B9) [11261*]:
    → "The population of vicious monsters has grown in recent years, you see. And because of this, more smilebringers were being--<gasp!>--injured in the line of duty than ever before.\u007F1\u0000\u0007"
  9: 0x0249 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x024A [0x2B] Nickael (ID: 17195705/0x010662B9) [11262*]:
    → "But we weren't going to take that sitting down, no siree.\u0007The day we smilebringers stop doing our job--that is, bringing smiles--is the day the world ends!\u007F1\u0000\u0007"
 11: 0x0251 [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x0252 [0x2B] Nickael (ID: 17195705/0x010662B9) [11263*]:
    → "Whatever the predicament, and no matter the size of the ruszor-inflicted gash wound, we will--we must--pull through...for the sake of the children!\u007F1\u0000\u0007"
 13: 0x0259 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x025A [0x2B] Nickael (ID: 17195705/0x010662B9) [11264*]:
    → "With these heart-warming ideals in mind, the Smilebringer Boot Camp was established. Ta-da!\u0007Smilebringers graduating from this camp are better equipped to meet the ever-changing needs of these unstable times we live in.\u007F1\u0000\u0007"
 15: 0x0261 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x0262 [0x2B] Nickael (ID: 17195705/0x010662B9) [11265*]:
    → "The rules are as simple as sunshine. Smilebringer's honor!\u0007When I give you the word, run to each of the checkpoints we've set up in the area. \u00072Smile helpers\u00073 are posted at each, so you can't miss them!\u007F1\u0000\u0007"
 17: 0x0269 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x026A [0x2B] Nickael (ID: 17195705/0x010662B9) [11266*]:
    → "Talk to the smile helpers and they'll confirm your passage.\u0007The route you take is completely up to you--just be sure you don't miss any checkpoints. You got all that? Hmmm?\u007F1\u0000\u0007"
 19: 0x0271 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x0272 [0x2B] Nickael (ID: 17195705/0x010662B9) [11267*]:
    → "I'll mark each smile helper's location on your map beforehand, so you don't need to worry about getting lost.\u007F1\u0000\u0007"
 21: 0x0279 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x027A [0x2B] Nickael (ID: 17195705/0x010662B9) [11268*]:
    → "Once you've finished visiting all the checkpoints, you have to--you guessed it!--come back and report to me. It's okay, I won't bite!\u007F1\u0000\u0007"
 23: 0x0281 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x0282 [0x2B] Nickael (ID: 17195705/0x010662B9) [11269*]:
    → "What I will do, though, is tell you how quickly you completed the course. After all, to a smilebringer, speed is everything. Some folks run faster with a fell beast hot on their tail, but we smilebringers need no more than the thought of a child's laughter to spur us on! Zoom zoom!\u007F1\u0000\u0007"
 25: 0x0289 [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x028A [0x02] IF !(Work_Zone[8] == 0*) GOTO 0x02A2
 27: 0x0292 [0x2B] Nickael (ID: 17195705/0x010662B9) [11295*]:
    → "It might surprise you to learn this, but even the toughest--grrrrrr!--and roughest of us smilebringers need rest and relaxation.\u0007Oh, wipe that grin off your face! I knew you wouldn't believe me!\u007F1\u0000\u0007"
 28: 0x0299 [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x029A [0x2B] Nickael (ID: 17195705/0x010662B9) [11296*]:
    → "Aaanyway! What I meant to say is, \u00072work hard, play hard\u00073 is our motto, and it applies to boot camp participants, too.\u0007After you complete a run with a qualifying time--yay!--you're required to rest up until the next day (Vana'diel time).\u007F1\u0000\u0007"
 30: 0x02A1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x02A2 [0x2B] Nickael (ID: 17195705/0x010662B9) [11271*]:
    → "One more thing you should know. If you venture out of the area, the training will automatically be canceled.\u0007But I can trust you not to walk out on your favorite smile sergeant, right? Hmmm?\u0000\u0007"
 32: 0x02A9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x02AA [0x03] Work_Zone[1] = 0*
 34: 0x02AF [0x21] END_EVENT
 35: 0x02B0 [0x00] END_REQSTACK()

SUBROUTINE_02B4:
 36: 0x02B4 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x02F6
 37: 0x02BC [0x2B] Nickael (ID: 17195705/0x010662B9) [11277*]:
    → "But of course! First, I'll need you to lend me your \u0001\u00053\u0002\u0007\u0000\u0000...\u0007Oh, don't pout! I'll give it back as soon as I'm done, promise!\u007F1\u0000\u0007"
 38: 0x02C3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x02C4 [0x1A] CALL_SUBROUTINE(address=0x0455)
 40: 0x02C7 [0x89] OPEN_MAP(map_id=0x00008008)
 41: 0x02CA [0x8B] SET_EVENT_MARK: Add/update map marker on map 102* at (0.0, 0.0), index=9*, name=(no name)
 42: 0x02D3 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "per" with entities [Unknown NPC (ID: 1701603693/0x656C696D), Unknown NPC (ID: 1818576991/0x6C65485F)]
 43: 0x02E0 [0x00] END_REQSTACK()

 44: 0x02F6 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0314
 45: 0x02FE [0x42] SET_CLI_EVENT_CANCEL_DATA()
 46: 0x02FF [0x1A] CALL_SUBROUTINE(address=0x0498)
 47: 0x0302 [0x2B] Nickael (ID: 17195705/0x010662B9) [11286*]:
    → "Awww... These rivulets of tears streaming down my face...\u0007B-but it's okay... You have your own reasons for quitting, and I understand... <Sob>\u0000\u0007"
 48: 0x0309 [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0x030A [0x03] Work_Zone[1] = 5*
 50: 0x030F [0x21] END_EVENT
 51: 0x0310 [0x00] END_REQSTACK()

SUBROUTINE_0314:
 52: 0x0314 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0326
 53: 0x031C [0x03] Work_Zone[1] = 3*
 54: 0x0321 [0x21] END_EVENT
 55: 0x0322 [0x00] END_REQSTACK()

SUBROUTINE_0326:
 56: 0x0326 [0x21] END_EVENT
 57: 0x0327 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x02B1 [0x01] GOTO 0x0326
# Data Section: 0x02E1 (21 bytes)
     0x02E1: 00 00 2B B9 62 06 01 26 80 23 8A 03 01 10 03 80
     0x02F1: 21 00 01 26 03
# Dead code (unreachable instructions):
     0x0311 [0x01] GOTO 0x0326
# Dead code (unreachable instructions):
     0x0323 [0x01] GOTO 0x0326
```