# Event 246

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/11      |
| Offset          | 0x54A7    |
| Data Size       | 230 bytes |
| Calculated Size | 230 bytes |
| Instructions    | 55        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
54A0:                      02  02 10 AF 81 00 B0 54 42         .......TB
54B0: 03 01 10 01 80 4A A9 62  03 01 F0 FF FF 7F 6F 76  .....J.b......ov
54C0: A9 62 03 01 02 02 10 B0  81 00 00 55 2B A9 62 03  .b.........U+.b.
54D0: 01 B1 81 23 24 B2 81 01  80 01 80 25 02 00 10 01  ...#$......%....
54E0: 80 00 FD 54 43 00 43 01  42 2B A9 62 03 01 B3 81  ...TC.C.B+.b....
54F0: 23 03 01 10 03 80 30 1A  64 00 01 FD 54 01 8B 55  #.....0.d...T..U
5500: 02 02 10 B4 81 00 16 55  2B A9 62 03 01 B5 81 23  .......U+.b....#
5510: 48 B6 81 01 8B 55 02 02  10 B7 81 00 2C 55 2B A9  H....U......,U+.
5520: 62 03 01 B8 81 23 48 B9  81 01 8B 55 02 02 10 BA  b....#H....U....
5530: 81 04 83 55 02 02 10 BB  81 05 4F 55 2B A9 62 03  ...U......OU+.b.
5540: 01 BC 81 23 03 04 10 BD  81 48 BE 81 01 80 55 02  ...#.....H....U.
5550: 02 10 BF 81 00 65 55 2B  A9 62 03 01 C0 81 23 48  .....eU+.b....#H
5560: C1 81 01 80 55 02 02 10  AF 81 00 78 55 2B A9 62  ....U......xU+.b
5570: 03 01 C2 81 23 01 80 55  2B A9 62 03 01 C3 81 23  ....#..U+.b....#
5580: 01 8B 55 2B A9 62 03 01  77 80 23 21 00           ..U+.b..w.#!.   
```

## Opcodes

```
  0: 0x54A7 [0x02] IF !(Work_Zone[2] == 378*) GOTO 0x54B0
  1: 0x54AF [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x54B0 [0x03] Work_Zone[1] = 0*
  3: 0x54B5 [0x4A] Apkallu Guide (ID: 16999081/0x010362A9) looks at LocalPlayer
  4: 0x54BE [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  5: 0x54BF [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Apkallu Guide (ID: 16999081/0x010362A9) Render.Flags0 and Render.Flags3 conditions are met
  6: 0x54C4 [0x02] IF !(Work_Zone[2] == 362*) GOTO 0x5500
  7: 0x54CC [0x2B] Apkallu Guide (ID: 16999081/0x010362A9) [10048*]:
    → "Kupii?\u007F1\u0000\u0007"
  8: 0x54D3 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x54D4 [0x24] CREATE_DIALOG(message_id=10049*, default_option=0*, option_flags=0*)
    → "What will you say?\u0007\u000BI need to see the elder.\u007F1\u0000\u0007"
 10: 0x54DB [0x25] WAIT_DIALOG_SELECT()
 11: 0x54DC [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x54FD
 12: 0x54E4 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 13: 0x54E6 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 14: 0x54E8 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 15: 0x54E9 [0x2B] Apkallu Guide (ID: 16999081/0x010362A9) [10050*]:
    → "Kah.\u007F1\u0000\u0007"
 16: 0x54F0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x54F1 [0x03] Work_Zone[1] = 1*
 18: 0x54F6 [0x30] SET_UCOFF_CONTINUE_ZERO()
 19: 0x54F7 [0x1A] CALL_SUBROUTINE(address=0x0064)
 20: 0x54FA [0x01] GOTO 0x54FD

SUBROUTINE_54FD:
 21: 0x54FD [0x01] GOTO 0x558B

SUBROUTINE_5500:
 22: 0x5500 [0x02] IF !(Work_Zone[2] == 364*) GOTO 0x5516
 23: 0x5508 [0x2B] Apkallu Guide (ID: 16999081/0x010362A9) [10090*]:
    → "Kah?\u007F1\u0000\u0007"
 24: 0x550F [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x5510 [0x48] [System] [10091*]:
    → "The apkallu elder has asked you to head for the spot in the Wajaom Woodlands that feels alive with energy.\u0000\u0007"
 26: 0x5513 [0x01] GOTO 0x558B

SUBROUTINE_5516:
 27: 0x5516 [0x02] IF !(Work_Zone[2] == 366*) GOTO 0x552C
 28: 0x551E [0x2B] Apkallu Guide (ID: 16999081/0x010362A9) [10092*]:
    → "Kah?\u007F1\u0000\u0007"
 29: 0x5525 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x5526 [0x48] [System] [10093*]:
    → "You recall the marolith riddle about a place you \u00072can never go back\u00073 to...\u0000\u0007"
 31: 0x5529 [0x01] GOTO 0x558B

SUBROUTINE_552C:
 32: 0x552C [0x02] IF !(Work_Zone[2] < 370*) GOTO 0x5583
 33: 0x5534 [0x02] IF !(Work_Zone[2] > 372*) GOTO 0x554F
 34: 0x553C [0x2B] Apkallu Guide (ID: 16999081/0x010362A9) [10112*]:
    → "Kah?\u007F1\u0000\u0007"
 35: 0x5543 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x5544 [0x03] Work_Zone[4] = 3265*
 37: 0x5549 [0x48] [System] [10113*]:
    → "The apkallu elder has asked you to find a humanoid who can repair the \u0001\u00053\u0002\u0002\u0000\u0000.\u0000\u0007"
 38: 0x554C [0x01] GOTO 0x5580

SUBROUTINE_554F:
 39: 0x554F [0x02] IF !(Work_Zone[2] == 374*) GOTO 0x5565
 40: 0x5557 [0x2B] Apkallu Guide (ID: 16999081/0x010362A9) [10116*]:
    → "Kah!\u007F1\u0000\u0007"
 41: 0x555E [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x555F [0x48] [System] [10117*]:
    → "First, you need to meet with Aznahf the corsair.\u0000\u0007"
 43: 0x5562 [0x01] GOTO 0x5580

SUBROUTINE_5565:
 44: 0x5565 [0x02] IF !(Work_Zone[2] == 378*) GOTO 0x5578
 45: 0x556D [0x2B] Apkallu Guide (ID: 16999081/0x010362A9) [10170*]:
    → "Kuppi!\u007F1\u0000\u0007"
 46: 0x5574 [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x5575 [0x01] GOTO 0x5580

SUBROUTINE_5578:
 48: 0x5578 [0x2B] Apkallu Guide (ID: 16999081/0x010362A9) [10169*]:
    → "Kah?\u007F1\u0000\u0007"
 49: 0x557F [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x5580 [0x01] GOTO 0x558B

SUBROUTINE_5583:
 51: 0x5583 [0x2B] Apkallu Guide (ID: 16999081/0x010362A9) [9930*]:
    → "Kupii.\u007F1\u0000\u0007"
 52: 0x558A [0x23] WAIT_FOR_DIALOG_INTERACTION
 53: 0x558B [0x21] END_EVENT
 54: 0x558C [0x00] END_REQSTACK()
```
