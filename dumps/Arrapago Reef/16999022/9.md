# Event 9

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 6/12      |
| Offset          | 0x1100    |
| Data Size       | 534 bytes |
| Calculated Size | 534 bytes |
| Instructions    | 88        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1100: 42 1A 6F 59 46 01 38 00  80 4E 00 F0 FF FF 7F 03  B.oYF.8..N......
1110: 01 10 0A 80 43 00 43 01  03 01 00 09 10 34 18 80  ....C.C......4..
1120: 77 03 80 0A 80 1C 02 80  AB 09 27 10 72 62 03 01  w.........'.rb..
1130: 04 27 10 73 62 03 01 04  27 10 7A 62 03 01 02 92  .'.sb...'.zb....
1140: 01 72 62 03 01 92 01 73  62 03 01 92 01 7A 62 03  .rb....sb....zb.
1150: 01 94 01 F0 FF FF 7F 94  01 72 62 03 01 94 01 73  .........rb....s
1160: 62 03 01 94 01 7A 62 03  01 29 10 F0 FF FF 7F 28  b....zb..).....(
1170: 29 10 72 62 03 01 0B 29  10 73 62 03 01 0B 29 10  ).rb...).sb...).
1180: 7A 62 03 01 09 80 F0 FF  FF 7F 80 72 62 03 01 80  zb.........rb...
1190: 73 62 03 01 80 7A 62 03  01 5C 00 62 80 5C 01 62  sb...zb..\.b.\.b
11A0: 80 5C 02 62 80 5C 03 62  80 9A 5B 4C 80 72 62 03  .\.b.\.b..[L.rb.
11B0: 01 72 62 03 01 61 74 6B  30 5B 4B 80 73 62 03 01  .rb..atk0[K.sb..
11C0: 73 62 03 01 6D 34 30 32  29 10 F0 FF FF 7F 16 79  sb..m402)......y
11D0: 00 F0 FF FF 7F 73 62 03  01 1C 02 80 45 20 80 F0  .....sb.....E ..
11E0: FF FF 7F F0 FF FF 7F 67  64 30 30 04 80 1A 4E 59  .......gd00...NY
11F0: 1C 0F 80 5B 4B 80 73 62  03 01 73 62 03 01 6D 34  ...[K.sb..sb..m4
1200: 30 33 1C 18 80 5B 4C 80  72 62 03 01 72 62 03 01  03...[L.rb..rb..
1210: 65 73 63 30 52 20 80 F0  FF FF 7F F0 FF FF 7F 67  esc0R .........g
1220: 64 30 30 45 20 80 F0 FF  FF 7F F0 FF FF 7F 67 64  d00E .........gd
1230: 30 31 04 80 1C 63 80 52  20 80 F0 FF FF 7F F0 FF  01...c.R .......
1240: FF 7F 67 64 30 31 45 20  80 F0 FF FF 7F F0 FF FF  ..gd01E ........
1250: 7F 67 64 30 32 04 80 53  73 62 03 01 73 62 03 01  .gd02..Ssb..sb..
1260: 6D 34 30 33 55 20 80 F0  FF FF 7F F0 FF FF 7F 67  m403U .........g
1270: 64 30 32 27 10 6D 62 03  01 09 5B 4B 80 73 62 03  d02'.mb...[K.sb.
1280: 01 73 62 03 01 6D 34 30  34 9F 64 80 7A 62 03 01  .sb..m404.d.zb..
1290: 7A 62 03 01 6D 61 69 6E  04 80 1C 65 80 5D 04 80  zb..main...e.]..
12A0: 46 80 1C 66 80 1A B1 59  1C 02 80 2A 10 6D 62 03  F..f...Y...*.mb.
12B0: 01 29 10 F0 FF FF 7F 17  1C 0F 80 1C 02 80 AB 11  .)..............
12C0: 04 80 1C 02 80 35 55 80  78 1C 0A 80 AB 0A 1A 6F  .....5U.x......o
12D0: 59 1A 90 59 45 20 80 F0  FF FF 7F F0 FF FF 7F 30  Y..YE .........0
12E0: 62 6C 66 04 80 02 01 00  04 80 00 F0 12 30 21 00  blf..........0!.
12F0: 5C 00 43 80 5C 01 43 80  5C 02 47 80 5C 03 48 80  \.C.\.C.\.G.\.H.
1300: 9A 46 00 45 1F 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .F.E..........fd
1310: 69 32 04 80 21 00                                 i2..!.          
```

## Opcodes

```
  0: 0x1100 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x1101 [0x1A] CALL_SUBROUTINE(address=0x596F)
  2: 0x1104 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x1106 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  4: 0x1109 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
  5: 0x110F [0x03] Work_Zone[1] = 1*
  6: 0x1114 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
  7: 0x1116 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
  8: 0x1118 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[9]
  9: 0x111D [0x34] LOAD_UNLOAD_ZONE(zone_id=60*)
 10: 0x1120 [0x77] SET_EVENT_TIME_WEATHER(hour=255*, weather=1*)
 11: 0x1125 [0x1C] WAIT(30* ticks)
 12: 0x1128 [0xAB] EventEntity->UnknownFlag = 1 // Enable unknown flag
 13: 0x112A [0x27] REQ_SET(priority=0x10, entity_id=Gessho (ID: 16999026/0x01036272), tag_num=0x04)
 14: 0x1131 [0x27] REQ_SET(priority=0x10, entity_id=??? (ID: 16999027/0x01036273), tag_num=0x04)
 15: 0x1138 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16999034/0x0103627A), tag_num=0x02)
 16: 0x113F [0x92] Gessho (ID: 16999026/0x01036272)->Render.Flags3 ^= 0x01
 17: 0x1145 [0x92] ??? (ID: 16999027/0x01036273)->Render.Flags3 ^= 0x01
 18: 0x114B [0x92] Unnamed NPC (ID: 16999034/0x0103627A)->Render.Flags3 ^= 0x01
 19: 0x1151 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 20: 0x1157 [0x94] Gessho (ID: 16999026/0x01036272)->Render.Flags3 ^= 0x01
 21: 0x115D [0x94] ??? (ID: 16999027/0x01036273)->Render.Flags3 ^= 0x01
 22: 0x1163 [0x94] Unnamed NPC (ID: 16999034/0x0103627A)->Render.Flags3 ^= 0x01
 23: 0x1169 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x28)
 24: 0x1170 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Gessho (ID: 16999026/0x01036272), tag_num=0x0B)
 25: 0x1177 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=??? (ID: 16999027/0x01036273), tag_num=0x0B)
 26: 0x117E [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 16999034/0x0103627A), tag_num=0x09)
 27: 0x1185 [0x80] LOAD_WAIT(entity=LocalPlayer)
 28: 0x118A [0x80] LOAD_WAIT(entity=Gessho (ID: 16999026/0x01036272))
 29: 0x118F [0x80] LOAD_WAIT(entity=??? (ID: 16999027/0x01036273))
 30: 0x1194 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16999034/0x0103627A))
 31: 0x1199 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 184*
 32: 0x119D [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 184*
 33: 0x11A1 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 184*
 34: 0x11A5 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 184*
 35: 0x11A9 [0x9A] WAIT_MUSIC_SERVER()
 36: 0x11AA [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "atk0" with entities [Gessho (ID: 16999026/0x01036272), Gessho (ID: 16999026/0x01036272)], work=855*
 37: 0x11B9 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "m402" with entities [??? (ID: 16999027/0x01036273), ??? (ID: 16999027/0x01036273)], work=883*
 38: 0x11C8 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x16)
 39: 0x11CF [0x79] LocalPlayer looks at ??? (ID: 16999027/0x01036273) (Basic look)
 40: 0x11D9 [0x1C] WAIT(30* ticks)
 41: 0x11DC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "gd00" with entities [LocalPlayer, LocalPlayer], work=[274*, 0*]
 42: 0x11ED [0x1A] CALL_SUBROUTINE(address=0x594E)
 43: 0x11F0 [0x1C] WAIT(120* ticks)
 44: 0x11F3 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "m403" with entities [??? (ID: 16999027/0x01036273), ??? (ID: 16999027/0x01036273)], work=883*
 45: 0x1202 [0x1C] WAIT(60* ticks)
 46: 0x1205 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "esc0" with entities [Gessho (ID: 16999026/0x01036272), Gessho (ID: 16999026/0x01036272)], work=855*
 47: 0x1214 [0x52] END_LOAD_SCHEDULER: End scheduler "gd00" with entities [LocalPlayer, LocalPlayer], work=274*
 48: 0x1223 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "gd01" with entities [LocalPlayer, LocalPlayer], work=[274*, 0*]
 49: 0x1234 [0x1C] WAIT(20* ticks)
 50: 0x1237 [0x52] END_LOAD_SCHEDULER: End scheduler "gd01" with entities [LocalPlayer, LocalPlayer], work=274*
 51: 0x1246 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "gd02" with entities [LocalPlayer, LocalPlayer], work=[274*, 0*]
 52: 0x1257 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "m403" with entities [??? (ID: 16999027/0x01036273), ??? (ID: 16999027/0x01036273)]
 53: 0x1264 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "gd02" with entities [LocalPlayer, LocalPlayer], work=274*
 54: 0x1273 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16999021/0x0103626D), tag_num=0x09)
 55: 0x127A [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "m404" with entities [??? (ID: 16999027/0x01036273), ??? (ID: 16999027/0x01036273)], work=883*
 56: 0x1289 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [Unnamed NPC (ID: 16999034/0x0103627A), Unnamed NPC (ID: 16999034/0x0103627A)], work=[238*, 0*]
 57: 0x129A [0x1C] WAIT(135* ticks)
 58: 0x129D [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=300*)
 59: 0x12A2 [0x1C] WAIT(80* ticks)
 60: 0x12A5 [0x1A] CALL_SUBROUTINE(address=0x59B1)
 61: 0x12A8 [0x1C] WAIT(30* ticks)
 62: 0x12AB [0x2A] GET_REQ_LEVEL(level=16, entity_id=Unnamed NPC (ID: 16999021/0x0103626D))
 63: 0x12B1 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x17)
 64: 0x12B8 [0x1C] WAIT(120* ticks)
 65: 0x12BB [0x1C] WAIT(30* ticks)
 66: 0x12BE [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 67: 0x12C2 [0x1C] WAIT(30* ticks)
 68: 0x12C5 [0x35] LOAD_ZONE_NO_CLOSE(zone_id=54*)
 69: 0x12C8 [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 70: 0x12C9 [0x1C] WAIT(1* ticks)
 71: 0x12CC [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 72: 0x12CE [0x1A] CALL_SUBROUTINE(address=0x596F)
 73: 0x12D1 [0x1A] CALL_SUBROUTINE(address=0x5990)
 74: 0x12D4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "0blf" with entities [LocalPlayer, LocalPlayer], work=[274*, 0*]
 75: 0x12E5 [0x02] IF !(ExtData[1]->WorkLocal[1] == 0*) GOTO 0x12F0
 76: 0x12ED [0x30] SET_UCOFF_CONTINUE_ZERO()
 77: 0x12EE [0x21] END_EVENT
 78: 0x12EF [0x00] END_REQSTACK()

SUBROUTINE_12F0:
 79: 0x12F0 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 150*
 80: 0x12F4 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 150*
 81: 0x12F8 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 115*
 82: 0x12FC [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 139*
 83: 0x1300 [0x9A] WAIT_MUSIC_SERVER()
 84: 0x1301 [0x46] CAMERA_CONTROL: Restore default settings
 85: 0x1303 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 86: 0x1314 [0x21] END_EVENT
 87: 0x1315 [0x00] END_REQSTACK()
```
