# Event 28

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/3       |
| Offset          | 0x0001    |
| Data Size       | 745 bytes |
| Calculated Size | 745 bytes |
| Instructions    | 105       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    20 01 42 46 01 45 00  80 F8 FF FF 7F F8 FF FF    .BF.E.........
0010: 7F 66 64 6F 31 01 80 1C  02 80 38 03 80 29 08 F0  .fdo1.....8..)..
0020: FF FF 7F 07 29 0B 38 B2  07 01 06 29 0B F0 FF FF  ....).8....)....
0030: 7F 09 29 0B 39 B2 07 01  02 29 0B 3A B2 07 01 02  ..).9....).:....
0040: 29 0B 3B B2 07 01 02 29  0B 3C B2 07 01 02 29 0B  ).;....).<....).
0050: 3D B2 07 01 02 4E 00 38  B2 07 01 4E 00 39 B2 07  =....N.8...N.9..
0060: 01 4E 00 3A B2 07 01 4E  00 3B B2 07 01 4E 00 3C  .N.:...N.;...N.<
0070: B2 07 01 4E 00 3D B2 07  01 80 38 B2 07 01 80 39  ...N.=....8....9
0080: B2 07 01 80 3A B2 07 01  80 3B B2 07 01 80 3C B2  ....:....;....<.
0090: 07 01 80 3D B2 07 01 4A  38 B2 07 01 F0 FF FF 7F  ...=...J8.......
00A0: 6F 76 38 B2 07 01 45 04  80 F8 FF FF 7F F8 FF FF  ov8...E.........
00B0: 7F 73 30 30 30 01 80 45  00 80 F8 FF FF 7F F8 FF  .s000..E........
00C0: FF 7F 66 64 69 31 01 80  79 00 F0 FF FF 7F 38 B2  ..fdi1..y.....8.
00D0: 07 01 27 0B F0 FF FF 7F  0A 27 08 38 B2 07 01 01  ..'......'.8....
00E0: 2B 38 B2 07 01 05 80 23  2A 08 38 B2 07 01 52 04  +8.....#*.8...R.
00F0: 80 F8 FF FF 7F F8 FF FF  7F 73 30 30 30 45 04 80  .........s000E..
0100: F8 FF FF 7F F8 FF FF 7F  73 30 30 31 01 80 2B 38  ........s001..+8
0110: B2 07 01 06 80 23 2A 0B  F0 FF FF 7F 27 0B 38 B2  .....#*.....'.8.
0120: 07 01 07 1C 02 80 52 04  80 F8 FF FF 7F F8 FF FF  ......R.........
0130: 7F 73 30 30 31 45 04 80  F8 FF FF 7F F8 FF FF 7F  .s001E..........
0140: 73 30 30 32 01 80 2A 0B  38 B2 07 01 29 08 38 B2  s002..*.8...).8.
0150: 07 01 02 1C 07 80 27 0B  39 B2 07 01 03 1C 08 80  ......'.9.......
0160: 27 0B 3A B2 07 01 03 27  0B 3B B2 07 01 03 1C 09  '.:....'.;......
0170: 80 27 0B 3C B2 07 01 03  27 0B 3D B2 07 01 03 52  .'.<....'.=....R
0180: 04 80 F8 FF FF 7F F8 FF  FF 7F 73 30 30 32 45 04  ..........s002E.
0190: 80 F8 FF FF 7F F8 FF FF  7F 73 30 30 34 01 80 1C  .........s004...
01A0: 0A 80 5C 00 0B 80 5C 01  0B 80 4A 38 B2 07 01 39  ..\...\...J8...9
01B0: B2 07 01 1C 0C 80 2B 38  B2 07 01 0D 80 23 2A 0B  ......+8.....#*.
01C0: 39 B2 07 01 52 04 80 F8  FF FF 7F F8 FF FF 7F 73  9...R..........s
01D0: 30 30 34 45 00 80 F0 FF  FF 7F F0 FF FF 7F 6F 76  004E..........ov
01E0: 6C 31 01 80 45 04 80 F8  FF FF 7F F8 FF FF 7F 73  l1..E..........s
01F0: 30 30 33 01 80 27 0B 39  B2 07 01 04 27 0B 38 B2  003..'.9....'.8.
0200: 07 01 08 2B 38 B2 07 01  0E 80 23 4A F0 FF FF 7F  ...+8.....#J....
0210: 39 B2 07 01 6F 76 F0 FF  FF 7F 33 01 37 0F 80 10  9...ov....3.7...
0220: 80 11 80 12 80 33 01 92  01 F8 FF FF 7F 94 01 F8  .....3..........
0230: FF FF 7F A4 01 1C 13 80  52 04 80 F8 FF FF 7F F8  ........R.......
0240: FF FF 7F 73 30 30 33 5D  01 80 13 80 45 00 80 F0  ...s003]....E...
0250: FF FF 7F F0 FF FF 7F 62  6C 6F 6E 01 80 45 14 80  .......blon..E..
0260: F0 FF FF 7F F0 FF FF 7F  62 6C 6F 6E 01 80 45 04  ........blon..E.
0270: 80 F8 FF FF 7F F8 FF FF  7F 73 30 30 35 01 80 79  .........s005..y
0280: 00 F0 FF FF 7F 36 B2 07  01 1C 0A 80 45 00 80 F0  .....6......E...
0290: FF FF 7F F0 FF FF 7F 62  6C 6F 66 01 80 1C 0C 80  .......blof.....
02A0: 45 00 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 31 01  E..........fdo1.
02B0: 80 1C 02 80 5C 00 15 80  5C 01 15 80 2A 0B 39 B2  ....\...\...*.9.
02C0: 07 01 2A 0B 38 B2 07 01  4E 00 F0 FF FF 7F 80 F0  ..*.8...N.......
02D0: FF FF 7F 46 00 45 00 80  F0 FF FF 7F F0 FF FF 7F  ...F.E..........
02E0: 66 64 69 31 01 80 20 00  21 00                    fdi1.. .!.      
```

## Opcodes

```
  0: 0x0001 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0003 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0004 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x0006 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  4: 0x0017 [0x1C] WAIT(60* ticks)
  5: 0x001A [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  6: 0x001D [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x07)
  7: 0x0024 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Ildy-Goldy (ID: 17281592/0x0107B238), tag_num=0x06)
  8: 0x002B [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x09)
  9: 0x0032 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=1 (ID: 17281593/0x0107B239), tag_num=0x02)
 10: 0x0039 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=2 (ID: 17281594/0x0107B23A), tag_num=0x02)
 11: 0x0040 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=3 (ID: 17281595/0x0107B23B), tag_num=0x02)
 12: 0x0047 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=4 (ID: 17281596/0x0107B23C), tag_num=0x02)
 13: 0x004E [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=5 (ID: 17281597/0x0107B23D), tag_num=0x02)
 14: 0x0055 [0x4E] SET_ENTITY_HIDE_FLAG: Show Ildy-Goldy (ID: 17281592/0x0107B238)
 15: 0x005B [0x4E] SET_ENTITY_HIDE_FLAG: Show 1 (ID: 17281593/0x0107B239)
 16: 0x0061 [0x4E] SET_ENTITY_HIDE_FLAG: Show 2 (ID: 17281594/0x0107B23A)
 17: 0x0067 [0x4E] SET_ENTITY_HIDE_FLAG: Show 3 (ID: 17281595/0x0107B23B)
 18: 0x006D [0x4E] SET_ENTITY_HIDE_FLAG: Show 4 (ID: 17281596/0x0107B23C)
 19: 0x0073 [0x4E] SET_ENTITY_HIDE_FLAG: Show 5 (ID: 17281597/0x0107B23D)
 20: 0x0079 [0x80] LOAD_WAIT(entity=Ildy-Goldy (ID: 17281592/0x0107B238))
 21: 0x007E [0x80] LOAD_WAIT(entity=1 (ID: 17281593/0x0107B239))
 22: 0x0083 [0x80] LOAD_WAIT(entity=2 (ID: 17281594/0x0107B23A))
 23: 0x0088 [0x80] LOAD_WAIT(entity=3 (ID: 17281595/0x0107B23B))
 24: 0x008D [0x80] LOAD_WAIT(entity=4 (ID: 17281596/0x0107B23C))
 25: 0x0092 [0x80] LOAD_WAIT(entity=5 (ID: 17281597/0x0107B23D))
 26: 0x0097 [0x4A] Ildy-Goldy (ID: 17281592/0x0107B238) looks at LocalPlayer
 27: 0x00A0 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 28: 0x00A1 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Ildy-Goldy (ID: 17281592/0x0107B238) Render.Flags0 and Render.Flags3 conditions are met
 29: 0x00A6 [0x45] LOAD_SCHEDULED_TASK(work_offset1=229*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s000", work_offset2=0*)
 30: 0x00B7 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 31: 0x00C8 [0x79] LocalPlayer looks at Ildy-Goldy (ID: 17281592/0x0107B238) (Basic look)
 32: 0x00D2 [0x27] REQ_SET(priority=0x0B, entity_id=LocalPlayer, tag_num=0x0A)
 33: 0x00D9 [0x27] REQ_SET(priority=0x08, entity_id=Ildy-Goldy (ID: 17281592/0x0107B238), tag_num=0x01)
 34: 0x00E0 [0x2B] Ildy-Goldy (ID: 17281592/0x0107B238) [7842*]:
    → "\u0008!\u0007Can you hear me!?\u007F1\u0000\u0007"
 35: 0x00E7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x00E8 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Ildy-Goldy (ID: 17281592/0x0107B238))
 37: 0x00EE [0x52] END_LOAD_SCHEDULER: End scheduler "s000" with entities [EventEntity, EventEntity], work=229*
 38: 0x00FD [0x45] LOAD_SCHEDULED_TASK(work_offset1=229*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s001", work_offset2=0*)
 39: 0x010E [0x2B] Ildy-Goldy (ID: 17281592/0x0107B238) [7843*]:
    → "I vill throw a pebble into the vaterfall now.\u0007It vill be a short battle, I promise you!\u007F1\u0000\u0007"
 40: 0x0115 [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x0116 [0x2A] GET_REQ_LEVEL(level=11, entity_id=LocalPlayer)
 42: 0x011C [0x27] REQ_SET(priority=0x0B, entity_id=Ildy-Goldy (ID: 17281592/0x0107B238), tag_num=0x07)
 43: 0x0123 [0x1C] WAIT(60* ticks)
 44: 0x0126 [0x52] END_LOAD_SCHEDULER: End scheduler "s001" with entities [EventEntity, EventEntity], work=229*
 45: 0x0135 [0x45] LOAD_SCHEDULED_TASK(work_offset1=229*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s002", work_offset2=0*)
 46: 0x0146 [0x2A] GET_REQ_LEVEL(level=11, entity_id=Ildy-Goldy (ID: 17281592/0x0107B238))
 47: 0x014C [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Ildy-Goldy (ID: 17281592/0x0107B238), tag_num=0x02)
 48: 0x0153 [0x1C] WAIT(170* ticks)
 49: 0x0156 [0x27] REQ_SET(priority=0x0B, entity_id=1 (ID: 17281593/0x0107B239), tag_num=0x03)
 50: 0x015D [0x1C] WAIT(15* ticks)
 51: 0x0160 [0x27] REQ_SET(priority=0x0B, entity_id=2 (ID: 17281594/0x0107B23A), tag_num=0x03)
 52: 0x0167 [0x27] REQ_SET(priority=0x0B, entity_id=3 (ID: 17281595/0x0107B23B), tag_num=0x03)
 53: 0x016E [0x1C] WAIT(10* ticks)
 54: 0x0171 [0x27] REQ_SET(priority=0x0B, entity_id=4 (ID: 17281596/0x0107B23C), tag_num=0x03)
 55: 0x0178 [0x27] REQ_SET(priority=0x0B, entity_id=5 (ID: 17281597/0x0107B23D), tag_num=0x03)
 56: 0x017F [0x52] END_LOAD_SCHEDULER: End scheduler "s002" with entities [EventEntity, EventEntity], work=229*
 57: 0x018E [0x45] LOAD_SCHEDULED_TASK(work_offset1=229*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s004", work_offset2=0*)
 58: 0x019F [0x1C] WAIT(30* ticks)
 59: 0x01A2 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 192*
 60: 0x01A6 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 192*
 61: 0x01AA [0x4A] Ildy-Goldy (ID: 17281592/0x0107B238) looks at 1 (ID: 17281593/0x0107B239)
 62: 0x01B3 [0x1C] WAIT(40* ticks)
 63: 0x01B6 [0x2B] Ildy-Goldy (ID: 17281592/0x0107B238) [7844*]:
    → "!?\u0000\u0007"
 64: 0x01BD [0x23] WAIT_FOR_DIALOG_INTERACTION
 65: 0x01BE [0x2A] GET_REQ_LEVEL(level=11, entity_id=1 (ID: 17281593/0x0107B239))
 66: 0x01C4 [0x52] END_LOAD_SCHEDULER: End scheduler "s004" with entities [EventEntity, EventEntity], work=229*
 67: 0x01D3 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="ovl1", work_offset2=0*)
 68: 0x01E4 [0x45] LOAD_SCHEDULED_TASK(work_offset1=229*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s003", work_offset2=0*)
 69: 0x01F5 [0x27] REQ_SET(priority=0x0B, entity_id=1 (ID: 17281593/0x0107B239), tag_num=0x04)
 70: 0x01FC [0x27] REQ_SET(priority=0x0B, entity_id=Ildy-Goldy (ID: 17281592/0x0107B238), tag_num=0x08)
 71: 0x0203 [0x2B] Ildy-Goldy (ID: 17281592/0x0107B238) [7845*]:
    → "Vait!\u0007This vasn't supposed to happen!\u0000\u0007"
 72: 0x020A [0x23] WAIT_FOR_DIALOG_INTERACTION
 73: 0x020B [0x4A] LocalPlayer looks at 1 (ID: 17281593/0x0107B239)
 74: 0x0214 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 75: 0x0215 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 76: 0x021A [0x33] EventEntity->Render.Flags0 |= 0x200000 // Bit 21 (flag=0x01)
 77: 0x021C [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=363.650*, z=220.428*, y=-7.586*, direction=282.6°*
 78: 0x0225 [0x33] EventEntity->Render.Flags0 |= 0x200000 // Bit 21 (flag=0x01)
 79: 0x0227 [0x92] EventEntity->Render.Flags3 ^= 0x01
 80: 0x022D [0x94] EventEntity->Render.Flags3 ^= 0x01
 81: 0x0233 [0xA4] EventEntity->Flags3.unknown_3_2 = 1
 82: 0x0235 [0x1C] WAIT(120* ticks)
 83: 0x0238 [0x52] END_LOAD_SCHEDULER: End scheduler "s003" with entities [EventEntity, EventEntity], work=229*
 84: 0x0247 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=120*)
 85: 0x024C [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="blon", work_offset2=0*)
 86: 0x025D [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="blon", work_offset2=0*)
 87: 0x026E [0x45] LOAD_SCHEDULED_TASK(work_offset1=229*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s005", work_offset2=0*)
 88: 0x027F [0x79] LocalPlayer looks at ??? (ID: 17281590/0x0107B236) (Basic look)
 89: 0x0289 [0x1C] WAIT(30* ticks)
 90: 0x028C [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="blof", work_offset2=0*)
 91: 0x029D [0x1C] WAIT(40* ticks)
 92: 0x02A0 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 93: 0x02B1 [0x1C] WAIT(60* ticks)
 94: 0x02B4 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 134*
 95: 0x02B8 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 134*
 96: 0x02BC [0x2A] GET_REQ_LEVEL(level=11, entity_id=1 (ID: 17281593/0x0107B239))
 97: 0x02C2 [0x2A] GET_REQ_LEVEL(level=11, entity_id=Ildy-Goldy (ID: 17281592/0x0107B238))
 98: 0x02C8 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 99: 0x02CE [0x80] LOAD_WAIT(entity=LocalPlayer)
100: 0x02D3 [0x46] CAMERA_CONTROL: Restore default settings
101: 0x02D5 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
102: 0x02E6 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
103: 0x02E8 [0x21] END_EVENT
104: 0x02E9 [0x00] END_REQSTACK()
```
