# Event 108

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 9/9       |
| Offset          | 0x2C31    |
| Data Size       | 939 bytes |
| Calculated Size | 939 bytes |
| Instructions    | 57        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
2C30:    42 1A AE 2D 46 01 38  02 80 27 10 61 E0 0D 01   B..-F.8..'.a...
2C40: 04 92 00 F0 FF FF 7F 92  01 61 E0 0D 01 94 01 F0  .........a......
2C50: FF FF 7F 94 01 61 E0 0D  01 BA F0 FF FF 7F FC 80  .....a..........
2C60: FD 80 E8 80 FE 80 BA 61  E0 0D 01 FF 80 00 81 E8  .......a........
2C70: 80 01 81 29 10 61 E0 0D  01 0C 80 F0 FF FF 7F 80  ...).a..........
2C80: 61 E0 0D 01 1C 33 80 2C  61 E0 0D 01 61 E0 0D 01  a....3.,a...a...
2C90: 69 64 73 32 5C 00 ED 80  5C 01 ED 80 5C 02 ED 80  ids2\...\...\...
2CA0: 5C 03 ED 80 9A 27 10 F0  FF FF 7F 06 45 EE 80 F0  \....'......E...
2CB0: FF FF 7F F0 FF FF 7F 63  64 76 32 00 80 1A 8D 2D  .......cdv2....-
2CC0: 2C 61 E0 0D 01 61 E0 0D  01 64 65 31 30 1C FB 80  ,a...a...de10...
2CD0: 5D 00 80 F2 80 1C F2 80  27 10 F0 FF FF 7F 07 1C  ].......'.......
2CE0: F2 80 1A AE 2D 1C 2D 80  29 10 F0 FF FF 7F 07 29  ....-.-.)......)
2CF0: 10 61 E0 0D 01 0D 80 61  E0 0D 01 52 EE 80 F0 FF  .a.....a...R....
2D00: FF 7F F0 FF FF 7F 63 64  76 32 45 EE 80 F0 FF FF  ......cdv2E.....
2D10: 7F F0 FF FF 7F 30 62 6C  66 00 80 1C 4A 80 AB 11  .....0blf...J...
2D20: 00 80 1C 62 80 5C 00 48  80 5C 01 48 80 5C 02 48  ...b.\.H.\.H.\.H
2D30: 80 5C 03 48 80 9A 46 00  45 35 80 F0 FF FF 7F F0  .\.H..F.E5......
2D40: FF FF 7F 66 64 69 32 00  80 21 00 45 35 80 F0 FF  ...fdi2..!.E5...
2D50: FF 7F F0 FF FF 7F 66 64  69 30 00 80 55 35 80 F0  ......fdi0..U5..
2D60: FF FF 7F F0 FF FF 7F 66  64 69 30 1B 45 35 80 F0  .......fdi0.E5..
2D70: FF FF 7F F0 FF FF 7F 66  64 6F 30 00 80 55 35 80  .......fdo0..U5.
2D80: F0 FF FF 7F F0 FF FF 7F  66 64 6F 30 1B 45 35 80  ........fdo0.E5.
2D90: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 00 80 55 35  ........fdi1..U5
2DA0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 1B 45 35  .........fdi1.E5
2DB0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 00 80 55  .........fdo1..U
2DC0: 35 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 31 1B 45  5.........fdo1.E
2DD0: 02 81 F0 FF FF 7F F0 FF  FF 7F 77 68 69 31 00 80  ..........whi1..
2DE0: 55 02 81 F0 FF FF 7F F0  FF FF 7F 77 68 69 31 1B  U..........whi1.
2DF0: 45 02 81 F0 FF FF 7F F0  FF FF 7F 77 68 6F 31 00  E..........who1.
2E00: 80 55 02 81 F0 FF FF 7F  F0 FF FF 7F 77 68 6F 31  .U..........who1
2E10: 1B 45 02 81 F0 FF FF 7F  F0 FF FF 7F 77 68 6F 32  .E..........who2
2E20: 00 80 55 02 81 F0 FF FF  7F F0 FF FF 7F 77 68 6F  ..U..........who
2E30: 32 1B 45 02 81 F0 FF FF  7F F0 FF FF 7F 77 68 6F  2.E..........who
2E40: 33 00 80 55 02 81 F0 FF  FF 7F F0 FF FF 7F 77 68  3..U..........wh
2E50: 6F 33 1B 62 62 80 F0 FF  FF 7F F0 FF FF 7F 6D 61  o3.bb.........ma
2E60: 69 6E 00 80 1C 03 81 45  35 80 F0 FF FF 7F F0 FF  in.....E5.......
2E70: FF 7F 66 64 6F 31 00 80  55 35 80 F0 FF FF 7F F0  ..fdo1..U5......
2E80: FF FF 7F 66 64 6F 31 1B  45 35 80 F0 FF FF 7F F0  ...fdo1.E5......
2E90: FF FF 7F 66 64 69 31 00  80 62 6B 80 F0 FF FF 7F  ...fdi1..bk.....
2EA0: F0 FF FF 7F 6D 61 69 6E  00 80 1C 2D 80 55 35 80  ....main...-.U5.
2EB0: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 1B 45 35 80  ........fdi1.E5.
2EC0: F0 FF FF 7F F0 FF FF 7F  62 6C 6F 6E 00 80 45 02  ........blon..E.
2ED0: 81 F0 FF FF 7F F0 FF FF  7F 62 6C 6F 6E 00 80 1B  .........blon...
2EE0: 45 02 81 F0 FF FF 7F F0  FF FF 7F 77 68 69 30 00  E..........whi0.
2EF0: 80 55 02 81 F0 FF FF 7F  F0 FF FF 7F 77 68 69 30  .U..........whi0
2F00: 1B 45 02 81 F0 FF FF 7F  F0 FF FF 7F 77 68 6F 30  .E..........who0
2F10: 00 80 55 02 81 F0 FF FF  7F F0 FF FF 7F 77 68 6F  ..U..........who
2F20: 30 1B 45 04 81 F0 FF FF  7F F0 FF FF 7F 65 66 6F  0.E..........efo
2F30: 6E 00 80 55 04 81 F0 FF  FF 7F F0 FF FF 7F 65 66  n..U..........ef
2F40: 6F 6E 1B 45 35 80 F0 FF  FF 7F F0 FF FF 7F 66 64  on.E5.........fd
2F50: 69 73 00 80 1B 45 35 80  F0 FF FF 7F F0 FF FF 7F  is...E5.........
2F60: 66 64 6F 73 00 80 55 35  80 F0 FF FF 7F F0 FF FF  fdos..U5........
2F70: 7F 66 64 6F 73 1B 45 35  80 F0 FF FF 7F F0 FF FF  .fdos.E5........
2F80: 7F 66 64 69 66 00 80 1B  45 35 80 F0 FF FF 7F F0  .fdif...E5......
2F90: FF FF 7F 66 64 6F 66 00  80 55 35 80 F0 FF FF 7F  ...fdof..U5.....
2FA0: F0 FF FF 7F 66 64 6F 66  1B 45 35 80 F0 FF FF 7F  ....fdof.E5.....
2FB0: F0 FF FF 7F 66 64 69 70  00 80 1B 45 35 80 F0 FF  ....fdip...E5...
2FC0: FF 7F F0 FF FF 7F 66 64  6F 70 00 80 55 35 80 F0  ......fdop..U5..
2FD0: FF FF 7F F0 FF FF 7F 66  64 6F 70 1B              .......fdop.    
```

## Opcodes

```
  0: 0x2C31 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x2C32 [0x1A] CALL_SUBROUTINE(address=0x2DAE)
  2: 0x2C35 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x2C37 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  4: 0x2C3A [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17686625/0x010DE061), tag_num=0x04)
  5: 0x2C41 [0x92] LocalPlayer->Render.Flags3 = Flags3  // No change (flag=0)
  6: 0x2C47 [0x92] Unnamed NPC (ID: 17686625/0x010DE061)->Render.Flags3 ^= 0x01
  7: 0x2C4D [0x94] LocalPlayer->Render.Flags3 ^= 0x01
  8: 0x2C53 [0x94] Unnamed NPC (ID: 17686625/0x010DE061)->Render.Flags3 ^= 0x01
  9: 0x2C59 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-577.834*, pos_z=524.358*, pos_y=-227.999*, direction=283.6°*)
 10: 0x2C66 [0xBA] SET_ENTITY_POSITION(entity_id=References[17653857], pos_x=-574.164*, pos_z=536.512*, pos_y=-227.999*, direction=103.3°*)
 11: 0x2C73 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 17686625/0x010DE061), tag_num=0x0C)
 12: 0x2C7A [0x80] LOAD_WAIT(entity=LocalPlayer)
 13: 0x2C7F [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17686625/0x010DE061))
 14: 0x2C84 [0x1C] WAIT(60* ticks)
 15: 0x2C87 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "ids2" with entities [Unnamed NPC (ID: 17686625/0x010DE061), Unnamed NPC (ID: 17686625/0x010DE061)]
 16: 0x2C94 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 55*
 17: 0x2C98 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 55*
 18: 0x2C9C [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 55*
 19: 0x2CA0 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 55*
 20: 0x2CA4 [0x9A] WAIT_MUSIC_SERVER()
 21: 0x2CA5 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x06)
 22: 0x2CAC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "cdv2" with entities [LocalPlayer, LocalPlayer], work=[578*, 0*]
 23: 0x2CBD [0x1A] CALL_SUBROUTINE(address=0x2D8D)
 24: 0x2CC0 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "de10" with entities [Unnamed NPC (ID: 17686625/0x010DE061), Unnamed NPC (ID: 17686625/0x010DE061)]
 25: 0x2CCD [0x1C] WAIT(600* ticks)
 26: 0x2CD0 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=300*)
 27: 0x2CD5 [0x1C] WAIT(300* ticks)
 28: 0x2CD8 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x07)
 29: 0x2CDF [0x1C] WAIT(300* ticks)
 30: 0x2CE2 [0x1A] CALL_SUBROUTINE(address=0x2DAE)
 31: 0x2CE5 [0x1C] WAIT(30* ticks)
 32: 0x2CE8 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x07)
 33: 0x2CEF [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 17686625/0x010DE061), tag_num=0x0D)
 34: 0x2CF6 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17686625/0x010DE061))
 35: 0x2CFB [0x52] END_LOAD_SCHEDULER: End scheduler "cdv2" with entities [LocalPlayer, LocalPlayer], work=578*
 36: 0x2D0A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "0blf" with entities [LocalPlayer, LocalPlayer], work=[578*, 0*]
 37: 0x2D1B [0x1C] WAIT(15* ticks)
 38: 0x2D1E [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 39: 0x2D22 [0x1C] WAIT(1* ticks)
 40: 0x2D25 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 56*
 41: 0x2D29 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 56*
 42: 0x2D2D [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 56*
 43: 0x2D31 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 56*
 44: 0x2D35 [0x9A] WAIT_MUSIC_SERVER()
 45: 0x2D36 [0x46] CAMERA_CONTROL: Restore default settings
 46: 0x2D38 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 47: 0x2D49 [0x21] END_EVENT
 48: 0x2D4A [0x00] END_REQSTACK()

 49: 0x2D8D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 50: 0x2D9E [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
 51: 0x2DAD [0x1B] RETURN

SUBROUTINE_2DAE:
 52: 0x2DAE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 53: 0x2DBF [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 54: 0x2DCE [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x2D4B (66 bytes)
     0x2D4B: 45 35 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 30 00
     0x2D5B: 80 55 35 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 30
     0x2D6B: 1B 45 35 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 30
     0x2D7B: 00 80 55 35 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F
     0x2D8B: 30 1B
# Data Section: 0x2DCF (525 bytes)
     0x2DCF: 45 02 81 F0 FF FF 7F F0 FF FF 7F 77 68 69 31 00
     0x2DDF: 80 55 02 81 F0 FF FF 7F F0 FF FF 7F 77 68 69 31
     0x2DEF: 1B 45 02 81 F0 FF FF 7F F0 FF FF 7F 77 68 6F 31
     0x2DFF: 00 80 55 02 81 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x2E0F: 31 1B 45 02 81 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x2E1F: 32 00 80 55 02 81 F0 FF FF 7F F0 FF FF 7F 77 68
     0x2E2F: 6F 32 1B 45 02 81 F0 FF FF 7F F0 FF FF 7F 77 68
     0x2E3F: 6F 33 00 80 55 02 81 F0 FF FF 7F F0 FF FF 7F 77
     0x2E4F: 68 6F 33 1B 62 62 80 F0 FF FF 7F F0 FF FF 7F 6D
     0x2E5F: 61 69 6E 00 80 1C 03 81 45 35 80 F0 FF FF 7F F0
     0x2E6F: FF FF 7F 66 64 6F 31 00 80 55 35 80 F0 FF FF 7F
     0x2E7F: F0 FF FF 7F 66 64 6F 31 1B 45 35 80 F0 FF FF 7F
     0x2E8F: F0 FF FF 7F 66 64 69 31 00 80 62 6B 80 F0 FF FF
     0x2E9F: 7F F0 FF FF 7F 6D 61 69 6E 00 80 1C 2D 80 55 35
     0x2EAF: 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 31 1B 45 35
     0x2EBF: 80 F0 FF FF 7F F0 FF FF 7F 62 6C 6F 6E 00 80 45
     0x2ECF: 02 81 F0 FF FF 7F F0 FF FF 7F 62 6C 6F 6E 00 80
     0x2EDF: 1B 45 02 81 F0 FF FF 7F F0 FF FF 7F 77 68 69 30
     0x2EEF: 00 80 55 02 81 F0 FF FF 7F F0 FF FF 7F 77 68 69
     0x2EFF: 30 1B 45 02 81 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x2F0F: 30 00 80 55 02 81 F0 FF FF 7F F0 FF FF 7F 77 68
     0x2F1F: 6F 30 1B 45 04 81 F0 FF FF 7F F0 FF FF 7F 65 66
     0x2F2F: 6F 6E 00 80 55 04 81 F0 FF FF 7F F0 FF FF 7F 65
     0x2F3F: 66 6F 6E 1B 45 35 80 F0 FF FF 7F F0 FF FF 7F 66
     0x2F4F: 64 69 73 00 80 1B 45 35 80 F0 FF FF 7F F0 FF FF
     0x2F5F: 7F 66 64 6F 73 00 80 55 35 80 F0 FF FF 7F F0 FF
     0x2F6F: FF 7F 66 64 6F 73 1B 45 35 80 F0 FF FF 7F F0 FF
     0x2F7F: FF 7F 66 64 69 66 00 80 1B 45 35 80 F0 FF FF 7F
     0x2F8F: F0 FF FF 7F 66 64 6F 66 00 80 55 35 80 F0 FF FF
     0x2F9F: 7F F0 FF FF 7F 66 64 6F 66 1B 45 35 80 F0 FF FF
     0x2FAF: 7F F0 FF FF 7F 66 64 69 70 00 80 1B 45 35 80 F0
     0x2FBF: FF FF 7F F0 FF FF 7F 66 64 6F 70 00 80 55 35 80
     0x2FCF: F0 FF FF 7F F0 FF FF 7F 66 64 6F 70 1B
```