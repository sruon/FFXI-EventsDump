# Event 7

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 24/25     |
| Offset          | 0x03D2    |
| Data Size       | 230 bytes |
| Calculated Size | 230 bytes |
| Instructions    | 30        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
03D0:       24 51 80 01 80 09  80 25 02 00 10 09 80 00    $Q.....%......
03E0: B6 04 20 01 46 01 42 45  0C 80 F0 FF FF 7F F0 FF  .. .F.BE........
03F0: FF 7F 66 64 6F 31 09 80  55 0C 80 F0 FF FF 7F F0  ..fdo1..U.......
0400: FF FF 7F 66 64 6F 31 38  48 80 47 00 4D 80 4E 80  ...fdo18H.G.M.N.
0410: 45 80 09 80 47 01 37 49  80 4A 80 4B 80 52 80 45  E...G.7I.J.K.R.E
0420: 50 80 F0 FF FF 7F F0 FF  FF 7F 79 30 30 30 09 80  P.........y000..
0430: 55 50 80 F0 FF FF 7F F0  FF FF 7F 79 30 30 30 45  UP.........y000E
0440: 0C 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 31 09 80  ..........fdi1..
0450: 55 0C 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 31 27  U..........fdi1'
0460: 03 16 E2 0B 01 03 1C 0B  80 32 22 80 1F 00 4D 80  .........2"...M.
0470: 4E 80 45 80 1F 01 27 03  16 E2 0B 01 04 1C 0B 80  N.E...'.........
0480: 45 0C 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 32 09  E..........fdo2.
0490: 80 55 0C 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 32  .U..........fdo2
04A0: 46 00 45 0C 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  F.E..........fdi
04B0: 32 09 80 01 B6 04 21 00                           2.....!.        
```

## Opcodes

```
  0: 0x03D2 [0x24] CREATE_DIALOG(message_id=7328*, default_option=1*, option_flags=0*)
    → "Leave through the door?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
  1: 0x03D9 [0x25] WAIT_DIALOG_SELECT()
  2: 0x03DA [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x04B6
  3: 0x03E2 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  4: 0x03E4 [0x46] CAMERA_CONTROL: Disable user control
  5: 0x03E6 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  6: 0x03E7 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
  7: 0x03F8 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
  8: 0x0407 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  9: 0x040A [0x47] UPDATE_PLAYER_POS(-36.253*, 19.826*, 7.499*, yaw=0.0°*)
 10: 0x0414 [0x47] WAIT_PLAYER_POS_UPDATE
 11: 0x0416 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-41.692*, z=19.981*, y=8.000*, direction=1.3°*
 12: 0x041F [0x45] LOAD_SCHEDULED_TASK(work_offset1=209*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="y000", work_offset2=0*)
 13: 0x0430 [0x55] WAIT_LOAD_SCHEDULER(work_offset=209*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="y000")
 14: 0x043F [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 15: 0x0450 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1")
 16: 0x045F [0x27] REQ_SET(priority=0x03, entity_id=Heavy Stone Door (ID: 17555990/0x010BE216), tag_num=0x03)
 17: 0x0466 [0x1C] WAIT(60* ticks)
 18: 0x0469 [0x32] ExtData[1]->MainSpeed = 13* * 0.1
 19: 0x046C [0x1F] MOVE_ENTITY: EventEntity moves to X=-36.253*, Z=19.826*, Y=7.499*
 20: 0x0474 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
 21: 0x0476 [0x27] REQ_SET(priority=0x03, entity_id=Heavy Stone Door (ID: 17555990/0x010BE216), tag_num=0x04)
 22: 0x047D [0x1C] WAIT(60* ticks)
 23: 0x0480 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo2", work_offset2=0*)
 24: 0x0491 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo2")
 25: 0x04A0 [0x46] CAMERA_CONTROL: Restore default settings
 26: 0x04A2 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 27: 0x04B3 [0x01] GOTO 0x04B6

SUBROUTINE_04B6:
 28: 0x04B6 [0x21] END_EVENT
 29: 0x04B7 [0x00] END_REQSTACK()
```
