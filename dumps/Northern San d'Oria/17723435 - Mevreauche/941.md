# Event 941

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 21/38     |
| Offset          | 0x12D9    |
| Data Size       | 158 bytes |
| Calculated Size | 158 bytes |
| Instructions    | 33        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
12D0:                             03 0E 00 02 10 02 0E           .......
12E0: 00 0B 80 80 75 13 42 4A  F8 FF FF 7F F0 FF FF 7F  ....u.BJ........
12F0: 6F 70 1D B1 80 23 66 05  80 F8 FF FF 7F F8 FF FF  op...#f.........
1300: 7F 74 68 6B 31 1D B2 80  23 66 05 80 F8 FF FF 7F  .thk1...#f......
1310: F8 FF FF 7F 74 68 6B 32  1D B3 80 23 66 05 80 F8  ....thk2...#f...
1320: FF FF 7F F8 FF FF 7F 74  6C 6B 30 1D B4 80 23 66  .......tlk0...#f
1330: 05 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 31 1A 27  ..........tlk1.'
1340: 17 1C 9D 80 1A 06 17 1C  9E 80 66 05 80 F8 FF FF  ..........f.....
1350: 7F F8 FF FF 7F 70 61 73  30 1D B5 80 23 1D 5A 80  .....pas0...#.Z.
1360: 23 1D 5B 80 23 53 F8 FF  FF 7F F8 FF FF 7F 70 61  #.[.#S........pa
1370: 73 30 01 75 13 21 00                              s0.u.!.         
```

## Opcodes

```
  0: 0x12D9 [0x03] ExtData[1]->WorkLocal[14] = Work_Zone[2]
  1: 0x12DE [0x02] IF !(ExtData[1]->WorkLocal[14] == 1*) GOTO 0x1375
  2: 0x12E6 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  3: 0x12E7 [0x4A] EventEntity looks at LocalPlayer
  4: 0x12F0 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  5: 0x12F1 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  6: 0x12F2 [0x1D] PRINT_EVENT_MESSAGE(message_id=19088*)
    → "It would appear that you have successfully made the upgrade. Do you mind if I take a look?\u007F1\u0000\u0007"
  7: 0x12F5 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x12F6 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [EventEntity, EventEntity], work=20*
  9: 0x1305 [0x1D] PRINT_EVENT_MESSAGE(message_id=19089*)
    → "Hmm... I can tell that it looks different, and can even feel its power. However, it does not seem to be finished yet.\u007F1\u0000\u0007"
 10: 0x1308 [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x1309 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [EventEntity, EventEntity], work=20*
 12: 0x1318 [0x1D] PRINT_EVENT_MESSAGE(message_id=19090*)
    → "I'm sure you've probably heard, but you'll need to craft it multiple times in order to bring out its true potential.\u007F1\u0000\u0007"
 13: 0x131B [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x131C [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 15: 0x132B [0x1D] PRINT_EVENT_MESSAGE(message_id=19091*)
    → "Oh, I almost forgot. You require some kind of proof that the work on the shield was finished. Please give me a moment.\u007F1\u0000\u0007"
 16: 0x132E [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x132F [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=20*
 18: 0x133E [0x1A] CALL_SUBROUTINE(address=0x1727)
 19: 0x1341 [0x1C] WAIT(60* ticks)
 20: 0x1344 [0x1A] CALL_SUBROUTINE(address=0x1706)
 21: 0x1347 [0x1C] WAIT(30* ticks)
 22: 0x134A [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "pas0" with entities [EventEntity, EventEntity], work=20*
 23: 0x1359 [0x1D] PRINT_EVENT_MESSAGE(message_id=19092*)
    → "That should do it.\u007F1\u0000\u0007"
 24: 0x135C [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x135D [0x1D] PRINT_EVENT_MESSAGE(message_id=19093*)
    → "Show this shield to Mewk Chorosap in Jeuno.\u007F1\u0000\u0007"
 26: 0x1360 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x1361 [0x1D] PRINT_EVENT_MESSAGE(message_id=19094*)
    → "By the way, I am always scheduling deliveries to Ore Guzzler. Please stop by and help out the guild if you get a chance.\u007F1\u0000\u0007"
 28: 0x1364 [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x1365 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "pas0" with entities [EventEntity, EventEntity]
 30: 0x1372 [0x01] GOTO 0x1375

SUBROUTINE_1375:
 31: 0x1375 [0x21] END_EVENT
 32: 0x1376 [0x00] END_REQSTACK()
```
