# Event 639

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 30/38     |
| Offset          | 0x01E5    |
| Data Size       | 248 bytes |
| Calculated Size | 248 bytes |
| Instructions    | 40        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
01E0:                20 01 42  46 01 1E F0 FF FF 7F 6F        .BF......o
01F0: 70 5D 0E 80 0F 80 45 0F  80 F8 FF FF 7F F8 FF FF  p]....E.........
0200: 7F 66 64 6F 31 0E 80 1C  10 80 38 11 80 29 0B F0  .fdo1.....8..)..
0210: FF FF 7F 31 5C 00 12 80  5C 01 12 80 5D 13 80 14  ...1\...\...]...
0220: 80 1C 15 80 1E F0 FF FF  7F 6F 70 45 16 80 F8 FF  .........opE....
0230: FF 7F F8 FF FF 7F 73 30  31 30 0E 80 45 0F 80 F8  ......s010..E...
0240: FF FF 7F F8 FF FF 7F 66  64 69 31 0E 80 1C 17 80  .......fdi1.....
0250: 29 0B 84 70 0E 01 1E 29  0B 84 70 0E 01 1F 52 16  )..p...)..p...R.
0260: 80 F8 FF FF 7F F8 FF FF  7F 73 30 31 30 45 16 80  .........s010E..
0270: F8 FF FF 7F F8 FF FF 7F  73 30 31 31 0E 80 29 0B  ........s011..).
0280: 84 70 0E 01 20 29 0B 84  70 0E 01 21 5D 0E 80 0F  .p.. )..p..!]...
0290: 80 45 0F 80 F8 FF FF 7F  F8 FF FF 7F 66 64 6F 31  .E..........fdo1
02A0: 0E 80 1C 10 80 5C 00 18  80 5C 01 18 80 5D 13 80  .....\...\...]..
02B0: 14 80 1C 10 80 46 00 45  0F 80 F8 FF FF 7F F8 FF  .....F.E........
02C0: FF 7F 66 64 69 31 0E 80  45 19 80 F0 FF FF 7F F0  ..fdi1..E.......
02D0: FF FF 7F 71 73 74 63 0E  80 20 00 21 00           ...qstc.. .!.   
```

## Opcodes

```
  0: 0x01E5 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x01E7 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x01E8 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x01EA [0x1E] EventEntity looks at LocalPlayer and starts talking
  4: 0x01EF [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  5: 0x01F0 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  6: 0x01F1 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=200*)
  7: 0x01F6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  8: 0x0207 [0x1C] WAIT(120* ticks)
  9: 0x020A [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
 10: 0x020D [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x31)
 11: 0x0214 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 159*
 12: 0x0218 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 159*
 13: 0x021C [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 14: 0x0221 [0x1C] WAIT(300* ticks)
 15: 0x0224 [0x1E] EventEntity looks at LocalPlayer and starts talking
 16: 0x0229 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 17: 0x022A [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 18: 0x022B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s010" with entities [EventEntity, EventEntity], work=[188*, 0*]
 19: 0x023C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 20: 0x024D [0x1C] WAIT(60* ticks)
 21: 0x0250 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Calovour (ID: 17723524/0x010E7084), tag_num=0x1E)
 22: 0x0257 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Calovour (ID: 17723524/0x010E7084), tag_num=0x1F)
 23: 0x025E [0x52] END_LOAD_SCHEDULER: End scheduler "s010" with entities [EventEntity, EventEntity], work=188*
 24: 0x026D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s011" with entities [EventEntity, EventEntity], work=[188*, 0*]
 25: 0x027E [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Calovour (ID: 17723524/0x010E7084), tag_num=0x20)
 26: 0x0285 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Calovour (ID: 17723524/0x010E7084), tag_num=0x21)
 27: 0x028C [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=200*)
 28: 0x0291 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 29: 0x02A2 [0x1C] WAIT(120* ticks)
 30: 0x02A5 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 107*
 31: 0x02A9 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 107*
 32: 0x02AD [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 33: 0x02B2 [0x1C] WAIT(120* ticks)
 34: 0x02B5 [0x46] CAMERA_CONTROL: Restore default settings
 35: 0x02B7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 36: 0x02C8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 37: 0x02D9 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 38: 0x02DB [0x21] END_EVENT
 39: 0x02DC [0x00] END_REQSTACK()
```
