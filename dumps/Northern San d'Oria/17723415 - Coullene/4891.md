# Event 4891

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 16/16     |
| Offset          | 0x00AB    |
| Data Size       | 913 bytes |
| Calculated Size | 913 bytes |
| Instructions    | 39        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00A0:                                   1A C2 03 21 00             ...!.
00B0: 03 04 00 06 10 1E F0 FF  FF 7F 6F 70 02 04 00 0F  ..........op....
00C0: 80 00 E4 00 2C F8 FF FF  7F F8 FF FF 7F 74 6C 6B  ....,........tlk
00D0: 30 1D 10 80 23 1D 11 80  23 1D 12 80 23 1D 13 80  0...#...#...#...
00E0: 23 01 F1 01 02 04 00 14  80 00 0C 01 2C F8 FF FF  #...........,...
00F0: 7F F8 FF FF 7F 74 6C 6B  30 1D 15 80 23 1D 16 80  .....tlk0...#...
0100: 23 1D 17 80 23 1D 18 80  23 01 F1 01 02 04 00 19  #...#...#.......
0110: 80 00 34 01 2C F8 FF FF  7F F8 FF FF 7F 74 6C 6B  ..4.,........tlk
0120: 30 1D 1A 80 23 1D 1B 80  23 1D 1C 80 23 1D 1D 80  0...#...#...#...
0130: 23 01 F1 01 02 04 00 1E  80 00 5C 01 2C F8 FF FF  #.........\.,...
0140: 7F F8 FF FF 7F 74 6C 6B  30 1D 1F 80 23 1D 20 80  .....tlk0...#. .
0150: 23 1D 21 80 23 1D 22 80  23 01 F1 01 02 04 00 23  #.!.#.".#......#
0160: 80 00 84 01 2C F8 FF FF  7F F8 FF FF 7F 74 6C 6B  ....,........tlk
0170: 30 1D 24 80 23 1D 25 80  23 1D 26 80 23 1D 27 80  0.$.#.%.#.&.#.'.
0180: 23 01 F1 01 02 04 00 28  80 00 AC 01 2C F8 FF FF  #......(....,...
0190: 7F F8 FF FF 7F 74 6C 6B  30 1D 29 80 23 1D 2A 80  .....tlk0.).#.*.
01A0: 23 1D 2B 80 23 1D 2C 80  23 01 F1 01 02 04 00 2D  #.+.#.,.#......-
01B0: 80 00 D4 01 2C F8 FF FF  7F F8 FF FF 7F 74 6C 6B  ....,........tlk
01C0: 30 1D 2E 80 23 1D 2F 80  23 1D 30 80 23 1D 31 80  0...#./.#.0.#.1.
01D0: 23 01 F1 01 2C F8 FF FF  7F F8 FF FF 7F 74 6C 6B  #...,........tlk
01E0: 30 1D 32 80 23 1D 33 80  23 1D 34 80 23 1D 35 80  0.2.#.3.#.4.#.5.
01F0: 23 1B 03 04 00 06 10 1E  F0 FF FF 7F 6F 70 02 04  #...........op..
0200: 00 0F 80 00 11 02 1D 12  80 23 1D 13 80 23 01 8B  .........#...#..
0210: 02 02 04 00 14 80 00 24  02 1D 17 80 23 1D 18 80  .......$....#...
0220: 23 01 8B 02 02 04 00 19  80 00 37 02 1D 1C 80 23  #.........7....#
0230: 1D 1D 80 23 01 8B 02 02  04 00 1E 80 00 4A 02 1D  ...#.........J..
0240: 21 80 23 1D 22 80 23 01  8B 02 02 04 00 23 80 00  !.#.".#......#..
0250: 5D 02 1D 26 80 23 1D 27  80 23 01 8B 02 02 04 00  ]..&.#.'.#......
0260: 28 80 00 70 02 1D 2B 80  23 1D 2C 80 23 01 8B 02  (..p..+.#.,.#...
0270: 02 04 00 2D 80 00 83 02  1D 30 80 23 1D 31 80 23  ...-.....0.#.1.#
0280: 01 8B 02 1D 34 80 23 1D  35 80 23 1B 03 04 00 06  ....4.#.5.#.....
0290: 10 42 1E F0 FF FF 7F 6F  70 02 04 00 0F 80 00 A8  .B.....op.......
02A0: 02 1D 36 80 23 01 06 03  02 04 00 14 80 00 B7 02  ..6.#...........
02B0: 1D 37 80 23 01 06 03 02  04 00 19 80 00 C6 02 1D  .7.#............
02C0: 38 80 23 01 06 03 02 04  00 1E 80 00 D5 02 1D 39  8.#............9
02D0: 80 23 01 06 03 02 04 00  23 80 00 E4 02 1D 3A 80  .#......#.....:.
02E0: 23 01 06 03 02 04 00 28  80 00 F3 02 1D 3B 80 23  #......(.....;.#
02F0: 01 06 03 02 04 00 2D 80  00 02 03 1D 3C 80 23 01  ......-.....<.#.
0300: 06 03 1D 3D 80 23 1B 03  04 00 06 10 42 1E F0 FF  ...=.#......B...
0310: FF 7F 6F 70 02 04 00 0F  80 00 2B 03 1D 3E 80 23  ..op......+..>.#
0320: 1D 3F 80 23 1D 40 80 23  01 C1 03 02 04 00 14 80  .?.#.@.#........
0330: 00 42 03 1D 41 80 23 1D  42 80 23 1D 43 80 23 01  .B..A.#.B.#.C.#.
0340: C1 03 02 04 00 19 80 00  59 03 1D 44 80 23 1D 45  ........Y..D.#.E
0350: 80 23 1D 46 80 23 01 C1  03 02 04 00 1E 80 00 70  .#.F.#.........p
0360: 03 1D 47 80 23 1D 48 80  23 1D 49 80 23 01 C1 03  ..G.#.H.#.I.#...
0370: 02 04 00 23 80 00 87 03  1D 4A 80 23 1D 4B 80 23  ...#.....J.#.K.#
0380: 1D 4C 80 23 01 C1 03 02  04 00 28 80 00 9E 03 1D  .L.#......(.....
0390: 4D 80 23 1D 4E 80 23 1D  4F 80 23 01 C1 03 02 04  M.#.N.#.O.#.....
03A0: 00 2D 80 00 B5 03 1D 50  80 23 1D 51 80 23 1D 52  .-.....P.#.Q.#.R
03B0: 80 23 01 C1 03 1D 53 80  23 1D 54 80 23 1D 55 80  .#....S.#.T.#.U.
03C0: 23 1B 03 04 00 06 10 1E  F0 FF FF 7F 6F 70 02 04  #...........op..
03D0: 00 0F 80 00 DD 03 1D 40  80 23 01 3B 04 02 04 00  .......@.#.;....
03E0: 14 80 00 EC 03 1D 43 80  23 01 3B 04 02 04 00 19  ......C.#.;.....
03F0: 80 00 FB 03 1D 46 80 23  01 3B 04 02 04 00 1E 80  .....F.#.;......
0400: 00 0A 04 1D 49 80 23 01  3B 04 02 04 00 23 80 00  ....I.#.;....#..
0410: 19 04 1D 4C 80 23 01 3B  04 02 04 00 28 80 00 28  ...L.#.;....(..(
0420: 04 1D 4F 80 23 01 3B 04  02 04 00 2D 80 00 37 04  ..O.#.;....-..7.
0430: 1D 52 80 23 01 3B 04 1D  55 80 23 1B              .R.#.;..U.#.    
```

## Opcodes

```
  0: 0x00AB [0x1A] CALL_SUBROUTINE(address=0x03C2)
  1: 0x00AE [0x21] END_EVENT
  2: 0x00AF [0x00] END_REQSTACK()

  3: 0x03C2 [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[6]
  4: 0x03C7 [0x1E] EventEntity looks at LocalPlayer and starts talking
  5: 0x03CC [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  6: 0x03CD [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  7: 0x03CE [0x02] IF !(ExtData[1]->WorkLocal[4] == 1*) GOTO 0x03DD
  8: 0x03D6 [0x1D] PRINT_EVENT_MESSAGE(message_id=17728*)
    → "And please thank \u001C\u0000 the next time you see that good samaritan.\u0007The person who said, \u00072'Tis better to give than receive\u00073 probably never had a gift drought as long as mine. I feel fantastic!\u007F1\u0000\u0007"
  9: 0x03D9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x03DA [0x01] GOTO 0x043B

SUBROUTINE_03DD:
 11: 0x03DD [0x02] IF !(ExtData[1]->WorkLocal[4] == 2*) GOTO 0x03EC
 12: 0x03E5 [0x1D] PRINT_EVENT_MESSAGE(message_id=17731*)
    → "I'm actually quite fed up with these ridiculous baubles, but I'm not one for losing face.\u0007If you should see \u001C\u0000 again, please give my regards and say I found the gift rather...quaint.\u007F1\u0000\u0007"
 13: 0x03E8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x03E9 [0x01] GOTO 0x043B

SUBROUTINE_03EC:
 15: 0x03EC [0x02] IF !(ExtData[1]->WorkLocal[4] == 3*) GOTO 0x03FB
 16: 0x03F4 [0x1D] PRINT_EVENT_MESSAGE(message_id=17734*)
    → "Would you be so kind as to tell \u001C\u0000 that I truly appreciate the gift?\u0007I am also thoroughly impressed with your selfless nature, adventurer.\u007F1\u0000\u0007"
 17: 0x03F7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x03F8 [0x01] GOTO 0x043B

SUBROUTINE_03FB:
 19: 0x03FB [0x02] IF !(ExtData[1]->WorkLocal[4] == 4*) GOTO 0x040A
 20: 0x0403 [0x1D] PRINT_EVENT_MESSAGE(message_id=17737*)
    → "The finite words of us mere mortals may not be sufficient to convey the depths of my gratitude, but I earnestly hope \u001C\u0000 would appreciate a succinct \u00072Thank you.\u00073\u007F1\u0000\u0007"
 21: 0x0406 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x0407 [0x01] GOTO 0x043B

SUBROUTINE_040A:
 23: 0x040A [0x02] IF !(ExtData[1]->WorkLocal[4] == 5*) GOTO 0x0419
 24: 0x0412 [0x1D] PRINT_EVENT_MESSAGE(message_id=17740*)
    → "Well then, I suppose some thanks are in order. But if I find out that this was just some elaborataru scheme to make me lower my guard, I'm going to boppy-wop you both in the noggin!\u007F1\u0000\u0007"
 25: 0x0415 [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x0416 [0x01] GOTO 0x043B

SUBROUTINE_0419:
 27: 0x0419 [0x02] IF !(ExtData[1]->WorkLocal[4] == 6*) GOTO 0x0428
 28: 0x0421 [0x1D] PRINT_EVENT_MESSAGE(message_id=17743*)
    → "No, thataru wouldn't be right. Besides, it might not be edible.\u0007Anyway, please be sure to thank \u001C\u0000 for pudding the icing on such a delectable Starcake Chocolation.\u0007Ugh, I'm just terrible!\u007F1\u0000\u0007"
 29: 0x0424 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x0425 [0x01] GOTO 0x043B

SUBROUTINE_0428:
 31: 0x0428 [0x02] IF !(ExtData[1]->WorkLocal[4] == 7*) GOTO 0x0437
 32: 0x0430 [0x1D] PRINT_EVENT_MESSAGE(message_id=17749*)
    → "Don't get the wrrrong idea! It's not like I enjoy the gift or anything!\u0007Just run back to \u001C\u0000 and drop dead! This conversation never happened!\u007F1\u0000\u0007"
 33: 0x0433 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x0434 [0x01] GOTO 0x043B

SUBROUTINE_0437:
 35: 0x0437 [0x1D] PRINT_EVENT_MESSAGE(message_id=17746*)
    → "I best start looking for something to give in return. In the meantime, please tell \u001C\u0000 how happy I am to have received this.\u0007And maybe next year I'll remember before it's too late. <Sigh>...One can only hope.\u007F1\u0000\u0007"
 36: 0x043A [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x043B [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x00B0 (786 bytes)
     0x00B0: 03 04 00 06 10 1E F0 FF FF 7F 6F 70 02 04 00 0F
     0x00C0: 80 00 E4 00 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x00D0: 30 1D 10 80 23 1D 11 80 23 1D 12 80 23 1D 13 80
     0x00E0: 23 01 F1 01 02 04 00 14 80 00 0C 01 2C F8 FF FF
     0x00F0: 7F F8 FF FF 7F 74 6C 6B 30 1D 15 80 23 1D 16 80
     0x0100: 23 1D 17 80 23 1D 18 80 23 01 F1 01 02 04 00 19
     0x0110: 80 00 34 01 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x0120: 30 1D 1A 80 23 1D 1B 80 23 1D 1C 80 23 1D 1D 80
     0x0130: 23 01 F1 01 02 04 00 1E 80 00 5C 01 2C F8 FF FF
     0x0140: 7F F8 FF FF 7F 74 6C 6B 30 1D 1F 80 23 1D 20 80
     0x0150: 23 1D 21 80 23 1D 22 80 23 01 F1 01 02 04 00 23
     0x0160: 80 00 84 01 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x0170: 30 1D 24 80 23 1D 25 80 23 1D 26 80 23 1D 27 80
     0x0180: 23 01 F1 01 02 04 00 28 80 00 AC 01 2C F8 FF FF
     0x0190: 7F F8 FF FF 7F 74 6C 6B 30 1D 29 80 23 1D 2A 80
     0x01A0: 23 1D 2B 80 23 1D 2C 80 23 01 F1 01 02 04 00 2D
     0x01B0: 80 00 D4 01 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x01C0: 30 1D 2E 80 23 1D 2F 80 23 1D 30 80 23 1D 31 80
     0x01D0: 23 01 F1 01 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x01E0: 30 1D 32 80 23 1D 33 80 23 1D 34 80 23 1D 35 80
     0x01F0: 23 1B 03 04 00 06 10 1E F0 FF FF 7F 6F 70 02 04
     0x0200: 00 0F 80 00 11 02 1D 12 80 23 1D 13 80 23 01 8B
     0x0210: 02 02 04 00 14 80 00 24 02 1D 17 80 23 1D 18 80
     0x0220: 23 01 8B 02 02 04 00 19 80 00 37 02 1D 1C 80 23
     0x0230: 1D 1D 80 23 01 8B 02 02 04 00 1E 80 00 4A 02 1D
     0x0240: 21 80 23 1D 22 80 23 01 8B 02 02 04 00 23 80 00
     0x0250: 5D 02 1D 26 80 23 1D 27 80 23 01 8B 02 02 04 00
     0x0260: 28 80 00 70 02 1D 2B 80 23 1D 2C 80 23 01 8B 02
     0x0270: 02 04 00 2D 80 00 83 02 1D 30 80 23 1D 31 80 23
     0x0280: 01 8B 02 1D 34 80 23 1D 35 80 23 1B 03 04 00 06
     0x0290: 10 42 1E F0 FF FF 7F 6F 70 02 04 00 0F 80 00 A8
     0x02A0: 02 1D 36 80 23 01 06 03 02 04 00 14 80 00 B7 02
     0x02B0: 1D 37 80 23 01 06 03 02 04 00 19 80 00 C6 02 1D
     0x02C0: 38 80 23 01 06 03 02 04 00 1E 80 00 D5 02 1D 39
     0x02D0: 80 23 01 06 03 02 04 00 23 80 00 E4 02 1D 3A 80
     0x02E0: 23 01 06 03 02 04 00 28 80 00 F3 02 1D 3B 80 23
     0x02F0: 01 06 03 02 04 00 2D 80 00 02 03 1D 3C 80 23 01
     0x0300: 06 03 1D 3D 80 23 1B 03 04 00 06 10 42 1E F0 FF
     0x0310: FF 7F 6F 70 02 04 00 0F 80 00 2B 03 1D 3E 80 23
     0x0320: 1D 3F 80 23 1D 40 80 23 01 C1 03 02 04 00 14 80
     0x0330: 00 42 03 1D 41 80 23 1D 42 80 23 1D 43 80 23 01
     0x0340: C1 03 02 04 00 19 80 00 59 03 1D 44 80 23 1D 45
     0x0350: 80 23 1D 46 80 23 01 C1 03 02 04 00 1E 80 00 70
     0x0360: 03 1D 47 80 23 1D 48 80 23 1D 49 80 23 01 C1 03
     0x0370: 02 04 00 23 80 00 87 03 1D 4A 80 23 1D 4B 80 23
     0x0380: 1D 4C 80 23 01 C1 03 02 04 00 28 80 00 9E 03 1D
     0x0390: 4D 80 23 1D 4E 80 23 1D 4F 80 23 01 C1 03 02 04
     0x03A0: 00 2D 80 00 B5 03 1D 50 80 23 1D 51 80 23 1D 52
     0x03B0: 80 23 01 C1 03 1D 53 80 23 1D 54 80 23 1D 55 80
     0x03C0: 23 1B
```