# Event 1045

## Metadata

| Field           | Value      |
|-----------------|------------|
| Event Index     | 91/91      |
| Offset          | 0x2F33     |
| Data Size       | 1109 bytes |
| Calculated Size | 1109 bytes |
| Instructions    | 17         |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
2F30:          01 DA 31 00 45  02 80 F0 FF FF 7F F0 FF     ..1.E........
2F40: FF 7F 66 64 6F 32 03 80  55 02 80 F0 FF FF 7F F0  ..fdo2..U.......
2F50: FF FF 7F 66 64 6F 32 46  00 45 02 80 F0 FF FF 7F  ...fdo2F.E......
2F60: F0 FF FF 7F 66 64 69 32  03 80 1B 1A 04 33 1D AA  ....fdi2.....3..
2F70: 80 23 1D A1 80 23 1A 14  33 24 1F 80 03 80 03 80  .#...#..3$......
2F80: 25 02 00 10 03 80 00 98  2F 1A 04 33 1D 61 80 23  %......./..3.a.#
2F90: 03 01 10 14 80 01 AF 2F  02 00 10 01 80 00 AF 2F  ......./......./
2FA0: 1A 04 33 1D AB 80 23 03  01 10 16 80 01 AF 2F 1A  ..3...#......./.
2FB0: 14 33 45 02 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  .3E..........fdo
2FC0: 32 03 80 55 02 80 F0 FF  FF 7F F0 FF FF 7F 66 64  2..U..........fd
2FD0: 6F 32 46 00 45 02 80 F0  FF FF 7F F0 FF FF 7F 66  o2F.E..........f
2FE0: 64 69 32 03 80 21 00 1A  04 33 1D AC 80 23 1A 14  di2..!...3...#..
2FF0: 33 24 1F 80 03 80 03 80  25 02 00 10 03 80 00 10  3$......%.......
3000: 30 1A 04 33 1D AD 80 23  03 01 10 18 80 01 27 30  0..3...#......'0
3010: 02 00 10 01 80 00 27 30  1A 04 33 1D AE 80 23 03  ......'0..3...#.
3020: 01 10 16 80 01 27 30 1A  14 33 1A 37 2F 21 00 1A  .....'0..3.7/!..
3030: 3A 33 1A 04 33 1D AF 80  23 1A 14 33 1A 37 2F 21  :3..3...#..3.7/!
3040: 00 1E F0 FF FF 7F 6F 70  1A 04 33 03 02 10 B0 80  ......op..3.....
3050: 1D B1 80 23 1A 14 33 21  00 1E F0 FF FF 7F 6F 70  ...#..3!......op
3060: 1A 04 33 03 02 10 B0 80  1D B2 80 23 1A 14 33 21  ..3........#..3!
3070: 00 1A 3A 33 1A 04 33 1D  78 80 23 1D B3 80 23 1A  ..:3..3.x.#...#.
3080: 14 33 7D 30 80 45 1A 80  F0 FF FF 7F F0 FF FF 7F  .3}0.E..........
3090: 71 73 74 63 03 80 1C 02  80 1A 37 2F 21 00 1A 04  qstc......7/!...
30A0: 33 1D 71 80 23 1A 14 33  24 1F 80 03 80 03 80 25  3.q.#..3$......%
30B0: 02 00 10 03 80 00 C7 30  1A 04 33 1D B4 80 23 03  .......0..3...#.
30C0: 01 10 19 80 01 DE 30 02  00 10 01 80 00 DE 30 1A  ......0.......0.
30D0: 04 33 1D B5 80 23 03 01  10 16 80 01 DE 30 1A 14  .3...#.......0..
30E0: 33 1A 37 2F 21 00 1A 3A  33 1A 04 33 1D B6 80 23  3.7/!..:3..3...#
30F0: 1D B7 80 23 1D 72 80 23  1A 14 33 1A 37 2F 21 00  ...#.r.#..3.7/!.
3100: 1A 04 33 1D B8 80 23 1D  B9 80 23 1D BA 80 23 1D  ..3...#...#...#.
3110: 08 80 23 1A 14 33 24 1F  80 03 80 03 80 25 02 00  ..#..3$......%..
3120: 10 03 80 00 35 31 1A 04  33 1D BB 80 23 03 01 10  ....51..3...#...
3130: 1B 80 01 4C 31 02 00 10  01 80 00 4C 31 1A 04 33  ...L1......L1..3
3140: 1D BC 80 23 03 01 10 16  80 01 4C 31 1A 14 33 1A  ...#......L1..3.
3150: 37 2F 21 00 1A 3A 33 1A  04 33 1D BD 80 23 03 02  7/!..:3..3...#..
3160: 10 BE 80 1D BF 80 23 1D  C0 80 23 1D C1 80 23 1A  ......#...#...#.
3170: 14 33 7D 31 80 45 1A 80  F0 FF FF 7F F0 FF FF 7F  .3}1.E..........
3180: 71 73 74 63 03 80 1C 02  80 1A 37 2F 21 00 1A 04  qstc......7/!...
3190: 33 1D C2 80 23 1D C3 80  23 1A 14 33 24 1F 80 03  3...#...#..3$...
31A0: 80 03 80 25 02 00 10 03  80 00 BB 31 1A 04 33 1D  ...%.......1..3.
31B0: C4 80 23 03 01 10 1C 80  01 D2 31 02 00 10 01 80  ..#.......1.....
31C0: 00 D2 31 1A 04 33 1D C5  80 23 03 01 10 16 80 01  ..1..3...#......
31D0: D2 31 1A 14 33 1A 37 2F  21 00 1E F0 FF FF 7F 6F  .1..3.7/!......o
31E0: 70 1A 04 33 1D C6 80 23  1A 14 33 21 00 1A 04 33  p..3...#..3!...3
31F0: 1D C7 80 23 1A 14 33 24  1F 80 03 80 03 80 25 02  ...#..3$......%.
3200: 00 10 03 80 00 16 32 1A  04 33 1D C8 80 23 03 01  ......2..3...#..
3210: 10 1D 80 01 2D 32 02 00  10 01 80 00 2D 32 1A 04  ....-2......-2..
3220: 33 1D C9 80 23 03 01 10  16 80 01 2D 32 1A 14 33  3...#......-2..3
3230: 1A 37 2F 21 00 1A 04 33  1D CA 80 23 1A 14 33 24  .7/!...3...#..3$
3240: 1F 80 03 80 03 80 25 02  00 10 03 80 00 5E 32 1A  ......%......^2.
3250: 04 33 1D CB 80 23 03 01  10 20 80 01 75 32 02 00  .3...#... ..u2..
3260: 10 01 80 00 75 32 1A 04  33 1D CC 80 23 03 01 10  ....u2..3...#...
3270: 16 80 01 75 32 1A 14 33  1A 37 2F 21 00 1A 04 33  ...u2..3.7/!...3
3280: 1D CD 80 23 1D CE 80 23  1D CF 80 23 1D D0 80 23  ...#...#...#...#
3290: 1A 14 33 24 1F 80 03 80  03 80 25 02 00 10 03 80  ..3$......%.....
32A0: 00 E5 32 1A 04 33 1D D1  80 23 1A 14 33 24 D2 80  ..2..3...#..3$..
32B0: 03 80 03 80 25 1A 1A 33  02 00 10 03 80 00 C7 32  ....%..3.......2
32C0: 1D D3 80 23 01 D6 32 02  00 10 01 80 00 D6 32 1D  ...#..2.......2.
32D0: D4 80 23 01 D6 32 1A 2A  33 1D D5 80 23 03 01 10  ..#..2.*3...#...
32E0: 21 80 01 FC 32 02 00 10  01 80 00 FC 32 1A 04 33  !...2.......2..3
32F0: 1D D6 80 23 03 01 10 16  80 01 FC 32 1A 14 33 1A  ...#.......2..3.
3300: 37 2F 21 00 66 00 80 F8  FF FF 7F F8 FF FF 7F 74  7/!.f..........t
3310: 6C 6B 30 1B 5E 69 64 6C  30 1B 66 00 80 F8 FF FF  lk0.^idl0.f.....
3320: 7F F8 FF FF 7F 74 68 6B  31 1B 66 00 80 F8 FF FF  .....thk1.f.....
3330: 7F F8 FF FF 7F 74 68 6B  32 1B 42 46 01 45 02 80  .....thk2.BF.E..
3340: F8 FF FF 7F F8 FF FF 7F  66 64 6F 31 03 80 1C 04  ........fdo1....
3350: 80 38 05 80 29 64 F0 FF  FF 7F 25 79 00 F8 FF FF  .8..)d....%y....
3360: 7F F0 FF FF 7F 45 08 80  F0 FF FF 7F F0 FF FF 7F  .....E..........
3370: 73 30 32 33 03 80 45 02  80 F8 FF FF 7F F8 FF FF  s023..E.........
3380: 7F 66 64 69 31 03 80 1B                           .fdi1...        
```

## Opcodes

```
  0: 0x2F33 [0x01] GOTO 0x31DA
  1: 0x31DA [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x31DF [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x31E0 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x31E1 [0x1A] CALL_SUBROUTINE(address=0x3304)
  5: 0x31E4 [0x1D] PRINT_EVENT_MESSAGE(message_id=143*)
    â†’ "Princess Claidie's coming-of-age ceremony is about to begin at the cathedral. I must remain at my post, but why don't you attend?\u007F1\u0000\u0007"
  6: 0x31E7 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x31E8 [0x1A] CALL_SUBROUTINE(address=0x3314)
  8: 0x31EB [0x21] END_EVENT
  9: 0x31EC [0x00] END_REQSTACK()

 10: 0x3304 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=30*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 11: 0x3313 [0x1B] RETURN

SUBROUTINE_3314:
 12: 0x3314 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 13: 0x3319 [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x2F36 (676 bytes)
     0x2F36: 00 45 02 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 32
     0x2F46: 03 80 55 02 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F
     0x2F56: 32 46 00 45 02 80 F0 FF FF 7F F0 FF FF 7F 66 64
     0x2F66: 69 32 03 80 1B 1A 04 33 1D AA 80 23 1D A1 80 23
     0x2F76: 1A 14 33 24 1F 80 03 80 03 80 25 02 00 10 03 80
     0x2F86: 00 98 2F 1A 04 33 1D 61 80 23 03 01 10 14 80 01
     0x2F96: AF 2F 02 00 10 01 80 00 AF 2F 1A 04 33 1D AB 80
     0x2FA6: 23 03 01 10 16 80 01 AF 2F 1A 14 33 45 02 80 F0
     0x2FB6: FF FF 7F F0 FF FF 7F 66 64 6F 32 03 80 55 02 80
     0x2FC6: F0 FF FF 7F F0 FF FF 7F 66 64 6F 32 46 00 45 02
     0x2FD6: 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 32 03 80 21
     0x2FE6: 00 1A 04 33 1D AC 80 23 1A 14 33 24 1F 80 03 80
     0x2FF6: 03 80 25 02 00 10 03 80 00 10 30 1A 04 33 1D AD
     0x3006: 80 23 03 01 10 18 80 01 27 30 02 00 10 01 80 00
     0x3016: 27 30 1A 04 33 1D AE 80 23 03 01 10 16 80 01 27
     0x3026: 30 1A 14 33 1A 37 2F 21 00 1A 3A 33 1A 04 33 1D
     0x3036: AF 80 23 1A 14 33 1A 37 2F 21 00 1E F0 FF FF 7F
     0x3046: 6F 70 1A 04 33 03 02 10 B0 80 1D B1 80 23 1A 14
     0x3056: 33 21 00 1E F0 FF FF 7F 6F 70 1A 04 33 03 02 10
     0x3066: B0 80 1D B2 80 23 1A 14 33 21 00 1A 3A 33 1A 04
     0x3076: 33 1D 78 80 23 1D B3 80 23 1A 14 33 7D 30 80 45
     0x3086: 1A 80 F0 FF FF 7F F0 FF FF 7F 71 73 74 63 03 80
     0x3096: 1C 02 80 1A 37 2F 21 00 1A 04 33 1D 71 80 23 1A
     0x30A6: 14 33 24 1F 80 03 80 03 80 25 02 00 10 03 80 00
     0x30B6: C7 30 1A 04 33 1D B4 80 23 03 01 10 19 80 01 DE
     0x30C6: 30 02 00 10 01 80 00 DE 30 1A 04 33 1D B5 80 23
     0x30D6: 03 01 10 16 80 01 DE 30 1A 14 33 1A 37 2F 21 00
     0x30E6: 1A 3A 33 1A 04 33 1D B6 80 23 1D B7 80 23 1D 72
     0x30F6: 80 23 1A 14 33 1A 37 2F 21 00 1A 04 33 1D B8 80
     0x3106: 23 1D B9 80 23 1D BA 80 23 1D 08 80 23 1A 14 33
     0x3116: 24 1F 80 03 80 03 80 25 02 00 10 03 80 00 35 31
     0x3126: 1A 04 33 1D BB 80 23 03 01 10 1B 80 01 4C 31 02
     0x3136: 00 10 01 80 00 4C 31 1A 04 33 1D BC 80 23 03 01
     0x3146: 10 16 80 01 4C 31 1A 14 33 1A 37 2F 21 00 1A 3A
     0x3156: 33 1A 04 33 1D BD 80 23 03 02 10 BE 80 1D BF 80
     0x3166: 23 1D C0 80 23 1D C1 80 23 1A 14 33 7D 31 80 45
     0x3176: 1A 80 F0 FF FF 7F F0 FF FF 7F 71 73 74 63 03 80
     0x3186: 1C 02 80 1A 37 2F 21 00 1A 04 33 1D C2 80 23 1D
     0x3196: C3 80 23 1A 14 33 24 1F 80 03 80 03 80 25 02 00
     0x31A6: 10 03 80 00 BB 31 1A 04 33 1D C4 80 23 03 01 10
     0x31B6: 1C 80 01 D2 31 02 00 10 01 80 00 D2 31 1A 04 33
     0x31C6: 1D C5 80 23 03 01 10 16 80 01 D2 31 1A 14 33 1A
     0x31D6: 37 2F 21 00
# Data Section: 0x31ED (279 bytes)
     0x31ED: 1A 04 33 1D C7 80 23 1A 14 33 24 1F 80 03 80 03
     0x31FD: 80 25 02 00 10 03 80 00 16 32 1A 04 33 1D C8 80
     0x320D: 23 03 01 10 1D 80 01 2D 32 02 00 10 01 80 00 2D
     0x321D: 32 1A 04 33 1D C9 80 23 03 01 10 16 80 01 2D 32
     0x322D: 1A 14 33 1A 37 2F 21 00 1A 04 33 1D CA 80 23 1A
     0x323D: 14 33 24 1F 80 03 80 03 80 25 02 00 10 03 80 00
     0x324D: 5E 32 1A 04 33 1D CB 80 23 03 01 10 20 80 01 75
     0x325D: 32 02 00 10 01 80 00 75 32 1A 04 33 1D CC 80 23
     0x326D: 03 01 10 16 80 01 75 32 1A 14 33 1A 37 2F 21 00
     0x327D: 1A 04 33 1D CD 80 23 1D CE 80 23 1D CF 80 23 1D
     0x328D: D0 80 23 1A 14 33 24 1F 80 03 80 03 80 25 02 00
     0x329D: 10 03 80 00 E5 32 1A 04 33 1D D1 80 23 1A 14 33
     0x32AD: 24 D2 80 03 80 03 80 25 1A 1A 33 02 00 10 03 80
     0x32BD: 00 C7 32 1D D3 80 23 01 D6 32 02 00 10 01 80 00
     0x32CD: D6 32 1D D4 80 23 01 D6 32 1A 2A 33 1D D5 80 23
     0x32DD: 03 01 10 21 80 01 FC 32 02 00 10 01 80 00 FC 32
     0x32ED: 1A 04 33 1D D6 80 23 03 01 10 16 80 01 FC 32 1A
     0x32FD: 14 33 1A 37 2F 21 00
# Data Section: 0x331A (110 bytes)
     0x331A: 66 00 80 F8 FF FF 7F F8 FF FF 7F 74 68 6B 31 1B
     0x332A: 66 00 80 F8 FF FF 7F F8 FF FF 7F 74 68 6B 32 1B
     0x333A: 42 46 01 45 02 80 F8 FF FF 7F F8 FF FF 7F 66 64
     0x334A: 6F 31 03 80 1C 04 80 38 05 80 29 64 F0 FF FF 7F
     0x335A: 25 79 00 F8 FF FF 7F F0 FF FF 7F 45 08 80 F0 FF
     0x336A: FF 7F F0 FF FF 7F 73 30 32 33 03 80 45 02 80 F8
     0x337A: FF FF 7F F8 FF FF 7F 66 64 69 31 03 80 1B
```