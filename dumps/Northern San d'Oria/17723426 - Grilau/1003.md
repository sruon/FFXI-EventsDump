# Event 1003

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 9/91      |
| Offset          | 0x0965    |
| Data Size       | 900 bytes |
| Calculated Size | 900 bytes |
| Instructions    | 32        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0960:                42 46 01  45 02 80 F8 FF FF 7F F8       BF.E.......
0970: FF FF 7F 66 64 6F 31 03  80 1C 04 80 38 05 80 29  ...fdo1.....8..)
0980: 64 F0 FF FF 7F 25 29 08  F0 FF FF 7F 35 45 08 80  d....%).....5E..
0990: F0 FF FF 7F F0 FF FF 7F  73 30 32 33 03 80 45 02  ........s023..E.
09A0: 80 F8 FF FF 7F F8 FF FF  7F 66 64 69 31 03 80 02  .........fdi1...
09B0: 06 10 01 80 00 D2 09 03  05 10 29 80 66 00 80 F8  ..........).f...
09C0: FF FF 7F F8 FF FF 7F 74  6C 6B 30 1D 17 80 23 01  .......tlk0...#.
09D0: FF 09 66 00 80 F8 FF FF  7F F8 FF FF 7F 74 6C 6B  ..f..........tlk
09E0: 30 1D 25 80 23 45 08 80  F0 FF FF 7F F0 FF FF 7F  0.%.#E..........
09F0: 73 30 31 39 03 80 03 05  10 29 80 1D 26 80 23 45  s019.....)..&.#E
0A00: 02 80 F8 FF FF 7F F8 FF  FF 7F 66 64 6F 31 03 80  ..........fdo1..
0A10: 1C 04 80 5E 69 64 6C 30  46 00 45 02 80 F8 FF FF  ...^idl0F.E.....
0A20: 7F F8 FF FF 7F 66 64 69  31 03 80 45 1A 80 F0 FF  .....fdi1..E....
0A30: FF 7F F0 FF FF 7F 71 73  74 63 03 80 20 00 21 00  ......qstc.. .!.
0A40: 45 02 80 F0 FF FF 7F F0  FF FF 7F 6F 76 6C 31 03  E..........ovl1.
0A50: 80 45 06 80 F8 FF FF 7F  F8 FF FF 7F 73 30 32 36  .E..........s026
0A60: 03 80 66 00 80 F8 FF FF  7F F8 FF FF 7F 74 6C 6B  ..f..........tlk
0A70: 30 02 06 10 01 80 00 80  0A 1D 2A 80 23 01 84 0A  0.........*.#...
0A80: 1D 27 80 23 5E 69 64 6C  30 1D 00 80 23 52 06 80  .'.#^idl0...#R..
0A90: F8 FF FF 7F F8 FF FF 7F  73 30 32 36 45 06 80 F8  ........s026E...
0AA0: FF FF 7F F8 FF FF 7F 73  30 37 36 03 80 66 00 80  .......s076..f..
0AB0: F8 FF FF 7F F8 FF FF 7F  74 68 6B 31 1D 1E 80 23  ........thk1...#
0AC0: 1D 2B 80 23 1D 2C 80 23  52 06 80 F8 FF FF 7F F8  .+.#.,.#R.......
0AD0: FF FF 7F 73 30 37 36 45  06 80 F8 FF FF 7F F8 FF  ...s076E........
0AE0: FF 7F 73 30 32 36 03 80  1D 2D 80 23 66 00 80 F8  ..s026...-.#f...
0AF0: FF FF 7F F8 FF FF 7F 74  68 6B 32 53 F8 FF FF 7F  .......thk2S....
0B00: F8 FF FF 7F 74 68 6B 32  1C 00 80 52 06 80 F8 FF  ....thk2...R....
0B10: FF 7F F8 FF FF 7F 73 30  32 36 45 02 80 F0 FF FF  ......s026E.....
0B20: 7F F0 FF FF 7F 6F 76 6C  31 03 80 45 08 80 F0 FF  .....ovl1..E....
0B30: FF 7F F0 FF FF 7F 73 30  31 39 03 80 66 00 80 F8  ......s019..f...
0B40: FF FF 7F F8 FF FF 7F 70  6F 69 31 1D 2E 80 23 66  .......poi1...#f
0B50: 00 80 F8 FF FF 7F F8 FF  FF 7F 70 6F 69 32 53 F8  ..........poi2S.
0B60: FF FF 7F F8 FF FF 7F 70  6F 69 32 1C 00 80 66 00  .......poi2...f.
0B70: 80 F8 FF FF 7F F8 FF FF  7F 74 6C 6B 30 1D 2F 80  .........tlk0./.
0B80: 23 5E 69 64 6C 30 24 0C  80 03 80 03 80 25 02 00  #^idl0$......%..
0B90: 10 03 80 00 99 0C 45 06  80 F8 FF FF 7F F8 FF FF  ......E.........
0BA0: 7F 73 31 30 35 03 80 66  00 80 F8 FF FF 7F F8 FF  .s105..f........
0BB0: FF 7F 74 6C 6B 30 1D 30  80 23 1D 31 80 23 52 06  ..tlk0.0.#.1.#R.
0BC0: 80 F8 FF FF 7F F8 FF FF  7F 73 31 30 35 45 02 80  .........s105E..
0BD0: F0 FF FF 7F F0 FF FF 7F  6F 76 6C 31 03 80 02 09  ........ovl1....
0BE0: 10 10 80 00 FA 0B 45 06  80 F8 FF FF 7F F8 FF FF  ......E.........
0BF0: 7F 73 31 30 36 03 80 01  27 0C 02 09 10 11 80 00  .s106...'.......
0C00: 16 0C 45 06 80 F8 FF FF  7F F8 FF FF 7F 73 31 30  ..E..........s10
0C10: 36 03 80 01 27 0C 45 08  80 F0 FF FF 7F F0 FF FF  6...'.E.........
0C20: 7F 73 30 32 32 03 80 1D  32 80 23 1D 12 80 23 5E  .s022...2.#...#^
0C30: 69 64 6C 30 24 13 80 03  80 03 80 25 02 00 10 03  idl0$......%....
0C40: 80 00 78 0C 45 06 80 F8  FF FF 7F F8 FF FF 7F 73  ..x.E..........s
0C50: 30 37 37 03 80 66 00 80  F8 FF FF 7F F8 FF FF 7F  077..f..........
0C60: 74 6C 6B 30 1D 33 80 23  5E 69 64 6C 30 1C 00 80  tlk0.3.#^idl0...
0C70: 03 01 10 15 80 01 96 0C  02 00 10 01 80 00 86 0C  ................
0C80: 01 96 0B 01 96 0C 02 00  10 15 80 00 96 0C 03 01  ................
0C90: 10 16 80 01 96 0C 01 A9  0C 02 00 10 01 80 00 A9  ................
0CA0: 0C 03 01 10 16 80 01 A9  0C 45 02 80 F8 FF FF 7F  .........E......
0CB0: F8 FF FF 7F 66 64 6F 31  03 80 1C 04 80 52 06 80  ....fdo1.....R..
0CC0: F8 FF FF 7F F8 FF FF 7F  73 30 37 37 46 00 45 02  ........s077F.E.
0CD0: 80 F8 FF FF 7F F8 FF FF  7F 66 64 69 31 03 80 21  .........fdi1..!
0CE0: 00 29 0F 22 70 0E 01 38  00                       .)."p..8.       
```

## Opcodes

```
  0: 0x0965 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0966 [0x46] CAMERA_CONTROL: Disable user control
  2: 0x0968 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  3: 0x0979 [0x1C] WAIT(60* ticks)
  4: 0x097C [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  5: 0x097F [0x29] REQ_SET_WAIT(priority=0x64, entity_id=LocalPlayer, tag_num=0x25)
  6: 0x0986 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x35)
  7: 0x098D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s023" with entities [LocalPlayer, LocalPlayer], work=[131*, 0*]
  8: 0x099E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  9: 0x09AF [0x02] IF !(Work_Zone[6] == 1*) GOTO 0x09D2
 10: 0x09B7 [0x03] Work_Zone[5] = 891*
 11: 0x09BC [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
 12: 0x09CB [0x1D] PRINT_EVENT_MESSAGE(message_id=12607*)
    → "I knew you'd return safely, and with the \u0001\u0005#\u0002\u0003\u0000\u0000. Mission completed!\u007F1\u0000\u0007"
 13: 0x09CE [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x09CF [0x01] GOTO 0x09FF

SUBROUTINE_09D2:
 15: 0x09D2 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
 16: 0x09E1 [0x1D] PRINT_EVENT_MESSAGE(message_id=27*)
    → "Ah, you've returned! I was afraid that Goblins got you.\u007F1\u0000\u0007"
 17: 0x09E4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x09E5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s019" with entities [LocalPlayer, LocalPlayer], work=[131*, 0*]
 19: 0x09F6 [0x03] Work_Zone[5] = 891*
 20: 0x09FB [0x1D] PRINT_EVENT_MESSAGE(message_id=28*)
    → "That's one \u0001\u0005#\u0002\u0003\u0000\u0000 for the gatehouse, then. Mission complete. Not bad for a new recruit.\u007F1\u0000\u0007"
 21: 0x09FE [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x09FF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 23: 0x0A10 [0x1C] WAIT(60* ticks)
 24: 0x0A13 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 25: 0x0A18 [0x46] CAMERA_CONTROL: Restore default settings
 26: 0x0A1A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 27: 0x0A2B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 28: 0x0A3C [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 29: 0x0A3E [0x21] END_EVENT
 30: 0x0A3F [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Data Section: 0x0A40 (681 bytes)
     0x0A40: 45 02 80 F0 FF FF 7F F0 FF FF 7F 6F 76 6C 31 03
     0x0A50: 80 45 06 80 F8 FF FF 7F F8 FF FF 7F 73 30 32 36
     0x0A60: 03 80 66 00 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x0A70: 30 02 06 10 01 80 00 80 0A 1D 2A 80 23 01 84 0A
     0x0A80: 1D 27 80 23 5E 69 64 6C 30 1D 00 80 23 52 06 80
     0x0A90: F8 FF FF 7F F8 FF FF 7F 73 30 32 36 45 06 80 F8
     0x0AA0: FF FF 7F F8 FF FF 7F 73 30 37 36 03 80 66 00 80
     0x0AB0: F8 FF FF 7F F8 FF FF 7F 74 68 6B 31 1D 1E 80 23
     0x0AC0: 1D 2B 80 23 1D 2C 80 23 52 06 80 F8 FF FF 7F F8
     0x0AD0: FF FF 7F 73 30 37 36 45 06 80 F8 FF FF 7F F8 FF
     0x0AE0: FF 7F 73 30 32 36 03 80 1D 2D 80 23 66 00 80 F8
     0x0AF0: FF FF 7F F8 FF FF 7F 74 68 6B 32 53 F8 FF FF 7F
     0x0B00: F8 FF FF 7F 74 68 6B 32 1C 00 80 52 06 80 F8 FF
     0x0B10: FF 7F F8 FF FF 7F 73 30 32 36 45 02 80 F0 FF FF
     0x0B20: 7F F0 FF FF 7F 6F 76 6C 31 03 80 45 08 80 F0 FF
     0x0B30: FF 7F F0 FF FF 7F 73 30 31 39 03 80 66 00 80 F8
     0x0B40: FF FF 7F F8 FF FF 7F 70 6F 69 31 1D 2E 80 23 66
     0x0B50: 00 80 F8 FF FF 7F F8 FF FF 7F 70 6F 69 32 53 F8
     0x0B60: FF FF 7F F8 FF FF 7F 70 6F 69 32 1C 00 80 66 00
     0x0B70: 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1D 2F 80
     0x0B80: 23 5E 69 64 6C 30 24 0C 80 03 80 03 80 25 02 00
     0x0B90: 10 03 80 00 99 0C 45 06 80 F8 FF FF 7F F8 FF FF
     0x0BA0: 7F 73 31 30 35 03 80 66 00 80 F8 FF FF 7F F8 FF
     0x0BB0: FF 7F 74 6C 6B 30 1D 30 80 23 1D 31 80 23 52 06
     0x0BC0: 80 F8 FF FF 7F F8 FF FF 7F 73 31 30 35 45 02 80
     0x0BD0: F0 FF FF 7F F0 FF FF 7F 6F 76 6C 31 03 80 02 09
     0x0BE0: 10 10 80 00 FA 0B 45 06 80 F8 FF FF 7F F8 FF FF
     0x0BF0: 7F 73 31 30 36 03 80 01 27 0C 02 09 10 11 80 00
     0x0C00: 16 0C 45 06 80 F8 FF FF 7F F8 FF FF 7F 73 31 30
     0x0C10: 36 03 80 01 27 0C 45 08 80 F0 FF FF 7F F0 FF FF
     0x0C20: 7F 73 30 32 32 03 80 1D 32 80 23 1D 12 80 23 5E
     0x0C30: 69 64 6C 30 24 13 80 03 80 03 80 25 02 00 10 03
     0x0C40: 80 00 78 0C 45 06 80 F8 FF FF 7F F8 FF FF 7F 73
     0x0C50: 30 37 37 03 80 66 00 80 F8 FF FF 7F F8 FF FF 7F
     0x0C60: 74 6C 6B 30 1D 33 80 23 5E 69 64 6C 30 1C 00 80
     0x0C70: 03 01 10 15 80 01 96 0C 02 00 10 01 80 00 86 0C
     0x0C80: 01 96 0B 01 96 0C 02 00 10 15 80 00 96 0C 03 01
     0x0C90: 10 16 80 01 96 0C 01 A9 0C 02 00 10 01 80 00 A9
     0x0CA0: 0C 03 01 10 16 80 01 A9 0C 45 02 80 F8 FF FF 7F
     0x0CB0: F8 FF FF 7F 66 64 6F 31 03 80 1C 04 80 52 06 80
     0x0CC0: F8 FF FF 7F F8 FF FF 7F 73 30 37 37 46 00 45 02
     0x0CD0: 80 F8 FF FF 7F F8 FF FF 7F 66 64 69 31 03 80 21
     0x0CE0: 00 29 0F 22 70 0E 01 38 00
```