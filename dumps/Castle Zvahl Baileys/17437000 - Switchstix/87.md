# Event 87

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 79/79     |
| Offset          | 0x0B8A    |
| Data Size       | 446 bytes |
| Calculated Size | 446 bytes |
| Instructions    | 40        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0B80:                                42 03 01 10 33 80            B...3.
0B90: 1E F0 FF FF 7F 02 09 10  0F 80 00 A0 0B 01 47 0C  ..............G.
0BA0: 1D AF 80 23 5B 00 80 48  11 0A 01 48 11 0A 01 74  ...#[..H...H...t
0BB0: 6C 6B 30 1D B0 80 23 5B  00 80 48 11 0A 01 48 11  lk0...#[..H...H.
0BC0: 0A 01 74 6C 6B 31 1D B1  80 23 5B B2 80 48 11 0A  ..tlk1...#[..H..
0BD0: 01 48 11 0A 01 6D 6D 6D  30 1D B3 80 23 24 B4 80  .H...mmm0...#$..
0BE0: 0F 80 33 80 25 02 00 10  0F 80 00 F3 0B 01 67 0C  ..3.%.........g.
0BF0: 01 F3 0B 5B B2 80 48 11  0A 01 48 11 0A 01 6D 6D  ...[..H...H...mm
0C00: 6D 31 1D B5 80 23 5B B2  80 48 11 0A 01 48 11 0A  m1...#[..H...H..
0C10: 01 66 75 6D 30 1D B6 80  23 24 B7 80 0F 80 33 80  .fum0...#$....3.
0C20: 25 02 00 10 0F 80 00 2F  0C 01 67 0C 01 2F 0C 03  %....../..g../..
0C30: 01 10 B8 80 5B B2 80 48  11 0A 01 48 11 0A 01 66  ....[..H...H...f
0C40: 75 6D 31 1D B9 80 23 5B  B2 80 48 11 0A 01 48 11  um1...#[..H...H.
0C50: 0A 01 62 79 65 30 1D BA  80 23 53 48 11 0A 01 48  ..bye0...#SH...H
0C60: 11 0A 01 62 79 65 30 21  00 03 02 00 02 10 03 07  ...bye0!........
0C70: 00 03 10 03 02 10 02 00  1E F0 FF FF 7F 5B 00 80  .............[..
0C80: 48 11 0A 01 48 11 0A 01  74 6C 6B 30 1D BB 80 23  H...H...tlk0...#
0C90: 5E 69 64 6C 30 03 02 10  07 00 24 BC 80 0F 80 33  ^idl0.....$....3
0CA0: 80 25 02 00 10 0F 80 00  B0 0C 01 FC 0C 01 B0 0C  .%..............
0CB0: 5B 00 80 48 11 0A 01 48  11 0A 01 74 6C 6B 30 1D  [..H...H...tlk0.
0CC0: BD 80 23 5E 69 64 6C 30  03 02 10 07 00 24 BC 80  ..#^idl0.....$..
0CD0: 0F 80 33 80 25 02 00 10  0F 80 00 E3 0C 01 FC 0C  ..3.%...........
0CE0: 01 E3 0C 42 03 01 10 0F  80 5B 00 80 48 11 0A 01  ...B.....[..H...
0CF0: 48 11 0A 01 74 6C 6B 31  1D BE 80 23 1B 03 02 00  H...tlk1...#....
0D00: 02 10 03 03 00 03 10 03  00 00 04 10 03 01 00 05  ................
0D10: 10 03 08 00 06 10 1E F0  FF FF 7F 48 BF 80 23 1B  ...........H..#.
0D20: 48 AB 80 23 1C 3E 80 5B  00 80 48 11 0A 01 48 11  H..#.>.[..H...H.
0D30: 0A 01 74 6C 6B 30 1D AC  80 23 03 06 10 08 00 1D  ..tlk0...#......
0D40: C0 80 23 1D AE 80 23 1B                           ..#...#.        
```

## Opcodes

```
  0: 0x0B8A [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0B8B [0x03] Work_Zone[1] = 0*
  2: 0x0B90 [0x1E] EventEntity looks at LocalPlayer and starts talking
  3: 0x0B95 [0x02] IF !(Work_Zone[9] == 1*) GOTO 0x0BA0
  4: 0x0B9D [0x01] GOTO 0x0C47
  5: 0x0BA0 [0x1D] PRINT_EVENT_MESSAGE(message_id=7553*)
    → "You pay the fee--we got a deal.\u0007I'll be here waiting for you, trying to keep my Gobbie toes warm.\u007F1\u0000\u0007"
  6: 0x0BA3 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x0BA4 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [Switchstix (ID: 17437000/0x010A1148), Switchstix (ID: 17437000/0x010A1148)], work=215*
  8: 0x0BB3 [0x1D] PRINT_EVENT_MESSAGE(message_id=7554*)
    → "What's that, \u007F\u0005[adventure-boy/adventure-girl]?\u0007You wanna cancel the order? Have you lost your little adventurer mind!?\u007F1\u0000\u0007"
  9: 0x0BB6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x0BB7 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk1" with entities [Switchstix (ID: 17437000/0x010A1148), Switchstix (ID: 17437000/0x010A1148)], work=215*
 11: 0x0BC6 [0x1D] PRINT_EVENT_MESSAGE(message_id=7555*)
    → "I keeps what I takes, and you loses what you gives, you get it?\u0007No refunds, ifs, ands, or buts.\u007F1\u0000\u0007"
 12: 0x0BC9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x0BCA [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "mmm0" with entities [Switchstix (ID: 17437000/0x010A1148), Switchstix (ID: 17437000/0x010A1148)], work=216*
 14: 0x0BD9 [0x1D] PRINT_EVENT_MESSAGE(message_id=7556*)
    → "Do you really wanna cancel the reforging order?\u007F1\u0000\u0007"
 15: 0x0BDC [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x0BDD [0x24] CREATE_DIALOG(message_id=7557*, default_option=1*, option_flags=0*)
    → "Cancel the order?\u0007\u000BYes, I've made up my mind.\u0007Gob, no!\u007F1\u0000\u0007"
 17: 0x0BE4 [0x25] WAIT_DIALOG_SELECT()
 18: 0x0BE5 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0BF3
 19: 0x0BED [0x01] GOTO 0x0C67

SUBROUTINE_0BF3:
 20: 0x0BF3 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "mmm1" with entities [Switchstix (ID: 17437000/0x010A1148), Switchstix (ID: 17437000/0x010A1148)], work=216*
 21: 0x0C02 [0x1D] PRINT_EVENT_MESSAGE(message_id=7558*)
    → "Are you really sure?\u0007I make out like a Gob in a junkyard, and you lose everything.\u007F1\u0000\u0007"
 22: 0x0C05 [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x0C06 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "fum0" with entities [Switchstix (ID: 17437000/0x010A1148), Switchstix (ID: 17437000/0x010A1148)], work=216*
 24: 0x0C15 [0x1D] PRINT_EVENT_MESSAGE(message_id=7559*)
    → "Are you really, really, really sure?\u007F1\u0000\u0007"
 25: 0x0C18 [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x0C19 [0x24] CREATE_DIALOG(message_id=7560*, default_option=1*, option_flags=0*)
    → "Are you really sure?\u0007\u000BReally!\u0007Not really...\u007F1\u0000\u0007"
 27: 0x0C20 [0x25] WAIT_DIALOG_SELECT()
 28: 0x0C21 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0C2F
 29: 0x0C29 [0x01] GOTO 0x0C67

SUBROUTINE_0C2F:
 30: 0x0C2F [0x03] Work_Zone[1] = 666*
 31: 0x0C34 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "fum1" with entities [Switchstix (ID: 17437000/0x010A1148), Switchstix (ID: 17437000/0x010A1148)], work=216*
 32: 0x0C43 [0x1D] PRINT_EVENT_MESSAGE(message_id=7561*)
    → "Well, alrighty then...\u0007Consider your order canceled. Null and void! Never happened!\u007F1\u0000\u0007"
 33: 0x0C46 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x0C47 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "bye0" with entities [Switchstix (ID: 17437000/0x010A1148), Switchstix (ID: 17437000/0x010A1148)], work=216*
 35: 0x0C56 [0x1D] PRINT_EVENT_MESSAGE(message_id=7562*)
    → "Just a piece of advice for you, \u007F\u0005[adventure-boy/adventure-girl]: next time you better be Gob-darn sure you know what you want.\u0007Come on back now, y'hear?\u007F1\u0000\u0007"
 36: 0x0C59 [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x0C5A [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "bye0" with entities [Switchstix (ID: 17437000/0x010A1148), Switchstix (ID: 17437000/0x010A1148)]
 38: 0x0C67 [0x21] END_EVENT
 39: 0x0C68 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0BF0 [0x01] GOTO 0x0BF3
# Dead code (unreachable instructions):
     0x0C2C [0x01] GOTO 0x0C2F
# Dead code (unreachable instructions):
     0x0C69 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[2]
     0x0C6E [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[3]
     0x0C73 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[2]
     0x0C78 [0x1E] EventEntity looks at LocalPlayer and starts talking
     0x0C7D [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [Switchstix (ID: 17437000/0x010A1148), Switchstix (ID: 17437000/0x010A1148)], work=215*
     0x0C8C [0x1D] PRINT_EVENT_MESSAGE(message_id=7368*)
    → "Hold on, \u007F\u0005[adventure-boy/adventure-girl]. I remember you...\u0007That \u0001\u0005#\u0002\u0000\u0000\u0000 you've got there. Didn't I already reforge one for you?\u007F1\u0000\u0007"
     0x0C8F [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0C90 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
     0x0C95 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[7]
     0x0C9A [0x24] CREATE_DIALOG(message_id=7369*, default_option=1*, option_flags=0*)
    → "Don't tell me you want another...\u0007\u000BI do!\u0007No. Just forget it.\u007F1\u0000\u0007"
     0x0CA1 [0x25] WAIT_DIALOG_SELECT()
     0x0CA2 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0CB0
     0x0CAA [0x01] GOTO 0x0CFC
     0x0CAD [0x01] GOTO 0x0CB0
     0x0CB0 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [Switchstix (ID: 17437000/0x010A1148), Switchstix (ID: 17437000/0x010A1148)], work=215*
     0x0CBF [0x1D] PRINT_EVENT_MESSAGE(message_id=7370*)
    → "Hmmm...\u0007Hmmm......\u0007You know you can only carry one of those things, right?\u007F1\u0000\u0007"
     0x0CC2 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0CC3 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
     0x0CC8 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[7]
     0x0CCD [0x24] CREATE_DIALOG(message_id=7369*, default_option=1*, option_flags=0*)
    → "Don't tell me you want another...\u0007\u000BI do!\u0007No. Just forget it.\u007F1\u0000\u0007"
     0x0CD4 [0x25] WAIT_DIALOG_SELECT()
     0x0CD5 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0CE3
     0x0CDD [0x01] GOTO 0x0CFC
     0x0CE0 [0x01] GOTO 0x0CE3
     0x0CE3 [0x42] SET_CLI_EVENT_CANCEL_DATA()
     0x0CE4 [0x03] Work_Zone[1] = 1*
     0x0CE9 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk1" with entities [Switchstix (ID: 17437000/0x010A1148), Switchstix (ID: 17437000/0x010A1148)], work=215*
     0x0CF8 [0x1D] PRINT_EVENT_MESSAGE(message_id=7371*)
    → "Let me get this straight. You want another, even though you know you can only carry one... And you people say us Gobbies are weird.\u0007Well, you know the routine. Bring me back the items and I'll start forging.\u007F1\u0000\u0007"
     0x0CFB [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0CFC [0x1B] RETURN
     0x0CFD [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[2]
     0x0D02 [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[3]
     0x0D07 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[4]
     0x0D0C [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[5]
     0x0D11 [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[6]
     0x0D16 [0x1E] EventEntity looks at LocalPlayer and starts talking
     0x0D1B [0x48] [System] [7432*]:
    → "You hear a voice from somewhere...\u007F1\u0000\u0007"
     0x0D1E [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0D1F [0x1B] RETURN
     0x0D20 [0x48] [System] [7433*]:
    → "The voice has gone silent...\u007F1\u0000\u0007"
     0x0D23 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0D24 [0x1C] WAIT(45* ticks)
     0x0D27 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [Switchstix (ID: 17437000/0x010A1148), Switchstix (ID: 17437000/0x010A1148)], work=215*
     0x0D36 [0x1D] PRINT_EVENT_MESSAGE(message_id=7434*)
    → "What's up, \u007F\u0005[adventure-boy/adventure-girl]?\u0007You get my attention, then you don't say anything. Are you feeling okay? You're acting kinda weird.\u0007I'm a blacksmith, not a doctor, you know.\u007F1\u0000\u0007"
     0x0D39 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0D3A [0x03] Work_Zone[6] = ExtData[1]->WorkLocal[8]
     0x0D3F [0x1D] PRINT_EVENT_MESSAGE(message_id=7435*)
    → "Whachya got there? \u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0004\u0000\u0000?\u0007I told you to bring me any old weapons you find, but try to make sure they're in one piece, huh? \u007F1\u0000\u0007"
     0x0D42 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0D43 [0x1D] PRINT_EVENT_MESSAGE(message_id=7436*)
    → "Doesn't matter how great a blacksmith I am, there's not much I can do with just \u0001\u0001\u0001 \u0001\u0005$\u0002\u0004\u0000\u0000. Sometimes knowing when to give up takes more guts, as my old Gobbie granddaddy used to say.\u007F1\u0000\u0007"
     0x0D46 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0D47 [0x1B] RETURN
```