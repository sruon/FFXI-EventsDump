# Event 113

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 847 bytes |
| Calculated Size | 847 bytes |
| Instructions    | 48        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 03 01 00 03 10 03  00 00 02 10 06 01 10 4A   B.............J
0010: F0 FF FF 7F F8 FF FF 7F  6F 70 1C 00 80 6E F0 FF  ........op...n..
0020: FF 7F 01 80 99 F0 FF FF  7F 1C 00 80 02 01 00 02  ................
0030: 80 04 3E 00 43 00 43 01  1C 03 80 01 42 00 48 04  ..>.C.C.....B.H.
0040: 80 23 03 02 10 05 80 48  06 80 23 24 07 80 08 80  .#.....H..#$....
0050: 08 80 25 02 00 10 08 80  00 B2 00 1C 00 80 6E F0  ..%...........n.
0060: FF FF 7F 01 80 99 F0 FF  FF 7F 1C 00 80 02 00 00  ................
0070: 09 80 04 AB 00 24 0A 80  08 80 08 80 25 02 00 10  .....$......%...
0080: 08 80 00 88 00 01 A8 00  02 00 10 02 80 00 A8 00  ................
0090: 05 01 10 1C 00 80 6E F0  FF FF 7F 01 80 99 F0 FF  ......n.........
00A0: FF 7F 1C 0B 80 01 A8 00  01 AF 00 48 0C 80 23 01  ...........H..#.
00B0: BD 00 02 00 10 02 80 00  BD 00 01 BD 00 21 00 45  .............!.E
00C0: 0D 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 30 08 80  ..........fdi0..
00D0: 55 0D 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 30 1B  U..........fdi0.
00E0: 45 0D 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 30 08  E..........fdo0.
00F0: 80 55 0D 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 30  .U..........fdo0
0100: 1B 45 0D 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 31  .E..........fdi1
0110: 08 80 55 0D 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  ..U..........fdi
0120: 31 1B 45 0D 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  1.E..........fdo
0130: 31 08 80 55 0D 80 F0 FF  FF 7F F0 FF FF 7F 66 64  1..U..........fd
0140: 6F 31 1B 45 0E 80 F0 FF  FF 7F F0 FF FF 7F 77 68  o1.E..........wh
0150: 69 31 08 80 55 0E 80 F0  FF FF 7F F0 FF FF 7F 77  i1..U..........w
0160: 68 69 31 1B 45 0E 80 F0  FF FF 7F F0 FF FF 7F 77  hi1.E..........w
0170: 68 6F 31 08 80 55 0E 80  F0 FF FF 7F F0 FF FF 7F  ho1..U..........
0180: 77 68 6F 31 1B 45 0E 80  F0 FF FF 7F F0 FF FF 7F  who1.E..........
0190: 77 68 6F 32 08 80 55 0E  80 F0 FF FF 7F F0 FF FF  who2..U.........
01A0: 7F 77 68 6F 32 1B 45 0E  80 F0 FF FF 7F F0 FF FF  .who2.E.........
01B0: 7F 77 68 6F 33 08 80 55  0E 80 F0 FF FF 7F F0 FF  .who3..U........
01C0: FF 7F 77 68 6F 33 1B 62  02 80 F0 FF FF 7F F0 FF  ..who3.b........
01D0: FF 7F 6D 61 69 6E 08 80  1C 0F 80 45 0D 80 F0 FF  ..main.....E....
01E0: FF 7F F0 FF FF 7F 66 64  6F 31 08 80 55 0D 80 F0  ......fdo1..U...
01F0: FF FF 7F F0 FF FF 7F 66  64 6F 31 1B 45 0D 80 F0  .......fdo1.E...
0200: FF FF 7F F0 FF FF 7F 66  64 69 31 08 80 62 09 80  .......fdi1..b..
0210: F0 FF FF 7F F0 FF FF 7F  6D 61 69 6E 08 80 1C 00  ........main....
0220: 80 55 0D 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 31  .U..........fdi1
0230: 1B 45 0D 80 F0 FF FF 7F  F0 FF FF 7F 62 6C 6F 6E  .E..........blon
0240: 08 80 45 0E 80 F0 FF FF  7F F0 FF FF 7F 62 6C 6F  ..E..........blo
0250: 6E 08 80 1B 45 0E 80 F0  FF FF 7F F0 FF FF 7F 77  n...E..........w
0260: 68 69 30 08 80 55 0E 80  F0 FF FF 7F F0 FF FF 7F  hi0..U..........
0270: 77 68 69 30 1B 45 0E 80  F0 FF FF 7F F0 FF FF 7F  whi0.E..........
0280: 77 68 6F 30 08 80 55 0E  80 F0 FF FF 7F F0 FF FF  who0..U.........
0290: 7F 77 68 6F 30 1B 45 10  80 F0 FF FF 7F F0 FF FF  .who0.E.........
02A0: 7F 65 66 6F 6E 08 80 55  10 80 F0 FF FF 7F F0 FF  .efon..U........
02B0: FF 7F 65 66 6F 6E 1B 45  0D 80 F0 FF FF 7F F0 FF  ..efon.E........
02C0: FF 7F 66 64 69 73 08 80  1B 45 0D 80 F0 FF FF 7F  ..fdis...E......
02D0: F0 FF FF 7F 66 64 6F 73  08 80 55 0D 80 F0 FF FF  ....fdos..U.....
02E0: 7F F0 FF FF 7F 66 64 6F  73 1B 45 0D 80 F0 FF FF  .....fdos.E.....
02F0: 7F F0 FF FF 7F 66 64 69  66 08 80 1B 45 0D 80 F0  .....fdif...E...
0300: FF FF 7F F0 FF FF 7F 66  64 6F 66 08 80 55 0D 80  .......fdof..U..
0310: F0 FF FF 7F F0 FF FF 7F  66 64 6F 66 1B 45 0D 80  ........fdof.E..
0320: F0 FF FF 7F F0 FF FF 7F  66 64 69 70 08 80 1B 45  ........fdip...E
0330: 0D 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 70 08 80  ..........fdop..
0340: 55 0D 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 70 1B  U..........fdop.
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[3]
  2: 0x0007 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  3: 0x000C [0x06] Work_Zone[1] = 0
  4: 0x000F [0x4A] LocalPlayer looks at EventEntity
  5: 0x0018 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  6: 0x0019 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  7: 0x001A [0x1C] WAIT(30* ticks)
  8: 0x001D [0x6E] LocalPlayer uses emote 41*
  9: 0x0024 [0x99] Wait for LocalPlayer animation to complete
 10: 0x0029 [0x1C] WAIT(30* ticks)
 11: 0x002C [0x02] IF !(ExtData[1]->WorkLocal[1] < 1*) GOTO 0x003E
 12: 0x0034 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 13: 0x0036 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 14: 0x0038 [0x1C] WAIT(80* ticks)
 15: 0x003B [0x01] GOTO 0x0042
 16: 0x003E [0x48] [System] [8544*]:
    → "Your digging seems rather useless at this point.\u007F1\u0000\u0007"
 17: 0x0041 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x0042 [0x03] Work_Zone[2] = 2353*
 19: 0x0047 [0x48] [System] [8540*]:
    → "Your \u0001\u00053\u0002\u0000\u0000\u0000 resonates with something hidden further down within the earth.\u007F1\u0000\u0007"
 20: 0x004A [0x23] WAIT_FOR_DIALOG_INTERACTION
 21: 0x004B [0x24] CREATE_DIALOG(message_id=8542*, default_option=0*, option_flags=0*)
    → "Keep digging?\u0007\u000BHeigh-ho, heigh-ho!\u0007<Sigh> It's home from work I go.\u007F1\u0000\u0007"
 22: 0x0052 [0x25] WAIT_DIALOG_SELECT()
 23: 0x0053 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00B2
 24: 0x005B [0x1C] WAIT(30* ticks)
 25: 0x005E [0x6E] LocalPlayer uses emote 41*
 26: 0x0065 [0x99] Wait for LocalPlayer animation to complete
 27: 0x006A [0x1C] WAIT(30* ticks)
 28: 0x006D [0x02] IF !(ExtData[1]->WorkLocal[0] < 2*) GOTO 0x00AB
 29: 0x0075 [0x24] CREATE_DIALOG(message_id=8545*, default_option=0*, option_flags=0*)
    → "Give up?\u0007\u000BMight as well.\u0007Not quite yet.\u007F1\u0000\u0007"
 30: 0x007C [0x25] WAIT_DIALOG_SELECT()
 31: 0x007D [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0088
 32: 0x0085 [0x01] GOTO 0x00A8
 33: 0x0088 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00A8
 34: 0x0090 [0x05] Work_Zone[1] = 1
 35: 0x0093 [0x1C] WAIT(30* ticks)
 36: 0x0096 [0x6E] LocalPlayer uses emote 41*
 37: 0x009D [0x99] Wait for LocalPlayer animation to complete
 38: 0x00A2 [0x1C] WAIT(60* ticks)
 39: 0x00A5 [0x01] GOTO 0x00A8

SUBROUTINE_00A8:
 40: 0x00A8 [0x01] GOTO 0x00AF
 41: 0x00AB [0x48] [System] [8543*]:
    → "Your digging reveals nothing.\u007F1\u0000\u0007"
 42: 0x00AE [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x00AF [0x01] GOTO 0x00BD
 44: 0x00B2 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00BD
 45: 0x00BA [0x01] GOTO 0x00BD

SUBROUTINE_00BD:
 46: 0x00BD [0x21] END_EVENT
 47: 0x00BE [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x00BF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x00D0 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x00DF [0x1B] RETURN
     0x00E0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x00F1 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0100 [0x1B] RETURN
     0x0101 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0112 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0121 [0x1B] RETURN
     0x0122 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0133 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0142 [0x1B] RETURN
     0x0143 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0154 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0163 [0x1B] RETURN
     0x0164 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0175 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0184 [0x1B] RETURN
     0x0185 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who2" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0196 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who2" with entities [LocalPlayer, LocalPlayer], work=201*
     0x01A5 [0x1B] RETURN
     0x01A6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who3" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x01B7 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who3" with entities [LocalPlayer, LocalPlayer], work=201*
     0x01C6 [0x1B] RETURN
     0x01C7 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[1*, 0*]
     0x01D8 [0x1C] WAIT(45* ticks)
     0x01DB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x01EC [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x01FB [0x1B] RETURN
     0x01FC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x020D [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[2*, 0*]
     0x021E [0x1C] WAIT(30* ticks)
     0x0221 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0230 [0x1B] RETURN
     0x0231 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0242 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0253 [0x1B] RETURN
     0x0254 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi0" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0265 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi0" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0274 [0x1B] RETURN
     0x0275 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who0" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0286 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who0" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0295 [0x1B] RETURN
     0x0296 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "efon" with entities [LocalPlayer, LocalPlayer], work=[215*, 0*]
     0x02A7 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "efon" with entities [LocalPlayer, LocalPlayer], work=215*
     0x02B6 [0x1B] RETURN
     0x02B7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdis" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x02C8 [0x1B] RETURN
     0x02C9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdos" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x02DA [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdos" with entities [LocalPlayer, LocalPlayer], work=200*
     0x02E9 [0x1B] RETURN
     0x02EA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdif" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x02FB [0x1B] RETURN
     0x02FC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x030D [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdof" with entities [LocalPlayer, LocalPlayer], work=200*
     0x031C [0x1B] RETURN
     0x031D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdip" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x032E [0x1B] RETURN
     0x032F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdop" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0340 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdop" with entities [LocalPlayer, LocalPlayer], work=200*
     0x034F [0x1B] RETURN
```