# Event 291

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 12/16     |
| Offset          | 0x03BF    |
| Data Size       | 114 bytes |
| Calculated Size | 114 bytes |
| Instructions    | 35        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
03B0:                                               1E                 .
03C0: F0 FF FF 7F 4A 6A A0 0F  01 F0 FF FF 7F 6F 70 3E  ....Jj.......op>
03D0: 06 10 26 80 E3 03 03 01  10 06 80 1D 27 80 23 20  ..&.........'.# 
03E0: 00 21 00 1D 1C 80 23 1D  1D 80 23 24 1E 80 06 80  .!....#...#$....
03F0: 06 10 25 02 00 10 06 80  00 08 04 42 03 01 10 16  ..%........B....
0400: 80 1D 28 80 23 01 2D 04  02 00 10 16 80 00 1D 04  ..(.#.-.........
0410: 42 03 01 10 1B 80 1D 29  80 23 01 2D 04 02 00 10  B......).#.-....
0420: 1B 80 00 2D 04 03 01 10  25 80 01 2D 04 20 00 21  ...-....%..-. .!
0430: 00                                                .               
```

## Opcodes

```
  0: 0x03BF [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x03C4 [0x4A] Ronta-Onta (ID: 17801322/0x010FA06A) looks at LocalPlayer
  2: 0x03CD [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x03CE [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x03CF [0x3E] IF !(Work_Zone[6] bit 5*) GOTO 0x03E3
  5: 0x03D6 [0x03] Work_Zone[1] = 0*
  6: 0x03DB [0x1D] PRINT_EVENT_MESSAGE(message_id=10590*)
    → "If you do not bring the \u0001\u0005#\u0002\u0001\u0000\u0000 we gave you, my companion cannot warp you to \u000C\u0002[Ifrit's Cauldron/the Quicksand Caves/the Den of Rancor/Cape Teriggan/Fei'Yin/the Boyahda Tree].\u007F1\u0000\u0007"
  7: 0x03DE [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x03DF [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
  9: 0x03E1 [0x21] END_EVENT
 10: 0x03E2 [0x00] END_REQSTACK()
 11: 0x03E3 [0x1D] PRINT_EVENT_MESSAGE(message_id=10583*)
    → "Are you and Carbuncle ready to fight the prime avatar as a level 
\u0003 summoner?\u007F1\u0000\u0007"
 12: 0x03E6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x03E7 [0x1D] PRINT_EVENT_MESSAGE(message_id=10584*)
    → "Also, regardless of whether you defeat the avatar or not, you will be unable to re-enter the protocrystal again for a number of days.\u007F1\u0000\u0007"
 14: 0x03EA [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x03EB [0x24] CREATE_DIALOG(message_id=10585*, default_option=0*, option_flags=Work_Zone[6])
    → "Are you sure you are ready?\u0007\u000BOff to \u000C\u0002[Ifrit's Cauldron/the Quicksand Caves/the Den of Rancor/Cape Teriggan/Fei'Yin/the Boyahda Tree]!\u0007My dog ate my \u001E\u0005mini tuning fork\u001E\u0001.\u0007Not just yet...\u007F1\u0000\u0007"
 16: 0x03F2 [0x25] WAIT_DIALOG_SELECT()
 17: 0x03F3 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0408
 18: 0x03FB [0x42] SET_CLI_EVENT_CANCEL_DATA()
 19: 0x03FC [0x03] Work_Zone[1] = 1*
 20: 0x0401 [0x1D] PRINT_EVENT_MESSAGE(message_id=10591*)
    → "Did you remember to bring the \u0001\u0005#\u0002\u0001\u0000\u0000?\u007F1\u0000\u0007"
 21: 0x0404 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x0405 [0x01] GOTO 0x042D
 23: 0x0408 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x041D
 24: 0x0410 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 25: 0x0411 [0x03] Work_Zone[1] = 2*
 26: 0x0416 [0x1D] PRINT_EVENT_MESSAGE(message_id=10589*)
    → "Don't use that excuse on me, \u007F\u0005[young man/young lady].\u0007If you want another \u0001\u0005#\u0002\u0001\u0000\u0000, all you have to do ask.\u007F1\u0000\u0007"
 27: 0x0419 [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x041A [0x01] GOTO 0x042D
 29: 0x041D [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x042D
 30: 0x0425 [0x03] Work_Zone[1] = 3*
 31: 0x042A [0x01] GOTO 0x042D

SUBROUTINE_042D:
 32: 0x042D [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 33: 0x042F [0x21] END_EVENT
 34: 0x0430 [0x00] END_REQSTACK()
```
