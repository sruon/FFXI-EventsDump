# Event 54

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 51/58     |
| Offset          | 0x134B    |
| Data Size       | 734 bytes |
| Calculated Size | 734 bytes |
| Instructions    | 97        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1340:                                   20 01 42 46 01              .BF.
1350: 1E F0 FF FF 7F 45 0F 80  F0 FF FF 7F F0 FF FF 7F  .....E..........
1360: 66 64 6F 31 0E 80 1C 10  80 75 00 11 80 75 01 6F  fdo1.....u...u.o
1370: 70 38 12 80 29 0B F0 FF  FF 7F 08 29 0B 08 A0 0F  p8..)......)....
1380: 01 1E 29 08 F0 FF FF 7F  05 4A 09 A0 0F 01 F0 FF  ..)......J......
1390: FF 7F 4A F0 FF FF 7F 09  A0 0F 01 6F 76 09 A0 0F  ..J........ov...
13A0: 01 6F 76 F0 FF FF 7F 4E  01 4A A0 0F 01 4E 01 4F  .ov....N.J...N.O
13B0: A0 0F 01 02 09 10 14 80  00 CF 13 45 15 80 F0 FF  ...........E....
13C0: FF 7F F0 FF FF 7F 73 31  30 36 0E 80 01 FC 13 02  ......s106......
13D0: 09 10 16 80 00 EB 13 45  15 80 F0 FF FF 7F F0 FF  .......E........
13E0: FF 7F 73 31 30 36 0E 80  01 FC 13 45 15 80 F0 FF  ..s106.....E....
13F0: FF 7F F0 FF FF 7F 73 30  30 30 0E 80 45 0F 80 F0  ......s000..E...
1400: FF FF 7F F0 FF FF 7F 66  64 69 31 0E 80 29 08 09  .......fdi1..)..
1410: A0 0F 01 03 1D 44 80 23  29 08 09 A0 0F 01 04 24  .....D.#)......$
1420: 3F 80 0E 80 0E 80 25 02  00 10 0E 80 00 34 15 42  ?.....%......4.B
1430: 03 01 10 19 80 02 09 10  14 80 00 4F 14 52 15 80  ...........O.R..
1440: F0 FF FF 7F F0 FF FF 7F  73 31 30 36 01 78 14 02  ........s106.x..
1450: 09 10 16 80 00 69 14 52  15 80 F0 FF FF 7F F0 FF  .....i.R........
1460: FF 7F 73 31 30 36 01 78  14 52 15 80 F0 FF FF 7F  ..s106.x.R......
1470: F0 FF FF 7F 73 30 30 30  45 0F 80 F0 FF FF 7F F0  ....s000E.......
1480: FF FF 7F 6F 76 6C 31 0E  80 02 09 10 12 80 00 A5  ...ovl1.........
1490: 14 45 15 80 F0 FF FF 7F  F0 FF FF 7F 73 31 30 37  .E..........s107
14A0: 0E 80 01 0A 15 02 09 10  14 80 00 C1 14 45 15 80  .............E..
14B0: F0 FF FF 7F F0 FF FF 7F  73 31 30 38 0E 80 01 0A  ........s108....
14C0: 15 02 09 10 16 80 00 DD  14 45 15 80 F0 FF FF 7F  .........E......
14D0: F0 FF FF 7F 73 31 30 38  0E 80 01 0A 15 02 09 10  ....s108........
14E0: 17 80 00 F9 14 45 15 80  F0 FF FF 7F F0 FF FF 7F  .....E..........
14F0: 73 31 30 37 0E 80 01 0A  15 45 15 80 F0 FF FF 7F  s107.....E......
1500: F0 FF FF 7F 73 31 30 31  0E 80 4A 09 A0 0F 01 08  ....s101..J.....
1510: A0 0F 01 4A F0 FF FF 7F  08 A0 0F 01 27 0B 08 A0  ...J........'...
1520: 0F 01 1F 2B 08 A0 0F 01  45 80 23 2A 0B 08 A0 0F  ...+....E.#*....
1530: 01 01 44 15 02 00 10 19  80 00 44 15 03 01 10 1A  ..D.......D.....
1540: 80 01 44 15 45 0F 80 F0  FF FF 7F F0 FF FF 7F 66  ..D.E..........f
1550: 64 6F 31 0E 80 1C 1F 80  02 09 10 14 80 00 72 15  do1...........r.
1560: 52 15 80 F0 FF FF 7F F0  FF FF 7F 73 31 30 36 01  R..........s106.
1570: 9B 15 02 09 10 16 80 00  8C 15 52 15 80 F0 FF FF  ..........R.....
1580: 7F F0 FF FF 7F 73 31 30  36 01 9B 15 52 15 80 F0  .....s106...R...
1590: FF FF 7F F0 FF FF 7F 73  30 30 30 02 09 10 12 80  .......s000.....
15A0: 00 B5 15 52 15 80 F0 FF  FF 7F F0 FF FF 7F 73 31  ...R..........s1
15B0: 30 37 01 12 16 02 09 10  14 80 00 CF 15 52 15 80  07...........R..
15C0: F0 FF FF 7F F0 FF FF 7F  73 31 30 38 01 12 16 02  ........s108....
15D0: 09 10 16 80 00 E9 15 52  15 80 F0 FF FF 7F F0 FF  .......R........
15E0: FF 7F 73 31 30 38 01 12  16 02 09 10 17 80 00 03  ..s108..........
15F0: 16 52 15 80 F0 FF FF 7F  F0 FF FF 7F 73 31 30 37  .R..........s107
1600: 01 12 16 52 15 80 F0 FF  FF 7F F0 FF FF 7F 73 31  ...R..........s1
1610: 30 31 46 00 45 0F 80 F0  FF FF 7F F0 FF FF 7F 66  01F.E..........f
1620: 64 69 31 0E 80 20 00 21  00                       di1.. .!.       
```

## Opcodes

```
  0: 0x134B [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x134D [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x134E [0x46] CAMERA_CONTROL: Disable user control
  3: 0x1350 [0x1E] EventEntity looks at LocalPlayer and starts talking
  4: 0x1355 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  5: 0x1366 [0x1C] WAIT(60* ticks)
  6: 0x1369 [0x75] LOAD_ROOM(Load indoor room, room=507*)
  7: 0x136D [0x75] LOAD_ROOM(No action)
  8: 0x136F [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  9: 0x1370 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 10: 0x1371 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
 11: 0x1374 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x08)
 12: 0x137B [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Jakoh Wahcondalo (ID: 17801224/0x010FA008), tag_num=0x1E)
 13: 0x1382 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x05)
 14: 0x1389 [0x4A] Etteh Sulaej (ID: 17801225/0x010FA009) looks at LocalPlayer
 15: 0x1392 [0x4A] LocalPlayer looks at Etteh Sulaej (ID: 17801225/0x010FA009)
 16: 0x139B [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 17: 0x139C [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Etteh Sulaej (ID: 17801225/0x010FA009) Render.Flags0 and Render.Flags3 conditions are met
 18: 0x13A1 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 19: 0x13A2 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 20: 0x13A7 [0x4E] SET_ENTITY_HIDE_FLAG: Hide Mumupp (ID: 17801290/0x010FA04A)
 21: 0x13AD [0x4E] SET_ENTITY_HIDE_FLAG: Hide Kakapp (ID: 17801295/0x010FA04F)
 22: 0x13B3 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x13CF
 23: 0x13BB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s106" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 24: 0x13CC [0x01] GOTO 0x13FC

SUBROUTINE_13CF:
 25: 0x13CF [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x13EB
 26: 0x13D7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s106" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 27: 0x13E8 [0x01] GOTO 0x13FC

SUBROUTINE_13EB:
 28: 0x13EB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s000" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 29: 0x13FC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 30: 0x140D [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Etteh Sulaej (ID: 17801225/0x010FA009), tag_num=0x03)
 31: 0x1414 [0x1D] PRINT_EVENT_MESSAGE(message_id=10147*)
    → "What? You're going back? And all this for a crazy mainlander... What is going on in you people's heads!?\u007F1\u0000\u0007"
 32: 0x1417 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x1418 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Etteh Sulaej (ID: 17801225/0x010FA009), tag_num=0x04)
 34: 0x141F [0x24] CREATE_DIALOG(message_id=10143*, default_option=0*, option_flags=0*)
    → "Do you accept the offer?\u0007\u000BIf not me...\u0007I've had enough!\u007F1\u0000\u0007"
 35: 0x1426 [0x25] WAIT_DIALOG_SELECT()
 36: 0x1427 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x1534
 37: 0x142F [0x42] SET_CLI_EVENT_CANCEL_DATA()
 38: 0x1430 [0x03] Work_Zone[1] = 1*
 39: 0x1435 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x144F
 40: 0x143D [0x52] END_LOAD_SCHEDULER: End scheduler "s106" with entities [LocalPlayer, LocalPlayer], work=150*
 41: 0x144C [0x01] GOTO 0x1478

SUBROUTINE_144F:
 42: 0x144F [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x1469
 43: 0x1457 [0x52] END_LOAD_SCHEDULER: End scheduler "s106" with entities [LocalPlayer, LocalPlayer], work=150*
 44: 0x1466 [0x01] GOTO 0x1478

SUBROUTINE_1469:
 45: 0x1469 [0x52] END_LOAD_SCHEDULER: End scheduler "s000" with entities [LocalPlayer, LocalPlayer], work=150*
 46: 0x1478 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 47: 0x1489 [0x02] IF !(Work_Zone[9] == 3*) GOTO 0x14A5
 48: 0x1491 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s107" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 49: 0x14A2 [0x01] GOTO 0x150A

SUBROUTINE_14A5:
 50: 0x14A5 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x14C1
 51: 0x14AD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s108" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 52: 0x14BE [0x01] GOTO 0x150A

SUBROUTINE_14C1:
 53: 0x14C1 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x14DD
 54: 0x14C9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s108" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 55: 0x14DA [0x01] GOTO 0x150A

SUBROUTINE_14DD:
 56: 0x14DD [0x02] IF !(Work_Zone[9] == 8*) GOTO 0x14F9
 57: 0x14E5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s107" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 58: 0x14F6 [0x01] GOTO 0x150A

SUBROUTINE_14F9:
 59: 0x14F9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s101" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 60: 0x150A [0x4A] Etteh Sulaej (ID: 17801225/0x010FA009) looks at Jakoh Wahcondalo (ID: 17801224/0x010FA008)
 61: 0x1513 [0x4A] LocalPlayer looks at Jakoh Wahcondalo (ID: 17801224/0x010FA008)
 62: 0x151C [0x27] REQ_SET(priority=0x0B, entity_id=Jakoh Wahcondalo (ID: 17801224/0x010FA008), tag_num=0x1F)
 63: 0x1523 [0x2B] Jakoh Wahcondalo (ID: 17801224/0x010FA008) [10146*]:
    → "A glutton for punishment, I see.\u0007Take this painting to the gallery. I hope Angelica's painting is better received this time around.\u007F1\u0000\u0007"
 64: 0x152A [0x23] WAIT_FOR_DIALOG_INTERACTION
 65: 0x152B [0x2A] GET_REQ_LEVEL(level=11, entity_id=Jakoh Wahcondalo (ID: 17801224/0x010FA008))
 66: 0x1531 [0x01] GOTO 0x1544

SUBROUTINE_1534:
 67: 0x1534 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x1544
 68: 0x153C [0x03] Work_Zone[1] = 2*
 69: 0x1541 [0x01] GOTO 0x1544

SUBROUTINE_1544:
 70: 0x1544 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 71: 0x1555 [0x1C] WAIT(100* ticks)
 72: 0x1558 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x1572
 73: 0x1560 [0x52] END_LOAD_SCHEDULER: End scheduler "s106" with entities [LocalPlayer, LocalPlayer], work=150*
 74: 0x156F [0x01] GOTO 0x159B

SUBROUTINE_1572:
 75: 0x1572 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x158C
 76: 0x157A [0x52] END_LOAD_SCHEDULER: End scheduler "s106" with entities [LocalPlayer, LocalPlayer], work=150*
 77: 0x1589 [0x01] GOTO 0x159B

SUBROUTINE_158C:
 78: 0x158C [0x52] END_LOAD_SCHEDULER: End scheduler "s000" with entities [LocalPlayer, LocalPlayer], work=150*
 79: 0x159B [0x02] IF !(Work_Zone[9] == 3*) GOTO 0x15B5
 80: 0x15A3 [0x52] END_LOAD_SCHEDULER: End scheduler "s107" with entities [LocalPlayer, LocalPlayer], work=150*
 81: 0x15B2 [0x01] GOTO 0x1612

SUBROUTINE_15B5:
 82: 0x15B5 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x15CF
 83: 0x15BD [0x52] END_LOAD_SCHEDULER: End scheduler "s108" with entities [LocalPlayer, LocalPlayer], work=150*
 84: 0x15CC [0x01] GOTO 0x1612

SUBROUTINE_15CF:
 85: 0x15CF [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x15E9
 86: 0x15D7 [0x52] END_LOAD_SCHEDULER: End scheduler "s108" with entities [LocalPlayer, LocalPlayer], work=150*
 87: 0x15E6 [0x01] GOTO 0x1612

SUBROUTINE_15E9:
 88: 0x15E9 [0x02] IF !(Work_Zone[9] == 8*) GOTO 0x1603
 89: 0x15F1 [0x52] END_LOAD_SCHEDULER: End scheduler "s107" with entities [LocalPlayer, LocalPlayer], work=150*
 90: 0x1600 [0x01] GOTO 0x1612

SUBROUTINE_1603:
 91: 0x1603 [0x52] END_LOAD_SCHEDULER: End scheduler "s101" with entities [LocalPlayer, LocalPlayer], work=150*
 92: 0x1612 [0x46] CAMERA_CONTROL: Restore default settings
 93: 0x1614 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 94: 0x1625 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 95: 0x1627 [0x21] END_EVENT
 96: 0x1628 [0x00] END_REQSTACK()
```
