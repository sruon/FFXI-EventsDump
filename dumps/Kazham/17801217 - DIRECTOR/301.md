# Event 301

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 6/6       |
| Offset          | 0x1872    |
| Data Size       | 348 bytes |
| Calculated Size | 348 bytes |
| Instructions    | 53        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1870:       20 01 42 46 01 5D  00 80 01 80 45 02 80 F8     .BF.]....E...
1880: FF FF 7F F8 FF FF 7F 66  64 6F 31 00 80 1C 01 80  .......fdo1.....
1890: 38 04 80 29 08 F0 FF FF  7F 05 29 08 F0 FF FF 7F  8..)......).....
18A0: 03 75 00 5F 80 75 01 1C  03 80 29 0B 2E A0 0F 01  .u._.u....).....
18B0: 4B 29 0B F0 FF FF 7F 0C  4A 2E A0 0F 01 F0 FF FF  K)......J.......
18C0: 7F 6F 76 2E A0 0F 01 79  00 F0 FF FF 7F 2E A0 0F  .ov....y........
18D0: 01 92 01 2E A0 0F 01 5C  00 75 80 5C 01 75 80 45  .......\.u.\.u.E
18E0: 60 80 F0 FF FF 7F F0 FF  FF 7F 73 31 31 38 00 80  `.........s118..
18F0: 45 02 80 F8 FF FF 7F F8  FF FF 7F 66 64 69 31 00  E..........fdi1.
1900: 80 29 08 2E A0 0F 01 01  2B 2E A0 0F 01 76 80 23  .)......+....v.#
1910: 52 60 80 F0 FF FF 7F F0  FF FF 7F 73 31 31 38 45  R`.........s118E
1920: 60 80 F0 FF FF 7F F0 FF  FF 7F 73 31 31 35 00 80  `.........s115..
1930: 2B 2E A0 0F 01 77 80 23  29 08 2E A0 0F 01 02 29  +....w.#)......)
1940: 08 2E A0 0F 01 07 2B 2E  A0 0F 01 78 80 23 29 08  ......+....x.#).
1950: 2E A0 0F 01 08 52 60 80  F0 FF FF 7F F0 FF FF 7F  .....R`.........
1960: 73 31 31 35 45 60 80 F0  FF FF 7F F0 FF FF 7F 73  s115E`.........s
1970: 31 31 34 00 80 29 08 2E  A0 0F 01 14 2B 2E A0 0F  114..)......+...
1980: 01 79 80 23 29 08 2E A0  0F 01 15 5D 00 80 01 80  .y.#)......]....
1990: 45 02 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 31 00  E..........fdo1.
19A0: 80 1C 01 80 5C 00 1E 80  5C 01 1E 80 4E 00 F0 FF  ....\...\...N...
19B0: FF 7F 80 F0 FF FF 7F 46  00 45 02 80 F0 FF FF 7F  .......F.E......
19C0: F0 FF FF 7F 66 64 69 31  00 80 20 00 21 00        ....fdi1.. .!.  
```

## Opcodes

```
  0: 0x1872 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x1874 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x1875 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x1877 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=120*)
  4: 0x187C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  5: 0x188D [0x1C] WAIT(120* ticks)
  6: 0x1890 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  7: 0x1893 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x05)
  8: 0x189A [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x03)
  9: 0x18A1 [0x75] LOAD_ROOM(Load indoor room, room=505*)
 10: 0x18A5 [0x75] LOAD_ROOM(No action)
 11: 0x18A7 [0x1C] WAIT(60* ticks)
 12: 0x18AA [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Magriffon (ID: 17801262/0x010FA02E), tag_num=0x4B)
 13: 0x18B1 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x0C)
 14: 0x18B8 [0x4A] Magriffon (ID: 17801262/0x010FA02E) looks at LocalPlayer
 15: 0x18C1 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 16: 0x18C2 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Magriffon (ID: 17801262/0x010FA02E) Render.Flags0 and Render.Flags3 conditions are met
 17: 0x18C7 [0x79] LocalPlayer looks at Magriffon (ID: 17801262/0x010FA02E) (Basic look)
 18: 0x18D1 [0x92] Magriffon (ID: 17801262/0x010FA02E)->Render.Flags3 ^= 0x01
 19: 0x18D7 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 234*
 20: 0x18DB [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 234*
 21: 0x18DF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s118" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 22: 0x18F0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 23: 0x1901 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Magriffon (ID: 17801262/0x010FA02E), tag_num=0x01)
 24: 0x1908 [0x2B] Magriffon (ID: 17801262/0x010FA02E) [10790*]:
    → "What incredible fortuity!\u0007The \u0001\u00053\u0002\u0001\u0000\u0000 is yours!\u007F1\u0000\u0007"
 25: 0x190F [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x1910 [0x52] END_LOAD_SCHEDULER: End scheduler "s118" with entities [LocalPlayer, LocalPlayer], work=150*
 27: 0x191F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s115" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 28: 0x1930 [0x2B] Magriffon (ID: 17801262/0x010FA02E) [10791*]:
    → "Now fate will twist in your favor, my \u000C\u0000[breathtaking butterfly/splendid hero]!\u007F1\u0000\u0007"
 29: 0x1937 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x1938 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Magriffon (ID: 17801262/0x010FA02E), tag_num=0x02)
 31: 0x193F [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Magriffon (ID: 17801262/0x010FA02E), tag_num=0x07)
 32: 0x1946 [0x2B] Magriffon (ID: 17801262/0x010FA02E) [10792*]:
    → "I have set down a strategy in this letter.\u0007Please be so kind as to deliver it to Muckvix.\u007F1\u0000\u0007"
 33: 0x194D [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x194E [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Magriffon (ID: 17801262/0x010FA02E), tag_num=0x08)
 35: 0x1955 [0x52] END_LOAD_SCHEDULER: End scheduler "s115" with entities [LocalPlayer, LocalPlayer], work=150*
 36: 0x1964 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s114" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 37: 0x1975 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Magriffon (ID: 17801262/0x010FA02E), tag_num=0x14)
 38: 0x197C [0x2B] Magriffon (ID: 17801262/0x010FA02E) [10793*]:
    → "Hahaha!\u0007May dazzling fortune smile upon thee, my \u000C\u0000[reason for breathing/daring adventurer]!\u007F1\u0000\u0007"
 39: 0x1983 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x1984 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Magriffon (ID: 17801262/0x010FA02E), tag_num=0x15)
 41: 0x198B [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=120*)
 42: 0x1990 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 43: 0x19A1 [0x1C] WAIT(120* ticks)
 44: 0x19A4 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 135*
 45: 0x19A8 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 135*
 46: 0x19AC [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 47: 0x19B2 [0x80] LOAD_WAIT(entity=LocalPlayer)
 48: 0x19B7 [0x46] CAMERA_CONTROL: Restore default settings
 49: 0x19B9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 50: 0x19CA [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 51: 0x19CC [0x21] END_EVENT
 52: 0x19CD [0x00] END_REQSTACK()
```
