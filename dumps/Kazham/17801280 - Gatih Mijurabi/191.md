# Event 191

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 14/26     |
| Offset          | 0x00EE    |
| Data Size       | 553 bytes |
| Calculated Size | 553 bytes |
| Instructions    | 73        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00E0:                                            20 01                 .
00F0: 42 46 01 1E F0 FF FF 7F  5D 07 80 08 80 45 08 80  BF......]....E..
0100: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 07 80 1C 08  ........fdo1....
0110: 80 75 00 09 80 75 01 6F  70 38 0A 80 29 0B F0 FF  .u...u.op8..)...
0120: FF 7F 0D 29 08 F0 FF FF  7F 05 4A F0 FF FF 7F 40  ...)......J....@
0130: A0 0F 01 1E F0 FF FF 7F  6F 70 5C 00 0B 80 5C 01  ........op\...\.
0140: 0B 80 5D 0C 80 0D 80 1C  08 80 02 09 10 0E 80 00  ..].............
0150: 66 01 45 0F 80 F0 FF FF  7F F0 FF FF 7F 73 30 35  f.E..........s05
0160: 38 07 80 01 93 01 02 09  10 10 80 00 82 01 45 0F  8.............E.
0170: 80 F0 FF FF 7F F0 FF FF  7F 73 30 35 38 07 80 01  .........s058...
0180: 93 01 45 0F 80 F0 FF FF  7F F0 FF FF 7F 73 30 35  ..E..........s05
0190: 34 07 80 45 08 80 F0 FF  FF 7F F0 FF FF 7F 66 64  4..E..........fd
01A0: 69 31 07 80 29 08 40 A0  0F 01 07 29 0B 40 A0 0F  i1..).@....).@..
01B0: 01 0E 29 08 40 A0 0F 01  08 02 09 10 0E 80 00 D3  ..).@...........
01C0: 01 52 0F 80 F0 FF FF 7F  F0 FF FF 7F 73 30 35 38  .R..........s058
01D0: 01 FC 01 02 09 10 10 80  00 ED 01 52 0F 80 F0 FF  ...........R....
01E0: FF 7F F0 FF FF 7F 73 30  35 38 01 FC 01 52 0F 80  ......s058...R..
01F0: F0 FF FF 7F F0 FF FF 7F  73 30 35 34 45 08 80 F0  ........s054E...
0200: FF FF 7F F0 FF FF 7F 6F  76 6C 31 07 80 45 0F 80  .......ovl1..E..
0210: F0 FF FF 7F F0 FF FF 7F  73 30 35 35 07 80 29 08  ........s055..).
0220: 40 A0 0F 01 03 29 0B 40  A0 0F 01 0F 29 08 40 A0  @....).@....).@.
0230: 0F 01 04 29 08 40 A0 0F  01 05 29 0B 40 A0 0F 01  ...).@....).@...
0240: 10 29 08 40 A0 0F 01 06  52 0F 80 F0 FF FF 7F F0  .).@....R.......
0250: FF FF 7F 73 30 35 35 45  0F 80 F0 FF FF 7F F0 FF  ...s055E........
0260: FF 7F 73 30 35 36 07 80  29 08 40 A0 0F 01 01 29  ..s056..).@....)
0270: 0B 40 A0 0F 01 11 29 0B  40 A0 0F 01 12 52 0F 80  .@....).@....R..
0280: F0 FF FF 7F F0 FF FF 7F  73 30 35 36 45 08 80 F0  ........s056E...
0290: FF FF 7F F0 FF FF 7F 6F  76 6C 31 07 80 45 0F 80  .......ovl1..E..
02A0: F0 FF FF 7F F0 FF FF 7F  73 30 35 37 07 80 29 08  ........s057..).
02B0: 40 A0 0F 01 02 6E F8 FF  FF 7F 10 80 99 F8 FF FF  @....n..........
02C0: 7F 29 0B 40 A0 0F 01 13  5D 07 80 08 80 45 08 80  .).@....]....E..
02D0: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 07 80 1C 08  ........fdo1....
02E0: 80 5C 00 11 80 5C 01 11  80 5D 0C 80 0D 80 52 0F  .\...\...]....R.
02F0: 80 F0 FF FF 7F F0 FF FF  7F 73 30 35 37 46 00 1C  .........s057F..
0300: 08 80 45 08 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  ..E..........fdi
0310: 31 07 80 20 00 21 00                              1.. .!.         
```

## Opcodes

```
  0: 0x00EE [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x00F0 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x00F1 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x00F3 [0x1E] EventEntity looks at LocalPlayer and starts talking
  4: 0x00F8 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=200*)
  5: 0x00FD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  6: 0x010E [0x1C] WAIT(200* ticks)
  7: 0x0111 [0x75] LOAD_ROOM(Load indoor room, room=506*)
  8: 0x0115 [0x75] LOAD_ROOM(No action)
  9: 0x0117 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 10: 0x0118 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 11: 0x0119 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
 12: 0x011C [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x0D)
 13: 0x0123 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x05)
 14: 0x012A [0x4A] LocalPlayer looks at Gatih Mijurabi (ID: 17801280/0x010FA040)
 15: 0x0133 [0x1E] EventEntity looks at LocalPlayer and starts talking
 16: 0x0138 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 17: 0x0139 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 18: 0x013A [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 199*
 19: 0x013E [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 199*
 20: 0x0142 [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 21: 0x0147 [0x1C] WAIT(200* ticks)
 22: 0x014A [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x0166
 23: 0x0152 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s058" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 24: 0x0163 [0x01] GOTO 0x0193
 25: 0x0166 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x0182
 26: 0x016E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s058" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 27: 0x017F [0x01] GOTO 0x0193
 28: 0x0182 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s054" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]

SUBROUTINE_0193:
 29: 0x0193 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 30: 0x01A4 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x07)
 31: 0x01AB [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x0E)
 32: 0x01B2 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x08)
 33: 0x01B9 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x01D3
 34: 0x01C1 [0x52] END_LOAD_SCHEDULER: End scheduler "s058" with entities [LocalPlayer, LocalPlayer], work=150*
 35: 0x01D0 [0x01] GOTO 0x01FC
 36: 0x01D3 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x01ED
 37: 0x01DB [0x52] END_LOAD_SCHEDULER: End scheduler "s058" with entities [LocalPlayer, LocalPlayer], work=150*
 38: 0x01EA [0x01] GOTO 0x01FC
 39: 0x01ED [0x52] END_LOAD_SCHEDULER: End scheduler "s054" with entities [LocalPlayer, LocalPlayer], work=150*

SUBROUTINE_01FC:
 40: 0x01FC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 41: 0x020D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s055" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 42: 0x021E [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x03)
 43: 0x0225 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x0F)
 44: 0x022C [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x04)
 45: 0x0233 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x05)
 46: 0x023A [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x10)
 47: 0x0241 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x06)
 48: 0x0248 [0x52] END_LOAD_SCHEDULER: End scheduler "s055" with entities [LocalPlayer, LocalPlayer], work=150*
 49: 0x0257 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s056" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 50: 0x0268 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x01)
 51: 0x026F [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x11)
 52: 0x0276 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x12)
 53: 0x027D [0x52] END_LOAD_SCHEDULER: End scheduler "s056" with entities [LocalPlayer, LocalPlayer], work=150*
 54: 0x028C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 55: 0x029D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s057" with entities [LocalPlayer, LocalPlayer], work=[150*, 0*]
 56: 0x02AE [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x02)
 57: 0x02B5 [0x6E] EventEntity uses emote 6*
 58: 0x02BC [0x99] Wait for EventEntity animation to complete
 59: 0x02C1 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Gatih Mijurabi (ID: 17801280/0x010FA040), tag_num=0x13)
 60: 0x02C8 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=200*)
 61: 0x02CD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 62: 0x02DE [0x1C] WAIT(200* ticks)
 63: 0x02E1 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 135*
 64: 0x02E5 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 135*
 65: 0x02E9 [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 66: 0x02EE [0x52] END_LOAD_SCHEDULER: End scheduler "s057" with entities [LocalPlayer, LocalPlayer], work=150*
 67: 0x02FD [0x46] CAMERA_CONTROL: Restore default settings
 68: 0x02FF [0x1C] WAIT(200* ticks)
 69: 0x0302 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 70: 0x0313 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 71: 0x0315 [0x21] END_EVENT
 72: 0x0316 [0x00] END_REQSTACK()
```
