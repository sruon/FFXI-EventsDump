# Event 5213

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 18/20     |
| Offset          | 0xB62B    |
| Data Size       | 389 bytes |
| Calculated Size | 389 bytes |
| Instructions    | 49        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
B620:                                   42 45 00 80 F0             BE...
B630: FF FF 7F F0 FF FF 7F 66  64 6F 31 01 80 55 00 80  .......fdo1..U..
B640: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 46 01 38 02  ........fdo1F.8.
B650: 80 2F 00 EE 00 10 01 4E  00 EE 00 10 01 94 01 EE  ./.....N........
B660: 00 10 01 94 01 F0 FF FF  7F BA EE 00 10 01 1A 83  ................
B670: 1B 83 2E 82 0B 80 BA F0  FF FF 7F 1E 83 1F 83 2E  ................
B680: 82 1A 80 4A F0 FF FF 7F  EE 00 10 01 80 EE 00 10  ...J............
B690: 01 1C 20 80 45 00 80 F0  FF FF 7F F0 FF FF 7F 66  .. .E..........f
B6A0: 64 69 31 01 80 02 87 7F  26 80 80 C1 B6 45 0C 83  di1.....&....E..
B6B0: F8 FF FF 7F F8 FF FF 7F  73 74 32 30 01 80 01 EE  ........st20....
B6C0: B6 02 87 7F 27 80 80 DD  B6 45 0C 83 F8 FF FF 7F  ....'....E......
B6D0: F8 FF FF 7F 73 74 32 30  01 80 01 EE B6 45 0C 83  ....st20.....E..
B6E0: F8 FF FF 7F F8 FF FF 7F  73 30 32 30 01 80 4A EE  ........s020..J.
B6F0: 00 10 01 F0 FF FF 7F 6F  76 EE 00 10 01 2B EE 00  .......ov....+..
B700: 10 01 35 83 23 02 02 10  01 80 00 39 B7 66 80 80  ..5.#......9.f..
B710: EE 00 10 01 EE 00 10 01  74 6C 6B 30 2B EE 00 10  ........tlk0+...
B720: 01 36 83 1C 2B 80 23 66  80 80 EE 00 10 01 EE 00  .6..+.#f........
B730: 10 01 74 6C 6B 31 1C 1E  80 66 37 83 EE 00 10 01  ..tlk1...f7.....
B740: EE 00 10 01 70 61 73 30  2B EE 00 10 01 38 83 1C  ....pas0+....8..
B750: 2B 80 23 45 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  +.#E..........fd
B760: 6F 31 01 80 55 00 80 F0  FF FF 7F F0 FF FF 7F 66  o1..U..........f
B770: 64 6F 31 52 0C 83 F8 FF  FF 7F F8 FF FF 7F 73 30  do1R..........s0
B780: 32 30 52 0C 83 F8 FF FF  7F F8 FF FF 7F 73 74 32  20R..........st2
B790: 30 1C 4B 80 AB 11 01 80  1C 44 80 46 00 45 00 80  0.K......D.F.E..
B7A0: F0 FF FF 7F F0 FF FF 7F  66 64 69 32 01 80 21 00  ........fdi2..!.
```

## Opcodes

```
  0: 0xB62B [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0xB62C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  2: 0xB63D [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
  3: 0xB64C [0x46] CAMERA_CONTROL: Disable user control
  4: 0xB64E [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0xB651 [0x2F] Midras (ID: 17826030/0x011000EE)->Render.Flags0 &= ~0x80000 // Bit 19
  6: 0xB657 [0x4E] SET_ENTITY_HIDE_FLAG: Show Midras (ID: 17826030/0x011000EE)
  7: 0xB65D [0x94] Midras (ID: 17826030/0x011000EE)->Render.Flags3 ^= 0x01
  8: 0xB663 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
  9: 0xB669 [0xBA] SET_ENTITY_POSITION(entity_id=Midras (ID: 17826030/0x011000EE), pos_x=77.250*, pos_z=118.650*, pos_y=30.000*, direction=377476084.3°*)
 10: 0xB676 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=75.250*, pos_z=120.650*, pos_y=30.000*, direction=44.9°*)
 11: 0xB683 [0x4A] LocalPlayer looks at Midras (ID: 17826030/0x011000EE)
 12: 0xB68C [0x80] LOAD_WAIT(entity=Midras (ID: 17826030/0x011000EE))
 13: 0xB691 [0x1C] WAIT(60* ticks)
 14: 0xB694 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 15: 0xB6A5 [0x02] IF !(LocalPlayer->Race == 5*) GOTO 0xB6C1
 16: 0xB6AD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "st20" with entities [EventEntity, EventEntity], work=[782*, 0*]
 17: 0xB6BE [0x01] GOTO 0xB6EE

SUBROUTINE_B6C1:
 18: 0xB6C1 [0x02] IF !(LocalPlayer->Race == 6*) GOTO 0xB6DD
 19: 0xB6C9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "st20" with entities [EventEntity, EventEntity], work=[782*, 0*]
 20: 0xB6DA [0x01] GOTO 0xB6EE

SUBROUTINE_B6DD:
 21: 0xB6DD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s020" with entities [EventEntity, EventEntity], work=[782*, 0*]
 22: 0xB6EE [0x4A] Midras (ID: 17826030/0x011000EE) looks at LocalPlayer
 23: 0xB6F7 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 24: 0xB6F8 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Midras (ID: 17826030/0x011000EE) Render.Flags0 and Render.Flags3 conditions are met
 25: 0xB6FD [0x2B] Midras (ID: 17826030/0x011000EE) [10999*]:
    → "Great, this is just what I needed. And here's the blend of blast powder you wanted, as promised.\u007F1\u0000\u0007"
 26: 0xB704 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0xB705 [0x02] IF !(Work_Zone[2] == 0*) GOTO 0xB739
 28: 0xB70D [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Midras (ID: 17826030/0x011000EE), Midras (ID: 17826030/0x011000EE)], work=9*
 29: 0xB71C [0x2B] Midras (ID: 17826030/0x011000EE) [11000*]:
    → "Do you remember what I prepared back at Sih Gates? This stuff is basically the same. The blast itself stays small while the chemical reaction it produces means you can clear out obstacles with surgical precision.\u007F1\u0000\u0007"
 30: 0xB723 [0x1C] WAIT(120* ticks)
 31: 0xB726 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0xB727 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [Midras (ID: 17826030/0x011000EE), Midras (ID: 17826030/0x011000EE)], work=9*
 33: 0xB736 [0x1C] WAIT(30* ticks)
 34: 0xB739 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "pas0" with entities [Midras (ID: 17826030/0x011000EE), Midras (ID: 17826030/0x011000EE)], work=71*
 35: 0xB748 [0x2B] Midras (ID: 17826030/0x011000EE) [11001*]:
    → "Here you go. Let me know if you need more.\u007F1\u0000\u0007"
 36: 0xB74F [0x1C] WAIT(120* ticks)
 37: 0xB752 [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0xB753 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 39: 0xB764 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 40: 0xB773 [0x52] END_LOAD_SCHEDULER: End scheduler "s020" with entities [EventEntity, EventEntity], work=782*
 41: 0xB782 [0x52] END_LOAD_SCHEDULER: End scheduler "st20" with entities [EventEntity, EventEntity], work=782*
 42: 0xB791 [0x1C] WAIT(15* ticks)
 43: 0xB794 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 44: 0xB798 [0x1C] WAIT(1* ticks)
 45: 0xB79B [0x46] CAMERA_CONTROL: Restore default settings
 46: 0xB79D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 47: 0xB7AE [0x21] END_EVENT
 48: 0xB7AF [0x00] END_REQSTACK()
```
