# Event 5090

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 14/20     |
| Offset          | 0xA050    |
| Data Size       | 466 bytes |
| Calculated Size | 466 bytes |
| Instructions    | 60        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
A050: 42 45 00 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 31  BE..........fdo1
A060: 01 80 55 00 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..U..........fdo
A070: 31 46 01 38 02 80 75 00  48 82 75 01 2F 00 ED 00  1F.8..u.H.u./...
A080: 10 01 4E 00 ED 00 10 01  94 01 ED 00 10 01 94 01  ..N.............
A090: F0 FF FF 7F 36 E3 82 E4  82 BF 82 BA ED 00 10 01  ....6...........
A0A0: E5 82 E6 82 4A 82 1A 80  BA F0 FF FF 7F E3 82 E4  ....J...........
A0B0: 82 4A 82 0B 80 4A ED 00  10 01 F0 FF FF 7F 4A F0  .J...J........J.
A0C0: FF FF 7F ED 00 10 01 80  ED 00 10 01 80 F0 FF FF  ................
A0D0: 7F 1C 1E 80 27 10 ED 00  10 01 40 45 00 80 F0 FF  ....'.....@E....
A0E0: FF 7F F0 FF FF 7F 66 64  69 31 01 80 02 87 7F 26  ......fdi1.....&
A0F0: 80 80 08 A1 45 55 82 F8  FF FF 7F F8 FF FF 7F 73  ....EU.........s
A100: 30 38 32 01 80 01 35 A1  02 87 7F 27 80 80 24 A1  082...5....'..$.
A110: 45 55 82 F8 FF FF 7F F8  FF FF 7F 73 30 38 32 01  EU.........s082.
A120: 80 01 35 A1 45 55 82 F8  FF FF 7F F8 FF FF 7F 73  ..5.EU.........s
A130: 30 38 30 01 80 2A 10 ED  00 10 01 1C 1E 80 03 00  080..*..........
A140: 17 2B 80 27 10 ED 00 10  01 2C 2B ED 00 10 01 E7  .+.'.....,+.....
A150: 82 23 2A 10 ED 00 10 01  66 7A 80 ED 00 10 01 ED  .#*.....fz......
A160: 00 10 01 74 6C 6B 31 79  00 ED 00 10 01 F8 FF FF  ...tlk1y........
A170: 7F 52 55 82 F8 FF FF 7F  F8 FF FF 7F 73 30 38 30  .RU.........s080
A180: 52 55 82 F8 FF FF 7F F8  FF FF 7F 73 30 38 32 45  RU.........s082E
A190: 55 82 F8 FF FF 7F F8 FF  FF 7F 73 30 38 31 01 80  U.........s081..
A1A0: 03 00 17 6B 80 27 10 ED  00 10 01 38 2B ED 00 10  ...k.'.....8+...
A1B0: 01 E8 82 23 2A 10 ED 00  10 01 03 00 17 20 80 27  ...#*........ .'
A1C0: 10 ED 00 10 01 34 2B ED  00 10 01 E9 82 23 2A 10  .....4+......#*.
A1D0: ED 00 10 01 45 00 80 F0  FF FF 7F F0 FF FF 7F 66  ....E..........f
A1E0: 64 6F 31 01 80 55 00 80  F0 FF FF 7F F0 FF FF 7F  do1..U..........
A1F0: 66 64 6F 31 52 55 82 F8  FF FF 7F F8 FF FF 7F 30  fdo1RU.........0
A200: 38 31 00 1C 4B 80 AB 11  01 80 1C 44 80 46 00 45  81..K......D.F.E
A210: 00 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 32 01 80  ..........fdi2..
A220: 21 00                                             !.              
```

## Opcodes

```
  0: 0xA050 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0xA051 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
  2: 0xA062 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
  3: 0xA071 [0x46] CAMERA_CONTROL: Disable user control
  4: 0xA073 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0xA076 [0x75] LOAD_ROOM(Load indoor room, room=587*)
  6: 0xA07A [0x75] LOAD_ROOM(No action)
  7: 0xA07C [0x2F] Amchuchu (ID: 17826029/0x011000ED)->Render.Flags0 &= ~0x80000 // Bit 19
  8: 0xA082 [0x4E] SET_ENTITY_HIDE_FLAG: Show Amchuchu (ID: 17826029/0x011000ED)
  9: 0xA088 [0x94] Amchuchu (ID: 17826029/0x011000ED)->Render.Flags3 ^= 0x01
 10: 0xA08E [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 11: 0xA094 [0x36] SET_ENTITY_EVENT_POSITION(pos_x=95.386*, pos_z=-75.528*, pos_y=-1.000*)
 12: 0xA09B [0xBA] SET_ENTITY_POSITION(entity_id=Amchuchu (ID: 17826029/0x011000ED), pos_x=91.753*, pos_z=-72.227*, pos_y=-0.651*, direction=44.9°*)
 13: 0xA0A8 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=95.386*, pos_z=-75.528*, pos_y=-0.651*, direction=377476084.3°*)
 14: 0xA0B5 [0x4A] Amchuchu (ID: 17826029/0x011000ED) looks at LocalPlayer
 15: 0xA0BE [0x4A] LocalPlayer looks at Amchuchu (ID: 17826029/0x011000ED)
 16: 0xA0C7 [0x80] LOAD_WAIT(entity=Amchuchu (ID: 17826029/0x011000ED))
 17: 0xA0CC [0x80] LOAD_WAIT(entity=LocalPlayer)
 18: 0xA0D1 [0x1C] WAIT(30* ticks)
 19: 0xA0D4 [0x27] REQ_SET(priority=0x10, entity_id=Amchuchu (ID: 17826029/0x011000ED), tag_num=0x40)
 20: 0xA0DB [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 21: 0xA0EC [0x02] IF !(LocalPlayer->Race == 5*) GOTO 0xA108
 22: 0xA0F4 [0x45] LOAD_SCHEDULED_TASK(work_offset1=642*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s082", work_offset2=0*)
 23: 0xA105 [0x01] GOTO 0xA135

SUBROUTINE_A108:
 24: 0xA108 [0x02] IF !(LocalPlayer->Race == 6*) GOTO 0xA124
 25: 0xA110 [0x45] LOAD_SCHEDULED_TASK(work_offset1=642*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s082", work_offset2=0*)
 26: 0xA121 [0x01] GOTO 0xA135

SUBROUTINE_A124:
 27: 0xA124 [0x45] LOAD_SCHEDULED_TASK(work_offset1=642*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s080", work_offset2=0*)
 28: 0xA135 [0x2A] GET_REQ_LEVEL(level=16, entity_id=Amchuchu (ID: 17826029/0x011000ED))
 29: 0xA13B [0x1C] WAIT(30* ticks)
 30: 0xA13E [0x03] Work_Zone_1700[0] = 120*
 31: 0xA143 [0x27] REQ_SET(priority=0x10, entity_id=Amchuchu (ID: 17826029/0x011000ED), tag_num=0x2C)
 32: 0xA14A [0x2B] Amchuchu (ID: 17826029/0x011000ED) [10944*]:
    → "Welcome back, \u0008!\u0007I hope you haven't waitarued too long.\u007F1\u0000\u0007"
 33: 0xA151 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0xA152 [0x2A] GET_REQ_LEVEL(level=16, entity_id=Amchuchu (ID: 17826029/0x011000ED))
 35: 0xA158 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=Amchuchu (ID: 17826029/0x011000ED), entity2=Amchuchu (ID: 17826029/0x011000ED), action="tlk1")
 36: 0xA167 [0x79] Amchuchu (ID: 17826029/0x011000ED) looks at EventEntity (Basic look)
 37: 0xA171 [0x52] END_LOAD_SCHEDULER: End scheduler "s080" with entities [EventEntity, EventEntity], work=642*
 38: 0xA180 [0x52] END_LOAD_SCHEDULER: End scheduler "s082" with entities [EventEntity, EventEntity], work=642*
 39: 0xA18F [0x45] LOAD_SCHEDULED_TASK(work_offset1=642*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s081", work_offset2=0*)
 40: 0xA1A0 [0x03] Work_Zone_1700[0] = 150*
 41: 0xA1A5 [0x27] REQ_SET(priority=0x10, entity_id=Amchuchu (ID: 17826029/0x011000ED), tag_num=0x38)
 42: 0xA1AC [0x2B] Amchuchu (ID: 17826029/0x011000ED) [10945*]:
    → "Here you are! Make sure it doesn't get crumpled-wumpled on your way to Bastok!\u007F1\u0000\u0007"
 43: 0xA1B3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0xA1B4 [0x2A] GET_REQ_LEVEL(level=16, entity_id=Amchuchu (ID: 17826029/0x011000ED))
 45: 0xA1BA [0x03] Work_Zone_1700[0] = 60*
 46: 0xA1BF [0x27] REQ_SET(priority=0x10, entity_id=Amchuchu (ID: 17826029/0x011000ED), tag_num=0x34)
 47: 0xA1C6 [0x2B] Amchuchu (ID: 17826029/0x011000ED) [10946*]:
    → "Back to work for me!\u007F1\u0000\u0007"
 48: 0xA1CD [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0xA1CE [0x2A] GET_REQ_LEVEL(level=16, entity_id=Amchuchu (ID: 17826029/0x011000ED))
 50: 0xA1D4 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 51: 0xA1E5 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
 52: 0xA1F4 [0x52] END_LOAD_SCHEDULER: End scheduler "081" with entities [EventEntity, EventEntity], work=642*
 53: 0xA203 [0x1C] WAIT(15* ticks)
 54: 0xA206 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 55: 0xA20A [0x1C] WAIT(1* ticks)
 56: 0xA20D [0x46] CAMERA_CONTROL: Restore default settings
 57: 0xA20F [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 58: 0xA220 [0x21] END_EVENT
 59: 0xA221 [0x00] END_REQSTACK()
```
