# Event 5065

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 10/25     |
| Offset          | 0x13A6    |
| Data Size       | 640 bytes |
| Calculated Size | 640 bytes |
| Instructions    | 89        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
13A0:                   42 45  00 80 F0 FF FF 7F F0 FF        BE........
13B0: FF 7F 66 64 6F 31 01 80  55 00 80 F0 FF FF 7F F0  ..fdo1..U.......
13C0: FF FF 7F 66 64 6F 31 46  01 38 02 80 02 09 10 03  ...fdo1F.8......
13D0: 80 00 DA 13 75 00 04 80  75 01 94 01 F8 FF FF 7F  ....u...u.......
13E0: 94 01 F0 FF FF 7F 94 01  65 01 10 01 37 05 80 06  ........e...7...
13F0: 80 07 80 08 80 BA F0 FF  FF 7F 3C 80 3D 80 07 80  ..........<.=...
1400: 08 80 1E F0 FF FF 7F 6F  70 4A F0 FF FF 7F F8 FF  .......opJ......
1410: FF 7F 6F 76 F0 FF FF 7F  80 F8 FF FF 7F 80 F0 FF  ..ov............
1420: FF 7F 80 65 01 10 01 92  01 F8 FF FF 7F 92 01 65  ...e...........e
1430: 01 10 01 92 01 66 01 10  01 92 01 67 01 10 01 92  .....f.....g....
1440: 01 68 01 10 01 92 01 69  01 10 01 92 01 6B 01 10  .h.....i.....k..
1450: 01 92 01 10 01 10 01 92  01 3B 00 10 01 92 01 3F  .........;.....?
1460: 00 10 01 29 10 F0 FF FF  7F 02 03 01 00 02 10 5B  ...)...........[
1470: 65 80 F8 FF FF 7F F8 FF  FF 7F 65 64 30 30 1C 13  e.........ed00..
1480: 80 45 0D 80 F8 FF FF 7F  F8 FF FF 7F 73 32 32 30  .E..........s220
1490: 01 80 45 00 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  ..E..........fdi
14A0: 31 01 80 1C 13 80 27 10  F0 FF FF 7F 53 1C 16 80  1.....'.....S...
14B0: 03 02 10 86 80 03 03 10  88 80 48 89 80 1C 25 80  ..........H...%.
14C0: 03 00 17 0C 80 27 10 F0  FF FF 7F 48 1D 8A 80 23  .....'.....H...#
14D0: 2A 10 F0 FF FF 7F 7B F8  FF FF 7F 52 8B 80 F8 FF  *.....{....R....
14E0: FF 7F F8 FF FF 7F 73 32  32 30 45 0D 80 F8 FF FF  ......s220E.....
14F0: 7F F8 FF FF 7F 73 32 32  31 01 80 81 00 F8 FF FF  .....s221.......
1500: 7F 66 2B 80 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 30  .f+.........tlk0
1510: 03 00 17 0C 80 27 10 F0  FF FF 7F 48 1D 8C 80 23  .....'.....H...#
1520: 2A 10 F0 FF FF 7F 81 01  F8 FF FF 7F 79 00 F8 FF  *...........y...
1530: FF 7F F0 FF FF 7F 52 8B  80 F8 FF FF 7F F8 FF FF  ......R.........
1540: 7F 73 32 32 31 02 01 00  1F 80 80 61 15 45 0D 80  .s221......a.E..
1550: F8 FF FF 7F F8 FF FF 7F  73 32 30 63 01 80 01 8E  ........s20c....
1560: 15 02 01 00 20 80 80 7D  15 45 0D 80 F8 FF FF 7F  .... ..}.E......
1570: F8 FF FF 7F 73 32 30 63  01 80 01 8E 15 45 0D 80  ....s20c.....E..
1580: F8 FF FF 7F F8 FF FF 7F  73 32 32 32 01 80 5B 15  ........s222..[.
1590: 80 F8 FF FF 7F F8 FF FF  7F 79 72 65 30 1D 7C 80  .........yre0.|.
15A0: 23 1C 13 80 27 10 F0 FF  FF 7F 3E 1C 25 80 45 00  #...'.....>.%.E.
15B0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 01 80 55  .........fdo1..U
15C0: 00 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 31 02 01  ..........fdo1..
15D0: 00 1F 80 80 E8 15 52 8B  80 F8 FF FF 7F F8 FF FF  ......R.........
15E0: 7F 73 32 30 63 01 11 16  02 01 00 20 80 80 02 16  .s20c...... ....
15F0: 52 8B 80 F8 FF FF 7F F8  FF FF 7F 73 32 30 63 01  R..........s20c.
1600: 11 16 52 8B 80 F8 FF FF  7F F8 FF FF 7F 73 32 32  ..R..........s22
1610: 32 46 00 45 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  2F.E..........fd
1620: 69 32 01 80 21 00                                 i2..!.          
```

## Opcodes

```
  0: 0x13A6 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x13A7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  2: 0x13B8 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
  3: 0x13C7 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x13C9 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x13CC [0x02] IF !(Work_Zone[9] == 1*) GOTO 0x13DA
  6: 0x13D4 [0x75] LOAD_ROOM(Load indoor room, room=588*)
  7: 0x13D8 [0x75] LOAD_ROOM(No action)
  8: 0x13DA [0x94] EventEntity->Render.Flags3 ^= 0x01
  9: 0x13E0 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 10: 0x13E6 [0x94] Masad (ID: 17826149/0x01100165)->Render.Flags3 ^= 0x01
 11: 0x13EC [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-28.210*, z=-96.900*, y=-0.650*, direction=377476174.2°*
 12: 0x13F5 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-30.205*, pos_z=-97.820*, pos_y=-0.650*, direction=377476174.2°*)
 13: 0x1402 [0x1E] EventEntity looks at LocalPlayer and starts talking
 14: 0x1407 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 15: 0x1408 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 16: 0x1409 [0x4A] LocalPlayer looks at EventEntity
 17: 0x1412 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 18: 0x1413 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 19: 0x1418 [0x80] LOAD_WAIT(entity=EventEntity)
 20: 0x141D [0x80] LOAD_WAIT(entity=LocalPlayer)
 21: 0x1422 [0x80] LOAD_WAIT(entity=Masad (ID: 17826149/0x01100165))
 22: 0x1427 [0x92] EventEntity->Render.Flags3 ^= 0x01
 23: 0x142D [0x92] Masad (ID: 17826149/0x01100165)->Render.Flags3 ^= 0x01
 24: 0x1433 [0x92] Kerney (ID: 17826150/0x01100166)->Render.Flags3 ^= 0x01
 25: 0x1439 [0x92] Bastingart (ID: 17826151/0x01100167)->Render.Flags3 ^= 0x01
 26: 0x143F [0x92] Iscandelle (ID: 17826152/0x01100168)->Render.Flags3 ^= 0x01
 27: 0x1445 [0x92] Etienne (ID: 17826153/0x01100169)->Render.Flags3 ^= 0x01
 28: 0x144B [0x92] Lalla-Dalla (ID: 17826155/0x0110016B)->Render.Flags3 ^= 0x01
 29: 0x1451 [0x92] Quam Jitahr (ID: 17826064/0x01100110)->Render.Flags3 ^= 0x01
 30: 0x1457 [0x92] Task Delegator (ID: 17825851/0x0110003B)->Render.Flags3 ^= 0x01
 31: 0x145D [0x92] Civil Registrar (ID: 17825855/0x0110003F)->Render.Flags3 ^= 0x01
 32: 0x1463 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x02)
 33: 0x146A [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
 34: 0x146F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "ed00" with entities [EventEntity, EventEntity], work=767*
 35: 0x147E [0x1C] WAIT(30* ticks)
 36: 0x1481 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s220" with entities [EventEntity, EventEntity], work=[635*, 0*]
 37: 0x1492 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 38: 0x14A3 [0x1C] WAIT(30* ticks)
 39: 0x14A6 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x53)
 40: 0x14AD [0x1C] WAIT(180* ticks)
 41: 0x14B0 [0x03] Work_Zone[2] = 2396*
 42: 0x14B5 [0x03] Work_Zone[3] = 2397*
 43: 0x14BA [0x48] [System] [10349*]:
    → "\u001F\u000FYou handed over the \u0001\u00053\u0002\u0000\u0000\u0000 and the \u0001\u00053\u0002\u0001\u0000\u0000.\u0000\u0007"
 44: 0x14BD [0x1C] WAIT(120* ticks)
 45: 0x14C0 [0x03] Work_Zone_1700[0] = 60*
 46: 0x14C5 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x48)
 47: 0x14CC [0x1D] PRINT_EVENT_MESSAGE(message_id=10350*)
    → "Finally finished, are we?\u007F1\u0000\u0007"
 48: 0x14CF [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0x14D0 [0x2A] GET_REQ_LEVEL(level=16, entity_id=LocalPlayer)
 50: 0x14D6 [0x7B] EventEntity stops talking
 51: 0x14DB [0x52] END_LOAD_SCHEDULER: End scheduler "s220" with entities [EventEntity, EventEntity], work=636*
 52: 0x14EA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s221" with entities [EventEntity, EventEntity], work=[635*, 0*]
 53: 0x14FB [0x81] SET_ENTITY_BLINKING(blink_flag=0x00, entity=EventEntity)
 54: 0x1501 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=199*
 55: 0x1510 [0x03] Work_Zone_1700[0] = 60*
 56: 0x1515 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x48)
 57: 0x151C [0x1D] PRINT_EVENT_MESSAGE(message_id=10351*)
    → "Well? Stop flounderrring about here and find those two idiots!\u007F1\u0000\u0007"
 58: 0x151F [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0x1520 [0x2A] GET_REQ_LEVEL(level=16, entity_id=LocalPlayer)
 60: 0x1526 [0x81] SET_ENTITY_BLINKING(blink_flag=0x01, entity=EventEntity)
 61: 0x152C [0x79] EventEntity looks at LocalPlayer (Basic look)
 62: 0x1536 [0x52] END_LOAD_SCHEDULER: End scheduler "s221" with entities [EventEntity, EventEntity], work=636*
 63: 0x1545 [0x02] IF !(ExtData[1]->WorkLocal[1] == 5*) GOTO 0x1561
 64: 0x154D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s20c" with entities [EventEntity, EventEntity], work=[635*, 0*]
 65: 0x155E [0x01] GOTO 0x158E
 66: 0x1561 [0x02] IF !(ExtData[1]->WorkLocal[1] == 6*) GOTO 0x157D
 67: 0x1569 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s20c" with entities [EventEntity, EventEntity], work=[635*, 0*]
 68: 0x157A [0x01] GOTO 0x158E
 69: 0x157D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s222" with entities [EventEntity, EventEntity], work=[635*, 0*]
 70: 0x158E [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "yre0" with entities [EventEntity, EventEntity], work=2965*
 71: 0x159D [0x1D] PRINT_EVENT_MESSAGE(message_id=10338*)
    → "Why're you still standing around here like a dead trrree in Yorcia Weald!? Hurry up before they rrrack up more expenses, you lazy good-for-nothing!\u007F1\u0000\u0007"
 72: 0x15A0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 73: 0x15A1 [0x1C] WAIT(30* ticks)
 74: 0x15A4 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x3E)
 75: 0x15AB [0x1C] WAIT(120* ticks)
 76: 0x15AE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 77: 0x15BF [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 78: 0x15CE [0x02] IF !(ExtData[1]->WorkLocal[1] == 5*) GOTO 0x15E8
 79: 0x15D6 [0x52] END_LOAD_SCHEDULER: End scheduler "s20c" with entities [EventEntity, EventEntity], work=636*
 80: 0x15E5 [0x01] GOTO 0x1611
 81: 0x15E8 [0x02] IF !(ExtData[1]->WorkLocal[1] == 6*) GOTO 0x1602
 82: 0x15F0 [0x52] END_LOAD_SCHEDULER: End scheduler "s20c" with entities [EventEntity, EventEntity], work=636*
 83: 0x15FF [0x01] GOTO 0x1611
 84: 0x1602 [0x52] END_LOAD_SCHEDULER: End scheduler "s222" with entities [EventEntity, EventEntity], work=636*
 85: 0x1611 [0x46] CAMERA_CONTROL: Restore default settings
 86: 0x1613 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 87: 0x1624 [0x21] END_EVENT
 88: 0x1625 [0x00] END_REQSTACK()
```
