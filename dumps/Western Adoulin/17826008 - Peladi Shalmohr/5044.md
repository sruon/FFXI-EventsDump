# Event 5044

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/25      |
| Offset          | 0x07DF    |
| Data Size       | 366 bytes |
| Calculated Size | 366 bytes |
| Instructions    | 47        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
07D0:                                               42                 B
07E0: 45 00 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 31 01  E..........fdo1.
07F0: 80 55 00 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 31  .U..........fdo1
0800: 46 01 38 02 80 02 09 10  03 80 00 13 08 75 00 04  F.8..........u..
0810: 80 75 01 94 01 F8 FF FF  7F 94 01 F0 FF FF 7F 37  .u.............7
0820: 05 80 06 80 07 80 3B 80  BA F0 FF FF 7F 3C 80 3D  ......;......<.=
0830: 80 07 80 08 80 1E F0 FF  FF 7F 6F 70 4A F0 FF FF  ..........opJ...
0840: 7F F8 FF FF 7F 80 F8 FF  FF 7F 92 01 F8 FF FF 7F  ................
0850: 92 01 6B 01 10 01 29 10  F0 FF FF 7F 02 03 01 00  ..k...).........
0860: 02 10 1C 0C 80 02 01 00  1F 80 00 81 08 45 0D 80  .............E..
0870: F8 FF FF 7F F8 FF FF 7F  73 30 34 38 01 80 01 AE  ........s048....
0880: 08 02 01 00 20 80 00 9D  08 45 0D 80 F8 FF FF 7F  .... ....E......
0890: F8 FF FF 7F 73 30 34 38  01 80 01 AE 08 45 0D 80  ....s048.....E..
08A0: F8 FF FF 7F F8 FF FF 7F  73 30 34 35 01 80 45 00  ........s045..E.
08B0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 01 80 66  .........fdi1..f
08C0: 27 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D 3E  '.........tlk0.>
08D0: 80 23 1A 9F 09 45 00 80  F0 FF FF 7F F0 FF FF 7F  .#...E..........
08E0: 66 64 6F 31 01 80 55 00  80 F0 FF FF 7F F0 FF FF  fdo1..U.........
08F0: 7F 66 64 6F 31 02 01 00  1F 80 00 0F 09 52 0D 80  .fdo1........R..
0900: F8 FF FF 7F F8 FF FF 7F  73 30 34 39 01 38 09 02  ........s049.8..
0910: 01 00 20 80 00 29 09 52  0D 80 F8 FF FF 7F F8 FF  .. ..).R........
0920: FF 7F 73 30 34 39 01 38  09 52 0D 80 F8 FF FF 7F  ..s049.8.R......
0930: F8 FF FF 7F 73 30 34 36  46 00 45 00 80 F0 FF FF  ....s046F.E.....
0940: 7F F0 FF FF 7F 66 64 69  32 01 80 21 00           .....fdi2..!.   
```

## Opcodes

```
  0: 0x07DF [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x07E0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  2: 0x07F1 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
  3: 0x0800 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x0802 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x0805 [0x02] IF !(Work_Zone[9] == 1*) GOTO 0x0813
  6: 0x080D [0x75] LOAD_ROOM(Load indoor room, room=588*)
  7: 0x0811 [0x75] LOAD_ROOM(No action)
  8: 0x0813 [0x94] EventEntity->Render.Flags3 ^= 0x01
  9: 0x0819 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 10: 0x081F [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-28.210*, z=-96.900*, y=-0.650*, direction=135.0°*
 11: 0x0828 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-30.205*, pos_z=-97.820*, pos_y=-0.650*, direction=377476174.2°*)
 12: 0x0835 [0x1E] EventEntity looks at LocalPlayer and starts talking
 13: 0x083A [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 14: 0x083B [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 15: 0x083C [0x4A] LocalPlayer looks at EventEntity
 16: 0x0845 [0x80] LOAD_WAIT(entity=EventEntity)
 17: 0x084A [0x92] EventEntity->Render.Flags3 ^= 0x01
 18: 0x0850 [0x92] Lalla-Dalla (ID: 17826155/0x0110016B)->Render.Flags3 ^= 0x01
 19: 0x0856 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x02)
 20: 0x085D [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
 21: 0x0862 [0x1C] WAIT(60* ticks)
 22: 0x0865 [0x02] IF !(ExtData[1]->WorkLocal[1] == 5*) GOTO 0x0881
 23: 0x086D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s048" with entities [EventEntity, EventEntity], work=[635*, 0*]
 24: 0x087E [0x01] GOTO 0x08AE
 25: 0x0881 [0x02] IF !(ExtData[1]->WorkLocal[1] == 6*) GOTO 0x089D
 26: 0x0889 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s048" with entities [EventEntity, EventEntity], work=[635*, 0*]
 27: 0x089A [0x01] GOTO 0x08AE
 28: 0x089D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s045" with entities [EventEntity, EventEntity], work=[635*, 0*]
 29: 0x08AE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 30: 0x08BF [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=59*
 31: 0x08CE [0x1D] PRINT_EVENT_MESSAGE(message_id=10148*)
    → "You forgot what they looked like already? <Sigh> Let me rrrun it by you once more.\u007F1\u0000\u0007"
 32: 0x08D1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x08D2 [0x1A] CALL_SUBROUTINE(address=0x099F)
 34: 0x08D5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 35: 0x08E6 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 36: 0x08F5 [0x02] IF !(ExtData[1]->WorkLocal[1] == 5*) GOTO 0x090F
 37: 0x08FD [0x52] END_LOAD_SCHEDULER: End scheduler "s049" with entities [EventEntity, EventEntity], work=635*
 38: 0x090C [0x01] GOTO 0x0938
 39: 0x090F [0x02] IF !(ExtData[1]->WorkLocal[1] == 6*) GOTO 0x0929
 40: 0x0917 [0x52] END_LOAD_SCHEDULER: End scheduler "s049" with entities [EventEntity, EventEntity], work=635*
 41: 0x0926 [0x01] GOTO 0x0938
 42: 0x0929 [0x52] END_LOAD_SCHEDULER: End scheduler "s046" with entities [EventEntity, EventEntity], work=635*
 43: 0x0938 [0x46] CAMERA_CONTROL: Restore default settings
 44: 0x093A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 45: 0x094B [0x21] END_EVENT
 46: 0x094C [0x00] END_REQSTACK()
```
