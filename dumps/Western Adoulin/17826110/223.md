# Event 223

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 32/33     |
| Offset          | 0x3DF0    |
| Data Size       | 475 bytes |
| Calculated Size | 475 bytes |
| Instructions    | 71        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
3DF0: 13 02 10 03 80 02 02 10  03 80 00 07 3E 3C 00 17  ............><..
3E00: 58 80 03 80 01 0E 3E 3D  00 17 58 80 03 80 05 0C  X.....>=..X.....
3E10: 17 42 45 00 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  .BE..........fdo
3E20: 31 01 80 55 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  1..U..........fd
3E30: 6F 31 52 60 80 F0 FF FF  7F F0 FF FF 7F 67 65 6F  o1R`.........geo
3E40: 31 52 60 80 F0 FF FF 7F  F0 FF FF 7F 67 65 6F 32  1R`.........geo2
3E50: 46 01 38 08 80 4E 00 50  01 10 01 2F 00 50 01 10  F.8..N.P.../.P..
3E60: 01 94 01 8A 00 10 01 94  01 50 01 10 01 94 01 F0  .........P......
3E70: FF FF 7F 92 01 8A 00 10  01 92 01 50 01 10 01 BA  ...........P....
3E80: 8A 00 10 01 75 81 76 81  05 81 77 81 BA 50 01 10  ....u.v...w..P..
3E90: 01 78 81 79 81 05 81 01  80 BA F0 FF FF 7F 7A 81  .x.y..........z.
3EA0: 7B 81 05 81 7C 81 80 8A  00 10 01 80 50 01 10 01  {...|.......P...
3EB0: 80 F0 FF FF 7F 4A F0 FF  FF 7F 50 01 10 01 4A 8A  .....J....P...J.
3EC0: 00 10 01 50 01 10 01 6F  76 F0 FF FF 7F 6F 76 8A  ...P...ov....ov.
3ED0: 00 10 01 45 60 80 F8 FF  FF 7F F8 FF FF 7F 77 67  ...E`.........wg
3EE0: 65 6F 01 80 1C 24 80 7B  8A 00 10 01 27 08 8A 00  eo...$.{....'...
3EF0: 10 01 76 45 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  ..vE..........fd
3F00: 69 31 01 80 1C 3B 80 27  08 50 01 10 01 05 2A 08  i1...;.'.P....*.
3F10: 50 01 10 01 2A 08 8A 00  10 01 1C 06 80 4A 8A 00  P...*........J..
3F20: 10 01 F0 FF FF 7F 6F 76  8A 00 10 01 1C 3B 80 27  ......ov.....;.'
3F30: 08 50 01 10 01 06 02 01  00 03 80 00 48 3F 2B 8A  .P..........H?+.
3F40: 00 10 01 7D 81 01 4F 3F  2B 8A 00 10 01 7E 81 1C  ...}..O?+....~..
3F50: 3E 80 27 08 8A 00 10 01  75 2A 08 50 01 10 01 23  >.'.....u*.P...#
3F60: 45 00 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 31 01  E..........fdo1.
3F70: 80 55 00 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 31  .U..........fdo1
3F80: 52 60 80 F8 FF FF 7F F8  FF FF 7F 77 67 65 6F 4E  R`.........wgeoN
3F90: 01 50 01 10 01 1C 24 80  AB 11 01 80 1C 03 80 AB  .P....$.........
3FA0: 0A 02 0C 17 03 80 00 C8  3F 6C F0 FF FF 7F FD 80  ........?l......
3FB0: 03 80 46 00 45 00 80 F0  FF FF 7F F0 FF FF 7F 66  ..F.E..........f
3FC0: 64 69 32 01 80 01 C9 3F  30 21 00                 di2....?0!.     
```

## Opcodes

```
  0: 0x3DF0 [0x13] Work_Zone[2] = rand() % 1*
  1: 0x3DF5 [0x02] IF !(Work_Zone[2] == 1*) GOTO 0x3E07
  2: 0x3DFD [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x1700, bit_index_work_offset=0x8058, condition_work_offset=0x8003)
  3: 0x3E04 [0x01] GOTO 0x3E0E
  4: 0x3E07 [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x1700, bit_index_work_offset=0x8058, condition_work_offset=0x8003)
  5: 0x3E0E [0x05] Work_Zone_1700[12] = 1
  6: 0x3E11 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  7: 0x3E12 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  8: 0x3E23 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
  9: 0x3E32 [0x52] END_LOAD_SCHEDULER: End scheduler "geo1" with entities [LocalPlayer, LocalPlayer], work=709*
 10: 0x3E41 [0x52] END_LOAD_SCHEDULER: End scheduler "geo2" with entities [LocalPlayer, LocalPlayer], work=709*
 11: 0x3E50 [0x46] CAMERA_CONTROL: Disable user control
 12: 0x3E52 [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
 13: 0x3E55 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17826128/0x01100150)
 14: 0x3E5B [0x2F] Unnamed NPC (ID: 17826128/0x01100150)->Render.Flags0 &= ~0x80000 // Bit 19
 15: 0x3E61 [0x94] Sylvie (ID: 17825930/0x0110008A)->Render.Flags3 ^= 0x01
 16: 0x3E67 [0x94] Unnamed NPC (ID: 17826128/0x01100150)->Render.Flags3 ^= 0x01
 17: 0x3E6D [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 18: 0x3E73 [0x92] Sylvie (ID: 17825930/0x0110008A)->Render.Flags3 ^= 0x01
 19: 0x3E79 [0x92] Unnamed NPC (ID: 17826128/0x01100150)->Render.Flags3 ^= 0x01
 20: 0x3E7F [0xBA] SET_ENTITY_POSITION(entity_id=Sylvie (ID: 17825930/0x0110008A), pos_x=52.894*, pos_z=127.685*, pos_y=31.999*, direction=193.1°*)
 21: 0x3E8C [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17826128/0x01100150), pos_x=51.107*, pos_z=127.926*, pos_y=31.999*, direction=0.0°*)
 22: 0x3E99 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=51.522*, pos_z=126.631*, pos_y=31.999*, direction=258.4°*)
 23: 0x3EA6 [0x80] LOAD_WAIT(entity=Sylvie (ID: 17825930/0x0110008A))
 24: 0x3EAB [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17826128/0x01100150))
 25: 0x3EB0 [0x80] LOAD_WAIT(entity=LocalPlayer)
 26: 0x3EB5 [0x4A] LocalPlayer looks at Unnamed NPC (ID: 17826128/0x01100150)
 27: 0x3EBE [0x4A] Sylvie (ID: 17825930/0x0110008A) looks at Unnamed NPC (ID: 17826128/0x01100150)
 28: 0x3EC7 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 29: 0x3EC8 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 30: 0x3ECD [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 31: 0x3ECE [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Sylvie (ID: 17825930/0x0110008A) Render.Flags0 and Render.Flags3 conditions are met
 32: 0x3ED3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "wgeo" with entities [EventEntity, EventEntity], work=[709*, 0*]
 33: 0x3EE4 [0x1C] WAIT(15* ticks)
 34: 0x3EE7 [0x7B] Sylvie (ID: 17825930/0x0110008A) stops talking
 35: 0x3EEC [0x27] REQ_SET(priority=0x08, entity_id=Sylvie (ID: 17825930/0x0110008A), tag_num=0x76)
 36: 0x3EF3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 37: 0x3F04 [0x1C] WAIT(50* ticks)
 38: 0x3F07 [0x27] REQ_SET(priority=0x08, entity_id=Unnamed NPC (ID: 17826128/0x01100150), tag_num=0x05)
 39: 0x3F0E [0x2A] GET_REQ_LEVEL(level=8, entity_id=Unnamed NPC (ID: 17826128/0x01100150))
 40: 0x3F14 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Sylvie (ID: 17825930/0x0110008A))
 41: 0x3F1A [0x1C] WAIT(30* ticks)
 42: 0x3F1D [0x4A] Sylvie (ID: 17825930/0x0110008A) looks at LocalPlayer
 43: 0x3F26 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 44: 0x3F27 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Sylvie (ID: 17825930/0x0110008A) Render.Flags0 and Render.Flags3 conditions are met
 45: 0x3F2C [0x1C] WAIT(50* ticks)
 46: 0x3F2F [0x27] REQ_SET(priority=0x08, entity_id=Unnamed NPC (ID: 17826128/0x01100150), tag_num=0x06)
 47: 0x3F36 [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x3F48
 48: 0x3F3E [0x2B] Sylvie (ID: 17825930/0x0110008A) [11839*]:
    → "Best of luck!\u007F1\u0000\u0007"
 49: 0x3F45 [0x01] GOTO 0x3F4F
 50: 0x3F48 [0x2B] Sylvie (ID: 17825930/0x0110008A) [11841*]:
    → "Don't go getting yourself killed!\u007F1\u0000\u0007"
 51: 0x3F4F [0x1C] WAIT(20* ticks)
 52: 0x3F52 [0x27] REQ_SET(priority=0x08, entity_id=Sylvie (ID: 17825930/0x0110008A), tag_num=0x75)
 53: 0x3F59 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Unnamed NPC (ID: 17826128/0x01100150))
 54: 0x3F5F [0x23] WAIT_FOR_DIALOG_INTERACTION
 55: 0x3F60 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 56: 0x3F71 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 57: 0x3F80 [0x52] END_LOAD_SCHEDULER: End scheduler "wgeo" with entities [EventEntity, EventEntity], work=709*
 58: 0x3F8F [0x4E] SET_ENTITY_HIDE_FLAG: Hide Unnamed NPC (ID: 17826128/0x01100150)
 59: 0x3F95 [0x1C] WAIT(15* ticks)
 60: 0x3F98 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 61: 0x3F9C [0x1C] WAIT(1* ticks)
 62: 0x3F9F [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 63: 0x3FA1 [0x02] IF !(Work_Zone_1700[12] == 1*) GOTO 0x3FC8
 64: 0x3FA9 [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=128*, fade_time=1*)
 65: 0x3FB2 [0x46] CAMERA_CONTROL: Restore default settings
 66: 0x3FB4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 67: 0x3FC5 [0x01] GOTO 0x3FC9
 68: 0x3FC8 [0x30] SET_UCOFF_CONTINUE_ZERO()
 69: 0x3FC9 [0x21] END_EVENT
 70: 0x3FCA [0x00] END_REQSTACK()
```
