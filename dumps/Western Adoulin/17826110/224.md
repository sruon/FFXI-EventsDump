# Event 224

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 33/33     |
| Offset          | 0x3FCB    |
| Data Size       | 475 bytes |
| Calculated Size | 475 bytes |
| Instructions    | 73        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
3FC0:                                   13 02 10 03 80             .....
3FD0: 02 02 10 03 80 00 E2 3F  3C 00 17 58 80 03 80 01  .......?<..X....
3FE0: E9 3F 3D 00 17 58 80 03  80 05 0C 17 42 45 00 80  .?=..X......BE..
3FF0: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 01 80 55 00  ........fdo1..U.
4000: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 52 60 80  .........fdo1R`.
4010: F0 FF FF 7F F0 FF FF 7F  72 75 6E 31 46 01 38 08  ........run1F.8.
4020: 80 4E 00 50 01 10 01 2F  00 50 01 10 01 94 01 3F  .N.P.../.P.....?
4030: 01 10 01 94 01 50 01 10  01 94 01 F0 FF FF 7F 92  .....P..........
4040: 01 3F 01 10 01 92 01 50  01 10 01 BA 3F 01 10 01  .?.....P....?...
4050: F2 80 F3 80 5E 80 F4 80  BA 50 01 10 01 F5 80 F6  ....^....P......
4060: 80 5E 80 01 80 BA F0 FF  FF 7F F7 80 F8 80 5E 80  .^............^.
4070: F9 80 80 3F 01 10 01 80  50 01 10 01 80 F0 FF FF  ...?....P.......
4080: 7F 4A F0 FF FF 7F 50 01  10 01 4A 3F 01 10 01 50  .J....P...J?...P
4090: 01 10 01 6F 76 F0 FF FF  7F 6F 76 3F 01 10 01 45  ...ov....ov?...E
40A0: 60 80 F8 FF FF 7F F8 FF  FF 7F 77 72 75 6E 01 80  `.........wrun..
40B0: 1C 24 80 7B 3F 01 10 01  27 08 3F 01 10 01 1D 45  .$.{?...'.?....E
40C0: 00 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 31 01 80  ..........fdi1..
40D0: 1C 3B 80 27 08 50 01 10  01 05 2A 08 50 01 10 01  .;.'.P....*.P...
40E0: 2A 08 3F 01 10 01 1C 06  80 4A 3F 01 10 01 F0 FF  *.?......J?.....
40F0: FF 7F 6F 76 3F 01 10 01  1C 3B 80 27 08 50 01 10  ..ov?....;.'.P..
4100: 01 06 02 01 00 03 80 00  1E 41 2B 3F 01 10 01 FA  .........A+?....
4110: 80 1C 3E 80 27 08 3F 01  10 01 27 01 34 41 2B 3F  ..>.'.?...'.4A+?
4120: 01 10 01 FB 80 1C 3E 80  6E 3F 01 10 01 FC 80 99  ......>.n?......
4130: 3F 01 10 01 2A 08 50 01  10 01 23 45 00 80 F0 FF  ?...*.P...#E....
4140: FF 7F F0 FF FF 7F 66 64  6F 31 01 80 55 00 80 F0  ......fdo1..U...
4150: FF FF 7F F0 FF FF 7F 66  64 6F 31 52 60 80 F8 FF  .......fdo1R`...
4160: FF 7F F8 FF FF 7F 77 72  75 6E 4E 01 50 01 10 01  ......wrunN.P...
4170: 1C 24 80 AB 11 01 80 1C  03 80 AB 0A 02 0C 17 03  .$..............
4180: 80 00 A3 41 6C F0 FF FF  7F FD 80 03 80 46 00 45  ...Al........F.E
4190: 00 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 32 01 80  ..........fdi2..
41A0: 01 A4 41 30 21 00                                 ..A0!.          
```

## Opcodes

```
  0: 0x3FCB [0x13] Work_Zone[2] = rand() % 1*
  1: 0x3FD0 [0x02] IF !(Work_Zone[2] == 1*) GOTO 0x3FE2
  2: 0x3FD8 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x1700, bit_index_work_offset=0x8058, condition_work_offset=0x8003)
  3: 0x3FDF [0x01] GOTO 0x3FE9
  4: 0x3FE2 [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x1700, bit_index_work_offset=0x8058, condition_work_offset=0x8003)

SUBROUTINE_3FE9:
  5: 0x3FE9 [0x05] Work_Zone_1700[12] = 1
  6: 0x3FEC [0x42] SET_CLI_EVENT_CANCEL_DATA()
  7: 0x3FED [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  8: 0x3FFE [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
  9: 0x400D [0x52] END_LOAD_SCHEDULER: End scheduler "run1" with entities [LocalPlayer, LocalPlayer], work=709*
 10: 0x401C [0x46] CAMERA_CONTROL: Disable user control
 11: 0x401E [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
 12: 0x4021 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17826128/0x01100150)
 13: 0x4027 [0x2F] Unnamed NPC (ID: 17826128/0x01100150)->Render.Flags0 &= ~0x80000 // Bit 19
 14: 0x402D [0x94] Octavernost (ID: 17826111/0x0110013F)->Render.Flags3 ^= 0x01
 15: 0x4033 [0x94] Unnamed NPC (ID: 17826128/0x01100150)->Render.Flags3 ^= 0x01
 16: 0x4039 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 17: 0x403F [0x92] Octavernost (ID: 17826111/0x0110013F)->Render.Flags3 ^= 0x01
 18: 0x4045 [0x92] Unnamed NPC (ID: 17826128/0x01100150)->Render.Flags3 ^= 0x01
 19: 0x404B [0xBA] SET_ENTITY_POSITION(entity_id=Octavernost (ID: 17826111/0x0110013F), pos_x=173.470*, pos_z=-36.461*, pos_y=3.851*, direction=33.6°*)
 20: 0x4058 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17826128/0x01100150), pos_x=174.693*, pos_z=-37.587*, pos_y=3.851*, direction=0.0°*)
 21: 0x4065 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=176.241*, pos_z=-36.595*, pos_y=3.851*, direction=147.7°*)
 22: 0x4072 [0x80] LOAD_WAIT(entity=Octavernost (ID: 17826111/0x0110013F))
 23: 0x4077 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17826128/0x01100150))
 24: 0x407C [0x80] LOAD_WAIT(entity=LocalPlayer)
 25: 0x4081 [0x4A] LocalPlayer looks at Unnamed NPC (ID: 17826128/0x01100150)
 26: 0x408A [0x4A] Octavernost (ID: 17826111/0x0110013F) looks at Unnamed NPC (ID: 17826128/0x01100150)
 27: 0x4093 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 28: 0x4094 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 29: 0x4099 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 30: 0x409A [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Octavernost (ID: 17826111/0x0110013F) Render.Flags0 and Render.Flags3 conditions are met
 31: 0x409F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "wrun" with entities [EventEntity, EventEntity], work=[709*, 0*]
 32: 0x40B0 [0x1C] WAIT(15* ticks)
 33: 0x40B3 [0x7B] Octavernost (ID: 17826111/0x0110013F) stops talking
 34: 0x40B8 [0x27] REQ_SET(priority=0x08, entity_id=Octavernost (ID: 17826111/0x0110013F), tag_num=0x1D)
 35: 0x40BF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 36: 0x40D0 [0x1C] WAIT(50* ticks)
 37: 0x40D3 [0x27] REQ_SET(priority=0x08, entity_id=Unnamed NPC (ID: 17826128/0x01100150), tag_num=0x05)
 38: 0x40DA [0x2A] GET_REQ_LEVEL(level=8, entity_id=Unnamed NPC (ID: 17826128/0x01100150))
 39: 0x40E0 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Octavernost (ID: 17826111/0x0110013F))
 40: 0x40E6 [0x1C] WAIT(30* ticks)
 41: 0x40E9 [0x4A] Octavernost (ID: 17826111/0x0110013F) looks at LocalPlayer
 42: 0x40F2 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 43: 0x40F3 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Octavernost (ID: 17826111/0x0110013F) Render.Flags0 and Render.Flags3 conditions are met
 44: 0x40F8 [0x1C] WAIT(50* ticks)
 45: 0x40FB [0x27] REQ_SET(priority=0x08, entity_id=Unnamed NPC (ID: 17826128/0x01100150), tag_num=0x06)
 46: 0x4102 [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x411E
 47: 0x410A [0x2B] Octavernost (ID: 17826111/0x0110013F) [12001*]:
    → "Best of luck!\u007F1\u0000\u0007"
 48: 0x4111 [0x1C] WAIT(20* ticks)
 49: 0x4114 [0x27] REQ_SET(priority=0x08, entity_id=Octavernost (ID: 17826111/0x0110013F), tag_num=0x27)
 50: 0x411B [0x01] GOTO 0x4134
 51: 0x411E [0x2B] Octavernost (ID: 17826111/0x0110013F) [12003*]:
    → "Good luck!\u007F1\u0000\u0007"
 52: 0x4125 [0x1C] WAIT(20* ticks)
 53: 0x4128 [0x6E] Octavernost (ID: 17826111/0x0110013F) uses emote 12*
 54: 0x412F [0x99] Wait for Octavernost (ID: 17826111/0x0110013F) animation to complete

SUBROUTINE_4134:
 55: 0x4134 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Unnamed NPC (ID: 17826128/0x01100150))
 56: 0x413A [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x413B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 58: 0x414C [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 59: 0x415B [0x52] END_LOAD_SCHEDULER: End scheduler "wrun" with entities [EventEntity, EventEntity], work=709*
 60: 0x416A [0x4E] SET_ENTITY_HIDE_FLAG: Hide Unnamed NPC (ID: 17826128/0x01100150)
 61: 0x4170 [0x1C] WAIT(15* ticks)
 62: 0x4173 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 63: 0x4177 [0x1C] WAIT(1* ticks)
 64: 0x417A [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 65: 0x417C [0x02] IF !(Work_Zone_1700[12] == 1*) GOTO 0x41A3
 66: 0x4184 [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=128*, fade_time=1*)
 67: 0x418D [0x46] CAMERA_CONTROL: Restore default settings
 68: 0x418F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 69: 0x41A0 [0x01] GOTO 0x41A4
 70: 0x41A3 [0x30] SET_UCOFF_CONTINUE_ZERO()

SUBROUTINE_41A4:
 71: 0x41A4 [0x21] END_EVENT
 72: 0x41A5 [0x00] END_REQSTACK()
```
