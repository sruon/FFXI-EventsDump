# Event 81

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 10/23     |
| Offset          | 0x405F    |
| Data Size       | 356 bytes |
| Calculated Size | 356 bytes |
| Instructions    | 51        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
4050:                                               42                 B
4060: 03 01 10 02 80 1A 68 EC  46 01 38 8B 80 92 01 36  ......h.F.8....6
4070: 01 10 01 94 01 36 01 10  01 94 01 F0 FF FF 7F BA  .....6..........
4080: F0 FF FF 7F F8 81 F9 81  02 80 FA 81 80 F0 FF FF  ................
4090: 7F 80 36 01 10 01 4A F0  FF FF 7F 36 01 10 01 5B  ..6...J....6...[
40A0: FC 81 36 01 10 01 36 01  10 01 73 68 6B 30 45 FB  ..6...6...shk0E.
40B0: 81 F0 FF FF 7F F0 FF FF  7F 73 30 30 31 02 80 1A  .........s001...
40C0: 47 EC 2B 36 01 10 01 0D  82 23 2B 36 01 10 01 0A  G.+6.....#+6....
40D0: 82 23 52 FB 81 F0 FF FF  7F F0 FF FF 7F 73 30 30  .#R..........s00
40E0: 31 45 FB 81 F0 FF FF 7F  F0 FF FF 7F 73 30 30 34  1E..........s004
40F0: 02 80 2B 36 01 10 01 08  82 23 52 FB 81 F0 FF FF  ..+6.....#R.....
4100: 7F F0 FF FF 7F 73 30 30  34 45 FB 81 F0 FF FF 7F  .....s004E......
4110: F0 FF FF 7F 73 30 30 35  02 80 24 09 82 02 80 02  ....s005..$.....
4120: 80 25 02 00 10 02 80 00  5A 41 52 FB 81 F0 FF FF  .%......ZAR.....
4130: 7F F0 FF FF 7F 73 30 30  35 45 FB 81 F0 FF FF 7F  .....s005E......
4140: F0 FF FF 7F 73 30 30 36  02 80 2B 36 01 10 01 0B  ....s006..+6....
4150: 82 23 03 01 10 03 80 01  8D 41 02 00 10 03 80 00  .#.......A......
4160: 8D 41 52 FB 81 F0 FF FF  7F F0 FF FF 7F 73 30 30  .AR..........s00
4170: 35 45 FB 81 F0 FF FF 7F  F0 FF FF 7F 73 30 30 36  5E..........s006
4180: 02 80 2B 36 01 10 01 0C  82 23 01 8D 41 1A 68 EC  ..+6.....#..A.h.
4190: 1C 36 80 52 FB 81 F0 FF  FF 7F F0 FF FF 7F 73 30  .6.R..........s0
41A0: 30 36 1C 4E 80 AB 11 02  80 1C 03 80 AB 0A 46 00  06.N..........F.
41B0: 45 EE 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 32 02  E..........fdi2.
41C0: 80 21 00                                          .!.             
```

## Opcodes

```
  0: 0x405F [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x4060 [0x03] Work_Zone[1] = 0*
  2: 0x4065 [0x1A] CALL_SUBROUTINE(address=0xEC68)
  3: 0x4068 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x406A [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x406D [0x92] Berghent (ID: 17826102/0x01100136)->Render.Flags3 ^= 0x01
  6: 0x4073 [0x94] Berghent (ID: 17826102/0x01100136)->Render.Flags3 ^= 0x01
  7: 0x4079 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
  8: 0x407F [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=95.658*, pos_z=-26.561*, pos_y=0.000*, direction=85.0°*)
  9: 0x408C [0x80] LOAD_WAIT(entity=LocalPlayer)
 10: 0x4091 [0x80] LOAD_WAIT(entity=Berghent (ID: 17826102/0x01100136))
 11: 0x4096 [0x4A] LocalPlayer looks at Berghent (ID: 17826102/0x01100136)
 12: 0x409F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "shk0" with entities [Berghent (ID: 17826102/0x01100136), Berghent (ID: 17826102/0x01100136)], work=63*
 13: 0x40AE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s001" with entities [LocalPlayer, LocalPlayer], work=[623*, 0*]
 14: 0x40BF [0x1A] CALL_SUBROUTINE(address=0xEC47)
 15: 0x40C2 [0x2B] Berghent (ID: 17826102/0x01100136) [8577*]:
    → "Just the memory of that drink's sublime flavor comforts me in the wee hours of the night while I'm up regrettin' the choices I've made.\u007F1\u0000\u0007"
 16: 0x40C9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x40CA [0x2B] Berghent (ID: 17826102/0x01100136) [8574*]:
    → "Its peel's all lumpy and green to the point of inducing vomit, but the fruit itself's as heartwarmingly red as my wife of forty years was...<sob>.\u007F1\u0000\u0007"
 18: 0x40D1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x40D2 [0x52] END_LOAD_SCHEDULER: End scheduler "s001" with entities [LocalPlayer, LocalPlayer], work=623*
 20: 0x40E1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s004" with entities [LocalPlayer, LocalPlayer], work=[623*, 0*]
 21: 0x40F2 [0x2B] Berghent (ID: 17826102/0x01100136) [8572*]:
    → "If you ever get your hands on one and pass it thisaway, I'd die a happy man.\u007F1\u0000\u0007"
 22: 0x40F9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x40FA [0x52] END_LOAD_SCHEDULER: End scheduler "s004" with entities [LocalPlayer, LocalPlayer], work=623*
 24: 0x4109 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s005" with entities [LocalPlayer, LocalPlayer], work=[623*, 0*]
 25: 0x411A [0x24] CREATE_DIALOG(message_id=8573*, default_option=0*, option_flags=0*)
    → "Let the man die happy?\u0007\u000BSure, I'll search for it.\u0007If I can't be happy, no one can.\u007F1\u0000\u0007"
 26: 0x4121 [0x25] WAIT_DIALOG_SELECT()
 27: 0x4122 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x415A
 28: 0x412A [0x52] END_LOAD_SCHEDULER: End scheduler "s005" with entities [LocalPlayer, LocalPlayer], work=623*
 29: 0x4139 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s006" with entities [LocalPlayer, LocalPlayer], work=[623*, 0*]
 30: 0x414A [0x2B] Berghent (ID: 17826102/0x01100136) [8575*]:
    → "<Sniff>\u0007Anyway, my life's so sad that a fruit's the best thing in it. Please, bring me this one bit o' joy.\u007F1\u0000\u0007"
 31: 0x4151 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x4152 [0x03] Work_Zone[1] = 1*
 33: 0x4157 [0x01] GOTO 0x418D

SUBROUTINE_415A:
 34: 0x415A [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x418D
 35: 0x4162 [0x52] END_LOAD_SCHEDULER: End scheduler "s005" with entities [LocalPlayer, LocalPlayer], work=623*
 36: 0x4171 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s006" with entities [LocalPlayer, LocalPlayer], work=[623*, 0*]
 37: 0x4182 [0x2B] Berghent (ID: 17826102/0x01100136) [8576*]:
    → "...Fine.\u0007I know, who'd want to help a man so old that he probably dreamed up the whole fruit bev'rage memory anyway. Ugh, life...\u007F1\u0000\u0007"
 38: 0x4189 [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x418A [0x01] GOTO 0x418D

SUBROUTINE_418D:
 40: 0x418D [0x1A] CALL_SUBROUTINE(address=0xEC68)
 41: 0x4190 [0x1C] WAIT(30* ticks)
 42: 0x4193 [0x52] END_LOAD_SCHEDULER: End scheduler "s006" with entities [LocalPlayer, LocalPlayer], work=623*
 43: 0x41A2 [0x1C] WAIT(15* ticks)
 44: 0x41A5 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 45: 0x41A9 [0x1C] WAIT(1* ticks)
 46: 0x41AC [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 47: 0x41AE [0x46] CAMERA_CONTROL: Restore default settings
 48: 0x41B0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 49: 0x41C1 [0x21] END_EVENT
 50: 0x41C2 [0x00] END_REQSTACK()
```
