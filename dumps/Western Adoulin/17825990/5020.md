# Event 5020

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 13/32     |
| Offset          | 0x4D2A    |
| Data Size       | 316 bytes |
| Calculated Size | 316 bytes |
| Instructions    | 42        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
4D20:                                42 45 00 80 F0 FF            BE....
4D30: FF 7F F0 FF FF 7F 66 64  6F 31 01 80 55 00 80 F0  ......fdo1..U...
4D40: FF FF 7F F0 FF FF 7F 66  64 6F 31 46 01 38 11 80  .......fdo1F.8..
4D50: 1C 10 80 34 D3 81 77 8C  80 10 80 1C 10 80 2F 00  ...4..w......./.
4D60: C1 00 10 01 4E 00 C1 00  10 01 94 01 C1 00 10 01  ....N...........
4D70: 94 01 F0 FF FF 7F BA F0  FF FF 7F 07 80 03 82 01  ................
4D80: 80 04 82 BA C1 00 10 01  05 82 06 82 01 80 04 82  ................
4D90: 80 F0 FF FF 7F 80 C1 00  10 01 4A C1 00 10 01 F0  ..........J.....
4DA0: FF FF 7F 4A F0 FF FF 7F  C1 00 10 01 1C 07 80 45  ...J...........E
4DB0: E3 81 F8 FF FF 7F F8 FF  FF 7F 73 31 30 31 01 80  ..........s101..
4DC0: 1C 09 80 45 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  ...E..........fd
4DD0: 69 31 01 80 66 E9 81 C1  00 10 01 C1 00 10 01 74  i1..f..........t
4DE0: 6C 6B 30 2B C1 00 10 01  07 82 23 52 E3 81 F8 FF  lk0+......#R....
4DF0: FF 7F F8 FF FF 7F 73 31  30 31 45 E3 81 F8 FF FF  ......s101E.....
4E00: 7F F8 FF FF 7F 73 31 30  32 01 80 2B C1 00 10 01  .....s102..+....
4E10: 01 82 23 2B C1 00 10 01  02 82 23 45 00 80 F0 FF  ..#+......#E....
4E20: FF 7F F0 FF FF 7F 66 64  6F 31 01 80 55 00 80 F0  ......fdo1..U...
4E30: FF FF 7F F0 FF FF 7F 66  64 6F 31 52 E3 81 F8 FF  .......fdo1R....
4E40: FF 7F F8 FF FF 7F 73 31  30 32 35 A2 80 78 1C 10  ......s1025..x..
4E50: 80 46 00 45 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .F.E..........fd
4E60: 69 32 01 80 21 00                                 i2..!.          
```

## Opcodes

```
  0: 0x4D2A [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x4D2B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  2: 0x4D3C [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
  3: 0x4D4B [0x46] CAMERA_CONTROL: Disable user control
  4: 0x4D4D [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x4D50 [0x1C] WAIT(1* ticks)
  6: 0x4D53 [0x34] LOAD_UNLOAD_ZONE(zone_id=593*)
  7: 0x4D56 [0x77] SET_EVENT_TIME_WEATHER(hour=255*, weather=1*)
  8: 0x4D5B [0x1C] WAIT(1* ticks)
  9: 0x4D5E [0x2F] Alianne (ID: 17825985/0x011000C1)->Render.Flags0 &= ~0x80000 // Bit 19
 10: 0x4D64 [0x4E] SET_ENTITY_HIDE_FLAG: Show Alianne (ID: 17825985/0x011000C1)
 11: 0x4D6A [0x94] Alianne (ID: 17825985/0x011000C1)->Render.Flags3 ^= 0x01
 12: 0x4D70 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 13: 0x4D76 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=0.030*, pos_z=-22.374*, pos_y=0.000*, direction=263.1°*)
 14: 0x4D83 [0xBA] SET_ENTITY_POSITION(entity_id=Alianne (ID: 17825985/0x011000C1), pos_x=0.091*, pos_z=-19.928*, pos_y=0.000*, direction=263.1°*)
 15: 0x4D90 [0x80] LOAD_WAIT(entity=LocalPlayer)
 16: 0x4D95 [0x80] LOAD_WAIT(entity=Alianne (ID: 17825985/0x011000C1))
 17: 0x4D9A [0x4A] Alianne (ID: 17825985/0x011000C1) looks at LocalPlayer
 18: 0x4DA3 [0x4A] LocalPlayer looks at Alianne (ID: 17825985/0x011000C1)
 19: 0x4DAC [0x1C] WAIT(30* ticks)
 20: 0x4DAF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s101" with entities [EventEntity, EventEntity], work=[621*, 0*]
 21: 0x4DC0 [0x1C] WAIT(15* ticks)
 22: 0x4DC3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 23: 0x4DD4 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Alianne (ID: 17825985/0x011000C1), Alianne (ID: 17825985/0x011000C1)], work=159*
 24: 0x4DE3 [0x2B] Alianne (ID: 17825985/0x011000C1) [9473*]:
    → "Mistress Svenja's urgent business has taken her to the Celennia Memorial Library.\u007F1\u0000\u0007"
 25: 0x4DEA [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x4DEB [0x52] END_LOAD_SCHEDULER: End scheduler "s101" with entities [EventEntity, EventEntity], work=621*
 27: 0x4DFA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s102" with entities [EventEntity, EventEntity], work=[621*, 0*]
 28: 0x4E0B [0x2B] Alianne (ID: 17825985/0x011000C1) [9471*]:
    → "The library is located right next to the Scouts' Coalition in Eastern Adoulin.\u007F1\u0000\u0007"
 29: 0x4E12 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x4E13 [0x2B] Alianne (ID: 17825985/0x011000C1) [9472*]:
    → "If you hurry, you may still be able to catch her.\u007F1\u0000\u0007"
 31: 0x4E1A [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x4E1B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 33: 0x4E2C [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 34: 0x4E3B [0x52] END_LOAD_SCHEDULER: End scheduler "s102" with entities [EventEntity, EventEntity], work=621*
 35: 0x4E4A [0x35] LOAD_ZONE_NO_CLOSE(zone_id=700*)
 36: 0x4E4D [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 37: 0x4E4E [0x1C] WAIT(1* ticks)
 38: 0x4E51 [0x46] CAMERA_CONTROL: Restore default settings
 39: 0x4E53 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 40: 0x4E64 [0x21] END_EVENT
 41: 0x4E65 [0x00] END_REQSTACK()
```
