# Event 5100

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 47/66     |
| Offset          | 0x03AE    |
| Data Size       | 842 bytes |
| Calculated Size | 842 bytes |
| Instructions    | 142       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
03A0:                                            03 06                ..
03B0: 00 09 10 02 06 00 13 80  00 BE 03 01 BF 03 42 03  ..............B.
03C0: 01 00 03 10 03 02 00 04  10 03 03 00 05 10 03 04  ................
03D0: 00 06 10 03 05 00 07 10  06 01 10 1E F0 FF FF 7F  ................
03E0: 6F 70 02 06 00 13 80 00  38 04 02 01 00 13 80 00  op......8.......
03F0: F9 03 3C 07 00 07 80 13  80 02 02 00 13 80 00 08  ..<.............
0400: 04 3C 07 00 13 80 13 80  02 03 00 13 80 00 17 04  .<..............
0410: 3C 07 00 18 80 13 80 02  04 00 13 80 00 26 04 3C  <............&.<
0420: 07 00 1D 80 13 80 02 05  00 13 80 00 35 04 3C 07  ............5.<.
0430: 00 1E 80 13 80 01 A2 04  29 08 37 01 10 01 07 1D  ........).7.....
0440: 1F 80 23 29 10 F0 FF FF  7F 06 1C 20 80 29 08 37  ..#)....... .).7
0450: 01 10 01 08 29 08 37 01  10 01 09 48 21 80 1C 00  ....).7....H!...
0460: 80 1D 22 80 23 03 02 10  23 80 1D 24 80 23 29 08  ..".#...#..$.#).
0470: 37 01 10 01 0A 29 08 37  01 10 01 03 03 03 10 25  7....).7.......%
0480: 80 1D 26 80 23 29 08 37  01 10 01 04 29 08 37 01  ..&.#).7....).7.
0490: 10 01 05 1D 27 80 23 1D  28 80 23 29 08 37 01 10  ....'.#.(.#).7..
04A0: 01 06 29 08 37 01 10 01  07 1D 29 80 23 29 08 37  ..).7.....).#).7
04B0: 01 10 01 08 06 00 00 29  08 37 01 10 01 09 03 02  .......).7......
04C0: 10 2A 80 03 03 10 2B 80  03 04 10 2C 80 03 05 10  .*....+....,....
04D0: 2D 80 03 06 10 2E 80 24  2F 80 07 80 07 00 25 02  -......$/.....%.
04E0: 00 10 07 80 00 FC 04 29  08 37 01 10 01 0A 03 00  .......).7......
04F0: 00 07 80 1A C7 05 01 B4  04 01 B5 05 02 00 10 13  ................
0500: 80 00 19 05 29 08 37 01  10 01 0A 03 00 00 13 80  ....).7.........
0510: 1A C7 05 01 B4 04 01 B5  05 02 00 10 18 80 00 36  ...............6
0520: 05 29 08 37 01 10 01 0A  03 00 00 18 80 1A C7 05  .).7............
0530: 01 B4 04 01 B5 05 02 00  10 1D 80 00 53 05 29 08  ............S.).
0540: 37 01 10 01 0A 03 00 00  1D 80 1A C7 05 01 B4 04  7...............
0550: 01 B5 05 02 00 10 1E 80  00 70 05 29 08 37 01 10  .........p.).7..
0560: 01 0A 03 00 00 1E 80 1A  C7 05 01 B4 04 01 B5 05  ................
0570: 02 00 10 30 80 00 B5 05  29 08 37 01 10 01 0A 02  ...0....).7.....
0580: 06 00 13 80 00 8A 05 01  AE 05 29 08 37 01 10 01  ..........).7...
0590: 0B 1D 31 80 23 29 08 37  01 10 01 0C 29 08 37 01  ..1.#).7....).7.
05A0: 10 01 0D 1D 32 80 23 29  08 37 01 10 01 0E 1D 33  ....2.#).7.....3
05B0: 80 23 01 B5 05 02 06 00  13 80 00 C0 05 01 C3 05  .#..............
05C0: 05 01 10 20 00 21 00 02  00 00 07 80 80 F0 05 03  ... .!..........
05D0: 0B 00 2A 80 03 0C 00 34  80 03 0D 00 35 80 03 0E  ..*....4....5...
05E0: 00 36 80 03 0F 00 37 80  03 0A 00 38 80 01 94 06  .6....7....8....
05F0: 02 00 00 13 80 80 19 06  03 0B 00 2B 80 03 0C 00  ...........+....
0600: 34 80 03 0D 00 39 80 03  0E 00 3A 80 03 0F 00 3B  4....9....:....;
0610: 80 03 0A 00 38 80 01 94  06 02 00 00 18 80 80 42  ....8..........B
0620: 06 03 0B 00 2C 80 03 0C  00 34 80 03 0D 00 3C 80  ....,....4....<.
0630: 03 0E 00 3D 80 03 0F 00  3E 80 03 0A 00 38 80 01  ...=....>....8..
0640: 94 06 02 00 00 1D 80 80  6B 06 03 0B 00 2D 80 03  ........k....-..
0650: 0C 00 34 80 03 0D 00 3F  80 03 0E 00 3A 80 03 0F  ..4....?....:...
0660: 00 40 80 03 0A 00 38 80  01 94 06 02 00 00 1E 80  .@....8.........
0670: 80 94 06 03 0B 00 2E 80  03 0C 00 34 80 03 0D 00  ...........4....
0680: 3F 80 03 0E 00 41 80 03  0F 00 42 80 03 0A 00 38  ?....A....B....8
0690: 80 01 94 06 93 0B 00 03  02 10 0B 00 1D 43 80 23  .............C.#
06A0: 93 07 80 29 08 37 01 10  01 03 03 03 10 0C 00 03  ...).7..........
06B0: 04 10 0D 00 03 05 10 0E  00 1D 44 80 23 29 08 37  ..........D.#).7
06C0: 01 10 01 04 29 08 37 01  10 01 05 1D 45 80 23 29  ....).7.....E.#)
06D0: 08 37 01 10 01 06 29 08  37 01 10 01 07 03 03 10  .7....).7.......
06E0: 0C 00 03 06 10 0F 00 03  07 10 0A 00 1D 46 80 23  .............F.#
06F0: 29 08 37 01 10 01 08 1B                           ).7.....        
```

## Opcodes

```
  0: 0x03AE [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[9]
  1: 0x03B3 [0x02] IF !(ExtData[1]->WorkLocal[6] == 1*) GOTO 0x03BE
  2: 0x03BB [0x01] GOTO 0x03BF
  3: 0x03BE [0x42] SET_CLI_EVENT_CANCEL_DATA()

SUBROUTINE_03BF:
  4: 0x03BF [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[3]
  5: 0x03C4 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[4]
  6: 0x03C9 [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[5]
  7: 0x03CE [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[6]
  8: 0x03D3 [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[7]
  9: 0x03D8 [0x06] Work_Zone[1] = 0
 10: 0x03DB [0x1E] EventEntity looks at LocalPlayer and starts talking
 11: 0x03E0 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 12: 0x03E1 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 13: 0x03E2 [0x02] IF !(ExtData[1]->WorkLocal[6] == 1*) GOTO 0x0438
 14: 0x03EA [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x03F9
 15: 0x03F2 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x07, bit_index_work_offset=0x8007, condition_work_offset=0x8013)
 16: 0x03F9 [0x02] IF !(ExtData[1]->WorkLocal[2] == 1*) GOTO 0x0408
 17: 0x0401 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x07, bit_index_work_offset=0x8013, condition_work_offset=0x8013)
 18: 0x0408 [0x02] IF !(ExtData[1]->WorkLocal[3] == 1*) GOTO 0x0417
 19: 0x0410 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x07, bit_index_work_offset=0x8018, condition_work_offset=0x8013)
 20: 0x0417 [0x02] IF !(ExtData[1]->WorkLocal[4] == 1*) GOTO 0x0426
 21: 0x041F [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x07, bit_index_work_offset=0x801D, condition_work_offset=0x8013)
 22: 0x0426 [0x02] IF !(ExtData[1]->WorkLocal[5] == 1*) GOTO 0x0435
 23: 0x042E [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x07, bit_index_work_offset=0x801E, condition_work_offset=0x8013)
 24: 0x0435 [0x01] GOTO 0x04A2
 25: 0x0438 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x07)
 26: 0x043F [0x1D] PRINT_EVENT_MESSAGE(message_id=11514*)
    → "Altana take me! Why, if'n 'tisn't mah sweet ol' pum'kin, \u0008!\u007F1\u0000\u0007"
 27: 0x0442 [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x0443 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x06)
 29: 0x044A [0x1C] WAIT(60* ticks)
 30: 0x044D [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x08)
 31: 0x0454 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x09)
 32: 0x045B [0x48] [System] [11515*]:
    → "\u001F\u000FWescolina's eyes begin to twinkle.\u0000\u0007"
 33: 0x045E [0x1C] WAIT(70* ticks)
 34: 0x0461 [0x1D] PRINT_EVENT_MESSAGE(message_id=11516*)
    → "Well, Ah'll be a leafkin's uncle! The day is 'pon us!\u007F1\u0000\u0007"
 35: 0x0464 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x0465 [0x03] Work_Zone[2] = 2511*
 37: 0x046A [0x1D] PRINT_EVENT_MESSAGE(message_id=11517*)
    → "Ikhi done come o'er heah 'n show me that ol' work from the lieberry. Ah can make 'em for you, right as rain!\u007F1\u0000\u0007"
 38: 0x046D [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x046E [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x0A)
 40: 0x0475 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x03)
 41: 0x047C [0x03] Work_Zone[3] = 2513*
 42: 0x0481 [0x1D] PRINT_EVENT_MESSAGE(message_id=11518*)
    → "With all those ol' \u0001\u00055\u0002\u0001\u0000\u0000 you done brought me, should be as simpl' as pluckin' feathers from a heartwing.\u007F1\u0000\u0007"
 43: 0x0484 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x0485 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x04)
 45: 0x048C [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x05)
 46: 0x0493 [0x1D] PRINT_EVENT_MESSAGE(message_id=11519*)
    → "'N when it comes to clippers, you came to th' right place, fo' right and fo' true!\u007F1\u0000\u0007"
 47: 0x0496 [0x23] WAIT_FOR_DIALOG_INTERACTION
 48: 0x0497 [0x1D] PRINT_EVENT_MESSAGE(message_id=11520*)
    → "Our Or'er of Renaye friends have done paid mah fee in advance, so all I be needin' 'tis the materials t'emselves.\u007F1\u0000\u0007"
 49: 0x049A [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x049B [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x06)

SUBROUTINE_04A2:
 51: 0x04A2 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x07)
 52: 0x04A9 [0x1D] PRINT_EVENT_MESSAGE(message_id=11521*)
    → "I be needin' the right amount to stitch y'self up a mess o' garments. 'Course, all d'pends on what part you want...\u007F1\u0000\u0007"
 53: 0x04AC [0x23] WAIT_FOR_DIALOG_INTERACTION
 54: 0x04AD [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x08)

SUBROUTINE_04B4:
 55: 0x04B4 [0x06] ExtData[1]->WorkLocal[0] = 0
 56: 0x04B7 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x09)
 57: 0x04BE [0x03] Work_Zone[2] = 26664*
 58: 0x04C3 [0x03] Work_Zone[3] = 26840*
 59: 0x04C8 [0x03] Work_Zone[4] = 27016*
 60: 0x04CD [0x03] Work_Zone[5] = 27192*
 61: 0x04D2 [0x03] Work_Zone[6] = 27368*
 62: 0x04D7 [0x24] CREATE_DIALOG(message_id=11522*, default_option=0*, option_flags=0x07)
    → "Check for which item?\u0007\u000BHead: \u007F\u0000\u0001\u0001\u0005#\u0002\u0000\u0000\u0000.\u0007Chest: \u007F\u0000\u0001\u0001\u0005#\u0002\u0001\u0000\u0000.\u0007Hands: \u007F\u0000\u0001\u0001\u0005#\u0002\u0002\u0000\u0000.\u0007Legs: \u007F\u0000\u0001\u0001\u0005#\u0002\u0003\u0000\u0000.\u0007Feet: \u007F\u0000\u0001\u0001\u0005#\u0002\u0004\u0000\u0000\u0007I'm done for now.\u007F1\u0000\u0007"
 63: 0x04DE [0x25] WAIT_DIALOG_SELECT()
 64: 0x04DF [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x04FC
 65: 0x04E7 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x0A)
 66: 0x04EE [0x03] ExtData[1]->WorkLocal[0] = 0*
 67: 0x04F3 [0x1A] CALL_SUBROUTINE(address=0x05C7)
 68: 0x04F6 [0x01] GOTO 0x04B4

SUBROUTINE_05AE:
 69: 0x05AE [0x1D] PRINT_EVENT_MESSAGE(message_id=11529*)
    → "But in the name o' ol' Zacariah, I promise that you'll have clothin' fittin' of one attuned with nature!\u007F1\u0000\u0007"
 70: 0x05B1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 71: 0x05B2 [0x01] GOTO 0x05B5

SUBROUTINE_05B5:
 72: 0x05B5 [0x02] IF !(ExtData[1]->WorkLocal[6] == 1*) GOTO 0x05C0
 73: 0x05BD [0x01] GOTO 0x05C3
 74: 0x05C0 [0x05] Work_Zone[1] = 1

SUBROUTINE_05C3:
 75: 0x05C3 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 76: 0x05C5 [0x21] END_EVENT
 77: 0x05C6 [0x00] END_REQSTACK()

SUBROUTINE_05C7:
 78: 0x05C7 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x05F0
 79: 0x05CF [0x03] ExtData[1]->WorkLocal[11] = 26664*
 80: 0x05D4 [0x03] ExtData[1]->WorkLocal[12] = 1459*
 81: 0x05D9 [0x03] ExtData[1]->WorkLocal[13] = 4030*
 82: 0x05DE [0x03] ExtData[1]->WorkLocal[14] = 8708*
 83: 0x05E3 [0x03] ExtData[1]->WorkLocal[15] = 5944*
 84: 0x05E8 [0x03] ExtData[1]->WorkLocal[10] = 97000*
 85: 0x05ED [0x01] GOTO 0x0694
 86: 0x05F0 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x0619
 87: 0x05F8 [0x03] ExtData[1]->WorkLocal[11] = 26840*
 88: 0x05FD [0x03] ExtData[1]->WorkLocal[12] = 1459*
 89: 0x0602 [0x03] ExtData[1]->WorkLocal[13] = 1993*
 90: 0x0607 [0x03] ExtData[1]->WorkLocal[14] = 4028*
 91: 0x060C [0x03] ExtData[1]->WorkLocal[15] = 5775*
 92: 0x0611 [0x03] ExtData[1]->WorkLocal[10] = 97000*
 93: 0x0616 [0x01] GOTO 0x0694
 94: 0x0619 [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x0642
 95: 0x0621 [0x03] ExtData[1]->WorkLocal[11] = 27016*
 96: 0x0626 [0x03] ExtData[1]->WorkLocal[12] = 1459*
 97: 0x062B [0x03] ExtData[1]->WorkLocal[13] = 4095*
 98: 0x0630 [0x03] ExtData[1]->WorkLocal[14] = 4027*
 99: 0x0635 [0x03] ExtData[1]->WorkLocal[15] = 5941*
100: 0x063A [0x03] ExtData[1]->WorkLocal[10] = 97000*
101: 0x063F [0x01] GOTO 0x0694
102: 0x0642 [0x02] IF !(ExtData[1]->WorkLocal[0] == 3*) GOTO 0x066B
103: 0x064A [0x03] ExtData[1]->WorkLocal[11] = 27192*
104: 0x064F [0x03] ExtData[1]->WorkLocal[12] = 1459*
105: 0x0654 [0x03] ExtData[1]->WorkLocal[13] = 1994*
106: 0x0659 [0x03] ExtData[1]->WorkLocal[14] = 4028*
107: 0x065E [0x03] ExtData[1]->WorkLocal[15] = 5942*
108: 0x0663 [0x03] ExtData[1]->WorkLocal[10] = 97000*
109: 0x0668 [0x01] GOTO 0x0694
110: 0x066B [0x02] IF !(ExtData[1]->WorkLocal[0] == 4*) GOTO 0x0694
111: 0x0673 [0x03] ExtData[1]->WorkLocal[11] = 27368*
112: 0x0678 [0x03] ExtData[1]->WorkLocal[12] = 1459*
113: 0x067D [0x03] ExtData[1]->WorkLocal[13] = 1994*
114: 0x0682 [0x03] ExtData[1]->WorkLocal[14] = 2199*
115: 0x0687 [0x03] ExtData[1]->WorkLocal[15] = 5940*
116: 0x068C [0x03] ExtData[1]->WorkLocal[10] = 97000*
117: 0x0691 [0x01] GOTO 0x0694

SUBROUTINE_0694:
118: 0x0694 [0x93] DISPLAY_ITEM_INFO(item_id=ExtData[1]->WorkLocal[11])
119: 0x0697 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[11]
120: 0x069C [0x1D] PRINT_EVENT_MESSAGE(message_id=11523*)
    → "Hoo boy, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000?\u007F1\u0000\u0007"
121: 0x069F [0x23] WAIT_FOR_DIALOG_INTERACTION
122: 0x06A0 [0x93] DISPLAY_ITEM_INFO(item_id=0*)
123: 0x06A3 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x03)
124: 0x06AA [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[12]
125: 0x06AF [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[13]
126: 0x06B4 [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[14]
127: 0x06B9 [0x1D] PRINT_EVENT_MESSAGE(message_id=11524*)
    → "Lemme jus' put on mah thinkin' bonnet...\u0007Yes, I be needin' \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000, 'course, in addition to \u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000 and \u0001\u0001\u0001 \u0001\u0005$\u0002\u0003\u0000\u0000. Yuppers, if'n you could bring those to me that'd be th' bee's knees!\u007F1\u0000\u0007"
128: 0x06BC [0x23] WAIT_FOR_DIALOG_INTERACTION
129: 0x06BD [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x04)
130: 0x06C4 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x05)
131: 0x06CB [0x1D] PRINT_EVENT_MESSAGE(message_id=11525*)
    → "But Ah know that you're busier than an alley cat durin' matin' season, so Ah can spot you some o' the materials.\u007F1\u0000\u0007"
132: 0x06CE [0x23] WAIT_FOR_DIALOG_INTERACTION
133: 0x06CF [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x06)
134: 0x06D6 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x07)
135: 0x06DD [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[12]
136: 0x06E2 [0x03] Work_Zone[6] = ExtData[1]->WorkLocal[15]
137: 0x06E7 [0x03] Work_Zone[7] = ExtData[1]->WorkLocal[10]
138: 0x06EC [0x1D] PRINT_EVENT_MESSAGE(message_id=11526*)
    → "So if'n you just gimme the most important parts--\u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000 and \u0001\u0001\u0001 \u0001\u0005$\u0002\u0004\u0000\u0000--together with 
\u0005 bayld, I should be able to handle things from theah.\u007F1\u0000\u0007"
139: 0x06EF [0x23] WAIT_FOR_DIALOG_INTERACTION
140: 0x06F0 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Wescolina (ID: 17826103/0x01100137), tag_num=0x08)
141: 0x06F7 [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x04F9 [0x01] GOTO 0x05B5
     0x0516 [0x01] GOTO 0x05B5
     0x0533 [0x01] GOTO 0x05B5
     0x0550 [0x01] GOTO 0x05B5
     0x056D [0x01] GOTO 0x05B5
```