# Event 37

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 9/10      |
| Offset          | 0x1616    |
| Data Size       | 475 bytes |
| Calculated Size | 475 bytes |
| Instructions    | 96        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1610:                   4A 8A  00 10 01 F0 FF FF 7F 6F        J........o
1620: 76 8A 00 10 01 6E 8A 00  10 01 86 80 99 8A 00 10  v....n..........
1630: 01 2B 8A 00 10 01 87 80  23 6E 8A 00 10 01 19 80  .+......#n......
1640: 99 8A 00 10 01 2B 8A 00  10 01 88 80 23 7C 00 8A  .....+......#|..
1650: 00 10 01 2B 8A 00 10 01  4E 80 23 7C 01 8A 00 10  ...+....N.#|....
1660: 01 6E 8A 00 10 01 2E 80  99 8A 00 10 01 2B 8A 00  .n...........+..
1670: 10 01 89 80 23 66 0A 80  8A 00 10 01 8A 00 10 01  ....#f..........
1680: 74 6C 6B 30 03 02 10 8A  80 03 03 10 8B 80 2B 8A  tlk0..........+.
1690: 00 10 01 8C 80 23 2B 8A  00 10 01 8D 80 23 66 0A  .....#+......#f.
16A0: 80 8A 00 10 01 8A 00 10  01 74 6C 6B 31 24 8E 80  .........tlk1$..
16B0: 09 80 09 80 25 02 00 10  09 80 00 CB 16 2B 8A 00  ....%........+..
16C0: 10 01 8F 80 23 06 01 10  01 EF 17 02 00 10 17 80  ....#...........
16D0: 00 5D 17 42 03 01 10 17  80 43 00 43 01 02 09 10  .].B.....C.C....
16E0: 09 80 80 FF 16 6E 8A 00  10 01 00 80 99 8A 00 10  .....n..........
16F0: 01 2B 8A 00 10 01 90 80  23 06 01 10 01 5A 17 02  .+......#....Z..
1700: 09 10 17 80 80 38 17 6E  8A 00 10 01 2E 80 99 8A  .....8.n........
1710: 00 10 01 2B 8A 00 10 01  91 80 23 66 13 80 8A 00  ...+......#f....
1720: 10 01 8A 00 10 01 74 6C  61 30 2B 8A 00 10 01 92  ......tla0+.....
1730: 80 23 05 01 10 01 5A 17  02 09 10 93 80 80 5A 17  .#....Z.......Z.
1740: 6E 8A 00 10 01 00 80 99  8A 00 10 01 2B 8A 00 10  n...........+...
1750: 01 94 80 23 06 01 10 01  5A 17 01 EF 17 02 00 10  ...#....Z.......
1760: 93 80 00 EF 17 42 03 01  10 93 80 43 00 43 01 02  .....B.....C.C..
1770: 09 10 09 80 80 91 17 6E  8A 00 10 01 00 80 99 8A  .......n........
1780: 00 10 01 2B 8A 00 10 01  90 80 23 06 01 10 01 EC  ...+......#.....
1790: 17 02 09 10 17 80 80 CA  17 6E 8A 00 10 01 2E 80  .........n......
17A0: 99 8A 00 10 01 2B 8A 00  10 01 91 80 23 66 13 80  .....+......#f..
17B0: 8A 00 10 01 8A 00 10 01  74 6C 61 30 2B 8A 00 10  ........tla0+...
17C0: 01 92 80 23 05 01 10 01  EC 17 02 09 10 93 80 80  ...#............
17D0: EC 17 6E 8A 00 10 01 00  80 99 8A 00 10 01 2B 8A  ..n...........+.
17E0: 00 10 01 94 80 23 06 01  10 01 EC 17 01 EF 17 21  .....#.........!
17F0: 00                                                .               
```

## Opcodes

```
  0: 0x1616 [0x4A] Sylvie (ID: 17825930/0x0110008A) looks at LocalPlayer
  1: 0x161F [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x1620 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Sylvie (ID: 17825930/0x0110008A) Render.Flags0 and Render.Flags3 conditions are met
  3: 0x1625 [0x6E] Sylvie (ID: 17825930/0x0110008A) uses emote 21*
  4: 0x162C [0x99] Wait for Sylvie (ID: 17825930/0x0110008A) animation to complete
  5: 0x1631 [0x2B] Sylvie (ID: 17825930/0x0110008A) [12480*]:
    → "You what!?\u0007Who goes around throwing away a perfectly good handbell!?\u007F1\u0000\u0007"
  6: 0x1638 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x1639 [0x6E] Sylvie (ID: 17825930/0x0110008A) uses emote 6*
  8: 0x1640 [0x99] Wait for Sylvie (ID: 17825930/0x0110008A) animation to complete
  9: 0x1645 [0x2B] Sylvie (ID: 17825930/0x0110008A) [12481*]:
    → "I thought I'd made it perfectly clear how it was almost as important as your luopan...\u007F1\u0000\u0007"
 10: 0x164C [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x164D [0x7C] Sylvie (ID: 17825930/0x0110008A)->Render.Flags2 |= 0x00
 12: 0x1653 [0x2B] Sylvie (ID: 17825930/0x0110008A) [12436*]:
    → "<Grunt>\u007F1\u0000\u0007"
 13: 0x165A [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x165B [0x7C] Sylvie (ID: 17825930/0x0110008A)->Render.Flags2 |= 0x01
 15: 0x1661 [0x6E] Sylvie (ID: 17825930/0x0110008A) uses emote 7*
 16: 0x1668 [0x99] Wait for Sylvie (ID: 17825930/0x0110008A) animation to complete
 17: 0x166D [0x2B] Sylvie (ID: 17825930/0x0110008A) [12482*]:
    → "Fine, fine. I'll let you have another handbell--but because it was your fault, you get to shoe the bill.\u007F1\u0000\u0007"
 18: 0x1674 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x1675 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Sylvie (ID: 17825930/0x0110008A), Sylvie (ID: 17825930/0x0110008A)], work=159*
 20: 0x1684 [0x03] Work_Zone[2] = 300000*
 21: 0x1689 [0x03] Work_Zone[3] = 150000*
 22: 0x168E [0x2B] Sylvie (ID: 17825930/0x0110008A) [12483*]:
    → "I accept payment in the form of either 
\u0000 gil or 
\u0001 bayld.\u007F1\u0000\u0007"
 23: 0x1695 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x1696 [0x2B] Sylvie (ID: 17825930/0x0110008A) [12484*]:
    → "So? How is this transaction gonna go down?\u007F1\u0000\u0007"
 25: 0x169D [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x169E [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [Sylvie (ID: 17825930/0x0110008A), Sylvie (ID: 17825930/0x0110008A)], work=159*
 27: 0x16AD [0x24] CREATE_DIALOG(message_id=12485*, default_option=0*, option_flags=0*)
    → "Select your payment method.\u0007\u000BHang on.\u0007Gil.\u0007Bayld.\u007F1\u0000\u0007"
 28: 0x16B4 [0x25] WAIT_DIALOG_SELECT()
 29: 0x16B5 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x16CB
 30: 0x16BD [0x2B] Sylvie (ID: 17825930/0x0110008A) [12486*]:
    → "Are you reeeally sure? No true geomancer would ever go without their bell!\u007F1\u0000\u0007"
 31: 0x16C4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x16C5 [0x06] Work_Zone[1] = 0
 33: 0x16C8 [0x01] GOTO 0x17EF
 34: 0x16CB [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x175D
 35: 0x16D3 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 36: 0x16D4 [0x03] Work_Zone[1] = 1*
 37: 0x16D9 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 38: 0x16DB [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 39: 0x16DD [0x02] IF !(Work_Zone[9] == 0*) GOTO 0x16FF
 40: 0x16E5 [0x6E] Sylvie (ID: 17825930/0x0110008A) uses emote 32*
 41: 0x16EC [0x99] Wait for Sylvie (ID: 17825930/0x0110008A) animation to complete
 42: 0x16F1 [0x2B] Sylvie (ID: 17825930/0x0110008A) [12489*]:
    → "Hmm...you don't seem to have enough. I can't let you have a new one just because you have a pretty face.\u007F1\u0000\u0007"
 43: 0x16F8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x16F9 [0x06] Work_Zone[1] = 0
 45: 0x16FC [0x01] GOTO 0x175A
 46: 0x16FF [0x02] IF !(Work_Zone[9] == 1*) GOTO 0x1738
 47: 0x1707 [0x6E] Sylvie (ID: 17825930/0x0110008A) uses emote 7*
 48: 0x170E [0x99] Wait for Sylvie (ID: 17825930/0x0110008A) animation to complete
 49: 0x1713 [0x2B] Sylvie (ID: 17825930/0x0110008A) [12487*]:
    → "Let's seal the deal, then.\u007F1\u0000\u0007"
 50: 0x171A [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x171B [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tla0" with entities [Sylvie (ID: 17825930/0x0110008A), Sylvie (ID: 17825930/0x0110008A)], work=158*
 52: 0x172A [0x2B] Sylvie (ID: 17825930/0x0110008A) [12488*]:
    → "Here's your new handbell. Please keep better track of this one, okay?\u007F1\u0000\u0007"
 53: 0x1731 [0x23] WAIT_FOR_DIALOG_INTERACTION
 54: 0x1732 [0x05] Work_Zone[1] = 1
 55: 0x1735 [0x01] GOTO 0x175A
 56: 0x1738 [0x02] IF !(Work_Zone[9] == 2*) GOTO 0x175A
 57: 0x1740 [0x6E] Sylvie (ID: 17825930/0x0110008A) uses emote 32*
 58: 0x1747 [0x99] Wait for Sylvie (ID: 17825930/0x0110008A) animation to complete
 59: 0x174C [0x2B] Sylvie (ID: 17825930/0x0110008A) [12491*]:
    → "What's this then? \u00072You can't carry any more\u00073? Lemme know when you've get everything sorted out, and we'll do this again!\u007F1\u0000\u0007"
 60: 0x1753 [0x23] WAIT_FOR_DIALOG_INTERACTION
 61: 0x1754 [0x06] Work_Zone[1] = 0
 62: 0x1757 [0x01] GOTO 0x175A

SUBROUTINE_175A:
 63: 0x175A [0x01] GOTO 0x17EF
 64: 0x175D [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x17EF
 65: 0x1765 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 66: 0x1766 [0x03] Work_Zone[1] = 2*
 67: 0x176B [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 68: 0x176D [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 69: 0x176F [0x02] IF !(Work_Zone[9] == 0*) GOTO 0x1791
 70: 0x1777 [0x6E] Sylvie (ID: 17825930/0x0110008A) uses emote 32*
 71: 0x177E [0x99] Wait for Sylvie (ID: 17825930/0x0110008A) animation to complete
 72: 0x1783 [0x2B] Sylvie (ID: 17825930/0x0110008A) [12489*]:
    → "Hmm...you don't seem to have enough. I can't let you have a new one just because you have a pretty face.\u007F1\u0000\u0007"
 73: 0x178A [0x23] WAIT_FOR_DIALOG_INTERACTION
 74: 0x178B [0x06] Work_Zone[1] = 0
 75: 0x178E [0x01] GOTO 0x17EC
 76: 0x1791 [0x02] IF !(Work_Zone[9] == 1*) GOTO 0x17CA
 77: 0x1799 [0x6E] Sylvie (ID: 17825930/0x0110008A) uses emote 7*
 78: 0x17A0 [0x99] Wait for Sylvie (ID: 17825930/0x0110008A) animation to complete
 79: 0x17A5 [0x2B] Sylvie (ID: 17825930/0x0110008A) [12487*]:
    → "Let's seal the deal, then.\u007F1\u0000\u0007"
 80: 0x17AC [0x23] WAIT_FOR_DIALOG_INTERACTION
 81: 0x17AD [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tla0" with entities [Sylvie (ID: 17825930/0x0110008A), Sylvie (ID: 17825930/0x0110008A)], work=158*
 82: 0x17BC [0x2B] Sylvie (ID: 17825930/0x0110008A) [12488*]:
    → "Here's your new handbell. Please keep better track of this one, okay?\u007F1\u0000\u0007"
 83: 0x17C3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 84: 0x17C4 [0x05] Work_Zone[1] = 1
 85: 0x17C7 [0x01] GOTO 0x17EC
 86: 0x17CA [0x02] IF !(Work_Zone[9] == 2*) GOTO 0x17EC
 87: 0x17D2 [0x6E] Sylvie (ID: 17825930/0x0110008A) uses emote 32*
 88: 0x17D9 [0x99] Wait for Sylvie (ID: 17825930/0x0110008A) animation to complete
 89: 0x17DE [0x2B] Sylvie (ID: 17825930/0x0110008A) [12491*]:
    → "What's this then? \u00072You can't carry any more\u00073? Lemme know when you've get everything sorted out, and we'll do this again!\u007F1\u0000\u0007"
 90: 0x17E5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 91: 0x17E6 [0x06] Work_Zone[1] = 0
 92: 0x17E9 [0x01] GOTO 0x17EC

SUBROUTINE_17EC:
 93: 0x17EC [0x01] GOTO 0x17EF

SUBROUTINE_17EF:
 94: 0x17EF [0x21] END_EVENT
 95: 0x17F0 [0x00] END_REQSTACK()
```
