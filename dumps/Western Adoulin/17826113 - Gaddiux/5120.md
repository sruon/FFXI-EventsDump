# Event 5120

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 19/21     |
| Offset          | 0x0406    |
| Data Size       | 232 bytes |
| Calculated Size | 232 bytes |
| Instructions    | 56        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0400:                   03 00  00 02 10 1E F0 FF FF 7F        ..........
0410: 6F 70 4A F0 FF FF 7F 41  01 10 01 6F 76 F0 FF FF  opJ....A...ov...
0420: 7F 1D 34 80 23 06 01 10  02 00 00 16 80 00 37 04  ..4.#.........7.
0430: 3C 01 00 16 80 16 80 03  02 10 35 80 24 36 80 06  <.........5.$6..
0440: 80 01 00 25 02 00 10 06  80 00 4F 04 01 EC 04 02  ...%......O.....
0450: 00 10 16 80 00 9C 04 42  6E F8 FF FF 7F 2D 80 99  .......Bn....-..
0460: F8 FF FF 7F 03 02 10 35  80 1D 37 80 23 1C 2E 80  .......5..7.#...
0470: 1D 38 80 23 66 06 80 F8  FF FF 7F F8 FF FF 7F 70  .8.#f..........p
0480: 61 73 30 53 F8 FF FF 7F  F8 FF FF 7F 70 61 73 30  as0S........pas0
0490: 1D 39 80 23 03 01 10 16  80 01 EC 04 02 00 10 3A  .9.#...........:
04A0: 80 00 EC 04 6E F8 FF FF  7F 3B 80 99 F8 FF FF 7F  ....n....;......
04B0: 1D 3C 80 23 24 3D 80 16  80 06 80 25 02 00 10 06  .<.#$=.....%....
04C0: 80 00 DA 04 42 1D 3E 80  23 03 02 10 35 80 1D 3F  ....B.>.#...5..?
04D0: 80 23 03 01 10 3A 80 01  E9 04 02 00 10 16 80 00  .#...:..........
04E0: E9 04 1D 40 80 23 01 E9  04 01 EC 04 21 00        ...@.#......!.  
```

## Opcodes

```
  0: 0x0406 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  1: 0x040B [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0410 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x0411 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x0412 [0x4A] LocalPlayer looks at Gaddiux (ID: 17826113/0x01100141)
  5: 0x041B [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  6: 0x041C [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
  7: 0x0421 [0x1D] PRINT_EVENT_MESSAGE(message_id=11645*)
    → "How's the experiment going? Does it measure up to your expectations? Heh heh.\u007F1\u0000\u0007"
  8: 0x0424 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x0425 [0x06] Work_Zone[1] = 0
 10: 0x0428 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x0437
 11: 0x0430 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x01, bit_index_work_offset=0x8016, condition_work_offset=0x8016)
 12: 0x0437 [0x03] Work_Zone[2] = 20749*
 13: 0x043C [0x24] CREATE_DIALOG(message_id=11646*, default_option=0*, option_flags=0x01)
    → "Anything to say?\u0007\u000BNo issues here.\u0007I lost my \u0001\u0005#\u0002\u0000\u0000\u0000.\u0007I've had enough of this.\u007F1\u0000\u0007"
 14: 0x0443 [0x25] WAIT_DIALOG_SELECT()
 15: 0x0444 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x044F
 16: 0x044C [0x01] GOTO 0x04EC

SUBROUTINE_044F:
 17: 0x044F [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x049C
 18: 0x0457 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 19: 0x0458 [0x6E] EventEntity uses emote 19*
 20: 0x045F [0x99] Wait for EventEntity animation to complete
 21: 0x0464 [0x03] Work_Zone[2] = 20749*
 22: 0x0469 [0x1D] PRINT_EVENT_MESSAGE(message_id=11647*)
    → "What!? How could you!?\u007F1\u0000\u0007"
 23: 0x046C [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x046D [0x1C] WAIT(50* ticks)
 25: 0x0470 [0x1D] PRINT_EVENT_MESSAGE(message_id=11648*)
    → "Luckily, we also live by the words \u00072Always be prepared.\u00073 Use this one instead.\u007F1\u0000\u0007"
 26: 0x0473 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x0474 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "pas0" with entities [EventEntity, EventEntity], work=0*
 28: 0x0483 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "pas0" with entities [EventEntity, EventEntity]
 29: 0x0490 [0x1D] PRINT_EVENT_MESSAGE(message_id=11649*)
    → "We're not miracle workers, though. We can't recover any of the information stored on the old device, so you'll have to start over from scratch.\u007F1\u0000\u0007"
 30: 0x0493 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x0494 [0x03] Work_Zone[1] = 1*
 32: 0x0499 [0x01] GOTO 0x04EC

SUBROUTINE_049C:
 33: 0x049C [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x04EC
 34: 0x04A4 [0x6E] EventEntity uses emote 38*
 35: 0x04AB [0x99] Wait for EventEntity animation to complete
 36: 0x04B0 [0x1D] PRINT_EVENT_MESSAGE(message_id=11650*)
    → "Don't be too hasty now!\u0007All the results you've archived will be struck from the record if you give up! Doesn't that bother you in the least?\u007F1\u0000\u0007"
 37: 0x04B3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x04B4 [0x24] CREATE_DIALOG(message_id=11651*, default_option=1*, option_flags=0*)
    → "Does it bother you?\u0007\u000BNo, I'm through.\u0007Yes, let me think on it.\u007F1\u0000\u0007"
 39: 0x04BB [0x25] WAIT_DIALOG_SELECT()
 40: 0x04BC [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x04DA
 41: 0x04C4 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 42: 0x04C5 [0x1D] PRINT_EVENT_MESSAGE(message_id=11653*)
    → "...If that's how you're going to be, there's little I can do. Hopefully we'll find an intrepid soul who wishes to see the whole thing to fruition.\u007F1\u0000\u0007"
 43: 0x04C8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x04C9 [0x03] Work_Zone[2] = 20749*
 45: 0x04CE [0x1D] PRINT_EVENT_MESSAGE(message_id=11654*)
    → "Oh, that's right. You can dispose of that \u0001\u0005#\u0002\u0000\u0000\u0000 if you want. It's basically worthless now.\u007F1\u0000\u0007"
 46: 0x04D1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x04D2 [0x03] Work_Zone[1] = 2*
 48: 0x04D7 [0x01] GOTO 0x04E9

SUBROUTINE_04DA:
 49: 0x04DA [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x04E9
 50: 0x04E2 [0x1D] PRINT_EVENT_MESSAGE(message_id=11652*)
    → "Phew...I had little pools of sweat welling up from my hands when you told me you were out.\u007F1\u0000\u0007"
 51: 0x04E5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x04E6 [0x01] GOTO 0x04E9

SUBROUTINE_04E9:
 53: 0x04E9 [0x01] GOTO 0x04EC

SUBROUTINE_04EC:
 54: 0x04EC [0x21] END_EVENT
 55: 0x04ED [0x00] END_REQSTACK()
```
