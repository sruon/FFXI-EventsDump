# Event 43

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/4       |
| Offset          | 0x00F3    |
| Data Size       | 273 bytes |
| Calculated Size | 273 bytes |
| Instructions    | 53        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00F0:          3B F0 FF FF 7F  00 00 01 00 02 00 02 00     ;............
0100: 00 00 80 02 0D 01 48 01  80 23 01 02 02 20 01 42  ......H..#... .B
0110: 92 01 77 91 0A 01 24 02  80 03 80 03 80 25 02 00  ..w...$......%..
0120: 10 03 80 00 F5 01 43 00  43 01 46 01 45 04 80 F0  ......C.C.F.E...
0130: FF FF 7F F0 FF FF 7F 66  64 6F 31 03 80 1C 05 80  .......fdo1.....
0140: 38 06 80 29 01 F0 FF FF  7F 04 29 01 77 91 0A 01  8..)......).w...
0150: 04 45 07 80 F0 FF FF 7F  F0 FF FF 7F 62 6C 6D 61  .E..........blma
0160: 03 80 45 04 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  ..E..........fdi
0170: 31 03 80 1C 05 80 2B 77  91 0A 01 08 80 23 2B 77  1.....+w.....#+w
0180: 91 0A 01 08 80 23 2B 77  91 0A 01 08 80 23 2B 77  .....#+w.....#+w
0190: 91 0A 01 09 80 23 2B 77  91 0A 01 0D 80 23 2B 77  .....#+w.....#+w
01A0: 91 0A 01 0E 80 23 2B 77  91 0A 01 08 80 23 2B 77  .....#+w.....#+w
01B0: 91 0A 01 08 80 23 2B 77  91 0A 01 08 80 23 2B 77  .....#+w.....#+w
01C0: 91 0A 01 0F 80 23 03 01  10 0B 80 45 04 80 F0 FF  .....#.....E....
01D0: FF 7F F0 FF FF 7F 66 64  6F 31 03 80 1C 05 80 46  ......fdo1.....F
01E0: 00 45 04 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 31  .E..........fdi1
01F0: 03 80 01 00 02 02 00 10  0B 80 00 00 02 01 00 02  ................
0200: 20 00 21 00                                        .!.            
```

## Opcodes

```
  0: 0x00F3 [0x3B] GET_ENTITY_POSITION(entity=LocalPlayer, x_destination=ExtData[1]->WorkLocal[0], y_destination=ExtData[1]->WorkLocal[1], z_destination=ExtData[1]->WorkLocal[2])
  1: 0x00FE [0x02] IF !(ExtData[1]->WorkLocal[0] <= 4294833296*) GOTO 0x010D
  2: 0x0106 [0x48] [System] [8*]:
    → "However, you cannot investigate any further.\u007F1\u0000\u0007"
  3: 0x0109 [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x010A [0x01] GOTO 0x0202

SUBROUTINE_010D:
  5: 0x010D [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  6: 0x010F [0x42] SET_CLI_EVENT_CANCEL_DATA()
  7: 0x0110 [0x92] Talking Doll (ID: 17469815/0x010A9177)->Render.Flags3 ^= 0x01
  8: 0x0116 [0x24] CREATE_DIALOG(message_id=18*, default_option=0*, option_flags=0*)
    → "Investigate?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
  9: 0x011D [0x25] WAIT_DIALOG_SELECT()
 10: 0x011E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x01F5
 11: 0x0126 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 12: 0x0128 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 13: 0x012A [0x46] CAMERA_CONTROL: Disable user control
 14: 0x012C [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 15: 0x013D [0x1C] WAIT(60* ticks)
 16: 0x0140 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 17: 0x0143 [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x04)
 18: 0x014A [0x29] REQ_SET_WAIT(priority=0x01, entity_id=Talking Doll (ID: 17469815/0x010A9177), tag_num=0x04)
 19: 0x0151 [0x45] LOAD_SCHEDULED_TASK(work_offset1=94*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="blma", work_offset2=0*)
 20: 0x0162 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 21: 0x0173 [0x1C] WAIT(60* ticks)
 22: 0x0176 [0x2B] Talking Doll (ID: 17469815/0x010A9177) [25*]:
    → "...Beep...\u007F1\u0000\u0007"
 23: 0x017D [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x017E [0x2B] Talking Doll (ID: 17469815/0x010A9177) [25*]:
    → "...Beep...\u007F1\u0000\u0007"
 25: 0x0185 [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x0186 [0x2B] Talking Doll (ID: 17469815/0x010A9177) [25*]:
    → "...Beep...\u007F1\u0000\u0007"
 27: 0x018D [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x018E [0x2B] Talking Doll (ID: 17469815/0x010A9177) [28*]:
    → "MAGIC STAGNATION DETECTED.\u007F1\u0000\u0007"
 29: 0x0195 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x0196 [0x2B] Talking Doll (ID: 17469815/0x010A9177) [27*]:
    → "...Shhhhh...Shh...\u007F1\u0000\u0007"
 31: 0x019D [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x019E [0x2B] Talking Doll (ID: 17469815/0x010A9177) [30*]:
    → "TANKS NEARING LIMITS.\u0007UNABLE TO CONTINUE ABSORPTION.\u007F1\u0000\u0007"
 33: 0x01A5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x01A6 [0x2B] Talking Doll (ID: 17469815/0x010A9177) [25*]:
    → "...Beep...\u007F1\u0000\u0007"
 35: 0x01AD [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x01AE [0x2B] Talking Doll (ID: 17469815/0x010A9177) [25*]:
    → "...Beep...\u007F1\u0000\u0007"
 37: 0x01B5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x01B6 [0x2B] Talking Doll (ID: 17469815/0x010A9177) [25*]:
    → "...Beep...\u007F1\u0000\u0007"
 39: 0x01BD [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x01BE [0x2B] Talking Doll (ID: 17469815/0x010A9177) [31*]:
    → "ERADICATION OF STAGNATION POSSIBLE WITH USE OF MAGE'S BLACK POWER.\u007F1\u0000\u0007"
 41: 0x01C5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x01C6 [0x03] Work_Zone[1] = 1*
 43: 0x01CB [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 44: 0x01DC [0x1C] WAIT(60* ticks)
 45: 0x01DF [0x46] CAMERA_CONTROL: Restore default settings
 46: 0x01E1 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 47: 0x01F2 [0x01] GOTO 0x0200

SUBROUTINE_01F5:
 48: 0x01F5 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0200
 49: 0x01FD [0x01] GOTO 0x0200

SUBROUTINE_0200:
 50: 0x0200 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 51: 0x0202 [0x21] END_EVENT
 52: 0x0203 [0x00] END_REQSTACK()
```
