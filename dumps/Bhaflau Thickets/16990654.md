# 16990654

## Common Data

| Field            | Value                     |
|------------------|---------------------------|
| Zone             | Bhaflau Thickets (ID: 52) |
| Block Size       | 348 bytes                 |
| Total Events     | 2                         |
| References Count | 15                        |

## List of Events

| Event ID              | Entrypoint   |   Size |   Instructions |
|-----------------------|--------------|--------|----------------|
| [65535](#event-65535) | 0x0000       |      1 |              1 |
| [148](#event-148)     | 0x0001       |    260 |             43 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x0000      |           0 |
|       1 | 0x1E19      |        7705 |
|       2 | 0x0078      |         120 |
|       3 | 0x1E1A      |        7706 |
|       4 | 0x1E1B      |        7707 |
|       5 | 0x1E1C      |        7708 |
|       6 | 0x1E1D      |        7709 |
|       7 | 0x1E1E      |        7710 |
|       8 | 0x0001      |           1 |
|       9 | 0x1E1F      |        7711 |
|      10 | 0x01F1      |         497 |
|      11 | 0x00A0      |         160 |
|      12 | 0x1E20      |        7712 |
|      13 | 0x01E7      |         487 |
|      14 | 0x005A      |          90 |

## String References

- **7705**: There is nothing out of the ordinary here.
- **7710**: [Receive the enchantment/Have the enchantment removed]? [Yes, please./No, thanks.]

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 148

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x0001    |
| Data Size    | 260 bytes |
| Instructions | 43        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 06 01 10 02 03 10  00 80 00 13 00 48 01 80   B...........H..
0010: 01 F3 00 2F 00 BF 41 03  01 2C BF 41 03 01 BF 41  .../..A..,.A...A
0020: 03 01 64 65 72 75 4E 00  BF 41 03 01 4A BF 41 03  ..deruN..A..J.A.
0030: 01 F0 FF FF 7F 1C 02 80  2C BF 41 03 01 BF 41 03  ........,.A...A.
0040: 01 74 6C 6B 30 2B BF 41  03 01 03 80 23 2B BF 41  .tlk0+.A....#+.A
0050: 03 01 04 80 23 2B BF 41  03 01 05 80 23 2B BF 41  ....#+.A....#+.A
0060: 03 01 06 80 23 2C BF 41  03 01 BF 41 03 01 74 6C  ....#,.A...A..tl
0070: 6B 31 24 07 80 08 80 00  80 25 02 00 10 00 80 00  k1$......%......
0080: E7 00 2B BF 41 03 01 09  80 2C BF 41 03 01 BF 41  ..+.A....,.A...A
0090: 03 01 64 61 6E 31 02 02  10 00 80 00 C4 00 73 0A  ..dan1........s.
00A0: 80 F8 FF FF 7F F0 FF FF  7F 1C 0B 80 2C BF 41 03  ............,.A.
00B0: 01 BF 41 03 01 64 61 65  31 2B BF 41 03 01 0C 80  ..A..dae1+.A....
00C0: 23 01 DF 00 73 0D 80 F8  FF FF 7F F0 FF FF 7F 1C  #...s...........
00D0: 0B 80 2C BF 41 03 01 BF  41 03 01 64 61 65 31 03  ..,.A...A..dae1.
00E0: 01 10 08 80 01 F3 00 2B  BF 41 03 01 09 80 03 01  .......+.A......
00F0: 10 00 80 2C BF 41 03 01  BF 41 03 01 6B 65 73 75  ...,.A...A..kesu
0100: 1C 0E 80 21 00                                    ...!.           
```

#### Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x06] Work_Zone[1] = 0
  2: 0x0005 [0x02] IF !(Work_Zone[3] == 0*) GOTO 0x0013
  3: 0x000D [0x48] [System] [7705*]:
    → "There is nothing out of the ordinary here."
  4: 0x0010 [0x01] GOTO 0x00F3
  5: 0x0013 [0x2F] Moogle (ID: 16990655/0x010341BF)->Render.Flags0 &= ~0x80000 // Bit 19
  6: 0x0019 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "deru" with entities [Moogle (ID: 16990655/0x010341BF), Moogle (ID: 16990655/0x010341BF)]
  7: 0x0026 [0x4E] SET_ENTITY_HIDE_FLAG: Show Moogle (ID: 16990655/0x010341BF)
  8: 0x002C [0x4A] Moogle (ID: 16990655/0x010341BF) looks at LocalPlayer
  9: 0x0035 [0x1C] WAIT(120* ticks)
 10: 0x0038 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "tlk0" with entities [Moogle (ID: 16990655/0x010341BF), Moogle (ID: 16990655/0x010341BF)]
 11: 0x0045 [0x2B] Moogle (ID: 16990655/0x010341BF) [7706*]:
    → "Hey ho, adventurer! Might you be the one who summoned me? Only folks who've ventured to Vana'diel via an unnamed mystical gateway have the ability to do so, kupo."
 12: 0x004C [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x004D [0x2B] Moogle (ID: 16990655/0x010341BF) [7707*]:
    → "Casting and removing moogle magic on adventurers like yourself is my specialty, kupo. What's the magic for, you ask? You could say it's a ticket for entry into battlefields from which abundant honor can be won!"
 14: 0x0054 [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x0055 [0x2B] Moogle (ID: 16990655/0x010341BF) [7708*]:
    → "Let's see... It appears you['ve yet to receive the enchantment/ already have the enchantment], kupo."
 16: 0x005C [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x005D [0x2B] Moogle (ID: 16990655/0x010341BF) [7709*]:
    → "Would you like to [receive the enchantment/have the enchantment removed]?"
 18: 0x0064 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x0065 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "tlk1" with entities [Moogle (ID: 16990655/0x010341BF), Moogle (ID: 16990655/0x010341BF)]
 20: 0x0072 [0x24] CREATE_DIALOG(message_id=7710*, default_option=1*, option_flags=0*)
    → "[Receive the enchantment/Have the enchantment removed]? [Yes, please./No, thanks.]"
 21: 0x0079 [0x25] WAIT_DIALOG_SELECT()
 22: 0x007A [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00E7
 23: 0x0082 [0x2B] Moogle (ID: 16990655/0x010341BF) [7711*]:
    → "Your wish is my command!"
 24: 0x0089 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "dan1" with entities [Moogle (ID: 16990655/0x010341BF), Moogle (ID: 16990655/0x010341BF)]
 25: 0x0096 [0x02] IF !(Work_Zone[2] == 0*) GOTO 0x00C4
 26: 0x009E [0x73] EventEntity casts magic 497* on LocalPlayer
 27: 0x00A9 [0x1C] WAIT(160* ticks)
 28: 0x00AC [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "dae1" with entities [Moogle (ID: 16990655/0x010341BF), Moogle (ID: 16990655/0x010341BF)]
 29: 0x00B9 [0x2B] Moogle (ID: 16990655/0x010341BF) [7712*]:
    → "Please remember that the enchantment will wear off the next time you step through the unnamed mystical gateway. But never fear! I'm always here at your hopelessly humble service, kupo!"
 30: 0x00C0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x00C1 [0x01] GOTO 0x00DF
 32: 0x00C4 [0x73] EventEntity casts magic 487* on LocalPlayer
 33: 0x00CF [0x1C] WAIT(160* ticks)
 34: 0x00D2 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "dae1" with entities [Moogle (ID: 16990655/0x010341BF), Moogle (ID: 16990655/0x010341BF)]

SUBROUTINE_00DF:
 35: 0x00DF [0x03] Work_Zone[1] = 1*
 36: 0x00E4 [0x01] GOTO 0x00F3
 37: 0x00E7 [0x2B] Moogle (ID: 16990655/0x010341BF) [7711*]:
    → "Your wish is my command!"
 38: 0x00EE [0x03] Work_Zone[1] = 0*

SUBROUTINE_00F3:
 39: 0x00F3 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "kesu" with entities [Moogle (ID: 16990655/0x010341BF), Moogle (ID: 16990655/0x010341BF)]
 40: 0x0100 [0x1C] WAIT(90* ticks)
 41: 0x0103 [0x21] END_EVENT
 42: 0x0104 [0x00] END_REQSTACK()
```
