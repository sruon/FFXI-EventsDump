# Event 18

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 6/6       |
| Offset          | 0x248C    |
| Data Size       | 775 bytes |
| Calculated Size | 775 bytes |
| Instructions    | 99        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
2480:                                      42 03 02 00              B...
2490: 02 10 5D 00 80 01 80 45  02 80 F8 FF FF 7F F8 FF  ..]....E........
24A0: FF 7F 66 64 6F 31 00 80  55 02 80 F8 FF FF 7F F8  ..fdo1..U.......
24B0: FF FF 7F 66 64 6F 31 46  01 38 03 80 2F 00 82 91  ...fdo1F.8../...
24C0: 01 01 2F 00 83 91 01 01  4E 00 82 91 01 01 4E 00  ../.....N.....N.
24D0: 83 91 01 01 92 01 82 91  01 01 92 01 83 91 01 01  ................
24E0: 94 01 82 91 01 01 94 01  83 91 01 01 94 01 F0 FF  ................
24F0: FF 7F BA 82 91 01 01 F2  80 F3 80 F4 80 F5 80 BA  ................
2500: 83 91 01 01 F6 80 F7 80  F8 80 F9 80 BA F0 FF FF  ................
2510: 7F FA 80 FB 80 FC 80 FD  80 80 82 91 01 01 80 83  ................
2520: 91 01 01 80 F0 FF FF 7F  80 80 91 01 01 4A 82 91  .............J..
2530: 01 01 83 91 01 01 1C 22  80 81 00 83 91 01 01 5B  .......".......[
2540: FE 80 83 91 01 01 83 91  01 01 6E 69 6E 6C 1C 22  ..........ninl."
2550: 80 5C 00 00 80 5C 01 00  80 9A 27 05 F0 FF FF 7F  .\...\....'.....
2560: 49 45 FF 80 F8 FF FF 7F  F8 FF FF 7F 73 30 36 39  IE..........s069
2570: 00 80 1C 24 80 45 02 80  F8 FF FF 7F F8 FF FF 7F  ...$.E..........
2580: 66 64 69 31 00 80 1C 4D  80 4A 82 91 01 01 F0 FF  fdi1...M.J......
2590: FF 7F 1C 97 80 52 FF 80  F8 FF FF 7F F8 FF FF 7F  .....R..........
25A0: 73 30 36 39 45 FF 80 F8  FF FF 7F F8 FF FF 7F 73  s069E..........s
25B0: 30 37 30 00 80 5B 00 81  82 91 01 01 82 91 01 01  070..[..........
25C0: 74 6C 62 30 02 02 00 00  80 00 D7 25 2B 82 91 01  tlb0.......%+...
25D0: 01 01 81 23 01 E7 25 2B  82 91 01 01 02 81 23 2B  ...#..%+......#+
25E0: 82 91 01 01 03 81 23 2B  82 91 01 01 04 81 23 5B  ......#+......#[
25F0: 00 81 82 91 01 01 82 91  01 01 74 6C 62 31 5B FE  ..........tlb1[.
2600: 80 83 91 01 01 83 91 01  01 6E 69 6E 32 1C 22 80  .........nin2.".
2610: 52 FF 80 F8 FF FF 7F F8  FF FF 7F 73 30 37 30 45  R..........s070E
2620: FF 80 F8 FF FF 7F F8 FF  FF 7F 73 30 37 31 00 80  ..........s071..
2630: 2B 83 91 01 01 05 81 23  2B 83 91 01 01 06 81 23  +......#+......#
2640: 52 FF 80 F8 FF FF 7F F8  FF FF 7F 73 30 37 31 45  R..........s071E
2650: FF 80 F8 FF FF 7F F8 FF  FF 7F 73 30 37 32 00 80  ..........s072..
2660: 5B 00 81 82 91 01 01 82  91 01 01 74 68 6B 30 2B  [..........thk0+
2670: 82 91 01 01 07 81 23 2B  82 91 01 01 08 81 23 5B  ......#+......#[
2680: 00 81 82 91 01 01 82 91  01 01 74 68 6B 31 1C 97  ..........thk1..
2690: 80 52 FF 80 F8 FF FF 7F  F8 FF FF 7F 73 30 37 32  .R..........s072
26A0: 45 FF 80 F8 FF FF 7F F8  FF FF 7F 73 30 37 33 00  E..........s073.
26B0: 80 4A 82 91 01 01 80 91  01 01 7B 82 91 01 01 1C  .J........{.....
26C0: 22 80 2B 82 91 01 01 09  81 23 52 FF 80 F8 FF FF  ".+......#R.....
26D0: 7F F8 FF FF 7F 73 30 37  33 45 FF 80 F8 FF FF 7F  .....s073E......
26E0: F8 FF FF 7F 73 30 37 34  00 80 4A 82 91 01 01 F0  ....s074..J.....
26F0: FF FF 7F 1C 22 80 2B 82  91 01 01 0A 81 23 52 FF  ....".+......#R.
2700: 80 F8 FF FF 7F F8 FF FF  7F 73 30 37 34 45 FF 80  .........s074E..
2710: F8 FF FF 7F F8 FF FF 7F  73 30 37 35 00 80 27 05  ........s075..'.
2720: 82 91 01 01 02 27 05 83  91 01 01 04 2A 05 82 91  .....'......*...
2730: 01 01 D0 0B 81 82 91 01  01 82 91 01 01 6D 61 69  .............mai
2740: 6E 00 80 1C 01 80 45 02  80 F8 FF FF 7F F8 FF FF  n.....E.........
2750: 7F 66 64 6F 31 00 80 55  02 80 F8 FF FF 7F F8 FF  .fdo1..U........
2760: FF 7F 66 64 6F 31 52 FF  80 F8 FF FF 7F F8 FF FF  ..fdo1R.........
2770: 7F 73 30 37 35 5C 00 6E  80 5C 01 6E 80 9A 46 00  .s075\.n.\.n..F.
2780: 45 02 80 F8 FF FF 7F F8  FF FF 7F 66 64 69 32 00  E..........fdi2.
2790: 80 21 00                                          .!.             
```

## Opcodes

```
  0: 0x248C [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x248D [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[2]
  2: 0x2492 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=120*)
  3: 0x2497 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  4: 0x24A8 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
  5: 0x24B7 [0x46] CAMERA_CONTROL: Disable user control
  6: 0x24B9 [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  7: 0x24BC [0x2F] Tenzen (ID: 16880002/0x01019182)->Render.Flags0 &= ~0x80000 // Bit 19
  8: 0x24C2 [0x2F] Kagero (ID: 16880003/0x01019183)->Render.Flags0 &= ~0x80000 // Bit 19
  9: 0x24C8 [0x4E] SET_ENTITY_HIDE_FLAG: Show Tenzen (ID: 16880002/0x01019182)
 10: 0x24CE [0x4E] SET_ENTITY_HIDE_FLAG: Show Kagero (ID: 16880003/0x01019183)
 11: 0x24D4 [0x92] Tenzen (ID: 16880002/0x01019182)->Render.Flags3 ^= 0x01
 12: 0x24DA [0x92] Kagero (ID: 16880003/0x01019183)->Render.Flags3 ^= 0x01
 13: 0x24E0 [0x94] Tenzen (ID: 16880002/0x01019182)->Render.Flags3 ^= 0x01
 14: 0x24E6 [0x94] Kagero (ID: 16880003/0x01019183)->Render.Flags3 ^= 0x01
 15: 0x24EC [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 16: 0x24F2 [0xBA] SET_ENTITY_POSITION(entity_id=Tenzen (ID: 16880002/0x01019182), pos_x=-44.918*, pos_z=571.312*, pos_y=-23.537*, direction=264.7°*)
 17: 0x24FF [0xBA] SET_ENTITY_POSITION(entity_id=Kagero (ID: 16880003/0x01019183), pos_x=-45.548*, pos_z=573.520*, pos_y=-23.503*, direction=51.5°*)
 18: 0x250C [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-38.315*, pos_z=568.408*, pos_y=-23.850*, direction=221.5°*)
 19: 0x2519 [0x80] LOAD_WAIT(entity=Tenzen (ID: 16880002/0x01019182))
 20: 0x251E [0x80] LOAD_WAIT(entity=Kagero (ID: 16880003/0x01019183))
 21: 0x2523 [0x80] LOAD_WAIT(entity=LocalPlayer)
 22: 0x2528 [0x80] LOAD_WAIT(entity=Undulating Confluence (ID: 16880000/0x01019180))
 23: 0x252D [0x4A] Tenzen (ID: 16880002/0x01019182) looks at Kagero (ID: 16880003/0x01019183)
 24: 0x2536 [0x1C] WAIT(30* ticks)
 25: 0x2539 [0x81] SET_ENTITY_BLINKING(blink_flag=0x00, entity=Kagero (ID: 16880003/0x01019183))
 26: 0x253F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "ninl" with entities [Kagero (ID: 16880003/0x01019183), Kagero (ID: 16880003/0x01019183)], work=3364*
 27: 0x254E [0x1C] WAIT(30* ticks)
 28: 0x2551 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 29: 0x2555 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 30: 0x2559 [0x9A] WAIT_MUSIC_SERVER()
 31: 0x255A [0x27] REQ_SET(priority=0x05, entity_id=LocalPlayer, tag_num=0x49)
 32: 0x2561 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s069" with entities [EventEntity, EventEntity], work=[766*, 0*]
 33: 0x2572 [0x1C] WAIT(15* ticks)
 34: 0x2575 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 35: 0x2586 [0x1C] WAIT(90* ticks)
 36: 0x2589 [0x4A] Tenzen (ID: 16880002/0x01019182) looks at LocalPlayer
 37: 0x2592 [0x1C] WAIT(60* ticks)
 38: 0x2595 [0x52] END_LOAD_SCHEDULER: End scheduler "s069" with entities [EventEntity, EventEntity], work=766*
 39: 0x25A4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s070" with entities [EventEntity, EventEntity], work=[766*, 0*]
 40: 0x25B5 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlb0" with entities [Tenzen (ID: 16880002/0x01019182), Tenzen (ID: 16880002/0x01019182)], work=425*
 41: 0x25C4 [0x02] IF !(ExtData[1]->WorkLocal[2] == 0*) GOTO 0x25D7
 42: 0x25CC [0x2B] Tenzen (ID: 16880002/0x01019182) [8865*]:
    → "Ah, \u007F\u0005[Lord/Lady] \u0008! What impeccable timing!\u007F1\u0000\u0007"
 43: 0x25D3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x25D4 [0x01] GOTO 0x25E7
 45: 0x25D7 [0x2B] Tenzen (ID: 16880002/0x01019182) [8866*]:
    → "Ah, \u007F\u0005[Lord/Lady] \u0008...\u0007I hope you can overcome your anger at me...\u007F1\u0000\u0007"
 46: 0x25DE [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x25DF [0x2B] Tenzen (ID: 16880002/0x01019182) [8867*]:
    → "Let it be water under the bridge, for now we need to do our utmost to help Iroha.\u007F1\u0000\u0007"
 48: 0x25E6 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_25E7:
 49: 0x25E7 [0x2B] Tenzen (ID: 16880002/0x01019182) [8868*]:
    → "According to Kagero, Lady Iroha is on the verge of making a decision.\u007F1\u0000\u0007"
 50: 0x25EE [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x25EF [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlb1" with entities [Tenzen (ID: 16880002/0x01019182), Tenzen (ID: 16880002/0x01019182)], work=425*
 52: 0x25FE [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "nin2" with entities [Kagero (ID: 16880003/0x01019183), Kagero (ID: 16880003/0x01019183)], work=3364*
 53: 0x260D [0x1C] WAIT(30* ticks)
 54: 0x2610 [0x52] END_LOAD_SCHEDULER: End scheduler "s070" with entities [EventEntity, EventEntity], work=766*
 55: 0x261F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s071" with entities [EventEntity, EventEntity], work=[766*, 0*]
 56: 0x2630 [0x2B] Kagero (ID: 16880003/0x01019183) [8869*]:
    → "Whenever a woman from the Far East comes to a life-altering fork in the road, she undergoes a purification ritual.\u007F1\u0000\u0007"
 57: 0x2637 [0x23] WAIT_FOR_DIALOG_INTERACTION
 58: 0x2638 [0x2B] Kagero (ID: 16880003/0x01019183) [8870*]:
    → "I have witnessed Lady Iroha undergoing such a ritual.\u007F1\u0000\u0007"
 59: 0x263F [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x2640 [0x52] END_LOAD_SCHEDULER: End scheduler "s071" with entities [EventEntity, EventEntity], work=766*
 61: 0x264F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s072" with entities [EventEntity, EventEntity], work=[766*, 0*]
 62: 0x2660 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk0" with entities [Tenzen (ID: 16880002/0x01019182), Tenzen (ID: 16880002/0x01019182)], work=425*
 63: 0x266F [0x2B] Tenzen (ID: 16880002/0x01019182) [8871*]:
    → "She is prone to wear her heart on her sleeve, so her intentions are more than clear.\u007F1\u0000\u0007"
 64: 0x2676 [0x23] WAIT_FOR_DIALOG_INTERACTION
 65: 0x2677 [0x2B] Tenzen (ID: 16880002/0x01019182) [8872*]:
    → "She is so single-mindedly concerned with not being a burden that she intends to lend her blade to Siren's struggle against the ambassador.\u007F1\u0000\u0007"
 66: 0x267E [0x23] WAIT_FOR_DIALOG_INTERACTION
 67: 0x267F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk1" with entities [Tenzen (ID: 16880002/0x01019182), Tenzen (ID: 16880002/0x01019182)], work=425*
 68: 0x268E [0x1C] WAIT(60* ticks)
 69: 0x2691 [0x52] END_LOAD_SCHEDULER: End scheduler "s072" with entities [EventEntity, EventEntity], work=766*
 70: 0x26A0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s073" with entities [EventEntity, EventEntity], work=[766*, 0*]
 71: 0x26B1 [0x4A] Tenzen (ID: 16880002/0x01019182) looks at Undulating Confluence (ID: 16880000/0x01019180)
 72: 0x26BA [0x7B] Tenzen (ID: 16880002/0x01019182) stops talking
 73: 0x26BF [0x1C] WAIT(30* ticks)
 74: 0x26C2 [0x2B] Tenzen (ID: 16880002/0x01019182) [8873*]:
    → "And so she went in the vortex--to Escha--before we could stop her.\u007F1\u0000\u0007"
 75: 0x26C9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 76: 0x26CA [0x52] END_LOAD_SCHEDULER: End scheduler "s073" with entities [EventEntity, EventEntity], work=766*
 77: 0x26D9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s074" with entities [EventEntity, EventEntity], work=[766*, 0*]
 78: 0x26EA [0x4A] Tenzen (ID: 16880002/0x01019182) looks at LocalPlayer
 79: 0x26F3 [0x1C] WAIT(30* ticks)
 80: 0x26F6 [0x2B] Tenzen (ID: 16880002/0x01019182) [8874*]:
    → "We must follow with all due haste!\u007F1\u0000\u0007"
 81: 0x26FD [0x23] WAIT_FOR_DIALOG_INTERACTION
 82: 0x26FE [0x52] END_LOAD_SCHEDULER: End scheduler "s074" with entities [EventEntity, EventEntity], work=766*
 83: 0x270D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s075" with entities [EventEntity, EventEntity], work=[766*, 0*]
 84: 0x271E [0x27] REQ_SET(priority=0x05, entity_id=Tenzen (ID: 16880002/0x01019182), tag_num=0x02)
 85: 0x2725 [0x27] REQ_SET(priority=0x05, entity_id=Kagero (ID: 16880003/0x01019183), tag_num=0x04)
 86: 0x272C [0x2A] GET_REQ_LEVEL(level=5, entity_id=Tenzen (ID: 16880002/0x01019182))
 87: 0x2732 [0xD0] LOAD_SCHEDULED_TASK_ALT5: Load scheduler "main" with entities [Tenzen (ID: 16880002/0x01019182), Tenzen (ID: 16880002/0x01019182)], work=[123*, 0*]
 88: 0x2743 [0x1C] WAIT(120* ticks)
 89: 0x2746 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 90: 0x2757 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
 91: 0x2766 [0x52] END_LOAD_SCHEDULER: End scheduler "s075" with entities [EventEntity, EventEntity], work=766*
 92: 0x2775 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 230*
 93: 0x2779 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 230*
 94: 0x277D [0x9A] WAIT_MUSIC_SERVER()
 95: 0x277E [0x46] CAMERA_CONTROL: Restore default settings
 96: 0x2780 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [EventEntity, EventEntity], work=[200*, 0*]
 97: 0x2791 [0x21] END_EVENT
 98: 0x2792 [0x00] END_REQSTACK()
```
