# Event 35

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 33/38     |
| Offset          | 0x021A    |
| Data Size       | 222 bytes |
| Calculated Size | 222 bytes |
| Instructions    | 50        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0210:                                1E F0 FF FF 7F 6F            .....o
0220: 70 03 00 00 02 10 03 01  00 03 10 03 03 10 11 80  p...............
0230: 66 01 80 F8 FF FF 7F F8  FF FF 7F 74 6C 6B 30 1D  f..........tlk0.
0240: 14 80 23 03 05 10 15 80  1D 16 80 23 1D 17 80 23  ..#........#...#
0250: 24 18 80 19 80 19 80 25  02 00 10 19 80 00 95 02  $......%........
0260: 03 04 10 19 80 03 03 10  00 00 24 1A 80 1B 80 19  ..........$.....
0270: 80 25 02 00 10 19 80 00  82 02 03 01 10 1B 80 01  .%..............
0280: 92 02 02 00 10 1B 80 00  92 02 03 01 10 19 80 01  ................
0290: 92 02 01 F6 02 02 00 10  1B 80 00 D2 02 03 04 10  ................
02A0: 1B 80 03 03 10 01 00 24  1C 80 1B 80 19 80 25 02  .......$......%.
02B0: 00 10 19 80 00 BF 02 03  01 10 1D 80 01 CF 02 02  ................
02C0: 00 10 1B 80 00 CF 02 03  01 10 19 80 01 CF 02 01  ................
02D0: F6 02 02 00 10 1D 80 00  E6 02 1D 1E 80 23 03 01  .............#..
02E0: 10 19 80 01 F6 02 02 00  10 1F 80 00 F6 02 03 01  ................
02F0: 10 19 80 01 F6 02 21 00                           ......!.        
```

## Opcodes

```
  0: 0x021A [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x021F [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0220 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0221 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  4: 0x0226 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[3]
  5: 0x022B [0x03] Work_Zone[3] = 2373*
  6: 0x0230 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=209*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
  7: 0x023F [0x1D] PRINT_EVENT_MESSAGE(message_id=7911*)
    → "You need another \u0001\u00053\u0002\u0001\u0000\u0000? I suppose I might have one lying around, but it'll take me some time to find one...\u007F1\u0000\u0007"
  8: 0x0242 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x0243 [0x03] Work_Zone[5] = 1126*
 10: 0x0248 [0x1D] PRINT_EVENT_MESSAGE(message_id=7912*)
    → "Though if you really want to pass Hostenn's test, I can be persuaded to search extra hard for gil, bayld, or \u0001\u0005%\u0002\u0003\u0000\u0000.\u007F1\u0000\u0007"
 11: 0x024B [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x024C [0x1D] PRINT_EVENT_MESSAGE(message_id=7913*)
    → "Of course, if you'd rather wait, I'll be able to come across one eventually. What do you say?\u007F1\u0000\u0007"
 13: 0x024F [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0250 [0x24] CREATE_DIALOG(message_id=7914*, default_option=0*, option_flags=0*)
    → "Purchase another one?\u0007\u000BPurchase for 50000 gil.\u0007Purchase for 5000 bayld.\u0007Purchase for ten beastmen's seals.\u0007No purchasing for me.\u007F1\u0000\u0007"
 15: 0x0257 [0x25] WAIT_DIALOG_SELECT()
 16: 0x0258 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0295
 17: 0x0260 [0x03] Work_Zone[4] = 0*
 18: 0x0265 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[0]
 19: 0x026A [0x24] CREATE_DIALOG(message_id=7915*, default_option=1*, option_flags=0*)
    → "Purchase the item for \u000C\u0002[50,000 gil/5000 bayld]? (Gil: 
\u0001).\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 20: 0x0271 [0x25] WAIT_DIALOG_SELECT()
 21: 0x0272 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0282
 22: 0x027A [0x03] Work_Zone[1] = 1*
 23: 0x027F [0x01] GOTO 0x0292

SUBROUTINE_0282:
 24: 0x0282 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0292
 25: 0x028A [0x03] Work_Zone[1] = 0*
 26: 0x028F [0x01] GOTO 0x0292

SUBROUTINE_0292:
 27: 0x0292 [0x01] GOTO 0x02F6

SUBROUTINE_0295:
 28: 0x0295 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x02D2
 29: 0x029D [0x03] Work_Zone[4] = 1*
 30: 0x02A2 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[1]
 31: 0x02A7 [0x24] CREATE_DIALOG(message_id=7916*, default_option=1*, option_flags=0*)
    → "Purchase the item for \u000C\u0002[50,000 gil/5000 bayld]? (Bayld: 
\u0001).\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 32: 0x02AE [0x25] WAIT_DIALOG_SELECT()
 33: 0x02AF [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x02BF
 34: 0x02B7 [0x03] Work_Zone[1] = 2*
 35: 0x02BC [0x01] GOTO 0x02CF

SUBROUTINE_02BF:
 36: 0x02BF [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x02CF
 37: 0x02C7 [0x03] Work_Zone[1] = 0*
 38: 0x02CC [0x01] GOTO 0x02CF

SUBROUTINE_02CF:
 39: 0x02CF [0x01] GOTO 0x02F6

SUBROUTINE_02D2:
 40: 0x02D2 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x02E6
 41: 0x02DA [0x1D] PRINT_EVENT_MESSAGE(message_id=7918*)
    → "Trade me ten beastmen's seals if you really want the item.\u007F1\u0000\u0007"
 42: 0x02DD [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x02DE [0x03] Work_Zone[1] = 0*
 44: 0x02E3 [0x01] GOTO 0x02F6

SUBROUTINE_02E6:
 45: 0x02E6 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x02F6
 46: 0x02EE [0x03] Work_Zone[1] = 0*
 47: 0x02F3 [0x01] GOTO 0x02F6

SUBROUTINE_02F6:
 48: 0x02F6 [0x21] END_EVENT
 49: 0x02F7 [0x00] END_REQSTACK()
```
