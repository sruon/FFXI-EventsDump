# Event 38

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 38/38     |
| Offset          | 0x03B4    |
| Data Size       | 266 bytes |
| Calculated Size | 266 bytes |
| Instructions    | 60        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
03B0:             1E F0 FF FF  7F 6F 70 03 00 00 02 10      .....op.....
03C0: 03 01 00 03 10 03 05 10  15 80 03 03 10 11 80 66  ...............f
03D0: 01 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D 21  ..........tlk0.!
03E0: 80 23 1D 22 80 23 03 03  10 11 80 24 23 80 19 80  .#.".#.....$#...
03F0: 19 80 25 02 00 10 19 80  00 AC 04 1D 16 80 23 1D  ..%...........#.
0400: 17 80 23 24 18 80 19 80  19 80 25 02 00 10 19 80  ..#$......%.....
0410: 00 48 04 03 04 10 19 80  03 03 10 00 00 24 1A 80  .H...........$..
0420: 1B 80 19 80 25 02 00 10  19 80 00 35 04 03 01 10  ....%......5....
0430: 1B 80 01 45 04 02 00 10  1B 80 00 45 04 03 01 10  ...E.......E....
0440: 19 80 01 45 04 01 A9 04  02 00 10 1B 80 00 85 04  ...E............
0450: 03 04 10 1B 80 03 03 10  01 00 24 1C 80 1B 80 19  ..........$.....
0460: 80 25 02 00 10 19 80 00  72 04 03 01 10 1D 80 01  .%......r.......
0470: 82 04 02 00 10 1B 80 00  82 04 03 01 10 19 80 01  ................
0480: 82 04 01 A9 04 02 00 10  1D 80 00 99 04 1D 1E 80  ................
0490: 23 03 01 10 19 80 01 A9  04 02 00 10 1F 80 00 A9  #...............
04A0: 04 03 01 10 19 80 01 A9  04 01 BC 04 02 00 10 1B  ................
04B0: 80 00 BC 04 03 01 10 19  80 01 BC 04 21 00        ............!.  
```

## Opcodes

```
  0: 0x03B4 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x03B9 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x03BA [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x03BB [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  4: 0x03C0 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[3]
  5: 0x03C5 [0x03] Work_Zone[5] = 1126*
  6: 0x03CA [0x03] Work_Zone[3] = 2373*
  7: 0x03CF [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=209*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
  8: 0x03DE [0x1D] PRINT_EVENT_MESSAGE(message_id=7936*)
    → "Hostenn gave you one hell of a test, and you managed to clear it. Not bad. Not bad at all.\u007F1\u0000\u0007"
  9: 0x03E1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x03E2 [0x1D] PRINT_EVENT_MESSAGE(message_id=7937*)
    → "If you want to give that elemental another go, just say the word and I'll give you another \u0001\u00053\u0002\u0001\u0000\u0000.\u007F1\u0000\u0007"
 11: 0x03E5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x03E6 [0x03] Work_Zone[3] = 2373*
 13: 0x03EB [0x24] CREATE_DIALOG(message_id=7938*, default_option=0*, option_flags=0*)
    → "Do you want another \u0001\u00053\u0002\u0001\u0000\u0000?\u0007\u000BSure!\u0007No thanks.\u007F1\u0000\u0007"
 14: 0x03F2 [0x25] WAIT_DIALOG_SELECT()
 15: 0x03F3 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x04AC
 16: 0x03FB [0x1D] PRINT_EVENT_MESSAGE(message_id=7912*)
    → "Though if you really want to pass Hostenn's test, I can be persuaded to search extra hard for gil, bayld, or \u0001\u0005%\u0002\u0003\u0000\u0000.\u007F1\u0000\u0007"
 17: 0x03FE [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x03FF [0x1D] PRINT_EVENT_MESSAGE(message_id=7913*)
    → "Of course, if you'd rather wait, I'll be able to come across one eventually. What do you say?\u007F1\u0000\u0007"
 19: 0x0402 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x0403 [0x24] CREATE_DIALOG(message_id=7914*, default_option=0*, option_flags=0*)
    → "Purchase another one?\u0007\u000BPurchase for 50000 gil.\u0007Purchase for 5000 bayld.\u0007Purchase for ten beastmen's seals.\u0007No purchasing for me.\u007F1\u0000\u0007"
 21: 0x040A [0x25] WAIT_DIALOG_SELECT()
 22: 0x040B [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0448
 23: 0x0413 [0x03] Work_Zone[4] = 0*
 24: 0x0418 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[0]
 25: 0x041D [0x24] CREATE_DIALOG(message_id=7915*, default_option=1*, option_flags=0*)
    → "Purchase the item for \u000C\u0002[50,000 gil/5000 bayld]? (Gil: 
\u0001).\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 26: 0x0424 [0x25] WAIT_DIALOG_SELECT()
 27: 0x0425 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0435
 28: 0x042D [0x03] Work_Zone[1] = 1*
 29: 0x0432 [0x01] GOTO 0x0445

SUBROUTINE_0435:
 30: 0x0435 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0445
 31: 0x043D [0x03] Work_Zone[1] = 0*
 32: 0x0442 [0x01] GOTO 0x0445

SUBROUTINE_0445:
 33: 0x0445 [0x01] GOTO 0x04A9

SUBROUTINE_0448:
 34: 0x0448 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0485
 35: 0x0450 [0x03] Work_Zone[4] = 1*
 36: 0x0455 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[1]
 37: 0x045A [0x24] CREATE_DIALOG(message_id=7916*, default_option=1*, option_flags=0*)
    → "Purchase the item for \u000C\u0002[50,000 gil/5000 bayld]? (Bayld: 
\u0001).\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 38: 0x0461 [0x25] WAIT_DIALOG_SELECT()
 39: 0x0462 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0472
 40: 0x046A [0x03] Work_Zone[1] = 2*
 41: 0x046F [0x01] GOTO 0x0482

SUBROUTINE_0472:
 42: 0x0472 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0482
 43: 0x047A [0x03] Work_Zone[1] = 0*
 44: 0x047F [0x01] GOTO 0x0482

SUBROUTINE_0482:
 45: 0x0482 [0x01] GOTO 0x04A9

SUBROUTINE_0485:
 46: 0x0485 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0499
 47: 0x048D [0x1D] PRINT_EVENT_MESSAGE(message_id=7918*)
    → "Trade me ten beastmen's seals if you really want the item.\u007F1\u0000\u0007"
 48: 0x0490 [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0x0491 [0x03] Work_Zone[1] = 0*
 50: 0x0496 [0x01] GOTO 0x04A9

SUBROUTINE_0499:
 51: 0x0499 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x04A9
 52: 0x04A1 [0x03] Work_Zone[1] = 0*
 53: 0x04A6 [0x01] GOTO 0x04A9

SUBROUTINE_04A9:
 54: 0x04A9 [0x01] GOTO 0x04BC

SUBROUTINE_04AC:
 55: 0x04AC [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x04BC
 56: 0x04B4 [0x03] Work_Zone[1] = 0*
 57: 0x04B9 [0x01] GOTO 0x04BC

SUBROUTINE_04BC:
 58: 0x04BC [0x21] END_EVENT
 59: 0x04BD [0x00] END_REQSTACK()
```
