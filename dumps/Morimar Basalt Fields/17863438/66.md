# Event 66

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/4       |
| Offset          | 0x0001    |
| Data Size       | 528 bytes |
| Calculated Size | 528 bytes |
| Instructions    | 85        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 45 00 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F   BE..........fdo
0010: 31 01 80 55 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  1..U..........fd
0020: 6F 31 46 01 38 02 80 5C  A0 01 80 03 80 5C A1 01  o1F.8..\.....\..
0030: 80 04 80 4E 00 F0 FF FF  7F 4E 00 00 93 10 01 4E  ...N.....N.....N
0040: 00 11 93 10 01 2F 00 00  93 10 01 2F 00 11 93 10  ...../...../....
0050: 01 94 01 00 93 10 01 94  01 11 93 10 01 94 01 F0  ................
0060: FF FF 7F 92 01 00 93 10  01 BA 00 93 10 01 05 80  ................
0070: 06 80 07 80 08 80 BA F0  FF FF 7F 09 80 0A 80 0B  ................
0080: 80 0C 80 80 00 93 10 01  80 11 93 10 01 80 F0 FF  ................
0090: FF 7F 4A 00 93 10 01 11  93 10 01 4A 11 93 10 01  ..J........J....
00A0: 00 93 10 01 6F 76 00 93  10 01 6F 76 11 93 10 01  ....ov....ov....
00B0: 81 00 00 93 10 01 7B 00  93 10 01 27 08 11 93 10  ......{....'....
00C0: 01 06 29 08 00 93 10 01  4F 2A 08 11 93 10 01 5C  ..).....O*.....\
00D0: 00 01 80 5C 01 01 80 5C  02 0D 80 5C 03 0D 80 9A  ...\...\...\....
00E0: 45 0E 80 F8 FF FF 7F F8  FF FF 7F 73 30 31 33 01  E..........s013.
00F0: 80 1C 0F 80 45 00 80 F0  FF FF 7F F0 FF FF 7F 66  ....E..........f
0100: 64 69 31 01 80 1C 10 80  45 0E 80 F8 FF FF 7F F8  di1.....E.......
0110: FF FF 7F 73 30 31 34 01  80 24 11 80 01 80 01 80  ...s014..$......
0120: 25 02 00 10 01 80 00 53  01 27 08 F0 FF FF 7F 02  %......S.'......
0130: 1C 12 80 2A 08 F0 FF FF  7F 2B 00 93 10 01 13 80  ...*.....+......
0140: 1C 14 80 1C 15 80 27 08  F0 FF FF 7F 03 1C 16 80  ......'.........
0150: 01 7A 01 02 00 10 17 80  00 7A 01 6E F0 FF FF 7F  .z.......z.n....
0160: 15 80 99 F0 FF FF 7F 1C  18 80 2B 00 93 10 01 19  ..........+.....
0170: 80 1C 14 80 1C 1A 80 01  7A 01 23 52 0E 80 F8 FF  ........z.#R....
0180: FF 7F F8 FF FF 7F 73 30  31 34 45 0E 80 F8 FF FF  ......s014E.....
0190: 7F F8 FF FF 7F 73 30 31  35 01 80 1C 1B 80 45 00  .....s015.....E.
01A0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 01 80 55  .........fdo1..U
01B0: 00 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 31 52 0E  ..........fdo1R.
01C0: 80 F8 FF FF 7F F8 FF FF  7F 73 30 31 35 81 01 00  .........s015...
01D0: 93 10 01 4E 01 00 93 10  01 4E 01 11 93 10 01 5C  ...N.....N.....\
01E0: 00 1C 80 5C 01 1C 80 5C  02 0D 80 5C 03 0D 80 9A  ...\...\...\....
01F0: 1C 0F 80 AB 11 01 80 1C  17 80 AB 0A 46 00 45 00  ............F.E.
0200: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 32 01 80 21  .........fdi2..!
0210: 00                                                .               
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  2: 0x0013 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
  3: 0x0022 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x0024 [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  5: 0x0027 [0x5C] MUSIC_CONTROL: Set music volume to song 0*, fade_time=240*
  6: 0x002D [0x5C] MUSIC_CONTROL: Adjust music volume to song 0*, fade_time=480*
  7: 0x0033 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
  8: 0x0039 [0x4E] SET_ENTITY_HIDE_FLAG: Show Sylvie (ID: 17863424/0x01109300)
  9: 0x003F [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17863441/0x01109311)
 10: 0x0045 [0x2F] Sylvie (ID: 17863424/0x01109300)->Render.Flags0 &= ~0x80000 // Bit 19
 11: 0x004B [0x2F] Unnamed NPC (ID: 17863441/0x01109311)->Render.Flags0 &= ~0x80000 // Bit 19
 12: 0x0051 [0x94] Sylvie (ID: 17863424/0x01109300)->Render.Flags3 ^= 0x01
 13: 0x0057 [0x94] Unnamed NPC (ID: 17863441/0x01109311)->Render.Flags3 ^= 0x01
 14: 0x005D [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 15: 0x0063 [0x92] Sylvie (ID: 17863424/0x01109300)->Render.Flags3 ^= 0x01
 16: 0x0069 [0xBA] SET_ENTITY_POSITION(entity_id=Sylvie (ID: 17863424/0x01109300), pos_x=34.636*, pos_z=243.610*, pos_y=-16.003*, direction=272.7°*)
 17: 0x0076 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=32.265*, pos_z=240.348*, pos_y=-15.812*, direction=298.7°*)
 18: 0x0083 [0x80] LOAD_WAIT(entity=Sylvie (ID: 17863424/0x01109300))
 19: 0x0088 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17863441/0x01109311))
 20: 0x008D [0x80] LOAD_WAIT(entity=LocalPlayer)
 21: 0x0092 [0x4A] Sylvie (ID: 17863424/0x01109300) looks at Unnamed NPC (ID: 17863441/0x01109311)
 22: 0x009B [0x4A] Unnamed NPC (ID: 17863441/0x01109311) looks at Sylvie (ID: 17863424/0x01109300)
 23: 0x00A4 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 24: 0x00A5 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Sylvie (ID: 17863424/0x01109300) Render.Flags0 and Render.Flags3 conditions are met
 25: 0x00AA [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 26: 0x00AB [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Unnamed NPC (ID: 17863441/0x01109311) Render.Flags0 and Render.Flags3 conditions are met
 27: 0x00B0 [0x81] SET_ENTITY_BLINKING(blink_flag=0x00, entity=Sylvie (ID: 17863424/0x01109300))
 28: 0x00B6 [0x7B] Sylvie (ID: 17863424/0x01109300) stops talking
 29: 0x00BB [0x27] REQ_SET(priority=0x08, entity_id=Unnamed NPC (ID: 17863441/0x01109311), tag_num=0x06)
 30: 0x00C2 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Sylvie (ID: 17863424/0x01109300), tag_num=0x4F)
 31: 0x00C9 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Unnamed NPC (ID: 17863441/0x01109311))
 32: 0x00CF [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 33: 0x00D3 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 34: 0x00D7 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 57*
 35: 0x00DB [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 57*
 36: 0x00DF [0x9A] WAIT_MUSIC_SERVER()
 37: 0x00E0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s013" with entities [EventEntity, EventEntity], work=[709*, 0*]
 38: 0x00F1 [0x1C] WAIT(15* ticks)
 39: 0x00F4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 40: 0x0105 [0x1C] WAIT(150* ticks)
 41: 0x0108 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s014" with entities [EventEntity, EventEntity], work=[709*, 0*]
 42: 0x0119 [0x24] CREATE_DIALOG(message_id=8181*, default_option=0*, option_flags=0*)
    → "How do you respond?\u0007\u000BReach out to her.\u0007Let her be.\u007F1\u0000\u0007"
 43: 0x0120 [0x25] WAIT_DIALOG_SELECT()
 44: 0x0121 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0153
 45: 0x0129 [0x27] REQ_SET(priority=0x08, entity_id=LocalPlayer, tag_num=0x02)
 46: 0x0130 [0x1C] WAIT(100* ticks)
 47: 0x0133 [0x2A] GET_REQ_LEVEL(level=8, entity_id=LocalPlayer)
 48: 0x0139 [0x2B] Sylvie (ID: 17863424/0x01109300) [8182*]:
    → "...I'll be okay. Daddy would want me to head back to Adoulin and help get his affairs in order.\u007F1\u0000\u0007"
 49: 0x0140 [0x1C] WAIT(40* ticks)
 50: 0x0143 [0x1C] WAIT(20* ticks)
 51: 0x0146 [0x27] REQ_SET(priority=0x08, entity_id=LocalPlayer, tag_num=0x03)
 52: 0x014D [0x1C] WAIT(50* ticks)
 53: 0x0150 [0x01] GOTO 0x017A
 54: 0x0153 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x017A
 55: 0x015B [0x6E] LocalPlayer uses emote 20*
 56: 0x0162 [0x99] Wait for LocalPlayer animation to complete
 57: 0x0167 [0x1C] WAIT(90* ticks)
 58: 0x016A [0x2B] Sylvie (ID: 17863424/0x01109300) [8180*]:
    → "Daddy!!!\u007F1\u0000\u0007"
 59: 0x0171 [0x1C] WAIT(40* ticks)
 60: 0x0174 [0x1C] WAIT(70* ticks)
 61: 0x0177 [0x01] GOTO 0x017A

SUBROUTINE_017A:
 62: 0x017A [0x23] WAIT_FOR_DIALOG_INTERACTION
 63: 0x017B [0x52] END_LOAD_SCHEDULER: End scheduler "s014" with entities [EventEntity, EventEntity], work=709*
 64: 0x018A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s015" with entities [EventEntity, EventEntity], work=[709*, 0*]
 65: 0x019B [0x1C] WAIT(120* ticks)
 66: 0x019E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 67: 0x01AF [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 68: 0x01BE [0x52] END_LOAD_SCHEDULER: End scheduler "s015" with entities [EventEntity, EventEntity], work=709*
 69: 0x01CD [0x81] SET_ENTITY_BLINKING(blink_flag=0x01, entity=Sylvie (ID: 17863424/0x01109300))
 70: 0x01D3 [0x4E] SET_ENTITY_HIDE_FLAG: Hide Sylvie (ID: 17863424/0x01109300)
 71: 0x01D9 [0x4E] SET_ENTITY_HIDE_FLAG: Hide Unnamed NPC (ID: 17863441/0x01109311)
 72: 0x01DF [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 60*
 73: 0x01E3 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 60*
 74: 0x01E7 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 57*
 75: 0x01EB [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 57*
 76: 0x01EF [0x9A] WAIT_MUSIC_SERVER()
 77: 0x01F0 [0x1C] WAIT(15* ticks)
 78: 0x01F3 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 79: 0x01F7 [0x1C] WAIT(1* ticks)
 80: 0x01FA [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 81: 0x01FC [0x46] CAMERA_CONTROL: Restore default settings
 82: 0x01FE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 83: 0x020F [0x21] END_EVENT
 84: 0x0210 [0x00] END_REQSTACK()
```
