# Event 14

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 722 bytes |
| Calculated Size | 722 bytes |
| Instructions    | 124       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    03 00 00 00 80 3E 02  10 00 80 10 00 01 17 00   .....>.........
0010: 3C 00 00 01 80 02 80 3E  02 10 02 80 21 00 01 28  <......>....!..(
0020: 00 3C 00 00 03 80 02 80  3E 02 10 01 80 32 00 01  .<......>....2..
0030: 39 00 3C 00 00 04 80 02  80 3E 02 10 03 80 43 00  9.<......>....C.
0040: 01 4A 00 3C 00 00 05 80  02 80 3E 02 10 04 80 54  .J.<......>....T
0050: 00 01 5B 00 3C 00 00 06  80 02 80 3E 02 10 05 80  ..[.<......>....
0060: 65 00 01 6C 00 3C 00 00  07 80 02 80 3E 02 10 06  e..l.<......>...
0070: 80 7A 00 3C 00 00 02 80  02 80 3E 02 10 07 80 88  .z.<......>.....
0080: 00 3C 00 00 01 80 02 80  3E 02 10 08 80 96 00 3C  .<......>......<
0090: 00 00 03 80 02 80 3E 02  10 09 80 A4 00 3C 00 00  ......>......<..
00A0: 04 80 02 80 3E 02 10 0A  80 B2 00 3C 00 00 05 80  ....>......<....
00B0: 02 80 3E 02 10 0B 80 C0  00 3C 00 00 06 80 02 80  ..>......<......
00C0: 3E 02 10 0C 80 CE 00 3C  00 00 07 80 02 80 48 0D  >......<......H.
00D0: 80 23 24 0E 80 00 80 00  00 25 02 00 10 00 80 00  .#$......%......
00E0: EA 00 03 01 10 00 80 01  3A 02 02 00 10 02 80 00  ........:.......
00F0: 1A 01 42 1A 3D 02 03 01  10 02 80 BA F0 FF FF 7F  ..B.=...........
0100: 0F 80 10 80 11 80 0A 80  47 00 0F 80 10 80 11 80  ........G.......
0110: 0A 80 47 01 1A 84 02 01  3A 02 02 00 10 01 80 00  ..G.....:.......
0120: 4A 01 42 1A 3D 02 03 01  10 01 80 BA F0 FF FF 7F  J.B.=...........
0130: 12 80 13 80 14 80 15 80  47 00 12 80 13 80 14 80  ........G.......
0140: 15 80 47 01 1A 84 02 01  3A 02 02 00 10 03 80 00  ..G.....:.......
0150: 7A 01 42 1A 3D 02 03 01  10 03 80 BA F0 FF FF 7F  z.B.=...........
0160: 16 80 17 80 18 80 19 80  47 00 16 80 17 80 18 80  ........G.......
0170: 19 80 47 01 1A 84 02 01  3A 02 02 00 10 04 80 00  ..G.....:.......
0180: AA 01 42 1A 3D 02 03 01  10 04 80 BA F0 FF FF 7F  ..B.=...........
0190: 1A 80 1B 80 1C 80 1D 80  47 00 1A 80 1B 80 1C 80  ........G.......
01A0: 1D 80 47 01 1A 84 02 01  3A 02 02 00 10 05 80 00  ..G.....:.......
01B0: DA 01 42 1A 3D 02 03 01  10 05 80 BA F0 FF FF 7F  ..B.=...........
01C0: 1E 80 1F 80 11 80 20 80  47 00 1E 80 1F 80 11 80  ...... .G.......
01D0: 20 80 47 01 1A 84 02 01  3A 02 02 00 10 06 80 00   .G.....:.......
01E0: 0A 02 42 1A 3D 02 03 01  10 06 80 BA F0 FF FF 7F  ..B.=...........
01F0: 21 80 22 80 23 80 24 80  47 00 21 80 22 80 23 80  !.".#.$.G.!.".#.
0200: 24 80 47 01 1A 84 02 01  3A 02 02 00 10 07 80 00  $.G.....:.......
0210: 3A 02 42 1A 3D 02 03 01  10 07 80 BA F0 FF FF 7F  :.B.=...........
0220: 25 80 26 80 27 80 28 80  47 00 25 80 26 80 27 80  %.&.'.(.G.%.&.'.
0230: 28 80 47 01 1A 84 02 01  3A 02 2E 21 00 03 01 10  (.G.....:..!....
0240: 29 80 43 00 43 01 CD 2A  80 F8 FF FF 7F F0 FF FF  ).C.C..*........
0250: 7F 6D 61 69 6E 00 80 1C  2B 80 92 01 F0 FF FF 7F  .main...+.......
0260: 1C 2C 80 45 2D 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .,.E-.........fd
0270: 6F 31 00 80 55 2D 80 F0  FF FF 7F F0 FF FF 7F 66  o1..U-.........f
0280: 64 6F 31 1B CD 2A 80 F8  FF FF 7F F0 FF FF 7F 6B  do1..*.........k
0290: 69 6C 61 00 80 45 2D 80  F0 FF FF 7F F0 FF FF 7F  ila..E-.........
02A0: 66 64 69 31 00 80 55 2D  80 F0 FF FF 7F F0 FF FF  fdi1..U-........
02B0: 7F 66 64 69 31 CD 2E 80  F0 FF FF 7F F0 FF FF 7F  .fdi1...........
02C0: 6D 61 69 6E 00 80 1C 2B  80 92 00 F0 FF FF 7F 1C  main...+........
02D0: 2C 80 1B                                          ,..             
```

## Opcodes

```
  0: 0x0001 [0x03] ExtData[1]->WorkLocal[0] = 0*
  1: 0x0006 [0x3E] IF !(Work_Zone[2] bit 0*) GOTO 0x0010
  2: 0x000D [0x01] GOTO 0x0017

SUBROUTINE_0010:
  3: 0x0010 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8001, condition_work_offset=0x8002)
  4: 0x0017 [0x3E] IF !(Work_Zone[2] bit 1*) GOTO 0x0021
  5: 0x001E [0x01] GOTO 0x0028

SUBROUTINE_0021:
  6: 0x0021 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8003, condition_work_offset=0x8002)
  7: 0x0028 [0x3E] IF !(Work_Zone[2] bit 2*) GOTO 0x0032
  8: 0x002F [0x01] GOTO 0x0039

SUBROUTINE_0032:
  9: 0x0032 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8004, condition_work_offset=0x8002)
 10: 0x0039 [0x3E] IF !(Work_Zone[2] bit 3*) GOTO 0x0043
 11: 0x0040 [0x01] GOTO 0x004A

SUBROUTINE_0043:
 12: 0x0043 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8005, condition_work_offset=0x8002)
 13: 0x004A [0x3E] IF !(Work_Zone[2] bit 4*) GOTO 0x0054
 14: 0x0051 [0x01] GOTO 0x005B

SUBROUTINE_0054:
 15: 0x0054 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8006, condition_work_offset=0x8002)
 16: 0x005B [0x3E] IF !(Work_Zone[2] bit 5*) GOTO 0x0065
 17: 0x0062 [0x01] GOTO 0x006C

SUBROUTINE_0065:
 18: 0x0065 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8007, condition_work_offset=0x8002)
 19: 0x006C [0x3E] IF !(Work_Zone[2] bit 6*) GOTO 0x007A
 20: 0x0073 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8002, condition_work_offset=0x8002)
 21: 0x007A [0x3E] IF !(Work_Zone[2] bit 7*) GOTO 0x0088
 22: 0x0081 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8001, condition_work_offset=0x8002)
 23: 0x0088 [0x3E] IF !(Work_Zone[2] bit 8*) GOTO 0x0096
 24: 0x008F [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8003, condition_work_offset=0x8002)
 25: 0x0096 [0x3E] IF !(Work_Zone[2] bit 9*) GOTO 0x00A4
 26: 0x009D [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8004, condition_work_offset=0x8002)
 27: 0x00A4 [0x3E] IF !(Work_Zone[2] bit 10*) GOTO 0x00B2
 28: 0x00AB [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8005, condition_work_offset=0x8002)
 29: 0x00B2 [0x3E] IF !(Work_Zone[2] bit 11*) GOTO 0x00C0
 30: 0x00B9 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8006, condition_work_offset=0x8002)
 31: 0x00C0 [0x3E] IF !(Work_Zone[2] bit 12*) GOTO 0x00CE
 32: 0x00C7 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8007, condition_work_offset=0x8002)
 33: 0x00CE [0x48] [System] [7521*]:
    → "The device makes a small humming noise. Teleportation is now active.\u007F1\u0000\u0007"
 34: 0x00D1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x00D2 [0x24] CREATE_DIALOG(message_id=7522*, default_option=0*, option_flags=0x00)
    → "Select a location.\u0007\u000BNone, thanks.\u0007Hall of the Reckless.\u0007Ymmr-Ulvid's Chamber.\u0007Ignor-Mnt's Chamber.\u0007Durs-Vike's Chamber.\u0007Tryl-Wuj's Chamber.\u0007Liij-Vok's Chamber.\u0007Gramk-Droog's Hall.\u007F1\u0000\u0007"
 36: 0x00D9 [0x25] WAIT_DIALOG_SELECT()
 37: 0x00DA [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00EA
 38: 0x00E2 [0x03] Work_Zone[1] = 0*
 39: 0x00E7 [0x01] GOTO 0x023A

SUBROUTINE_00EA:
 40: 0x00EA [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x011A
 41: 0x00F2 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 42: 0x00F3 [0x1A] CALL_SUBROUTINE(address=0x023D)
 43: 0x00F6 [0x03] Work_Zone[1] = 1*
 44: 0x00FB [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-237.719*, pos_z=400.727*, pos_y=29.999*, direction=0.9°*)
 45: 0x0108 [0x47] UPDATE_PLAYER_POS(-237.719*, 400.727*, 29.999*, yaw=0.9°*)
 46: 0x0112 [0x47] WAIT_PLAYER_POS_UPDATE
 47: 0x0114 [0x1A] CALL_SUBROUTINE(address=0x0284)
 48: 0x0117 [0x01] GOTO 0x023A

SUBROUTINE_011A:
 49: 0x011A [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x014A
 50: 0x0122 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 51: 0x0123 [0x1A] CALL_SUBROUTINE(address=0x023D)
 52: 0x0126 [0x03] Work_Zone[1] = 2*
 53: 0x012B [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=82.436*, pos_z=580.055*, pos_y=29.955*, direction=10.0°*)
 54: 0x0138 [0x47] UPDATE_PLAYER_POS(82.436*, 580.055*, 29.955*, yaw=10.0°*)
 55: 0x0142 [0x47] WAIT_PLAYER_POS_UPDATE
 56: 0x0144 [0x1A] CALL_SUBROUTINE(address=0x0284)
 57: 0x0147 [0x01] GOTO 0x023A

SUBROUTINE_014A:
 58: 0x014A [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x017A
 59: 0x0152 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 60: 0x0153 [0x1A] CALL_SUBROUTINE(address=0x023D)
 61: 0x0156 [0x03] Work_Zone[1] = 3*
 62: 0x015B [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=497.886*, pos_z=301.515*, pos_y=30.150*, direction=72.2°*)
 63: 0x0168 [0x47] UPDATE_PLAYER_POS(497.886*, 301.515*, 30.150*, yaw=72.2°*)
 64: 0x0172 [0x47] WAIT_PLAYER_POS_UPDATE
 65: 0x0174 [0x1A] CALL_SUBROUTINE(address=0x0284)
 66: 0x0177 [0x01] GOTO 0x023A

SUBROUTINE_017A:
 67: 0x017A [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x01AA
 68: 0x0182 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 69: 0x0183 [0x1A] CALL_SUBROUTINE(address=0x023D)
 70: 0x0186 [0x03] Work_Zone[1] = 4*
 71: 0x018B [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-139.879*, pos_z=56.409*, pos_y=10.185*, direction=85.3°*)
 72: 0x0198 [0x47] UPDATE_PLAYER_POS(-139.879*, 56.409*, 10.185*, yaw=85.3°*)
 73: 0x01A2 [0x47] WAIT_PLAYER_POS_UPDATE
 74: 0x01A4 [0x1A] CALL_SUBROUTINE(address=0x0284)
 75: 0x01A7 [0x01] GOTO 0x023A

SUBROUTINE_01AA:
 76: 0x01AA [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x01DA
 77: 0x01B2 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 78: 0x01B3 [0x1A] CALL_SUBROUTINE(address=0x023D)
 79: 0x01B6 [0x03] Work_Zone[1] = 5*
 80: 0x01BB [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=518.254*, pos_z=-280.187*, pos_y=29.999*, direction=271.4°*)
 81: 0x01C8 [0x47] UPDATE_PLAYER_POS(518.254*, -280.187*, 29.999*, yaw=271.4°*)
 82: 0x01D2 [0x47] WAIT_PLAYER_POS_UPDATE
 83: 0x01D4 [0x1A] CALL_SUBROUTINE(address=0x0284)
 84: 0x01D7 [0x01] GOTO 0x023A

SUBROUTINE_01DA:
 85: 0x01DA [0x02] IF !(Work_Zone[0] == 6*) GOTO 0x020A
 86: 0x01E2 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 87: 0x01E3 [0x1A] CALL_SUBROUTINE(address=0x023D)
 88: 0x01E6 [0x03] Work_Zone[1] = 6*
 89: 0x01EB [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=22.263*, pos_z=-263.298*, pos_y=30.228*, direction=252.2°*)
 90: 0x01F8 [0x47] UPDATE_PLAYER_POS(22.263*, -263.298*, 30.228*, yaw=252.2°*)
 91: 0x0202 [0x47] WAIT_PLAYER_POS_UPDATE
 92: 0x0204 [0x1A] CALL_SUBROUTINE(address=0x0284)
 93: 0x0207 [0x01] GOTO 0x023A

SUBROUTINE_020A:
 94: 0x020A [0x02] IF !(Work_Zone[0] == 7*) GOTO 0x023A
 95: 0x0212 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 96: 0x0213 [0x1A] CALL_SUBROUTINE(address=0x023D)
 97: 0x0216 [0x03] Work_Zone[1] = 7*
 98: 0x021B [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=61.952*, pos_z=-454.433*, pos_y=28.011*, direction=265.8°*)
 99: 0x0228 [0x47] UPDATE_PLAYER_POS(61.952*, -454.433*, 28.011*, yaw=265.8°*)
100: 0x0232 [0x47] WAIT_PLAYER_POS_UPDATE
101: 0x0234 [0x1A] CALL_SUBROUTINE(address=0x0284)
102: 0x0237 [0x01] GOTO 0x023A

SUBROUTINE_023A:
103: 0x023A [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
104: 0x023B [0x21] END_EVENT
105: 0x023C [0x00] END_REQSTACK()

SUBROUTINE_023D:
106: 0x023D [0x03] Work_Zone[1] = 255*
107: 0x0242 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
108: 0x0244 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
109: 0x0246 [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "main" with entities [EventEntity, LocalPlayer], work=[140*, 0*]
110: 0x0257 [0x1C] WAIT(90* ticks)
111: 0x025A [0x92] LocalPlayer->Render.Flags3 ^= 0x01
112: 0x0260 [0x1C] WAIT(30* ticks)
113: 0x0263 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
114: 0x0274 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
115: 0x0283 [0x1B] RETURN

SUBROUTINE_0284:
116: 0x0284 [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "kila" with entities [EventEntity, LocalPlayer], work=[140*, 0*]
117: 0x0295 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
118: 0x02A6 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
119: 0x02B5 [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[141*, 0*]
120: 0x02C6 [0x1C] WAIT(90* ticks)
121: 0x02C9 [0x92] LocalPlayer->Render.Flags3 = Flags3  // No change (flag=0)
122: 0x02CF [0x1C] WAIT(30* ticks)
123: 0x02D2 [0x1B] RETURN
```
