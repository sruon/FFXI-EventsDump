# Event 5506

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/8       |
| Offset          | 0x20B7    |
| Data Size       | 149 bytes |
| Calculated Size | 149 bytes |
| Instructions    | 40        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
20B0:                      1E  F0 FF FF 7F 42 03 01 00         .....B...
20C0: 02 10 03 16 00 03 10 06  08 00 3E 01 00 00 80 D4  ..........>.....
20D0: 20 0B 08 00 3E 01 00 06  80 DE 20 0B 08 00 3E 01   ...>..... ...>.
20E0: 00 01 80 E8 20 0B 08 00  02 16 00 00 80 02 FB 20  .... .......... 
20F0: 1D 2B 81 23 1D 2C 81 23  01 4A 21 03 02 10 0F 80  .+.#.,.#.J!.....
2100: 1D 2D 81 23 02 08 00 00  80 80 13 21 1D 2E 81 23  .-.#.......!...#
2110: 01 4A 21 02 08 00 06 80  80 27 21 03 02 10 08 00  .J!......'!.....
2120: 1D 2F 81 23 01 4A 21 02  08 00 01 80 80 3B 21 03  ./.#.J!......;!.
2130: 02 10 08 00 1D 2F 81 23  01 4A 21 02 08 00 02 80  ...../.#.J!.....
2140: 80 4A 21 1D 30 81 23 01  4A 21 21 00              .J!.0.#.J!!.    
```

## Opcodes

```
  0: 0x20B7 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x20BC [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x20BD [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
  3: 0x20C2 [0x03] ExtData[1]->WorkLocal[22] = Work_Zone[3]
  4: 0x20C7 [0x06] ExtData[1]->WorkLocal[8] = 0
  5: 0x20CA [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 0*) GOTO 0x20D4
  6: 0x20D1 [0x0B] ExtData[1]->WorkLocal[8]++
  7: 0x20D4 [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 1*) GOTO 0x20DE
  8: 0x20DB [0x0B] ExtData[1]->WorkLocal[8]++
  9: 0x20DE [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 2*) GOTO 0x20E8
 10: 0x20E5 [0x0B] ExtData[1]->WorkLocal[8]++
 11: 0x20E8 [0x02] IF !(ExtData[1]->WorkLocal[22] <= 0*) GOTO 0x20FB
 12: 0x20F0 [0x1D] PRINT_EVENT_MESSAGE(message_id=12480*)
    → "It must have been really hairy down there, huh?\u0007Oh, and as I explained before, we'll be needing that grimoire of yours for analysis.\u007F1\u0000\u0007"
 13: 0x20F3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x20F4 [0x1D] PRINT_EVENT_MESSAGE(message_id=12481*)
    → "Here's a new grimoire we've prepared for you.\u0007Go on, take it.\u007F1\u0000\u0007"
 15: 0x20F7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x20F8 [0x01] GOTO 0x214A

SUBROUTINE_20FB:
 17: 0x20FB [0x03] Work_Zone[2] = 2145*
 18: 0x2100 [0x1D] PRINT_EVENT_MESSAGE(message_id=12476*)
    → "Good job. Now it's time to record your latest discoveries in your \u0001\u00053\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 19: 0x2103 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x2104 [0x02] IF !(ExtData[1]->WorkLocal[8] == 0*) GOTO 0x2113
 21: 0x210C [0x1D] PRINT_EVENT_MESSAGE(message_id=12479*)
    → "Well, you may not have met any goals this time, but failures are the building blocks of success.\u0007Good luck next time!\u007F1\u0000\u0007"
 22: 0x210F [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x2110 [0x01] GOTO 0x214A

SUBROUTINE_2113:
 24: 0x2113 [0x02] IF !(ExtData[1]->WorkLocal[8] == 1*) GOTO 0x2127
 25: 0x211B [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[8]
 26: 0x2120 [0x1D] PRINT_EVENT_MESSAGE(message_id=12477*)
    → "It looks like you've completed 
\u0000 goal\u007F\u0012\u0000[/s] on this last expedition. Now that everything's been recorded, you can have your grimoire back.\u007F1\u0000\u0007"
 27: 0x2123 [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x2124 [0x01] GOTO 0x214A

SUBROUTINE_2127:
 29: 0x2127 [0x02] IF !(ExtData[1]->WorkLocal[8] == 2*) GOTO 0x213B
 30: 0x212F [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[8]
 31: 0x2134 [0x1D] PRINT_EVENT_MESSAGE(message_id=12477*)
    → "It looks like you've completed 
\u0000 goal\u007F\u0012\u0000[/s] on this last expedition. Now that everything's been recorded, you can have your grimoire back.\u007F1\u0000\u0007"
 32: 0x2137 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x2138 [0x01] GOTO 0x214A

SUBROUTINE_213B:
 34: 0x213B [0x02] IF !(ExtData[1]->WorkLocal[8] == 3*) GOTO 0x214A
 35: 0x2143 [0x1D] PRINT_EVENT_MESSAGE(message_id=12478*)
    → "You've completed all three goals!? Great!\u0007You're a credit to the Exploration Committee, \u0008, and more than worthy of your grimoire.\u007F1\u0000\u0007"
 36: 0x2146 [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x2147 [0x01] GOTO 0x214A

SUBROUTINE_214A:
 38: 0x214A [0x21] END_EVENT
 39: 0x214B [0x00] END_REQSTACK()
```
