# Event 10

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 8/14      |
| Offset          | 0x0174    |
| Data Size       | 329 bytes |
| Calculated Size | 329 bytes |
| Instructions    | 67        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0170:             20 01 42 06  11 00 06 0A 00 06 0B 00       .B.........
0180: 06 0C 00 06 0D 00 3B F0  FF FF 7F 06 00 08 00 07  ......;.........
0190: 00 3A F0 FF FF 7F 09 00  64 05 00 06 00 08 00 15  .:......d.......
01A0: 80 16 80 02 05 00 17 80  02 AD 01 21 00 03 0E 00  ...........!....
01B0: 06 00 03 10 00 08 00 33  01 03 04 00 09 80 06 03  .......3........
01C0: 00 06 02 00 06 05 00 02  05 00 09 80 00 93 02 02  ................
01D0: 11 00 09 80 80 FB 01 17  0C 00 04 00 18 80 08 0C  ................
01E0: 00 18 80 08 0C 00 19 80  07 04 00 1A 80 02 04 00  ................
01F0: 1B 80 02 F8 01 0B 11 00  01 49 02 02 11 00 01 80  .........I......
0200: 80 22 02 17 0C 00 04 00  1C 80 08 0C 00 1C 80 07  ."..............
0210: 04 00 1A 80 02 04 00 1D  80 04 1F 02 0B 11 00 01  ................
0220: 49 02 02 11 00 02 80 80  44 02 17 0C 00 04 00 1E  I.......D.......
0230: 80 07 04 00 1F 80 02 04  00 20 80 04 41 02 0B 11  ......... ..A...
0240: 00 01 49 02 05 05 00 33  00 17 03 00 02 00 21 80  ..I....3......!.
0250: 08 03 00 21 80 14 03 00  22 80 17 0A 00 23 80 03  ...!...."....#..
0260: 00 16 0B 00 23 80 03 00  02 02 00 1B 80 05 75 02  ....#.........u.
0270: 07 02 00 24 80 07 06 00  0A 00 07 08 00 0B 00 07  ...$............
0280: 07 00 0C 00 37 06 00 08  00 07 00 09 00 1C 01 80  ....7...........
0290: 01 C7 01 14 0A 00 0A 80  14 0B 00 0A 80 14 0C 00  ................
02A0: 0A 80 07 06 00 0A 00 07  08 00 0B 00 07 07 00 0C  ................
02B0: 00 1F 00 06 00 08 00 07  00 1F 01 21 00           ...........!.   
```

## Opcodes

```
  0: 0x0174 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0176 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0177 [0x06] ExtData[1]->WorkLocal[17] = 0
  3: 0x017A [0x06] ExtData[1]->WorkLocal[10] = 0
  4: 0x017D [0x06] ExtData[1]->WorkLocal[11] = 0
  5: 0x0180 [0x06] ExtData[1]->WorkLocal[12] = 0
  6: 0x0183 [0x06] ExtData[1]->WorkLocal[13] = 0
  7: 0x0186 [0x3B] GET_ENTITY_POSITION(entity=LocalPlayer, x_destination=ExtData[1]->WorkLocal[6], y_destination=ExtData[1]->WorkLocal[8], z_destination=ExtData[1]->WorkLocal[7])
  8: 0x0191 [0x3A] CONVERT_YAW_TO_BYTE(entity=LocalPlayer, result_destination=ExtData[1]->WorkLocal[9])
  9: 0x0198 [0x64] CALCULATE_DISTANCE: ExtData[1]->WorkLocal[5] = distance between point1(ExtData[1]->WorkLocal[6], ExtData[1]->WorkLocal[8]) and point2(4294834107*, 133150*)
 10: 0x01A3 [0x02] IF !(ExtData[1]->WorkLocal[5] <= 500*) GOTO 0x01AD
 11: 0x01AB [0x21] END_EVENT
 12: 0x01AC [0x00] END_REQSTACK()
 13: 0x01AD [0x03] ExtData[1]->WorkLocal[14] = ExtData[1]->WorkLocal[6]
 14: 0x01B2 [0x03] ExtData[1]->WorkLocal[16] = ExtData[1]->WorkLocal[8]
 15: 0x01B7 [0x33] EventEntity->Render.Flags0 |= 0x200000 // Bit 21 (flag=0x01)
 16: 0x01B9 [0x03] ExtData[1]->WorkLocal[4] = 0*
 17: 0x01BE [0x06] ExtData[1]->WorkLocal[3] = 0
 18: 0x01C1 [0x06] ExtData[1]->WorkLocal[2] = 0
 19: 0x01C4 [0x06] ExtData[1]->WorkLocal[5] = 0

SUBROUTINE_01C7:
 20: 0x01C7 [0x02] IF !(ExtData[1]->WorkLocal[5] == 0*) GOTO 0x0293
 21: 0x01CF [0x02] IF !(ExtData[1]->WorkLocal[17] == 0*) GOTO 0x01FB
 22: 0x01D7 [0x17] ExtData[1]->WorkLocal[12] = cos(ExtData[1]->WorkLocal[4]) * 120*
 23: 0x01DE [0x08] ExtData[1]->WorkLocal[12] -= 120*
 24: 0x01E3 [0x08] ExtData[1]->WorkLocal[12] -= 60*
 25: 0x01E8 [0x07] ExtData[1]->WorkLocal[4] += 256*
 26: 0x01ED [0x02] IF !(ExtData[1]->WorkLocal[4] <= 1024*) GOTO 0x01F8
 27: 0x01F5 [0x0B] ExtData[1]->WorkLocal[17]++
 28: 0x01F8 [0x01] GOTO 0x0249
 29: 0x01FB [0x02] IF !(ExtData[1]->WorkLocal[17] == 1*) GOTO 0x0222
 30: 0x0203 [0x17] ExtData[1]->WorkLocal[12] = cos(ExtData[1]->WorkLocal[4]) * 360*
 31: 0x020A [0x08] ExtData[1]->WorkLocal[12] -= 360*
 32: 0x020F [0x07] ExtData[1]->WorkLocal[4] += 256*
 33: 0x0214 [0x02] IF !(ExtData[1]->WorkLocal[4] < 2048*) GOTO 0x021F
 34: 0x021C [0x0B] ExtData[1]->WorkLocal[17]++
 35: 0x021F [0x01] GOTO 0x0249
 36: 0x0222 [0x02] IF !(ExtData[1]->WorkLocal[17] == 2*) GOTO 0x0244
 37: 0x022A [0x17] ExtData[1]->WorkLocal[12] = cos(ExtData[1]->WorkLocal[4]) * 480*
 38: 0x0231 [0x07] ExtData[1]->WorkLocal[4] += 100*
 39: 0x0236 [0x02] IF !(ExtData[1]->WorkLocal[4] < 3584*) GOTO 0x0241
 40: 0x023E [0x0B] ExtData[1]->WorkLocal[17]++
 41: 0x0241 [0x01] GOTO 0x0249
 42: 0x0244 [0x05] ExtData[1]->WorkLocal[5] = 1
 43: 0x0247 [0x33] EventEntity->Render.Flags0 &= ~ 0x200000 // Bit 21 (flag=0x00)

SUBROUTINE_0249:
 44: 0x0249 [0x17] ExtData[1]->WorkLocal[3] = cos(ExtData[1]->WorkLocal[2]) * 800*
 45: 0x0250 [0x08] ExtData[1]->WorkLocal[3] -= 800*
 46: 0x0255 [0x14] ExtData[1]->WorkLocal[3] *= 4294967295*
 47: 0x025A [0x17] ExtData[1]->WorkLocal[10] = cos(2642*) * ExtData[1]->WorkLocal[3]
 48: 0x0261 [0x16] ExtData[1]->WorkLocal[11] = sin(2642*) * ExtData[1]->WorkLocal[3]
 49: 0x0268 [0x02] IF !(ExtData[1]->WorkLocal[2] > 1024*) GOTO 0x0275
 50: 0x0270 [0x07] ExtData[1]->WorkLocal[2] += 32*
 51: 0x0275 [0x07] ExtData[1]->WorkLocal[6] += ExtData[1]->WorkLocal[10]
 52: 0x027A [0x07] ExtData[1]->WorkLocal[8] += ExtData[1]->WorkLocal[11]
 53: 0x027F [0x07] ExtData[1]->WorkLocal[7] += ExtData[1]->WorkLocal[12]
 54: 0x0284 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=ExtData[1]->WorkLocal[6], z=ExtData[1]->WorkLocal[8], y=ExtData[1]->WorkLocal[7], direction=ExtData[1]->WorkLocal[9]
 55: 0x028D [0x1C] WAIT(1* ticks)
 56: 0x0290 [0x01] GOTO 0x01C7
 57: 0x0293 [0x14] ExtData[1]->WorkLocal[10] *= 3*
 58: 0x0298 [0x14] ExtData[1]->WorkLocal[11] *= 3*
 59: 0x029D [0x14] ExtData[1]->WorkLocal[12] *= 3*
 60: 0x02A2 [0x07] ExtData[1]->WorkLocal[6] += ExtData[1]->WorkLocal[10]
 61: 0x02A7 [0x07] ExtData[1]->WorkLocal[8] += ExtData[1]->WorkLocal[11]
 62: 0x02AC [0x07] ExtData[1]->WorkLocal[7] += ExtData[1]->WorkLocal[12]
 63: 0x02B1 [0x1F] MOVE_ENTITY: EventEntity moves to X=ExtData[1]->WorkLocal[6], Z=ExtData[1]->WorkLocal[8], Y=ExtData[1]->WorkLocal[7]
 64: 0x02B9 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
 65: 0x02BB [0x21] END_EVENT
 66: 0x02BC [0x00] END_REQSTACK()
```
