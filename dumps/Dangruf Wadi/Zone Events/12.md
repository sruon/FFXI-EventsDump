# Event 12

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 10/14     |
| Offset          | 0x03D7    |
| Data Size       | 282 bytes |
| Calculated Size | 282 bytes |
| Instructions    | 57        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
03D0:                      42  06 31 00 06 2A 00 06 2B         B.1..*..+
03E0: 00 06 2C 00 06 2D 00 3B  F0 FF FF 7F 26 00 28 00  ..,..-.;....&.(.
03F0: 27 00 3A F0 FF FF 7F 29  00 64 25 00 26 00 28 00  '.:....).d%.&.(.
0400: 2C 80 2D 80 02 25 00 17  80 02 0E 04 21 00 03 2E  ,.-..%......!...
0410: 00 26 00 03 30 00 28 00  33 01 03 24 00 09 80 06  .&..0.(.3..$....
0420: 23 00 06 22 00 06 25 00  02 25 00 09 80 00 EF 04  #.."..%..%......
0430: 02 31 00 09 80 80 57 04  17 2C 00 24 00 18 80 08  .1....W..,.$....
0440: 2C 00 18 80 07 24 00 27  80 02 24 00 1B 80 04 54  ,....$.'..$....T
0450: 04 0B 31 00 01 A5 04 02  31 00 01 80 80 7E 04 17  ..1.....1....~..
0460: 2C 00 24 00 18 80 08 2C  00 18 80 07 24 00 28 80  ,.$....,....$.(.
0470: 02 24 00 1D 80 04 7B 04  0B 31 00 01 A5 04 02 31  .$....{..1.....1
0480: 00 02 80 80 A0 04 17 2C  00 24 00 29 80 07 24 00  .......,.$.)..$.
0490: 27 80 02 24 00 2A 80 04  9D 04 0B 31 00 01 A5 04  '..$.*.....1....
04A0: 05 25 00 33 00 17 23 00  22 00 17 80 08 23 00 17  .%.3..#."....#..
04B0: 80 14 23 00 22 80 17 2A  00 2E 80 23 00 16 2B 00  ..#."..*...#..+.
04C0: 2E 80 23 00 02 22 00 1B  80 05 D1 04 07 22 00 2B  ..#..".......".+
04D0: 80 07 26 00 2A 00 07 28  00 2B 00 07 27 00 2C 00  ..&.*..(.+..'.,.
04E0: 37 26 00 28 00 27 00 29  00 1C 01 80 01 28 04 21  7&.(.'.).....(.!
04F0: 00                                                .               
```

## Opcodes

```
  0: 0x03D7 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x03D8 [0x06] ExtData[1]->WorkLocal[49] = 0
  2: 0x03DB [0x06] ExtData[1]->WorkLocal[42] = 0
  3: 0x03DE [0x06] ExtData[1]->WorkLocal[43] = 0
  4: 0x03E1 [0x06] ExtData[1]->WorkLocal[44] = 0
  5: 0x03E4 [0x06] ExtData[1]->WorkLocal[45] = 0
  6: 0x03E7 [0x3B] GET_ENTITY_POSITION(entity=LocalPlayer, x_destination=ExtData[1]->WorkLocal[38], y_destination=ExtData[1]->WorkLocal[40], z_destination=ExtData[1]->WorkLocal[39])
  7: 0x03F2 [0x3A] CONVERT_YAW_TO_BYTE(entity=LocalPlayer, result_destination=ExtData[1]->WorkLocal[41])
  8: 0x03F9 [0x64] CALCULATE_DISTANCE: ExtData[1]->WorkLocal[37] = distance between point1(ExtData[1]->WorkLocal[38], ExtData[1]->WorkLocal[40]) and point2(4294900438*, 533309*)
  9: 0x0404 [0x02] IF !(ExtData[1]->WorkLocal[37] <= 500*) GOTO 0x040E
 10: 0x040C [0x21] END_EVENT
 11: 0x040D [0x00] END_REQSTACK()
 12: 0x040E [0x03] ExtData[1]->WorkLocal[46] = ExtData[1]->WorkLocal[38]
 13: 0x0413 [0x03] ExtData[1]->WorkLocal[48] = ExtData[1]->WorkLocal[40]
 14: 0x0418 [0x33] EventEntity->Render.Flags0 |= 0x200000 // Bit 21 (flag=0x01)
 15: 0x041A [0x03] ExtData[1]->WorkLocal[36] = 0*
 16: 0x041F [0x06] ExtData[1]->WorkLocal[35] = 0
 17: 0x0422 [0x06] ExtData[1]->WorkLocal[34] = 0
 18: 0x0425 [0x06] ExtData[1]->WorkLocal[37] = 0
 19: 0x0428 [0x02] IF !(ExtData[1]->WorkLocal[37] == 0*) GOTO 0x04EF
 20: 0x0430 [0x02] IF !(ExtData[1]->WorkLocal[49] == 0*) GOTO 0x0457
 21: 0x0438 [0x17] ExtData[1]->WorkLocal[44] = cos(ExtData[1]->WorkLocal[36]) * 120*
 22: 0x043F [0x08] ExtData[1]->WorkLocal[44] -= 120*
 23: 0x0444 [0x07] ExtData[1]->WorkLocal[36] += 128*
 24: 0x0449 [0x02] IF !(ExtData[1]->WorkLocal[36] < 1024*) GOTO 0x0454
 25: 0x0451 [0x0B] ExtData[1]->WorkLocal[49]++
 26: 0x0454 [0x01] GOTO 0x04A5
 27: 0x0457 [0x02] IF !(ExtData[1]->WorkLocal[49] == 1*) GOTO 0x047E
 28: 0x045F [0x17] ExtData[1]->WorkLocal[44] = cos(ExtData[1]->WorkLocal[36]) * 120*
 29: 0x0466 [0x08] ExtData[1]->WorkLocal[44] -= 120*
 30: 0x046B [0x07] ExtData[1]->WorkLocal[36] += 64*
 31: 0x0470 [0x02] IF !(ExtData[1]->WorkLocal[36] < 2048*) GOTO 0x047B
 32: 0x0478 [0x0B] ExtData[1]->WorkLocal[49]++
 33: 0x047B [0x01] GOTO 0x04A5
 34: 0x047E [0x02] IF !(ExtData[1]->WorkLocal[49] == 2*) GOTO 0x04A0
 35: 0x0486 [0x17] ExtData[1]->WorkLocal[44] = cos(ExtData[1]->WorkLocal[36]) * 240*
 36: 0x048D [0x07] ExtData[1]->WorkLocal[36] += 128*
 37: 0x0492 [0x02] IF !(ExtData[1]->WorkLocal[36] < 4096*) GOTO 0x049D
 38: 0x049A [0x0B] ExtData[1]->WorkLocal[49]++
 39: 0x049D [0x01] GOTO 0x04A5
 40: 0x04A0 [0x05] ExtData[1]->WorkLocal[37] = 1
 41: 0x04A3 [0x33] EventEntity->Render.Flags0 &= ~ 0x200000 // Bit 21 (flag=0x00)
 42: 0x04A5 [0x17] ExtData[1]->WorkLocal[35] = cos(ExtData[1]->WorkLocal[34]) * 500*
 43: 0x04AC [0x08] ExtData[1]->WorkLocal[35] -= 500*
 44: 0x04B1 [0x14] ExtData[1]->WorkLocal[35] *= 4294967295*
 45: 0x04B6 [0x17] ExtData[1]->WorkLocal[42] = cos(3700*) * ExtData[1]->WorkLocal[35]
 46: 0x04BD [0x16] ExtData[1]->WorkLocal[43] = sin(3700*) * ExtData[1]->WorkLocal[35]
 47: 0x04C4 [0x02] IF !(ExtData[1]->WorkLocal[34] > 1024*) GOTO 0x04D1
 48: 0x04CC [0x07] ExtData[1]->WorkLocal[34] += 16*
 49: 0x04D1 [0x07] ExtData[1]->WorkLocal[38] += ExtData[1]->WorkLocal[42]
 50: 0x04D6 [0x07] ExtData[1]->WorkLocal[40] += ExtData[1]->WorkLocal[43]
 51: 0x04DB [0x07] ExtData[1]->WorkLocal[39] += ExtData[1]->WorkLocal[44]
 52: 0x04E0 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=ExtData[1]->WorkLocal[38], z=ExtData[1]->WorkLocal[40], y=ExtData[1]->WorkLocal[39], direction=ExtData[1]->WorkLocal[41]
 53: 0x04E9 [0x1C] WAIT(1* ticks)
 54: 0x04EC [0x01] GOTO 0x0428
 55: 0x04EF [0x21] END_EVENT
 56: 0x04F0 [0x00] END_REQSTACK()
```
