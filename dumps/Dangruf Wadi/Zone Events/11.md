# Event 11

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 9/14      |
| Offset          | 0x02BD    |
| Data Size       | 282 bytes |
| Calculated Size | 282 bytes |
| Instructions    | 57        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
02B0:                                         42 06 21               B.!
02C0: 00 06 1A 00 06 1B 00 06  1C 00 06 1D 00 3B F0 FF  .............;..
02D0: FF 7F 16 00 18 00 17 00  3A F0 FF FF 7F 19 00 64  ........:......d
02E0: 15 00 16 00 18 00 25 80  26 80 02 15 00 17 80 02  ......%.&.......
02F0: F4 02 21 00 03 1E 00 16  00 03 20 00 18 00 33 01  ..!....... ...3.
0300: 03 14 00 09 80 06 13 00  06 12 00 06 15 00 02 15  ................
0310: 00 09 80 00 D5 03 02 21  00 09 80 80 3D 03 17 1C  .......!....=...
0320: 00 14 00 18 80 08 1C 00  18 80 07 14 00 27 80 02  .............'..
0330: 14 00 1B 80 04 3A 03 0B  21 00 01 8B 03 02 21 00  .....:..!.....!.
0340: 01 80 80 64 03 17 1C 00  14 00 18 80 08 1C 00 18  ...d............
0350: 80 07 14 00 28 80 02 14  00 1D 80 04 61 03 0B 21  ....(.......a..!
0360: 00 01 8B 03 02 21 00 02  80 80 86 03 17 1C 00 14  .....!..........
0370: 00 29 80 07 14 00 27 80  02 14 00 2A 80 04 83 03  .)....'....*....
0380: 0B 21 00 01 8B 03 05 15  00 33 00 17 13 00 12 00  .!.......3......
0390: 17 80 08 13 00 17 80 14  13 00 22 80 17 1A 00 23  .........."....#
03A0: 80 13 00 16 1B 00 23 80  13 00 02 12 00 1B 80 05  ......#.........
03B0: B7 03 07 12 00 2B 80 07  16 00 1A 00 07 18 00 1B  .....+..........
03C0: 00 07 17 00 1C 00 37 16  00 18 00 17 00 19 00 1C  ......7.........
03D0: 01 80 01 0E 03 21 00                              .....!.         
```

## Opcodes

```
  0: 0x02BD [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x02BE [0x06] ExtData[1]->WorkLocal[33] = 0
  2: 0x02C1 [0x06] ExtData[1]->WorkLocal[26] = 0
  3: 0x02C4 [0x06] ExtData[1]->WorkLocal[27] = 0
  4: 0x02C7 [0x06] ExtData[1]->WorkLocal[28] = 0
  5: 0x02CA [0x06] ExtData[1]->WorkLocal[29] = 0
  6: 0x02CD [0x3B] GET_ENTITY_POSITION(entity=LocalPlayer, x_destination=ExtData[1]->WorkLocal[22], y_destination=ExtData[1]->WorkLocal[24], z_destination=ExtData[1]->WorkLocal[23])
  7: 0x02D8 [0x3A] CONVERT_YAW_TO_BYTE(entity=LocalPlayer, result_destination=ExtData[1]->WorkLocal[25])
  8: 0x02DF [0x64] CALCULATE_DISTANCE: ExtData[1]->WorkLocal[21] = distance between point1(ExtData[1]->WorkLocal[22], ExtData[1]->WorkLocal[24]) and point2(4294754129*, 93238*)
  9: 0x02EA [0x02] IF !(ExtData[1]->WorkLocal[21] <= 500*) GOTO 0x02F4
 10: 0x02F2 [0x21] END_EVENT
 11: 0x02F3 [0x00] END_REQSTACK()

SUBROUTINE_02F4:
 12: 0x02F4 [0x03] ExtData[1]->WorkLocal[30] = ExtData[1]->WorkLocal[22]
 13: 0x02F9 [0x03] ExtData[1]->WorkLocal[32] = ExtData[1]->WorkLocal[24]
 14: 0x02FE [0x33] EventEntity->Render.Flags0 |= 0x200000 // Bit 21 (flag=0x01)
 15: 0x0300 [0x03] ExtData[1]->WorkLocal[20] = 0*
 16: 0x0305 [0x06] ExtData[1]->WorkLocal[19] = 0
 17: 0x0308 [0x06] ExtData[1]->WorkLocal[18] = 0
 18: 0x030B [0x06] ExtData[1]->WorkLocal[21] = 0
 19: 0x030E [0x02] IF !(ExtData[1]->WorkLocal[21] == 0*) GOTO 0x03D5
 20: 0x0316 [0x02] IF !(ExtData[1]->WorkLocal[33] == 0*) GOTO 0x033D
 21: 0x031E [0x17] ExtData[1]->WorkLocal[28] = cos(ExtData[1]->WorkLocal[20]) * 120*
 22: 0x0325 [0x08] ExtData[1]->WorkLocal[28] -= 120*
 23: 0x032A [0x07] ExtData[1]->WorkLocal[20] += 128*
 24: 0x032F [0x02] IF !(ExtData[1]->WorkLocal[20] < 1024*) GOTO 0x033A
 25: 0x0337 [0x0B] ExtData[1]->WorkLocal[33]++
 26: 0x033A [0x01] GOTO 0x038B

SUBROUTINE_033D:
 27: 0x033D [0x02] IF !(ExtData[1]->WorkLocal[33] == 1*) GOTO 0x0364
 28: 0x0345 [0x17] ExtData[1]->WorkLocal[28] = cos(ExtData[1]->WorkLocal[20]) * 120*
 29: 0x034C [0x08] ExtData[1]->WorkLocal[28] -= 120*
 30: 0x0351 [0x07] ExtData[1]->WorkLocal[20] += 64*
 31: 0x0356 [0x02] IF !(ExtData[1]->WorkLocal[20] < 2048*) GOTO 0x0361
 32: 0x035E [0x0B] ExtData[1]->WorkLocal[33]++
 33: 0x0361 [0x01] GOTO 0x038B

SUBROUTINE_0364:
 34: 0x0364 [0x02] IF !(ExtData[1]->WorkLocal[33] == 2*) GOTO 0x0386
 35: 0x036C [0x17] ExtData[1]->WorkLocal[28] = cos(ExtData[1]->WorkLocal[20]) * 240*
 36: 0x0373 [0x07] ExtData[1]->WorkLocal[20] += 128*
 37: 0x0378 [0x02] IF !(ExtData[1]->WorkLocal[20] < 4096*) GOTO 0x0383
 38: 0x0380 [0x0B] ExtData[1]->WorkLocal[33]++
 39: 0x0383 [0x01] GOTO 0x038B

SUBROUTINE_0386:
 40: 0x0386 [0x05] ExtData[1]->WorkLocal[21] = 1
 41: 0x0389 [0x33] EventEntity->Render.Flags0 &= ~ 0x200000 // Bit 21 (flag=0x00)
 42: 0x038B [0x17] ExtData[1]->WorkLocal[19] = cos(ExtData[1]->WorkLocal[18]) * 500*
 43: 0x0392 [0x08] ExtData[1]->WorkLocal[19] -= 500*
 44: 0x0397 [0x14] ExtData[1]->WorkLocal[19] *= 4294967295*
 45: 0x039C [0x17] ExtData[1]->WorkLocal[26] = cos(2642*) * ExtData[1]->WorkLocal[19]
 46: 0x03A3 [0x16] ExtData[1]->WorkLocal[27] = sin(2642*) * ExtData[1]->WorkLocal[19]
 47: 0x03AA [0x02] IF !(ExtData[1]->WorkLocal[18] > 1024*) GOTO 0x03B7
 48: 0x03B2 [0x07] ExtData[1]->WorkLocal[18] += 16*
 49: 0x03B7 [0x07] ExtData[1]->WorkLocal[22] += ExtData[1]->WorkLocal[26]
 50: 0x03BC [0x07] ExtData[1]->WorkLocal[24] += ExtData[1]->WorkLocal[27]
 51: 0x03C1 [0x07] ExtData[1]->WorkLocal[23] += ExtData[1]->WorkLocal[28]
 52: 0x03C6 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=ExtData[1]->WorkLocal[22], z=ExtData[1]->WorkLocal[24], y=ExtData[1]->WorkLocal[23], direction=ExtData[1]->WorkLocal[25]
 53: 0x03CF [0x1C] WAIT(1* ticks)
 54: 0x03D2 [0x01] GOTO 0x030E

SUBROUTINE_03D5:
 55: 0x03D5 [0x21] END_EVENT
 56: 0x03D6 [0x00] END_REQSTACK()
```
