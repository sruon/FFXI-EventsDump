# Event 5101

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 137/152   |
| Offset          | 0x0FEE    |
| Data Size       | 688 bytes |
| Calculated Size | 688 bytes |
| Instructions    | 145       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0FE0:                                            03 08                ..
0FF0: 00 03 10 03 09 00 04 10  06 0A 00 06 0C 00 06 0D  ................
1000: 00 06 0E 00 06 0F 00 06  10 00 1E F0 FF FF 7F 6F  ...............o
1010: 70 4A F0 FF FF 7F F8 FF  FF 7F 6F 76 F0 FF FF 7F  pJ........ov....
1020: 7B F8 FF FF 7F 66 08 80  F8 FF FF 7F F8 FF FF 7F  {....f..........
1030: 74 68 6B 31 1D 85 80 23  3E 08 00 03 80 42 10 01  thk1...#>....B..
1040: 4C 10 0B 0C 00 3C 0A 00  01 80 03 80 3E 08 00 66  L....<......>..f
1050: 80 56 10 01 6A 10 3E 08  00 05 80 60 10 01 6A 10  .V..j.>....`..j.
1060: 0B 0C 00 3C 0A 00 01 80  03 80 3E 08 00 2E 80 74  ...<......>....t
1070: 10 01 7E 10 0B 0C 00 3C  0A 00 01 80 03 80 3E 08  ..~....<......>.
1080: 00 86 80 88 10 01 92 10  0B 0C 00 3C 0A 00 01 80  ...........<....
1090: 03 80 3E 08 00 29 80 9C  10 01 A6 10 0B 0D 00 3C  ..>..).........<
10A0: 0A 00 03 80 03 80 3E 08  00 27 80 B0 10 01 BA 10  ......>..'......
10B0: 0B 0E 00 3C 0A 00 05 80  03 80 3E 08 00 33 80 C4  ...<......>..3..
10C0: 10 01 CE 10 0B 0E 00 3C  0A 00 05 80 03 80 3E 08  .......<......>.
10D0: 00 08 80 D8 10 01 E2 10  0B 0F 00 3C 0A 00 66 80  ...........<..f.
10E0: 03 80 3E 08 00 87 80 EC  10 01 F6 10 0B 0F 00 3C  ..>............<
10F0: 0A 00 66 80 03 80 3E 08  00 3A 80 00 11 01 3A 11  ..f...>..:....:.
1100: 3E 08 00 25 80 1C 11 02  09 00 86 80 04 19 11 0B  >..%............
1110: 0C 00 3C 0A 00 01 80 03  80 01 3A 11 3E 08 00 88  ..<.......:.>...
1120: 80 30 11 0B 0D 00 3C 0A  00 03 80 03 80 01 3A 11  .0....<.......:.
1130: 0B 10 00 3C 0A 00 2E 80  03 80 02 09 00 86 80 04  ...<............
1140: 45 11 01 92 11 3E 08 00  89 80 60 11 3E 08 00 86  E....>....`.>...
1150: 80 5D 11 0B 0C 00 3C 0A  00 01 80 03 80 01 92 11  .]....<.........
1160: 3E 08 00 76 80 74 11 0B  11 00 3C 0A 00 86 80 03  >..v.t....<.....
1170: 80 01 92 11 3E 08 00 8A  80 88 11 0B 0C 00 3C 0A  ....>.........<.
1180: 00 01 80 03 80 01 92 11  0B 0D 00 3C 0A 00 03 80  ...........<....
1190: 03 80 06 0B 00 02 0A 00  03 80 00 A8 11 05 0B 00  ................
11A0: 03 02 10 8B 80 01 04 12  02 0A 00 05 80 00 BB 11  ................
11B0: 05 0B 00 03 02 10 8C 80  01 04 12 02 0A 00 2E 80  ................
11C0: 00 CE 11 05 0B 00 03 02  10 8D 80 01 04 12 02 0A  ................
11D0: 00 33 80 00 E1 11 05 0B  00 03 02 10 8E 80 01 04  .3..............
11E0: 12 02 0A 00 89 80 00 F4  11 05 0B 00 03 02 10 8F  ................
11F0: 80 01 04 12 02 0A 00 48  80 00 04 12 05 0B 00 03  .......H........
1200: 02 10 90 80 02 0B 00 03  80 00 13 12 1D 91 80 23  ...............#
1210: 01 7D 12 02 0C 00 03 80  04 24 12 03 02 10 8B 80  .}.......$......
1220: 1D 6C 80 23 02 0D 00 03  80 04 35 12 03 02 10 8C  .l.#......5.....
1230: 80 1D 6C 80 23 02 0E 00  03 80 04 46 12 03 02 10  ..l.#......F....
1240: 8D 80 1D 6C 80 23 02 0F  00 03 80 04 57 12 03 02  ...l.#......W...
1250: 10 8E 80 1D 6C 80 23 02  10 00 03 80 04 68 12 03  ....l.#......h..
1260: 02 10 8F 80 1D 6C 80 23  02 11 00 03 80 04 79 12  .....l.#......y.
1270: 03 02 10 90 80 1D 6C 80  23 1D 92 80 23 53 F8 FF  ......l.#...#S..
1280: FF 7F F8 FF FF 7F 74 68  6B 31 66 08 80 F8 FF FF  ......thk1f.....
1290: 7F F8 FF FF 7F 74 68 6B  32 1C 06 80 21 00        .....thk2...!.  
```

## Opcodes

```
  0: 0x0FEE [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[3]
  1: 0x0FF3 [0x03] ExtData[1]->WorkLocal[9] = Work_Zone[4]
  2: 0x0FF8 [0x06] ExtData[1]->WorkLocal[10] = 0
  3: 0x0FFB [0x06] ExtData[1]->WorkLocal[12] = 0
  4: 0x0FFE [0x06] ExtData[1]->WorkLocal[13] = 0
  5: 0x1001 [0x06] ExtData[1]->WorkLocal[14] = 0
  6: 0x1004 [0x06] ExtData[1]->WorkLocal[15] = 0
  7: 0x1007 [0x06] ExtData[1]->WorkLocal[16] = 0
  8: 0x100A [0x1E] EventEntity looks at LocalPlayer and starts talking
  9: 0x100F [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 10: 0x1010 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 11: 0x1011 [0x4A] LocalPlayer looks at EventEntity
 12: 0x101A [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 13: 0x101B [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 14: 0x1020 [0x7B] EventEntity stops talking
 15: 0x1025 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=9*, entity1=EventEntity, entity2=EventEntity, action="thk1")
 16: 0x1034 [0x1D] PRINT_EVENT_MESSAGE(message_id=11041*)
    → "Where to find the rest...hmmm...\u0007My journalist's instinct tells me there's stuff to be had in...\u007F1\u0000\u0007"
 17: 0x1037 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x1038 [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 1*) GOTO 0x1042
 19: 0x103F [0x01] GOTO 0x104C

SUBROUTINE_1042:
 20: 0x1042 [0x0B] ExtData[1]->WorkLocal[12]++
 21: 0x1045 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8001, condition_work_offset=0x8003)
 22: 0x104C [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 3*) GOTO 0x1056
 23: 0x1053 [0x01] GOTO 0x106A

SUBROUTINE_1056:
 24: 0x1056 [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 2*) GOTO 0x1060
 25: 0x105D [0x01] GOTO 0x106A

SUBROUTINE_1060:
 26: 0x1060 [0x0B] ExtData[1]->WorkLocal[12]++
 27: 0x1063 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8001, condition_work_offset=0x8003)
 28: 0x106A [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 4*) GOTO 0x1074
 29: 0x1071 [0x01] GOTO 0x107E

SUBROUTINE_1074:
 30: 0x1074 [0x0B] ExtData[1]->WorkLocal[12]++
 31: 0x1077 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8001, condition_work_offset=0x8003)
 32: 0x107E [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 5*) GOTO 0x1088
 33: 0x1085 [0x01] GOTO 0x1092

SUBROUTINE_1088:
 34: 0x1088 [0x0B] ExtData[1]->WorkLocal[12]++
 35: 0x108B [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8001, condition_work_offset=0x8003)
 36: 0x1092 [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 6*) GOTO 0x109C
 37: 0x1099 [0x01] GOTO 0x10A6

SUBROUTINE_109C:
 38: 0x109C [0x0B] ExtData[1]->WorkLocal[13]++
 39: 0x109F [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8003, condition_work_offset=0x8003)
 40: 0x10A6 [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 7*) GOTO 0x10B0
 41: 0x10AD [0x01] GOTO 0x10BA

SUBROUTINE_10B0:
 42: 0x10B0 [0x0B] ExtData[1]->WorkLocal[14]++
 43: 0x10B3 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8005, condition_work_offset=0x8003)
 44: 0x10BA [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 8*) GOTO 0x10C4
 45: 0x10C1 [0x01] GOTO 0x10CE

SUBROUTINE_10C4:
 46: 0x10C4 [0x0B] ExtData[1]->WorkLocal[14]++
 47: 0x10C7 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8005, condition_work_offset=0x8003)
 48: 0x10CE [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 9*) GOTO 0x10D8
 49: 0x10D5 [0x01] GOTO 0x10E2

SUBROUTINE_10D8:
 50: 0x10D8 [0x0B] ExtData[1]->WorkLocal[15]++
 51: 0x10DB [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8066, condition_work_offset=0x8003)
 52: 0x10E2 [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 10*) GOTO 0x10EC
 53: 0x10E9 [0x01] GOTO 0x10F6

SUBROUTINE_10EC:
 54: 0x10EC [0x0B] ExtData[1]->WorkLocal[15]++
 55: 0x10EF [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8066, condition_work_offset=0x8003)
 56: 0x10F6 [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 13*) GOTO 0x1100
 57: 0x10FD [0x01] GOTO 0x113A

SUBROUTINE_1100:
 58: 0x1100 [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 12*) GOTO 0x111C
 59: 0x1107 [0x02] IF !(ExtData[1]->WorkLocal[9] < 5*) GOTO 0x1119
 60: 0x110F [0x0B] ExtData[1]->WorkLocal[12]++
 61: 0x1112 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8001, condition_work_offset=0x8003)
 62: 0x1119 [0x01] GOTO 0x113A

SUBROUTINE_111C:
 63: 0x111C [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 11*) GOTO 0x1130
 64: 0x1123 [0x0B] ExtData[1]->WorkLocal[13]++
 65: 0x1126 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8003, condition_work_offset=0x8003)
 66: 0x112D [0x01] GOTO 0x113A

SUBROUTINE_1130:
 67: 0x1130 [0x0B] ExtData[1]->WorkLocal[16]++
 68: 0x1133 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x802E, condition_work_offset=0x8003)
 69: 0x113A [0x02] IF !(ExtData[1]->WorkLocal[9] < 5*) GOTO 0x1145
 70: 0x1142 [0x01] GOTO 0x1192

SUBROUTINE_1145:
 71: 0x1145 [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 16*) GOTO 0x1160
 72: 0x114C [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 5*) GOTO 0x115D
 73: 0x1153 [0x0B] ExtData[1]->WorkLocal[12]++
 74: 0x1156 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8001, condition_work_offset=0x8003)
 75: 0x115D [0x01] GOTO 0x1192

SUBROUTINE_1160:
 76: 0x1160 [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 15*) GOTO 0x1174
 77: 0x1167 [0x0B] ExtData[1]->WorkLocal[17]++
 78: 0x116A [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8086, condition_work_offset=0x8003)
 79: 0x1171 [0x01] GOTO 0x1192

SUBROUTINE_1174:
 80: 0x1174 [0x3E] IF !(ExtData[1]->WorkLocal[8] bit 14*) GOTO 0x1188
 81: 0x117B [0x0B] ExtData[1]->WorkLocal[12]++
 82: 0x117E [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8001, condition_work_offset=0x8003)
 83: 0x1185 [0x01] GOTO 0x1192

SUBROUTINE_1188:
 84: 0x1188 [0x0B] ExtData[1]->WorkLocal[13]++
 85: 0x118B [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0A, bit_index_work_offset=0x8003, condition_work_offset=0x8003)
 86: 0x1192 [0x06] ExtData[1]->WorkLocal[11] = 0
 87: 0x1195 [0x02] IF !(ExtData[1]->WorkLocal[10] == 1*) GOTO 0x11A8
 88: 0x119D [0x05] ExtData[1]->WorkLocal[11] = 1
 89: 0x11A0 [0x03] Work_Zone[2] = 257*
 90: 0x11A5 [0x01] GOTO 0x1204

SUBROUTINE_11A8:
 91: 0x11A8 [0x02] IF !(ExtData[1]->WorkLocal[10] == 2*) GOTO 0x11BB
 92: 0x11B0 [0x05] ExtData[1]->WorkLocal[11] = 1
 93: 0x11B3 [0x03] Work_Zone[2] = 256*
 94: 0x11B8 [0x01] GOTO 0x1204

SUBROUTINE_11BB:
 95: 0x11BB [0x02] IF !(ExtData[1]->WorkLocal[10] == 4*) GOTO 0x11CE
 96: 0x11C3 [0x05] ExtData[1]->WorkLocal[11] = 1
 97: 0x11C6 [0x03] Work_Zone[2] = 284*
 98: 0x11CB [0x01] GOTO 0x1204

SUBROUTINE_11CE:
 99: 0x11CE [0x02] IF !(ExtData[1]->WorkLocal[10] == 8*) GOTO 0x11E1
100: 0x11D6 [0x05] ExtData[1]->WorkLocal[11] = 1
101: 0x11D9 [0x03] Work_Zone[2] = 258*
102: 0x11DE [0x01] GOTO 0x1204

SUBROUTINE_11E1:
103: 0x11E1 [0x02] IF !(ExtData[1]->WorkLocal[10] == 16*) GOTO 0x11F4
104: 0x11E9 [0x05] ExtData[1]->WorkLocal[11] = 1
105: 0x11EC [0x03] Work_Zone[2] = 273*
106: 0x11F1 [0x01] GOTO 0x1204

SUBROUTINE_11F4:
107: 0x11F4 [0x02] IF !(ExtData[1]->WorkLocal[10] == 32*) GOTO 0x1204
108: 0x11FC [0x05] ExtData[1]->WorkLocal[11] = 1
109: 0x11FF [0x03] Work_Zone[2] = 262*
110: 0x1204 [0x02] IF !(ExtData[1]->WorkLocal[11] == 1*) GOTO 0x1213
111: 0x120C [0x1D] PRINT_EVENT_MESSAGE(message_id=11044*)
    → "\u0001\u00058\u0002\u0000\u0000\u0000 and nowhere else.\u007F1\u0000\u0007"
112: 0x120F [0x23] WAIT_FOR_DIALOG_INTERACTION
113: 0x1210 [0x01] GOTO 0x127D

SUBROUTINE_1213:
114: 0x1213 [0x02] IF !(ExtData[1]->WorkLocal[12] < 1*) GOTO 0x1224
115: 0x121B [0x03] Work_Zone[2] = 257*
116: 0x1220 [0x1D] PRINT_EVENT_MESSAGE(message_id=11042*)
    → "\u0001\u00058\u0002\u0000\u0000\u0000...\u007F1\u0000\u0007"
117: 0x1223 [0x23] WAIT_FOR_DIALOG_INTERACTION
118: 0x1224 [0x02] IF !(ExtData[1]->WorkLocal[13] < 1*) GOTO 0x1235
119: 0x122C [0x03] Work_Zone[2] = 256*
120: 0x1231 [0x1D] PRINT_EVENT_MESSAGE(message_id=11042*)
    → "\u0001\u00058\u0002\u0000\u0000\u0000...\u007F1\u0000\u0007"
121: 0x1234 [0x23] WAIT_FOR_DIALOG_INTERACTION
122: 0x1235 [0x02] IF !(ExtData[1]->WorkLocal[14] < 1*) GOTO 0x1246
123: 0x123D [0x03] Work_Zone[2] = 284*
124: 0x1242 [0x1D] PRINT_EVENT_MESSAGE(message_id=11042*)
    → "\u0001\u00058\u0002\u0000\u0000\u0000...\u007F1\u0000\u0007"
125: 0x1245 [0x23] WAIT_FOR_DIALOG_INTERACTION
126: 0x1246 [0x02] IF !(ExtData[1]->WorkLocal[15] < 1*) GOTO 0x1257
127: 0x124E [0x03] Work_Zone[2] = 258*
128: 0x1253 [0x1D] PRINT_EVENT_MESSAGE(message_id=11042*)
    → "\u0001\u00058\u0002\u0000\u0000\u0000...\u007F1\u0000\u0007"
129: 0x1256 [0x23] WAIT_FOR_DIALOG_INTERACTION
130: 0x1257 [0x02] IF !(ExtData[1]->WorkLocal[16] < 1*) GOTO 0x1268
131: 0x125F [0x03] Work_Zone[2] = 273*
132: 0x1264 [0x1D] PRINT_EVENT_MESSAGE(message_id=11042*)
    → "\u0001\u00058\u0002\u0000\u0000\u0000...\u007F1\u0000\u0007"
133: 0x1267 [0x23] WAIT_FOR_DIALOG_INTERACTION
134: 0x1268 [0x02] IF !(ExtData[1]->WorkLocal[17] < 1*) GOTO 0x1279
135: 0x1270 [0x03] Work_Zone[2] = 262*
136: 0x1275 [0x1D] PRINT_EVENT_MESSAGE(message_id=11042*)
    → "\u0001\u00058\u0002\u0000\u0000\u0000...\u007F1\u0000\u0007"
137: 0x1278 [0x23] WAIT_FOR_DIALOG_INTERACTION
138: 0x1279 [0x1D] PRINT_EVENT_MESSAGE(message_id=11043*)
    → "...and maybe somewhere else, but maybe not.\u007F1\u0000\u0007"
139: 0x127C [0x23] WAIT_FOR_DIALOG_INTERACTION
140: 0x127D [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="thk1")
141: 0x128A [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=9*, entity1=EventEntity, entity2=EventEntity, action="thk2")
142: 0x1299 [0x1C] WAIT(30* ticks)
143: 0x129C [0x21] END_EVENT
144: 0x129D [0x00] END_REQSTACK()
```
