# Event 5034

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 143/152   |
| Offset          | 0x1B20    |
| Data Size       | 608 bytes |
| Calculated Size | 608 bytes |
| Instructions    | 89        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1B20: 03 00 00 03 10 02 00 00  03 80 00 80 1B 4A F0 FF  .............J..
1B30: FF 7F C3 10 10 01 1C 47  80 4A C3 10 10 01 F0 FF  .......G.J......
1B40: FF 7F 1C 06 80 66 08 80  F8 FF FF 7F F8 FF FF 7F  .....f..........
1B50: 74 6C 6B 30 1C 06 80 2B  C3 10 10 01 BB 80 23 2B  tlk0...+......#+
1B60: C3 10 10 01 BC 80 23 1C  06 80 66 08 80 F8 FF FF  ......#...f.....
1B70: 7F F8 FF FF 7F 74 6C 6B  31 1C 06 80 21 01 80 1B  .....tlk1...!...
1B80: 42 03 01 10 01 80 1A 64  00 46 01 38 7C 80 92 01  B......d.F.8|...
1B90: F8 FF FF 7F 94 01 F0 FF  FF 7F BA F0 FF FF 7F C2  ................
1BA0: 80 C3 80 0F 80 C4 80 80  F0 FF FF 7F 80 F8 FF FF  ................
1BB0: 7F 4A F0 FF FF 7F F8 FF  FF 7F 1E F0 FF FF 7F 1A  .J..............
1BC0: 6D 1C 45 99 80 F0 FF FF  7F F0 FF FF 7F 73 30 31  m.E..........s01
1BD0: 39 01 80 1A 43 00 29 10  F0 FF FF 7F 5E 1A BE 1C  9...C.).....^...
1BE0: 52 99 80 F0 FF FF 7F F0  FF FF 7F 73 30 32 31 45  R..........s021E
1BF0: 99 80 F0 FF FF 7F F0 FF  FF 7F 73 30 32 32 01 80  ..........s022..
1C00: 5B C5 80 C5 10 10 01 C5  10 10 01 75 6B 65 31 5B  [..........uke1[
1C10: C6 80 C3 10 10 01 C3 10  10 01 75 6B 65 31 1C 28  ..........uke1.(
1C20: 80 2B C3 10 10 01 C7 80  1C 47 80 6E F0 FF FF 7F  .+.......G.n....
1C30: 7C 80 99 F0 FF FF 7F 1C  56 80 1A 64 00 52 99 80  |.......V..d.R..
1C40: F0 FF FF 7F F0 FF FF 7F  73 30 32 32 1C 76 80 AB  ........s022.v..
1C50: 11 01 80 1C 03 80 AB 0A  46 00 45 00 80 F0 FF FF  ........F.E.....
1C60: 7F F0 FF FF 7F 66 64 69  32 01 80 21 00 BA C5 10  .....fdi2..!....
1C70: 10 01 A5 80 A6 80 36 80  A7 80 2F 00 C5 10 10 01  ......6.../.....
1C80: 4E 00 C5 10 10 01 92 01  C5 10 10 01 94 01 C5 10  N...............
1C90: 10 01 80 C5 10 10 01 27  10 C5 10 10 01 03 27 10  .......'......'.
1CA0: C5 10 10 01 01 5B C6 80  C3 10 10 01 C3 10 10 01  .....[..........
1CB0: 75 6B 65 30 6B 69 64 6C  30 F8 FF FF 7F 1B 2B C3  uke0kidl0.....+.
1CC0: 10 10 01 C8 80 23 7B C3  10 10 01 1C 06 80 27 10  .....#{.......'.
1CD0: F0 FF FF 7F 18 1C 9E 80  52 99 80 F0 FF FF 7F F0  ........R.......
1CE0: FF FF 7F 73 30 31 39 45  99 80 F0 FF FF 7F F0 FF  ...s019E........
1CF0: FF 7F 73 30 32 30 01 80  3A C3 10 10 01 03 10 BA  ..s020..:.......
1D00: C5 10 10 01 34 80 35 80  36 80 03 10 27 10 C5 10  ....4.5.6...'...
1D10: 10 01 02 5B C5 80 C5 10  10 01 C5 10 10 01 75 6B  ...[..........uk
1D20: 65 6C 1C 06 80 5B C5 80  C5 10 10 01 C5 10 10 01  el...[..........
1D30: 75 6B 65 30 5B C6 80 C3  10 10 01 C3 10 10 01 75  uke0[..........u
1D40: 6B 65 30 1C 9E 80 55 99  80 F0 FF FF 7F F0 FF FF  ke0...U.........
1D50: 7F 73 30 32 30 45 99 80  F0 FF FF 7F F0 FF FF 7F  .s020E..........
1D60: 73 30 32 31 01 80 7C 00  C3 10 10 01 1C 9E 80 2B  s021..|........+
1D70: C3 10 10 01 C9 80 1C 9E  80 7C 01 C3 10 10 01 1B  .........|......
```

## Opcodes

```
  0: 0x1B20 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[3]
  1: 0x1B25 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x1B80
  2: 0x1B2D [0x4A] LocalPlayer looks at Roskin (ID: 17830083/0x011010C3)
  3: 0x1B36 [0x1C] WAIT(20* ticks)
  4: 0x1B39 [0x4A] Roskin (ID: 17830083/0x011010C3) looks at LocalPlayer
  5: 0x1B42 [0x1C] WAIT(30* ticks)
  6: 0x1B45 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=9*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
  7: 0x1B54 [0x1C] WAIT(30* ticks)
  8: 0x1B57 [0x2B] Roskin (ID: 17830083/0x011010C3) [10378*]:
    → "To review, I need stuff pertaining to the formation of Adoulin as the Sacred City, so...there should be some facts lying in wait around Adoulin.\u007F1\u0000\u0007"
  9: 0x1B5E [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x1B5F [0x2B] Roskin (ID: 17830083/0x011010C3) [10379*]:
    → "Maybe the Yahse Hunting Grounds and Ceizak Battlegrounds hide some important clues, too...?\u0007I don't know, I'm just grasping at chocobo feathers here.\u007F1\u0000\u0007"
 11: 0x1B66 [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x1B67 [0x1C] WAIT(30* ticks)
 13: 0x1B6A [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=9*, entity1=EventEntity, entity2=EventEntity, action="tlk1")
 14: 0x1B79 [0x1C] WAIT(30* ticks)
 15: 0x1B7C [0x21] END_EVENT

SUBROUTINE_1B80:
 16: 0x1B80 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 17: 0x1B81 [0x03] Work_Zone[1] = 0*
 18: 0x1B86 [0x1A] CALL_SUBROUTINE(address=0x0064)
 19: 0x1B89 [0x46] CAMERA_CONTROL: Disable user control
 20: 0x1B8B [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 21: 0x1B8E [0x92] EventEntity->Render.Flags3 ^= 0x01
 22: 0x1B94 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 23: 0x1B9A [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-38.783*, pos_z=-21.616*, pos_y=-0.148*, direction=42.5°*)
 24: 0x1BA7 [0x80] LOAD_WAIT(entity=LocalPlayer)
 25: 0x1BAC [0x80] LOAD_WAIT(entity=EventEntity)
 26: 0x1BB1 [0x4A] LocalPlayer looks at EventEntity
 27: 0x1BBA [0x1E] EventEntity looks at LocalPlayer and starts talking
 28: 0x1BBF [0x1A] CALL_SUBROUTINE(address=0x1C6D)
 29: 0x1BC2 [0x45] LOAD_SCHEDULED_TASK(work_offset1=610*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s019", work_offset2=0*)
 30: 0x1BD3 [0x1A] CALL_SUBROUTINE(address=0x0043)
 31: 0x1BD6 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x5E)
 32: 0x1BDD [0x1A] CALL_SUBROUTINE(address=0x1CBE)
 33: 0x1BE0 [0x52] END_LOAD_SCHEDULER: End scheduler "s021" with entities [LocalPlayer, LocalPlayer], work=610*
 34: 0x1BEF [0x45] LOAD_SCHEDULED_TASK(work_offset1=610*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s022", work_offset2=0*)
 35: 0x1C00 [0x5B] LOAD_EXT_SCHEDULER(work_offset=1323*, entity1=Unnamed NPC (ID: 17830085/0x011010C5), entity2=Unnamed NPC (ID: 17830085/0x011010C5), action="uke1")
 36: 0x1C0F [0x5B] LOAD_EXT_SCHEDULER(work_offset=2491*, entity1=Roskin (ID: 17830083/0x011010C3), entity2=Roskin (ID: 17830083/0x011010C3), action="uke1")
 37: 0x1C1E [0x1C] WAIT(60* ticks)
 38: 0x1C21 [0x2B] Roskin (ID: 17830083/0x011010C3) [10384*]:
    → "This might make for a mildly entertaining read, but nothing eye-catching. I'll need some more information.\u0000\u0007"
 39: 0x1C28 [0x1C] WAIT(20* ticks)
 40: 0x1C2B [0x6E] LocalPlayer uses emote 19*
 41: 0x1C32 [0x99] Wait for LocalPlayer animation to complete
 42: 0x1C37 [0x1C] WAIT(90* ticks)
 43: 0x1C3A [0x1A] CALL_SUBROUTINE(address=0x0064)
 44: 0x1C3D [0x52] END_LOAD_SCHEDULER: End scheduler "s022" with entities [LocalPlayer, LocalPlayer], work=610*
 45: 0x1C4C [0x1C] WAIT(15* ticks)
 46: 0x1C4F [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 47: 0x1C53 [0x1C] WAIT(1* ticks)
 48: 0x1C56 [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 49: 0x1C58 [0x46] CAMERA_CONTROL: Restore default settings
 50: 0x1C5A [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 51: 0x1C6B [0x21] END_EVENT
 52: 0x1C6C [0x00] END_REQSTACK()

SUBROUTINE_1C6D:
 53: 0x1C6D [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17830085/0x011010C5), pos_x=-36.320*, pos_z=-23.770*, pos_y=-0.150*, direction=49.2°*)
 54: 0x1C7A [0x2F] Unnamed NPC (ID: 17830085/0x011010C5)->Render.Flags0 &= ~0x80000 // Bit 19
 55: 0x1C80 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17830085/0x011010C5)
 56: 0x1C86 [0x92] Unnamed NPC (ID: 17830085/0x011010C5)->Render.Flags3 ^= 0x01
 57: 0x1C8C [0x94] Unnamed NPC (ID: 17830085/0x011010C5)->Render.Flags3 ^= 0x01
 58: 0x1C92 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17830085/0x011010C5))
 59: 0x1C97 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17830085/0x011010C5), tag_num=0x03)
 60: 0x1C9E [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17830085/0x011010C5), tag_num=0x01)
 61: 0x1CA5 [0x5B] LOAD_EXT_SCHEDULER(work_offset=2491*, entity1=Roskin (ID: 17830083/0x011010C3), entity2=Roskin (ID: 17830083/0x011010C3), action="uke0")
 62: 0x1CB4 [0x6B] STOP_AND_IDLE: EventEntity stops current action and resets to idle (animation="idl0")
 63: 0x1CBD [0x1B] RETURN

SUBROUTINE_1CBE:
 64: 0x1CBE [0x2B] Roskin (ID: 17830083/0x011010C3) [10382*]:
    → "So, what marvels have you brought me?\u007F1\u0000\u0007"
 65: 0x1CC5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 66: 0x1CC6 [0x7B] Roskin (ID: 17830083/0x011010C3) stops talking
 67: 0x1CCB [0x1C] WAIT(30* ticks)
 68: 0x1CCE [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x18)
 69: 0x1CD5 [0x1C] WAIT(180* ticks)
 70: 0x1CD8 [0x52] END_LOAD_SCHEDULER: End scheduler "s019" with entities [LocalPlayer, LocalPlayer], work=610*
 71: 0x1CE7 [0x45] LOAD_SCHEDULED_TASK(work_offset1=610*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s020", work_offset2=0*)
 72: 0x1CF8 [0x3A] CONVERT_YAW_TO_BYTE(entity=Roskin (ID: 17830083/0x011010C3), result_destination=Work_Zone[3])
 73: 0x1CFF [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17830085/0x011010C5), pos_x=-34.950*, pos_z=-25.140*, pos_y=-0.150*, direction=Work_Zone[3])
 74: 0x1D0C [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17830085/0x011010C5), tag_num=0x02)
 75: 0x1D13 [0x5B] LOAD_EXT_SCHEDULER(work_offset=1323*, entity1=Unnamed NPC (ID: 17830085/0x011010C5), entity2=Unnamed NPC (ID: 17830085/0x011010C5), action="ukel")
 76: 0x1D22 [0x1C] WAIT(30* ticks)
 77: 0x1D25 [0x5B] LOAD_EXT_SCHEDULER(work_offset=1323*, entity1=Unnamed NPC (ID: 17830085/0x011010C5), entity2=Unnamed NPC (ID: 17830085/0x011010C5), action="uke0")
 78: 0x1D34 [0x5B] LOAD_EXT_SCHEDULER(work_offset=2491*, entity1=Roskin (ID: 17830083/0x011010C3), entity2=Roskin (ID: 17830083/0x011010C3), action="uke0")
 79: 0x1D43 [0x1C] WAIT(180* ticks)
 80: 0x1D46 [0x55] WAIT_LOAD_SCHEDULER(work_offset=610*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s020")
 81: 0x1D55 [0x45] LOAD_SCHEDULED_TASK(work_offset1=610*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s021", work_offset2=0*)
 82: 0x1D66 [0x7C] Roskin (ID: 17830083/0x011010C3)->Render.Flags2 |= 0x00
 83: 0x1D6C [0x1C] WAIT(180* ticks)
 84: 0x1D6F [0x2B] Roskin (ID: 17830083/0x011010C3) [10383*]:
    → "Hmmm...\u0000\u0007"
 85: 0x1D76 [0x1C] WAIT(180* ticks)
 86: 0x1D79 [0x7C] Roskin (ID: 17830083/0x011010C3)->Render.Flags2 |= 0x01
 87: 0x1D7F [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x1B7D [0x01] GOTO 0x1B80
```