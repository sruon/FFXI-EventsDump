# Event 1518

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 12/17     |
| Offset          | 0xA040    |
| Data Size       | 411 bytes |
| Calculated Size | 411 bytes |
| Instructions    | 63        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
A040: 42 1A 2B D6 46 01 38 00  80 34 01 80 77 02 80 03  B.+.F.8..4..w...
A050: 80 1C 04 80 2F 00 94 10  10 01 4E 00 94 10 10 01  ..../.....N.....
A060: 92 01 94 10 10 01 94 01  F0 FF FF 7F 94 01 94 10  ................
A070: 10 01 BA F0 FF FF 7F 43  83 44 83 0A 80 45 83 BA  .......C.D...E..
A080: 94 10 10 01 46 83 47 83  0A 80 45 83 80 F0 FF FF  ....F.G...E.....
A090: 7F 80 94 10 10 01 4A 94  10 10 01 F0 FF FF 7F 4A  ......J........J
A0A0: F0 FF FF 7F 94 10 10 01  1C 2A 80 45 8B 80 F8 FF  .........*.E....
A0B0: FF 7F F8 FF FF 7F 73 31  39 37 03 80 1C 2D 80 1A  ......s197...-..
A0C0: 0A D6 5B 37 80 94 10 10  01 94 10 10 01 74 6C 6B  ..[7.........tlk
A0D0: 30 2B 94 10 10 01 71 83  23 5B 37 80 94 10 10 01  0+....q.#[7.....
A0E0: 94 10 10 01 74 68 6B 31  52 8B 80 F8 FF FF 7F F8  ....thk1R.......
A0F0: FF FF 7F 73 31 39 37 45  8B 80 F8 FF FF 7F F8 FF  ...s197E........
A100: FF 7F 73 31 39 38 03 80  24 72 83 03 80 03 80 25  ..s198..$r.....%
A110: 02 00 10 03 80 00 1B A1  01 1B A1 27 05 F0 FF FF  ...........'....
A120: 7F 10 1C A0 80 27 05 F0  FF FF 7F 11 1C C8 80 52  .....'.........R
A130: 8B 80 F8 FF FF 7F F8 FF  FF 7F 73 31 39 38 45 8B  ..........s198E.
A140: 80 F8 FF FF 7F F8 FF FF  7F 73 31 39 39 03 80 2B  .........s199..+
A150: 94 10 10 01 73 83 23 5B  37 80 94 10 10 01 94 10  ....s.#[7.......
A160: 10 01 74 68 6B 30 2B 94  10 10 01 74 83 23 52 8B  ..thk0+....t.#R.
A170: 80 F8 FF FF 7F F8 FF FF  7F 73 31 39 39 45 8B 80  .........s199E..
A180: F8 FF FF 7F F8 FF FF 7F  73 32 30 30 03 80 2B 94  ........s200..+.
A190: 10 10 01 75 83 23 2B 94  10 10 01 76 83 23 1A 2B  ...u.#+....v.#.+
A1A0: D6 1C 2A 80 52 8B 80 F8  FF FF 7F F8 FF FF 7F 73  ..*.R..........s
A1B0: 32 30 30 1C 2D 80 AB 11  03 80 1C 04 80 35 EF 80  200.-........5..
A1C0: 78 1C 2D 80 AB 0A 46 00  45 F1 80 F0 FF FF 7F F0  x.-...F.E.......
A1D0: FF FF 7F 66 64 69 32 03  80 21 00                 ...fdi2..!.     
```

## Opcodes

```
  0: 0xA040 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0xA041 [0x1A] CALL_SUBROUTINE(address=0xD62B)
  2: 0xA044 [0x46] CAMERA_CONTROL: Disable user control
  3: 0xA046 [0x38] SET_CLIENT_EVENT_MODE(mode=147*)
  4: 0xA049 [0x34] LOAD_UNLOAD_ZONE(zone_id=584*)
  5: 0xA04C [0x77] SET_EVENT_TIME_WEATHER(hour=255*, weather=0*)
  6: 0xA051 [0x1C] WAIT(1* ticks)
  7: 0xA054 [0x2F] Svenja (ID: 17830036/0x01101094)->Render.Flags0 &= ~0x80000 // Bit 19
  8: 0xA05A [0x4E] SET_ENTITY_HIDE_FLAG: Show Svenja (ID: 17830036/0x01101094)
  9: 0xA060 [0x92] Svenja (ID: 17830036/0x01101094)->Render.Flags3 ^= 0x01
 10: 0xA066 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 11: 0xA06C [0x94] Svenja (ID: 17830036/0x01101094)->Render.Flags3 ^= 0x01
 12: 0xA072 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-24.089*, pos_z=-3.172*, pos_y=-0.500*, direction=86.4°*)
 13: 0xA07F [0xBA] SET_ENTITY_POSITION(entity_id=Svenja (ID: 17830036/0x01101094), pos_x=-22.074*, pos_z=-3.328*, pos_y=-0.500*, direction=86.4°*)
 14: 0xA08C [0x80] LOAD_WAIT(entity=LocalPlayer)
 15: 0xA091 [0x80] LOAD_WAIT(entity=Svenja (ID: 17830036/0x01101094))
 16: 0xA096 [0x4A] Svenja (ID: 17830036/0x01101094) looks at LocalPlayer
 17: 0xA09F [0x4A] LocalPlayer looks at Svenja (ID: 17830036/0x01101094)
 18: 0xA0A8 [0x1C] WAIT(30* ticks)
 19: 0xA0AB [0x45] LOAD_SCHEDULED_TASK(work_offset1=622*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s197", work_offset2=0*)
 20: 0xA0BC [0x1C] WAIT(15* ticks)
 21: 0xA0BF [0x1A] CALL_SUBROUTINE(address=0xD60A)
 22: 0xA0C2 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3261*, entity1=Svenja (ID: 17830036/0x01101094), entity2=Svenja (ID: 17830036/0x01101094), action="tlk0")
 23: 0xA0D1 [0x2B] Svenja (ID: 17830036/0x01101094) [9052*]:
    → "Why, hello, \u0008. What brings you back to Castle Adoulin?\u007F1\u0000\u0007"
 24: 0xA0D8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0xA0D9 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3261*, entity1=Svenja (ID: 17830036/0x01101094), entity2=Svenja (ID: 17830036/0x01101094), action="thk1")
 26: 0xA0E8 [0x52] END_LOAD_SCHEDULER: End scheduler "s197" with entities [EventEntity, EventEntity], work=622*
 27: 0xA0F7 [0x45] LOAD_SCHEDULED_TASK(work_offset1=622*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s198", work_offset2=0*)
 28: 0xA108 [0x24] CREATE_DIALOG(message_id=9053*, default_option=0*, option_flags=0*)
    → "What brings you here?\u0007\u000BI was supposed to meet someone.\u0007Where's Ingrid?\u007F1\u0000\u0007"
 29: 0xA10F [0x25] WAIT_DIALOG_SELECT()
 30: 0xA110 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0xA11B
 31: 0xA118 [0x01] GOTO 0xA11B

SUBROUTINE_A11B:
 32: 0xA11B [0x27] REQ_SET(priority=0x05, entity_id=LocalPlayer, tag_num=0x10)
 33: 0xA122 [0x1C] WAIT(80* ticks)
 34: 0xA125 [0x27] REQ_SET(priority=0x05, entity_id=LocalPlayer, tag_num=0x11)
 35: 0xA12C [0x1C] WAIT(40* ticks)
 36: 0xA12F [0x52] END_LOAD_SCHEDULER: End scheduler "s198" with entities [EventEntity, EventEntity], work=622*
 37: 0xA13E [0x45] LOAD_SCHEDULED_TASK(work_offset1=622*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s199", work_offset2=0*)
 38: 0xA14F [0x2B] Svenja (ID: 17830036/0x01101094) [9054*]:
    → "What? Ingrid told you to report directly to her once you had garnered any sort of intelligence?\u007F1\u0000\u0007"
 39: 0xA156 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0xA157 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3261*, entity1=Svenja (ID: 17830036/0x01101094), entity2=Svenja (ID: 17830036/0x01101094), action="thk0")
 41: 0xA166 [0x2B] Svenja (ID: 17830036/0x01101094) [9055*]:
    → "How peculiar...\u007F1\u0000\u0007"
 42: 0xA16D [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0xA16E [0x52] END_LOAD_SCHEDULER: End scheduler "s199" with entities [EventEntity, EventEntity], work=622*
 44: 0xA17D [0x45] LOAD_SCHEDULED_TASK(work_offset1=622*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s200", work_offset2=0*)
 45: 0xA18E [0x2B] Svenja (ID: 17830036/0x01101094) [9056*]:
    → "She informed me that her retainers had discovered the princess's location. They all departed some time ago.\u007F1\u0000\u0007"
 46: 0xA195 [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0xA196 [0x2B] Svenja (ID: 17830036/0x01101094) [9057*]:
    → "I had assumed that you were among their ranks, but that is clearly not the case. I wonder why she would choose to leave you in the lurch.\u007F1\u0000\u0007"
 48: 0xA19D [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0xA19E [0x1A] CALL_SUBROUTINE(address=0xD62B)
 50: 0xA1A1 [0x1C] WAIT(30* ticks)
 51: 0xA1A4 [0x52] END_LOAD_SCHEDULER: End scheduler "s200" with entities [EventEntity, EventEntity], work=622*
 52: 0xA1B3 [0x1C] WAIT(15* ticks)
 53: 0xA1B6 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 54: 0xA1BA [0x1C] WAIT(1* ticks)
 55: 0xA1BD [0x35] LOAD_ZONE_NO_CLOSE(zone_id=701*)
 56: 0xA1C0 [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 57: 0xA1C1 [0x1C] WAIT(15* ticks)
 58: 0xA1C4 [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 59: 0xA1C6 [0x46] CAMERA_CONTROL: Restore default settings
 60: 0xA1C8 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 61: 0xA1D9 [0x21] END_EVENT
 62: 0xA1DA [0x00] END_REQSTACK()
```
