# Event 5094

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/59      |
| Offset          | 0x0268    |
| Data Size       | 389 bytes |
| Calculated Size | 389 bytes |
| Instructions    | 65        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0260:                          03 00 00 02 10 1E F0 FF          ........
0270: FF 7F 6F 70 4A F0 FF FF  7F E8 10 10 01 6F 76 F0  ..opJ........ov.
0280: FF FF 7F 66 00 80 F8 FF  FF 7F F8 FF FF 7F 74 6C  ...f..........tl
0290: 6B 30 1D 24 80 23 06 01  10 02 00 00 0D 80 00 A8  k0.$.#..........
02A0: 02 3C 01 00 0D 80 0D 80  03 02 10 25 80 24 26 80  .<.........%.$&.
02B0: 05 80 01 00 25 02 00 10  05 80 00 C0 02 01 EB 03  ....%...........
02C0: 02 00 10 0D 80 00 27 03  53 F8 FF FF 7F F8 FF FF  ......'.S.......
02D0: 7F 74 6C 6B 30 66 00 80  F8 FF FF 7F F8 FF FF 7F  .tlk0f..........
02E0: 74 6C 6B 31 42 03 02 10  25 80 1D 27 80 23 53 F8  tlk1B...%..'.#S.
02F0: FF FF 7F F8 FF FF 7F 74  6C 6B 31 66 21 80 F8 FF  .......tlk1f!...
0300: FF 7F F8 FF FF 7F 70 61  73 30 1D 28 80 23 53 F8  ......pas0.(.#S.
0310: FF FF 7F F8 FF FF 7F 70  61 73 30 1D 29 80 23 03  .......pas0.).#.
0320: 01 10 0D 80 01 EB 03 02  00 10 2A 80 00 EB 03 53  ..........*....S
0330: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 66 00 80 F8  ........tlk0f...
0340: FF FF 7F F8 FF FF 7F 74  6C 6B 31 53 F8 FF FF 7F  .......tlk1S....
0350: F8 FF FF 7F 74 6C 6B 31  66 1A 80 F8 FF FF 7F F8  ....tlk1f.......
0360: FF FF 7F 61 77 77 30 1D  2B 80 23 24 2C 80 0D 80  ...aww0.+.#$,...
0370: 05 80 25 02 00 10 05 80  00 CC 03 42 1D 2D 80 23  ..%........B.-.#
0380: 53 F8 FF FF 7F F8 FF FF  7F 61 77 77 30 66 00 80  S........aww0f..
0390: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 03 02 10 25  ........tlk0...%
03A0: 80 1D 2E 80 23 03 01 10  2A 80 53 F8 FF FF 7F F8  ....#...*.S.....
03B0: FF FF 7F 74 6C 6B 30 66  00 80 F8 FF FF 7F F8 FF  ...tlk0f........
03C0: FF 7F 74 6C 6B 31 1C 0C  80 01 E8 03 02 00 10 0D  ..tlk1..........
03D0: 80 00 E8 03 1D 2F 80 23  53 F8 FF FF 7F F8 FF FF  ...../.#S.......
03E0: 7F 61 77 77 30 01 E8 03  01 EB 03 21 00           .aww0......!.   
```

## Opcodes

```
  0: 0x0268 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  1: 0x026D [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0272 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x0273 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x0274 [0x4A] LocalPlayer looks at Nhili Uvolep (ID: 17830120/0x011010E8)
  5: 0x027D [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  6: 0x027E [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
  7: 0x0283 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=55*
  8: 0x0292 [0x1D] PRINT_EVENT_MESSAGE(message_id=10952*)
    → "A pleasurrre, as always.\u0007How fare your adventures with the wand I lent you?\u007F1\u0000\u0007"
  9: 0x0295 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x0296 [0x06] Work_Zone[1] = 0
 11: 0x0299 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x02A8
 12: 0x02A1 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=ExtData[1]->WorkLocal[1], bit_index_work_offset=1*, condition_work_offset=1*)
 13: 0x02A8 [0x03] Work_Zone[2] = 21066*
 14: 0x02AD [0x24] CREATE_DIALOG(message_id=10953*, default_option=0*, option_flags=ExtData[1]->WorkLocal[1])
    → "How are you finding the wand?\u0007\u000BI've nothing to report.\u0007I've lost my \u0001\u0005#\u0002\u0001\u0000\u0000.\u0007I'm not interested anymore.\u007F1\u0000\u0007"
 15: 0x02B4 [0x25] WAIT_DIALOG_SELECT()
 16: 0x02B5 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x02C0
 17: 0x02BD [0x01] GOTO 0x03EB
 18: 0x02C0 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0327
 19: 0x02C8 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk0" with entities [EventEntity, EventEntity]
 20: 0x02D5 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=55*
 21: 0x02E4 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 22: 0x02E5 [0x03] Work_Zone[2] = 21066*
 23: 0x02EA [0x1D] PRINT_EVENT_MESSAGE(message_id=10954*)
    → "Y-you what!?\u007F1\u0000\u0007"
 24: 0x02ED [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x02EE [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [EventEntity, EventEntity]
 26: 0x02FB [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "pas0" with entities [EventEntity, EventEntity], work=50*
 27: 0x030A [0x1D] PRINT_EVENT_MESSAGE(message_id=10955*)
    → "I lectured you on the import and symbolism of this task, and you went and threw it in the trrrash!?\u007F6\u0001\u0007<Sigh>... Let me get you a new one.\u007F1\u0000\u0007"
 28: 0x030D [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x030E [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "pas0" with entities [EventEntity, EventEntity]
 30: 0x031B [0x1D] PRINT_EVENT_MESSAGE(message_id=10956*)
    → "All the work with the old one has gone to waste...so it's back to squarrre one for you!\u007F1\u0000\u0007"
 31: 0x031E [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x031F [0x03] Work_Zone[1] = 1*
 33: 0x0324 [0x01] GOTO 0x03EB
 34: 0x0327 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x03EB
 35: 0x032F [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk0" with entities [EventEntity, EventEntity]
 36: 0x033C [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=55*
 37: 0x034B [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [EventEntity, EventEntity]
 38: 0x0358 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "aww0" with entities [EventEntity, EventEntity], work=8*
 39: 0x0367 [0x1D] PRINT_EVENT_MESSAGE(message_id=10957*)
    → "N-not interested!? Then all your efforrrts will have been for naught! Are you absolutely sure?\u007F1\u0000\u0007"
 40: 0x036A [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x036B [0x24] CREATE_DIALOG(message_id=10958*, default_option=1*, option_flags=0*)
    → "Really abandon Nhili's task?\u0007\u000BYes. I have no time for this.\u0007No. I'd like to reconsider.\u007F1\u0000\u0007"
 42: 0x0372 [0x25] WAIT_DIALOG_SELECT()
 43: 0x0373 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x03CC
 44: 0x037B [0x42] SET_CLI_EVENT_CANCEL_DATA()
 45: 0x037C [0x1D] PRINT_EVENT_MESSAGE(message_id=10960*)
    → "O-oh no...\u0007I can't stop you, but...I'm rather disappointed.\u007F1\u0000\u0007"
 46: 0x037F [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x0380 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "aww0" with entities [EventEntity, EventEntity]
 48: 0x038D [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=55*
 49: 0x039C [0x03] Work_Zone[2] = 21066*
 50: 0x03A1 [0x1D] PRINT_EVENT_MESSAGE(message_id=10961*)
    → "Don't worry about rrreturning your \u0001\u0005#\u0002\u0000\u0000\u0000. We've got plenty in stock.\u007F1\u0000\u0007"
 51: 0x03A4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x03A5 [0x03] Work_Zone[1] = 2*
 53: 0x03AA [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk0" with entities [EventEntity, EventEntity]
 54: 0x03B7 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=55*
 55: 0x03C6 [0x1C] WAIT(30* ticks)
 56: 0x03C9 [0x01] GOTO 0x03E8
 57: 0x03CC [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x03E8
 58: 0x03D4 [0x1D] PRINT_EVENT_MESSAGE(message_id=10959*)
    → "Oh, by the lifestream!\u0007If a Mithrrra has nine lives, then you just took away three of them!\u007F1\u0000\u0007"
 59: 0x03D7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x03D8 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "aww0" with entities [EventEntity, EventEntity]
 61: 0x03E5 [0x01] GOTO 0x03E8

SUBROUTINE_03E8:
 62: 0x03E8 [0x01] GOTO 0x03EB

SUBROUTINE_03EB:
 63: 0x03EB [0x21] END_EVENT
 64: 0x03EC [0x00] END_REQSTACK()
```
