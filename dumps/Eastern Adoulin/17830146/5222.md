# Event 5222

## Metadata

| Field           | Value      |
|-----------------|------------|
| Event Index     | 40/48      |
| Offset          | 0x8214     |
| Data Size       | 1462 bytes |
| Calculated Size | 1462 bytes |
| Instructions    | 236        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
8210:             42 1A 64 00  06 01 10 46 01 38 04 81      B.d....F.8..
8220: 5C 00 2A 80 5C 01 2A 80  9A 4E 00 F0 FF FF 7F 4E  \.*.\.*..N.....N
8230: 00 04 11 10 01 4E 00 97  10 10 01 2F 00 04 11 10  .....N...../....
8240: 01 2F 00 97 10 10 01 92  01 C3 10 10 01 92 01 04  ./..............
8250: 11 10 01 92 01 97 10 10  01 94 01 C3 10 10 01 94  ................
8260: 01 04 11 10 01 94 01 97  10 10 01 94 01 F0 FF FF  ................
8270: 7F BA F0 FF FF 7F FF 81  00 82 07 81 01 82 BA 04  ................
8280: 11 10 01 02 82 03 82 04  82 05 82 BA 97 10 10 01  ................
8290: 29 82 2A 82 07 81 2B 82  4A F0 FF FF 7F C3 10 10  ).*...+.J.......
82A0: 01 4A C3 10 10 01 F0 FF  FF 7F 6F 76 F0 FF FF 7F  .J........ov....
82B0: 6F 76 C3 10 10 01 29 08  C3 10 10 01 41 6C 97 10  ov....).....Al..
82C0: 10 01 01 80 03 80 80 C3  10 10 01 80 04 11 10 01  ................
82D0: 80 97 10 10 01 80 F0 FF  FF 7F 45 94 82 F8 FF FF  ..........E.....
82E0: 7F F8 FF FF 7F 73 30 31  35 01 80 1C 36 80 1A 43  .....s015...6..C
82F0: 00 2B C3 10 10 01 B5 82  23 24 B6 82 01 80 01 80  .+......#$......
8300: 25 02 00 10 01 80 00 45  83 29 08 F0 FF FF 7F 10  %......E.)......
8310: 1C BE 80 27 08 C3 10 10  01 42 1C 06 80 29 08 F0  ...'.....B...)..
8320: FF FF 7F 11 1C 06 80 2A  08 C3 10 10 01 27 08 C3  .......*.....'..
8330: 10 10 01 4F 2B C3 10 10  01 B7 82 2A 08 C3 10 10  ...O+......*....
8340: 01 23 01 89 83 02 00 10  03 80 00 89 83 29 08 F0  .#...........)..
8350: FF FF 7F 10 1C BE 80 27  08 C3 10 10 01 42 1C 06  .......'.....B..
8360: 80 29 08 F0 FF FF 7F 11  1C 06 80 2A 08 C3 10 10  .).........*....
8370: 01 27 08 C3 10 10 01 54  2B C3 10 10 01 B8 82 2A  .'.....T+......*
8380: 08 C3 10 10 01 23 01 89  83 27 08 97 10 10 01 10  .....#...'......
8390: 52 94 82 F8 FF FF 7F F8  FF FF 7F 73 30 31 35 6C  R..........s015l
83A0: 97 10 10 01 6A 82 03 80  45 94 82 F8 FF FF 7F F8  ....j...E.......
83B0: FF FF 7F 73 30 31 36 01  80 2B 97 10 10 01 B9 82  ...s016..+......
83C0: 2A 08 97 10 10 01 23 4A  C3 10 10 01 97 10 10 01  *.....#J........
83D0: 6F 76 C3 10 10 01 2B C3  10 10 01 BA 82 1C 20 80  ov....+....... .
83E0: 23 4A F0 FF FF 7F 97 10  10 01 52 94 82 F8 FF FF  #J........R.....
83F0: 7F F8 FF FF 7F 73 30 31  36 45 94 82 F8 FF FF 7F  .....s016E......
8400: F8 FF FF 7F 73 30 31 37  01 80 6F 76 F0 FF FF 7F  ....s017..ov....
8410: 27 08 97 10 10 01 22 2B  97 10 10 01 BB 82 23 2B  '....."+......#+
8420: 97 10 10 01 BC 82 2A 08  97 10 10 01 23 52 94 82  ......*.....#R..
8430: F8 FF FF 7F F8 FF FF 7F  73 30 31 37 45 94 82 F8  ........s017E...
8440: FF FF 7F F8 FF FF 7F 73  30 31 38 01 80 27 08 97  .......s018..'..
8450: 10 10 01 23 2B 97 10 10  01 BD 82 23 03 03 10 BE  ...#+......#....
8460: 82 03 04 10 BF 82 2B 97  10 10 01 C0 82 2A 08 97  ......+......*..
8470: 10 10 01 23 27 08 C3 10  10 01 52 2B C3 10 10 01  ...#'.....R+....
8480: C1 82 2A 08 C3 10 10 01  23 4A 97 10 10 01 F0 FF  ..*.....#J......
8490: FF 7F 52 94 82 F8 FF FF  7F F8 FF FF 7F 73 30 31  ..R..........s01
84A0: 38 02 87 7F 48 80 80 BD  84 45 94 82 F8 FF FF 7F  8...H....E......
84B0: F8 FF FF 7F 73 30 31 39  01 80 01 3E 85 02 87 7F  ....s019...>....
84C0: 61 80 80 D9 84 45 94 82  F8 FF FF 7F F8 FF FF 7F  a....E..........
84D0: 73 30 31 39 01 80 01 3E  85 02 87 7F 62 80 80 F5  s019...>....b...
84E0: 84 45 94 82 F8 FF FF 7F  F8 FF FF 7F 73 30 32 31  .E..........s021
84F0: 01 80 01 3E 85 02 87 7F  2D 80 80 11 85 45 94 82  ...>....-....E..
8500: F8 FF FF 7F F8 FF FF 7F  73 30 32 31 01 80 01 3E  ........s021...>
8510: 85 02 87 7F 63 80 80 2D  85 45 94 82 F8 FF FF 7F  ....c..-.E......
8520: F8 FF FF 7F 73 30 31 39  01 80 01 3E 85 45 94 82  ....s019...>.E..
8530: F8 FF FF 7F F8 FF FF 7F  73 30 32 30 01 80 6F 76  ........s020..ov
8540: 97 10 10 01 02 87 7F 05  80 80 52 85 05 02 10 01  ..........R.....
8550: 7F 85 02 87 7F 61 80 80  60 85 05 02 10 01 7F 85  .....a..`.......
8560: 02 87 7F 2D 80 80 6E 85  05 02 10 01 7F 85 02 87  ...-..n.........
8570: 7F 18 80 80 7C 85 05 02  10 01 7F 85 06 02 10 2B  ....|..........+
8580: 97 10 10 01 C2 82 23 D4  03 01 80 BE 82 D4 02 C3  ......#.........
8590: 82 01 80 01 80 25 02 00  10 01 80 00 5F 86 45 94  .....%......_.E.
85A0: 82 F8 FF FF 7F F8 FF FF  7F 73 30 32 32 01 80 05  .........s022...
85B0: 01 10 43 00 43 01 03 03  10 BE 82 03 04 10 BF 82  ..C.C...........
85C0: 02 09 10 03 80 00 1B 86  1A 70 87 4A 97 10 10 01  .........p.J....
85D0: F0 FF FF 7F 6F 76 97 10  10 01 2B 97 10 10 01 C4  ....ov....+.....
85E0: 82 1C 5F 80 1A 9C 87 27  08 C3 10 10 01 51 2A 08  .._....'.....Q*.
85F0: 97 10 10 01 23 1A B3 87  2B 97 10 10 01 C5 82 1C  ....#...+.......
8600: 06 80 6E F0 FF FF 7F 03  80 99 F0 FF FF 7F 2A 08  ..n...........*.
8610: 97 10 10 01 23 06 01 10  01 5C 86 1A 70 87 1A B3  ....#....\..p...
8620: 87 2B 97 10 10 01 C6 82  1C 06 80 6E F0 FF FF 7F  .+.........n....
8630: 03 80 99 F0 FF FF 7F 2A  08 97 10 10 01 23 1A 9C  .......*.....#..
8640: 87 2B 97 10 10 01 C7 82  1C BE 80 27 08 C3 10 10  .+.........'....
8650: 01 51 2A 08 97 10 10 01  23 05 01 10 01 CD 86 02  .Q*.....#.......
8660: 00 10 03 80 00 CD 86 45  94 82 F8 FF FF 7F F8 FF  .......E........
8670: FF 7F 73 30 32 32 01 80  06 01 10 43 00 43 01 03  ..s022.....C.C..
8680: 03 10 BE 82 03 04 10 BF  82 1A 70 87 1A B3 87 2B  ..........p....+
8690: 97 10 10 01 C8 82 1C 06  80 6E F0 FF FF 7F 03 80  .........n......
86A0: 99 F0 FF FF 7F 2A 08 97  10 10 01 23 1A 9C 87 2B  .....*.....#...+
86B0: 97 10 10 01 C9 82 1C BE  80 27 08 C3 10 10 01 51  .........'.....Q
86C0: 2A 08 97 10 10 01 23 06  01 10 01 CD 86 1A 64 00  *.....#.......d.
86D0: 1C 36 80 52 94 82 F8 FF  FF 7F F8 FF FF 7F 73 30  .6.R..........s0
86E0: 32 32 4E 01 04 11 10 01  4E 01 97 10 10 01 2F 01  22N.....N...../.
86F0: 04 11 10 01 2F 01 97 10  10 01 4E 00 2D 11 10 01  ..../.....N.-...
8700: 4E 00 2E 11 10 01 4E 00  8D 10 10 01 4E 00 E0 10  N.....N.....N...
8710: 10 01 4E 00 7E 10 10 01  4E 00 DE 10 10 01 4E 00  ..N.~...N.....N.
8720: DF 10 10 01 4E 00 D1 10  10 01 4E 00 CF 10 10 01  ....N.....N.....
8730: 5C 00 57 81 5C 01 57 81  9A 5D 71 80 03 80 1C 36  \.W.\.W..]q....6
8740: 80 AB 11 01 80 1C 03 80  AB 0A 46 00 45 02 80 F8  ..........F.E...
8750: FF FF 7F F8 FF FF 7F 71  73 74 63 01 80 45 00 80  .......qstc..E..
8760: F0 FF FF 7F F0 FF FF 7F  66 64 69 32 01 80 21 00  ........fdi2..!.
8770: 29 08 97 10 10 01 14 4A  C3 10 10 01 97 10 10 01  )......J........
8780: 6F 76 C3 10 10 01 1C 42  80 4A F0 FF FF 7F 97 10  ov.....B.J......
8790: 10 01 6F 76 F0 FF FF 7F  1C 22 80 1B 4A 97 10 10  ..ov....."..J...
87A0: 01 C3 10 10 01 6F 76 97  10 10 01 27 08 97 10 10  .....ov....'....
87B0: 01 26 1B 4A 97 10 10 01  F0 FF FF 7F 6F 76 97 10  .&.J........ov..
87C0: 10 01 27 08 97 10 10 01  26 1B                    ..'.....&.      
```

## Opcodes

```
  0: 0x8214 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x8215 [0x1A] CALL_SUBROUTINE(address=0x0064)
  2: 0x8218 [0x06] Work_Zone[1] = 0
  3: 0x821B [0x46] CAMERA_CONTROL: Disable user control
  4: 0x821D [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  5: 0x8220 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 120*
  6: 0x8224 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 120*
  7: 0x8228 [0x9A] WAIT_MUSIC_SERVER()
  8: 0x8229 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
  9: 0x822F [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17830148/0x01101104)
 10: 0x8235 [0x4E] SET_ENTITY_HIDE_FLAG: Show Margret (ID: 17830039/0x01101097)
 11: 0x823B [0x2F] Unnamed NPC (ID: 17830148/0x01101104)->Render.Flags0 &= ~0x80000 // Bit 19
 12: 0x8241 [0x2F] Margret (ID: 17830039/0x01101097)->Render.Flags0 &= ~0x80000 // Bit 19
 13: 0x8247 [0x92] Roskin (ID: 17830083/0x011010C3)->Render.Flags3 ^= 0x01
 14: 0x824D [0x92] Unnamed NPC (ID: 17830148/0x01101104)->Render.Flags3 ^= 0x01
 15: 0x8253 [0x92] Margret (ID: 17830039/0x01101097)->Render.Flags3 ^= 0x01
 16: 0x8259 [0x94] Roskin (ID: 17830083/0x011010C3)->Render.Flags3 ^= 0x01
 17: 0x825F [0x94] Unnamed NPC (ID: 17830148/0x01101104)->Render.Flags3 ^= 0x01
 18: 0x8265 [0x94] Margret (ID: 17830039/0x01101097)->Render.Flags3 ^= 0x01
 19: 0x826B [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 20: 0x8271 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-36.242*, pos_z=-23.258*, pos_y=-0.148*, direction=55.5°*)
 21: 0x827E [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17830148/0x01101104), pos_x=-46.848*, pos_z=-13.794*, pos_y=-0.074*, direction=35.2°*)
 22: 0x828B [0xBA] SET_ENTITY_POSITION(entity_id=Margret (ID: 17830039/0x01101097), pos_x=-42.707*, pos_z=-26.988*, pos_y=-0.148*, direction=330.0°*)
 23: 0x8298 [0x4A] LocalPlayer looks at Roskin (ID: 17830083/0x011010C3)
 24: 0x82A1 [0x4A] Roskin (ID: 17830083/0x011010C3) looks at LocalPlayer
 25: 0x82AA [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 26: 0x82AB [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 27: 0x82B0 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 28: 0x82B1 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Roskin (ID: 17830083/0x011010C3) Render.Flags0 and Render.Flags3 conditions are met
 29: 0x82B6 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Roskin (ID: 17830083/0x011010C3), tag_num=0x41)
 30: 0x82BD [0x6C] FADE_ENTITY_COLOR(entity_id=Margret (ID: 17830039/0x01101097), end_alpha=0*, fade_time=1*)
 31: 0x82C6 [0x80] LOAD_WAIT(entity=Roskin (ID: 17830083/0x011010C3))
 32: 0x82CB [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17830148/0x01101104))
 33: 0x82D0 [0x80] LOAD_WAIT(entity=Margret (ID: 17830039/0x01101097))
 34: 0x82D5 [0x80] LOAD_WAIT(entity=LocalPlayer)
 35: 0x82DA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s015" with entities [EventEntity, EventEntity], work=[714*, 0*]
 36: 0x82EB [0x1C] WAIT(15* ticks)
 37: 0x82EE [0x1A] CALL_SUBROUTINE(address=0x0043)
 38: 0x82F1 [0x2B] Roskin (ID: 17830083/0x011010C3) [11619*]:
    → "Could it be...could it be that I was too frivolous with Palomel?\u007F1\u0000\u0007"
 39: 0x82F8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x82F9 [0x24] CREATE_DIALOG(message_id=11620*, default_option=0*, option_flags=0*)
    → "Was he too frivolous?\u0007\u000BUnderstatement of the year.\u0007She was just overreacting.\u007F1\u0000\u0007"
 41: 0x8300 [0x25] WAIT_DIALOG_SELECT()
 42: 0x8301 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x8345
 43: 0x8309 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x10)
 44: 0x8310 [0x1C] WAIT(50* ticks)
 45: 0x8313 [0x27] REQ_SET(priority=0x08, entity_id=Roskin (ID: 17830083/0x011010C3), tag_num=0x42)
 46: 0x831A [0x1C] WAIT(30* ticks)
 47: 0x831D [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x11)
 48: 0x8324 [0x1C] WAIT(30* ticks)
 49: 0x8327 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Roskin (ID: 17830083/0x011010C3))
 50: 0x832D [0x27] REQ_SET(priority=0x08, entity_id=Roskin (ID: 17830083/0x011010C3), tag_num=0x4F)
 51: 0x8334 [0x2B] Roskin (ID: 17830083/0x011010C3) [11622*]:
    → "R-really? Well...the way the veins popped out of her forehead makes me wonder if I should apologize...\u007F1\u0000\u0007"
 52: 0x833B [0x2A] GET_REQ_LEVEL(level=8, entity_id=Roskin (ID: 17830083/0x011010C3))
 53: 0x8341 [0x23] WAIT_FOR_DIALOG_INTERACTION
 54: 0x8342 [0x01] GOTO 0x8389

SUBROUTINE_8345:
 55: 0x8345 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x8389
 56: 0x834D [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x10)
 57: 0x8354 [0x1C] WAIT(50* ticks)
 58: 0x8357 [0x27] REQ_SET(priority=0x08, entity_id=Roskin (ID: 17830083/0x011010C3), tag_num=0x42)
 59: 0x835E [0x1C] WAIT(30* ticks)
 60: 0x8361 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x11)
 61: 0x8368 [0x1C] WAIT(30* ticks)
 62: 0x836B [0x2A] GET_REQ_LEVEL(level=8, entity_id=Roskin (ID: 17830083/0x011010C3))
 63: 0x8371 [0x27] REQ_SET(priority=0x08, entity_id=Roskin (ID: 17830083/0x011010C3), tag_num=0x54)
 64: 0x8378 [0x2B] Roskin (ID: 17830083/0x011010C3) [11621*]:
    → "Right. I thought she was too. Still, the way the veins popped out of her forehead makes me wonder if I should apologize...\u007F1\u0000\u0007"
 65: 0x837F [0x2A] GET_REQ_LEVEL(level=8, entity_id=Roskin (ID: 17830083/0x011010C3))
 66: 0x8385 [0x23] WAIT_FOR_DIALOG_INTERACTION
 67: 0x8386 [0x01] GOTO 0x8389

SUBROUTINE_8389:
 68: 0x8389 [0x27] REQ_SET(priority=0x08, entity_id=Margret (ID: 17830039/0x01101097), tag_num=0x10)
 69: 0x8390 [0x52] END_LOAD_SCHEDULER: End scheduler "s015" with entities [EventEntity, EventEntity], work=714*
 70: 0x839F [0x6C] FADE_ENTITY_COLOR(entity_id=Margret (ID: 17830039/0x01101097), end_alpha=128*, fade_time=1*)
 71: 0x83A8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s016" with entities [EventEntity, EventEntity], work=[714*, 0*]
 72: 0x83B9 [0x2B] Margret (ID: 17830039/0x01101097) [11623*]:
    → "I'd advise against it. Don't toss oil on a burning fire.\u007F1\u0000\u0007"
 73: 0x83C0 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Margret (ID: 17830039/0x01101097))
 74: 0x83C6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 75: 0x83C7 [0x4A] Roskin (ID: 17830083/0x011010C3) looks at Margret (ID: 17830039/0x01101097)
 76: 0x83D0 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 77: 0x83D1 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Roskin (ID: 17830083/0x011010C3) Render.Flags0 and Render.Flags3 conditions are met
 78: 0x83D6 [0x2B] Roskin (ID: 17830083/0x011010C3) [11624*]:
    → "Margret!?\u007F1\u0000\u0007"
 79: 0x83DD [0x1C] WAIT(70* ticks)
 80: 0x83E0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 81: 0x83E1 [0x4A] LocalPlayer looks at Margret (ID: 17830039/0x01101097)
 82: 0x83EA [0x52] END_LOAD_SCHEDULER: End scheduler "s016" with entities [EventEntity, EventEntity], work=714*
 83: 0x83F9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s017" with entities [EventEntity, EventEntity], work=[714*, 0*]
 84: 0x840A [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 85: 0x840B [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 86: 0x8410 [0x27] REQ_SET(priority=0x08, entity_id=Margret (ID: 17830039/0x01101097), tag_num=0x22)
 87: 0x8417 [0x2B] Margret (ID: 17830039/0x01101097) [11625*]:
    → "My sis...Palomel...was the one who started you on the path of discovery to begin with. Not me.\u007F1\u0000\u0007"
 88: 0x841E [0x23] WAIT_FOR_DIALOG_INTERACTION
 89: 0x841F [0x2B] Margret (ID: 17830039/0x01101097) [11626*]:
    → "And now that the truth's out there--and that we've come to trust each other a bit--I'll make sure that we ask you directly instead of going through hidden channels.\u007F1\u0000\u0007"
 90: 0x8426 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Margret (ID: 17830039/0x01101097))
 91: 0x842C [0x23] WAIT_FOR_DIALOG_INTERACTION
 92: 0x842D [0x52] END_LOAD_SCHEDULER: End scheduler "s017" with entities [EventEntity, EventEntity], work=714*
 93: 0x843C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s018" with entities [EventEntity, EventEntity], work=[714*, 0*]
 94: 0x844D [0x27] REQ_SET(priority=0x08, entity_id=Margret (ID: 17830039/0x01101097), tag_num=0x23)
 95: 0x8454 [0x2B] Margret (ID: 17830039/0x01101097) [11627*]:
    → "As such, you deserve proper recompense for all the hard work you've done.\u007F1\u0000\u0007"
 96: 0x845B [0x23] WAIT_FOR_DIALOG_INTERACTION
 97: 0x845C [0x03] Work_Zone[3] = 27515*
 98: 0x8461 [0x03] Work_Zone[4] = 30000*
 99: 0x8466 [0x2B] Margret (ID: 17830039/0x01101097) [11628*]:
    → "I have two rewards in thanks. This \u0001\u0005#\u0002\u0001\u0000\u0000, a treasure passed down from the Order of Haverton since time immemorial, and a monetary payment of 
\u0002 bayld. I'll leave it to you to decide who gets which.\u007F1\u0000\u0007"
100: 0x846D [0x2A] GET_REQ_LEVEL(level=8, entity_id=Margret (ID: 17830039/0x01101097))
101: 0x8473 [0x23] WAIT_FOR_DIALOG_INTERACTION
102: 0x8474 [0x27] REQ_SET(priority=0x08, entity_id=Roskin (ID: 17830083/0x011010C3), tag_num=0x52)
103: 0x847B [0x2B] Roskin (ID: 17830083/0x011010C3) [11629*]:
    → "Really? I can decide?\u007F1\u0000\u0007"
104: 0x8482 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Roskin (ID: 17830083/0x011010C3))
105: 0x8488 [0x23] WAIT_FOR_DIALOG_INTERACTION
106: 0x8489 [0x4A] Margret (ID: 17830039/0x01101097) looks at LocalPlayer
107: 0x8492 [0x52] END_LOAD_SCHEDULER: End scheduler "s018" with entities [EventEntity, EventEntity], work=714*
108: 0x84A1 [0x02] IF !(LocalPlayer->Race == 3*) GOTO 0x84BD
109: 0x84A9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s019" with entities [EventEntity, EventEntity], work=[714*, 0*]
110: 0x84BA [0x01] GOTO 0x853E

SUBROUTINE_84BD:
111: 0x84BD [0x02] IF !(LocalPlayer->Race == 4*) GOTO 0x84D9
112: 0x84C5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s019" with entities [EventEntity, EventEntity], work=[714*, 0*]
113: 0x84D6 [0x01] GOTO 0x853E

SUBROUTINE_84D9:
114: 0x84D9 [0x02] IF !(LocalPlayer->Race == 5*) GOTO 0x84F5
115: 0x84E1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s021" with entities [EventEntity, EventEntity], work=[714*, 0*]
116: 0x84F2 [0x01] GOTO 0x853E

SUBROUTINE_84F5:
117: 0x84F5 [0x02] IF !(LocalPlayer->Race == 6*) GOTO 0x8511
118: 0x84FD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s021" with entities [EventEntity, EventEntity], work=[714*, 0*]
119: 0x850E [0x01] GOTO 0x853E

SUBROUTINE_8511:
120: 0x8511 [0x02] IF !(LocalPlayer->Race == 8*) GOTO 0x852D
121: 0x8519 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s019" with entities [EventEntity, EventEntity], work=[714*, 0*]
122: 0x852A [0x01] GOTO 0x853E

SUBROUTINE_852D:
123: 0x852D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s020" with entities [EventEntity, EventEntity], work=[714*, 0*]
124: 0x853E [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
125: 0x853F [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Margret (ID: 17830039/0x01101097) Render.Flags0 and Render.Flags3 conditions are met
126: 0x8544 [0x02] IF !(LocalPlayer->Race == 2*) GOTO 0x8552
127: 0x854C [0x05] Work_Zone[2] = 1
128: 0x854F [0x01] GOTO 0x857F

SUBROUTINE_8552:
129: 0x8552 [0x02] IF !(LocalPlayer->Race == 4*) GOTO 0x8560
130: 0x855A [0x05] Work_Zone[2] = 1
131: 0x855D [0x01] GOTO 0x857F

SUBROUTINE_8560:
132: 0x8560 [0x02] IF !(LocalPlayer->Race == 6*) GOTO 0x856E
133: 0x8568 [0x05] Work_Zone[2] = 1
134: 0x856B [0x01] GOTO 0x857F

SUBROUTINE_856E:
135: 0x856E [0x02] IF !(LocalPlayer->Race == 7*) GOTO 0x857C
136: 0x8576 [0x05] Work_Zone[2] = 1
137: 0x8579 [0x01] GOTO 0x857F

SUBROUTINE_857C:
138: 0x857C [0x06] Work_Zone[2] = 0
139: 0x857F [0x2B] Margret (ID: 17830039/0x01101097) [11630*]:
    → "I was addressing \u0008. After all, isn't \u007F\u0005[he/she] the most capable assistant you could have asked for?\u007F1\u0000\u0007"
140: 0x8586 [0x23] WAIT_FOR_DIALOG_INTERACTION
141: 0x8587 [0xD4] MAP_QUERY_WINDOW: Prepare buffer configuration A (buffer=[01 80 BE 82 D4 02 C3 82...])
142: 0x85A5 [0xF8] UNKNOWN_OPCODE_0xF8
143: 0x85A6 [0xFF] UNKNOWN_OPCODE_0xFF
144: 0x85A7 [0xFF] UNKNOWN_OPCODE_0xFF
145: 0x85A8 [0x7F] WAIT_DIALOG_SELECT_ALT()
146: 0x85A9 [0x73] Unknown NPC (ID: 92274994/0x05800132) casts magic 0x3230 on Unknown NPC (ID: 4395009/0x00431001)
147: 0x85B4 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
148: 0x85B6 [0x03] Work_Zone[3] = 27515*
149: 0x85BB [0x03] Work_Zone[4] = 30000*
150: 0x85C0 [0x02] IF !(Work_Zone[9] == 1*) GOTO 0x861B
151: 0x85C8 [0x1A] CALL_SUBROUTINE(address=0x8770)
152: 0x85CB [0x4A] Margret (ID: 17830039/0x01101097) looks at LocalPlayer
153: 0x85D4 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
154: 0x85D5 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Margret (ID: 17830039/0x01101097) Render.Flags0 and Render.Flags3 conditions are met
155: 0x85DA [0x2B] Margret (ID: 17830039/0x01101097) [11636*]:
    → "Your bags are full? No matter. Roskin can have the \u0001\u0005#\u0002\u0001\u0000\u0000.\u007F1\u0000\u0007"
156: 0x85E1 [0x1C] WAIT(90* ticks)
157: 0x85E4 [0x1A] CALL_SUBROUTINE(address=0x879C)
158: 0x85E7 [0x27] REQ_SET(priority=0x08, entity_id=Roskin (ID: 17830083/0x011010C3), tag_num=0x51)
159: 0x85EE [0x2A] GET_REQ_LEVEL(level=8, entity_id=Margret (ID: 17830039/0x01101097))
160: 0x85F4 [0x23] WAIT_FOR_DIALOG_INTERACTION
161: 0x85F5 [0x1A] CALL_SUBROUTINE(address=0x87B3)
162: 0x85F8 [0x2B] Margret (ID: 17830039/0x01101097) [11637*]:
    → "That leaves you with the 
\u0002 bayld.\u007F1\u0000\u0007"
163: 0x85FF [0x1C] WAIT(30* ticks)
164: 0x8602 [0x6E] LocalPlayer uses emote 1*
165: 0x8609 [0x99] Wait for LocalPlayer animation to complete
166: 0x860E [0x2A] GET_REQ_LEVEL(level=8, entity_id=Margret (ID: 17830039/0x01101097))
167: 0x8614 [0x23] WAIT_FOR_DIALOG_INTERACTION
168: 0x8615 [0x06] Work_Zone[1] = 0
169: 0x8618 [0x01] GOTO 0x865C

SUBROUTINE_861B:
170: 0x861B [0x1A] CALL_SUBROUTINE(address=0x8770)
171: 0x861E [0x1A] CALL_SUBROUTINE(address=0x87B3)
172: 0x8621 [0x2B] Margret (ID: 17830039/0x01101097) [11632*]:
    → "Then so it shall be. Treat it with care.\u007F1\u0000\u0007"
173: 0x8628 [0x1C] WAIT(30* ticks)
174: 0x862B [0x6E] LocalPlayer uses emote 1*
175: 0x8632 [0x99] Wait for LocalPlayer animation to complete
176: 0x8637 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Margret (ID: 17830039/0x01101097))
177: 0x863D [0x23] WAIT_FOR_DIALOG_INTERACTION
178: 0x863E [0x1A] CALL_SUBROUTINE(address=0x879C)
179: 0x8641 [0x2B] Margret (ID: 17830039/0x01101097) [11633*]:
    → "That leaves the bayld for you, Roskin.\u007F1\u0000\u0007"
180: 0x8648 [0x1C] WAIT(50* ticks)
181: 0x864B [0x27] REQ_SET(priority=0x08, entity_id=Roskin (ID: 17830083/0x011010C3), tag_num=0x51)
182: 0x8652 [0x2A] GET_REQ_LEVEL(level=8, entity_id=Margret (ID: 17830039/0x01101097))
183: 0x8658 [0x23] WAIT_FOR_DIALOG_INTERACTION
184: 0x8659 [0x05] Work_Zone[1] = 1
185: 0x865C [0x01] GOTO 0x86CD
186: 0x86CD [0x1A] CALL_SUBROUTINE(address=0x0064)
187: 0x86D0 [0x1C] WAIT(15* ticks)
188: 0x86D3 [0x52] END_LOAD_SCHEDULER: End scheduler "s022" with entities [EventEntity, EventEntity], work=714*
189: 0x86E2 [0x4E] SET_ENTITY_HIDE_FLAG: Hide Unnamed NPC (ID: 17830148/0x01101104)
190: 0x86E8 [0x4E] SET_ENTITY_HIDE_FLAG: Hide Margret (ID: 17830039/0x01101097)
191: 0x86EE [0x2F] Unnamed NPC (ID: 17830148/0x01101104)->Render.Flags0 |= 0x80000 // Bit 19
192: 0x86F4 [0x2F] Margret (ID: 17830039/0x01101097)->Render.Flags0 |= 0x80000 // Bit 19
193: 0x86FA [0x4E] SET_ENTITY_HIDE_FLAG: Show Oston (ID: 17830189/0x0110112D)
194: 0x8700 [0x4E] SET_ENTITY_HIDE_FLAG: Show Lola (ID: 17830190/0x0110112E)
195: 0x8706 [0x4E] SET_ENTITY_HIDE_FLAG: Show Iyvah Halohm (ID: 17830029/0x0110108D)
196: 0x870C [0x4E] SET_ENTITY_HIDE_FLAG: Show Bernegeois (ID: 17830112/0x011010E0)
197: 0x8712 [0x4E] SET_ENTITY_HIDE_FLAG: Show Yocile (ID: 17830014/0x0110107E)
198: 0x8718 [0x4E] SET_ENTITY_HIDE_FLAG: Show Jampiaire (ID: 17830110/0x011010DE)
199: 0x871E [0x4E] SET_ENTITY_HIDE_FLAG: Show Stavalian (ID: 17830111/0x011010DF)
200: 0x8724 [0x4E] SET_ENTITY_HIDE_FLAG: Show Alphonserme (ID: 17830097/0x011010D1)
201: 0x872A [0x4E] SET_ENTITY_HIDE_FLAG: Show Irate Destrier (ID: 17830095/0x011010CF)
202: 0x8730 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 63*
203: 0x8734 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 63*
204: 0x8738 [0x9A] WAIT_MUSIC_SERVER()
205: 0x8739 [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
206: 0x873E [0x1C] WAIT(15* ticks)
207: 0x8741 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
208: 0x8745 [0x1C] WAIT(1* ticks)
209: 0x8748 [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
210: 0x874A [0x46] CAMERA_CONTROL: Restore default settings
211: 0x874C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [EventEntity, EventEntity], work=[201*, 0*]
212: 0x875D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
213: 0x876E [0x21] END_EVENT
214: 0x876F [0x00] END_REQSTACK()

SUBROUTINE_8770:
215: 0x8770 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Margret (ID: 17830039/0x01101097), tag_num=0x14)
216: 0x8777 [0x4A] Roskin (ID: 17830083/0x011010C3) looks at Margret (ID: 17830039/0x01101097)
217: 0x8780 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
218: 0x8781 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Roskin (ID: 17830083/0x011010C3) Render.Flags0 and Render.Flags3 conditions are met
219: 0x8786 [0x1C] WAIT(10* ticks)
220: 0x8789 [0x4A] LocalPlayer looks at Margret (ID: 17830039/0x01101097)
221: 0x8792 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
222: 0x8793 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
223: 0x8798 [0x1C] WAIT(20* ticks)
224: 0x879B [0x1B] RETURN

SUBROUTINE_879C:
225: 0x879C [0x4A] Margret (ID: 17830039/0x01101097) looks at Roskin (ID: 17830083/0x011010C3)
226: 0x87A5 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
227: 0x87A6 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Margret (ID: 17830039/0x01101097) Render.Flags0 and Render.Flags3 conditions are met
228: 0x87AB [0x27] REQ_SET(priority=0x08, entity_id=Margret (ID: 17830039/0x01101097), tag_num=0x26)
229: 0x87B2 [0x1B] RETURN

SUBROUTINE_87B3:
230: 0x87B3 [0x4A] Margret (ID: 17830039/0x01101097) looks at LocalPlayer
231: 0x87BC [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
232: 0x87BD [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Margret (ID: 17830039/0x01101097) Render.Flags0 and Render.Flags3 conditions are met
233: 0x87C2 [0x27] REQ_SET(priority=0x08, entity_id=Margret (ID: 17830039/0x01101097), tag_num=0x26)
234: 0x87C9 [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x865F (110 bytes)
     0x865F: 02 00 10 03 80 00 CD 86 45 94 82 F8 FF FF 7F F8
     0x866F: FF FF 7F 73 30 32 32 01 80 06 01 10 43 00 43 01
     0x867F: 03 03 10 BE 82 03 04 10 BF 82 1A 70 87 1A B3 87
     0x868F: 2B 97 10 10 01 C8 82 1C 06 80 6E F0 FF FF 7F 03
     0x869F: 80 99 F0 FF FF 7F 2A 08 97 10 10 01 23 1A 9C 87
     0x86AF: 2B 97 10 10 01 C9 82 1C BE 80 27 08 C3 10 10 01
     0x86BF: 51 2A 08 97 10 10 01 23 06 01 10 01 CD 86
```