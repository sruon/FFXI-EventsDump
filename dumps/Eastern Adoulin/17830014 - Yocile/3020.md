# Event 3020

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/23      |
| Offset          | 0x002C    |
| Data Size       | 130 bytes |
| Calculated Size | 130 bytes |
| Instructions    | 38        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0020:                                      1E F0 FF FF              ....
0030: 7F 6F 70 66 00 80 F8 FF  FF 7F F8 FF FF 7F 74 6C  .opf..........tl
0040: 6B 30 1D 02 80 23 24 03  80 04 80 05 80 25 02 00  k0...#$......%..
0050: 10 05 80 00 8E 00 42 1D  06 80 23 1D 07 80 23 1D  ......B...#...#.
0060: 08 80 23 03 02 10 09 80  03 03 10 0A 80 1D 0B 80  ..#.............
0070: 23 1D 0C 80 23 03 03 10  0D 80 1D 0E 80 23 1D 0F  #...#........#..
0080: 80 23 1D 10 80 23 03 01  10 04 80 01 9D 00 02 00  .#...#..........
0090: 10 04 80 00 9D 00 1D 11  80 23 01 9D 00 66 00 80  .........#...f..
00A0: F8 FF FF 7F F8 FF FF 7F  73 74 64 30 21 00        ........std0!.  
```

## Opcodes

```
  0: 0x002C [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0031 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0032 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0033 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=19*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
  4: 0x0042 [0x1D] PRINT_EVENT_MESSAGE(message_id=8045*)
    → "Welcome to our humble caf\u0008i.\u0007I...have to apologize for bringing this matter before a customer, but do you have time to hear my story?\u007F1\u0000\u0007"
  5: 0x0045 [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x0046 [0x24] CREATE_DIALOG(message_id=8046*, default_option=1*, option_flags=0*)
    → "Listen to her story?\u0007\u000BYes.\u0007I've got enough on my plate.\u007F1\u0000\u0007"
  7: 0x004D [0x25] WAIT_DIALOG_SELECT()
  8: 0x004E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x008E
  9: 0x0056 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 10: 0x0057 [0x1D] PRINT_EVENT_MESSAGE(message_id=8048*)
    → "Really? Well...\u0007We're having trouble getting supplies in from the Couriers' Coalition.\u007F1\u0000\u0007"
 11: 0x005A [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x005B [0x1D] PRINT_EVENT_MESSAGE(message_id=8049*)
    → "To be frank, I used to work for them, but...with all their resources being poured into pioneering, they can't spare much--even with my connections.\u007F1\u0000\u0007"
 13: 0x005E [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x005F [0x1D] PRINT_EVENT_MESSAGE(message_id=8050*)
    → "During my time there, I had the opportunity to travel all throughout the world, you know? New places, new foods, new ingredients and recipes...and that's when I chose to open this candy shop.\u007F1\u0000\u0007"
 15: 0x0062 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x0063 [0x03] Work_Zone[2] = 5187*
 17: 0x0068 [0x03] Work_Zone[3] = 2*
 18: 0x006D [0x1D] PRINT_EVENT_MESSAGE(message_id=8051*)
    → "Recently, though, I can't get ahold of any \u0001\u0005%\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 19: 0x0070 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x0071 [0x1D] PRINT_EVENT_MESSAGE(message_id=8052*)
    → "So that's why I'd like to ask you to gather 
\u0001 \u0001\u0005%\u0002\u0000\u0000\u0000 for me.\u007F1\u0000\u0007"
 21: 0x0074 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x0075 [0x03] Work_Zone[3] = 5966*
 23: 0x007A [0x1D] PRINT_EVENT_MESSAGE(message_id=8053*)
    → "I mean, of course \u0001\u0005%\u0002\u0001\u0000\u0000 work in a pinch, but I can't get that exotic flavor without \u0001\u0005%\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 24: 0x007D [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x007E [0x1D] PRINT_EVENT_MESSAGE(message_id=8054*)
    → "I'll make it worth your time, I swear!\u007F1\u0000\u0007"
 26: 0x0081 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x0082 [0x1D] PRINT_EVENT_MESSAGE(message_id=8055*)
    → "Come back soon, my pioneer friend!\u007F1\u0000\u0007"
 28: 0x0085 [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x0086 [0x03] Work_Zone[1] = 1*
 30: 0x008B [0x01] GOTO 0x009D

SUBROUTINE_008E:
 31: 0x008E [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x009D
 32: 0x0096 [0x1D] PRINT_EVENT_MESSAGE(message_id=8047*)
    → "Of course. I understand. May I take your order, \u007F\u0005[sir/ma'am]?\u007F1\u0000\u0007"
 33: 0x0099 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x009A [0x01] GOTO 0x009D

SUBROUTINE_009D:
 35: 0x009D [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=19*, entity1=EventEntity, entity2=EventEntity, action="std0")
 36: 0x00AC [0x21] END_EVENT
 37: 0x00AD [0x00] END_REQSTACK()
```
