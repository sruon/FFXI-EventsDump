# Event 537

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 734 bytes |
| Calculated Size | 734 bytes |
| Instructions    | 13        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1E F0 FF FF 7F 6F 70  5B 00 80 F8 FF FF 7F F8   .....op[.......
0010: FF FF 7F 74 6C 6B 30 1D  01 80 23 5B 00 80 F8 FF  ...tlk0...#[....
0020: FF 7F F8 FF FF 7F 74 6C  6B 31 5B 00 80 F8 FF FF  ......tlk1[.....
0030: 7F F8 FF FF 7F 74 68 6B  31 1D 02 80 23 5B 00 80  .....thk1...#[..
0040: F8 FF FF 7F F8 FF FF 7F  74 68 6B 32 21 00 45 03  ........thk2!.E.
0050: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 30 04 80 55  .........fdi0..U
0060: 03 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 30 1B 45  ..........fdi0.E
0070: 03 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 30 04 80  ..........fdo0..
0080: 55 03 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 30 1B  U..........fdo0.
0090: 45 03 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 31 04  E..........fdi1.
00A0: 80 55 03 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 31  .U..........fdi1
00B0: 1B 45 03 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 31  .E..........fdo1
00C0: 04 80 55 03 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..U..........fdo
00D0: 31 1B 45 05 80 F0 FF FF  7F F0 FF FF 7F 77 68 69  1.E..........whi
00E0: 31 04 80 55 05 80 F0 FF  FF 7F F0 FF FF 7F 77 68  1..U..........wh
00F0: 69 31 1B 45 05 80 F0 FF  FF 7F F0 FF FF 7F 77 68  i1.E..........wh
0100: 6F 31 04 80 55 05 80 F0  FF FF 7F F0 FF FF 7F 77  o1..U..........w
0110: 68 6F 31 1B 45 05 80 F0  FF FF 7F F0 FF FF 7F 77  ho1.E..........w
0120: 68 6F 32 04 80 55 05 80  F0 FF FF 7F F0 FF FF 7F  ho2..U..........
0130: 77 68 6F 32 1B 45 05 80  F0 FF FF 7F F0 FF FF 7F  who2.E..........
0140: 77 68 6F 33 04 80 55 05  80 F0 FF FF 7F F0 FF FF  who3..U.........
0150: 7F 77 68 6F 33 1B 62 06  80 F0 FF FF 7F F0 FF FF  .who3.b.........
0160: 7F 6D 61 69 6E 04 80 1C  07 80 45 03 80 F0 FF FF  .main.....E.....
0170: 7F F0 FF FF 7F 66 64 6F  31 04 80 55 03 80 F0 FF  .....fdo1..U....
0180: FF 7F F0 FF FF 7F 66 64  6F 31 1B 45 03 80 F0 FF  ......fdo1.E....
0190: FF 7F F0 FF FF 7F 66 64  69 31 04 80 62 08 80 F0  ......fdi1..b...
01A0: FF FF 7F F0 FF FF 7F 6D  61 69 6E 04 80 1C 09 80  .......main.....
01B0: 55 03 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 31 1B  U..........fdi1.
01C0: 45 03 80 F0 FF FF 7F F0  FF FF 7F 62 6C 6F 6E 04  E..........blon.
01D0: 80 45 05 80 F0 FF FF 7F  F0 FF FF 7F 62 6C 6F 6E  .E..........blon
01E0: 04 80 1B 45 05 80 F0 FF  FF 7F F0 FF FF 7F 77 68  ...E..........wh
01F0: 69 30 04 80 55 05 80 F0  FF FF 7F F0 FF FF 7F 77  i0..U..........w
0200: 68 69 30 1B 45 05 80 F0  FF FF 7F F0 FF FF 7F 77  hi0.E..........w
0210: 68 6F 30 04 80 55 05 80  F0 FF FF 7F F0 FF FF 7F  ho0..U..........
0220: 77 68 6F 30 1B 45 0A 80  F0 FF FF 7F F0 FF FF 7F  who0.E..........
0230: 65 66 6F 6E 04 80 55 0A  80 F0 FF FF 7F F0 FF FF  efon..U.........
0240: 7F 65 66 6F 6E 1B 45 03  80 F0 FF FF 7F F0 FF FF  .efon.E.........
0250: 7F 66 64 69 73 04 80 1B  45 03 80 F0 FF FF 7F F0  .fdis...E.......
0260: FF FF 7F 66 64 6F 73 04  80 55 03 80 F0 FF FF 7F  ...fdos..U......
0270: F0 FF FF 7F 66 64 6F 73  1B 45 03 80 F0 FF FF 7F  ....fdos.E......
0280: F0 FF FF 7F 66 64 69 66  04 80 1B 45 03 80 F0 FF  ....fdif...E....
0290: FF 7F F0 FF FF 7F 66 64  6F 66 04 80 55 03 80 F0  ......fdof..U...
02A0: FF FF 7F F0 FF FF 7F 66  64 6F 66 1B 45 03 80 F0  .......fdof.E...
02B0: FF FF 7F F0 FF FF 7F 66  64 69 70 04 80 1B 45 03  .......fdip...E.
02C0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 70 04 80 55  .........fdop..U
02D0: 03 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 70 1B     ..........fdop. 
```

## Opcodes

```
  0: 0x0001 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0006 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0007 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0008 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=75*
  4: 0x0017 [0x1D] PRINT_EVENT_MESSAGE(message_id=10501*)
    → "Listenlistenlisten!\u0007I saw a black beastie hopping from roof to roof!\u007F1\u0000\u0007"
  5: 0x001A [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x001B [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=75*
  7: 0x002A [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk1" with entities [EventEntity, EventEntity], work=75*
  8: 0x0039 [0x1D] PRINT_EVENT_MESSAGE(message_id=10502*)
    → "I wanna catch it and talk to it!\u0007Do you think monsters can talk? What would they say if they could? Do you think they even like Humes?\u007F1\u0000\u0007"
  9: 0x003C [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x003D [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk2" with entities [EventEntity, EventEntity], work=75*
 11: 0x004C [0x21] END_EVENT
 12: 0x004D [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x004E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x005F [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x006E [0x1B] RETURN
     0x006F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0080 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x008F [0x1B] RETURN
     0x0090 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x00A1 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x00B0 [0x1B] RETURN
     0x00B1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x00C2 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x00D1 [0x1B] RETURN
     0x00D2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x00E3 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=201*
     0x00F2 [0x1B] RETURN
     0x00F3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0104 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0113 [0x1B] RETURN
     0x0114 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who2" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0125 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who2" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0134 [0x1B] RETURN
     0x0135 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who3" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0146 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who3" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0155 [0x1B] RETURN
     0x0156 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[1*, 0*]
     0x0167 [0x1C] WAIT(45* ticks)
     0x016A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x017B [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x018A [0x1B] RETURN
     0x018B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x019C [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[2*, 0*]
     0x01AD [0x1C] WAIT(30* ticks)
     0x01B0 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x01BF [0x1B] RETURN
     0x01C0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x01D1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x01E2 [0x1B] RETURN
     0x01E3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi0" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x01F4 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi0" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0203 [0x1B] RETURN
     0x0204 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who0" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0215 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who0" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0224 [0x1B] RETURN
     0x0225 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "efon" with entities [LocalPlayer, LocalPlayer], work=[215*, 0*]
     0x0236 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "efon" with entities [LocalPlayer, LocalPlayer], work=215*
     0x0245 [0x1B] RETURN
     0x0246 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdis" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0257 [0x1B] RETURN
     0x0258 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdos" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0269 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdos" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0278 [0x1B] RETURN
     0x0279 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdif" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x028A [0x1B] RETURN
     0x028B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x029C [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdof" with entities [LocalPlayer, LocalPlayer], work=200*
     0x02AB [0x1B] RETURN
     0x02AC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdip" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x02BD [0x1B] RETURN
     0x02BE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdop" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x02CF [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdop" with entities [LocalPlayer, LocalPlayer], work=200*
     0x02DE [0x1B] RETURN
```