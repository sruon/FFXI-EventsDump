# Event 5015

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/4       |
| Offset          | 0x0022    |
| Data Size       | 317 bytes |
| Calculated Size | 317 bytes |
| Instructions    | 38        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0020:       42 45 04 80 F0 FF  FF 7F F0 FF FF 7F 66 64    BE..........fd
0030: 6F 31 05 80 55 04 80 F0  FF FF 7F F0 FF FF 7F 66  o1..U..........f
0040: 64 6F 31 46 01 38 06 80  75 00 07 80 75 01 92 01  do1F.8..u...u...
0050: F8 FF FF 7F BA F0 FF FF  7F 08 80 09 80 0A 80 0B  ................
0060: 80 80 F0 FF FF 7F 80 F8  FF FF 7F 4A F0 FF FF 7F  ...........J....
0070: F8 FF FF 7F 1E F0 FF FF  7F 45 0C 80 F0 FF FF 7F  .........E......
0080: F0 FF FF 7F 73 30 30 36  05 80 1C 0D 80 45 04 80  ....s006.....E..
0090: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 05 80 66 01  ........fdi1..f.
00A0: 80 F8 FF FF 7F F8 FF FF  7F 74 68 6B 31 1D 0E 80  .........thk1...
00B0: 23 52 0C 80 F0 FF FF 7F  F0 FF FF 7F 73 30 30 36  #R..........s006
00C0: 45 0C 80 F0 FF FF 7F F0  FF FF 7F 73 30 30 37 05  E..........s007.
00D0: 80 66 01 80 F8 FF FF 7F  F8 FF FF 7F 74 68 6B 32  .f..........thk2
00E0: 1D 0F 80 23 66 01 80 F8  FF FF 7F F8 FF FF 7F 74  ...#f..........t
00F0: 6C 6B 30 1D 10 80 23 52  0C 80 F0 FF FF 7F F0 FF  lk0...#R........
0100: FF 7F 73 30 30 37 45 0C  80 F0 FF FF 7F F0 FF FF  ..s007E.........
0110: 7F 73 30 30 38 05 80 1D  11 80 23 45 04 80 F0 FF  .s008.....#E....
0120: FF 7F F0 FF FF 7F 66 64  6F 31 05 80 55 04 80 F0  ......fdo1..U...
0130: FF FF 7F F0 FF FF 7F 66  64 6F 31 52 0C 80 F0 FF  .......fdo1R....
0140: FF 7F F0 FF FF 7F 73 30  30 38 46 00 45 04 80 F0  ......s008F.E...
0150: FF FF 7F F0 FF FF 7F 66  64 69 32 05 80 21 00     .......fdi2..!. 
```

## Opcodes

```
  0: 0x0022 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0023 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
  2: 0x0034 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
  3: 0x0043 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x0045 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x0048 [0x75] LOAD_ROOM(Load indoor room, room=589*)
  6: 0x004C [0x75] LOAD_ROOM(No action)
  7: 0x004E [0x92] EventEntity->Render.Flags3 ^= 0x01
  8: 0x0054 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-107.532*, pos_z=19.561*, pos_y=-0.649*, direction=241.1°*)
  9: 0x0061 [0x80] LOAD_WAIT(entity=LocalPlayer)
 10: 0x0066 [0x80] LOAD_WAIT(entity=EventEntity)
 11: 0x006B [0x4A] LocalPlayer looks at EventEntity
 12: 0x0074 [0x1E] EventEntity looks at LocalPlayer and starts talking
 13: 0x0079 [0x45] LOAD_SCHEDULED_TASK(work_offset1=621*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s006", work_offset2=0*)
 14: 0x008A [0x1C] WAIT(15* ticks)
 15: 0x008D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 16: 0x009E [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=EventEntity, entity2=EventEntity, action="thk1")
 17: 0x00AD [0x1D] PRINT_EVENT_MESSAGE(message_id=9991*)
    → "Can I help you?\u0007...I see. Information on the leafkin-weafkin, is it?\u007F1\u0000\u0007"
 18: 0x00B0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x00B1 [0x52] END_LOAD_SCHEDULER: End scheduler "s006" with entities [LocalPlayer, LocalPlayer], work=621*
 20: 0x00C0 [0x45] LOAD_SCHEDULED_TASK(work_offset1=621*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s007", work_offset2=0*)
 21: 0x00D1 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=EventEntity, entity2=EventEntity, action="thk2")
 22: 0x00E0 [0x1D] PRINT_EVENT_MESSAGE(message_id=9992*)
    → "You know, I saw something resembling a leafkin when I stopped at a frontier station in the Morimar Basaltaru Fields.\u007F1\u0000\u0007"
 23: 0x00E3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x00E4 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 25: 0x00F3 [0x1D] PRINT_EVENT_MESSAGE(message_id=9993*)
    → "Let me take out my mappy-wap. See if that jogs my memory...\u0007...There we go. Right here, around K-10.\u007F1\u0000\u0007"
 26: 0x00F6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x00F7 [0x52] END_LOAD_SCHEDULER: End scheduler "s007" with entities [LocalPlayer, LocalPlayer], work=621*
 28: 0x0106 [0x45] LOAD_SCHEDULED_TASK(work_offset1=621*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s008", work_offset2=0*)
 29: 0x0117 [0x1D] PRINT_EVENT_MESSAGE(message_id=9994*)
    → "'Course, it was nightaru out, so I can't be sure...but I'd lay money that it was one of them creatures you're looking for.\u007F1\u0000\u0007"
 30: 0x011A [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x011B [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 32: 0x012C [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
 33: 0x013B [0x52] END_LOAD_SCHEDULER: End scheduler "s008" with entities [LocalPlayer, LocalPlayer], work=621*
 34: 0x014A [0x46] CAMERA_CONTROL: Restore default settings
 35: 0x014C [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 36: 0x015D [0x21] END_EVENT
 37: 0x015E [0x00] END_REQSTACK()
```
