# Event 5510

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/19      |
| Offset          | 0x1603    |
| Data Size       | 662 bytes |
| Calculated Size | 662 bytes |
| Instructions    | 13        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1600:          42 1E F0 FF FF  7F 02 02 10 3B 80 00 19     B........;...
1610: 16 03 04 10 01 80 01 1E  16 03 04 10 00 80 1D BF  ................
1620: 80 23 1D C0 80 23 2E 21  00 03 10 04 10 05 10 06  .#...#.!........
1630: 10 07 10 08 10 09 10 00  17 01 17 02 17 03 17 04  ................
1640: 17 05 17 06 17 07 17 08  17 09 17 0A 17 0B 17 0C  ................
1650: 17 0D 17 0E 17 0F 17 10  17 11 17 12 17 13 17 14  ................
1660: 17 15 17 16 17 17 17 18  17 19 17 1A 17 1B 17 1C  ................
1670: 17 1D 17 1E 17 1F 17 02  10 C1 80 C2 80 C3 80 C4  ................
1680: 80 C5 80 C6 80 C7 80 C8  80 C9 80 CA 80 CB 80 CC  ................
1690: 80 CD 80 CE 80 CF 80 D0  80 D1 80 D2 80 D3 80 D4  ................
16A0: 80 D5 80 D6 80 D7 80 D8  80 D9 80 DA 80 3C 80 01  .............<..
16B0: 80 01 80 01 80 01 80 01  80 C1 80 C2 80 C3 80 C4  ................
16C0: 80 C5 80 C6 80 C7 80 C8  80 C9 80 CA 80 CB 80 CC  ................
16D0: 80 CD 80 CE 80 CF 80 D0  80 D1 80 D2 80 D3 80 D4  ................
16E0: 80 D5 80 D6 80 D7 80 D8  80 D9 80 DA 80 01 80 01  ................
16F0: 80 01 80 01 80 01 80 01  80 37 80 02 80 00 80 37  .........7.....7
1700: 80 00 80 37 80 02 80 00  80 37 80 00 80 37 80 02  ...7.....7...7..
1710: 80 00 80 37 80 00 80 37  80 02 80 00 80 37 80 00  ...7...7.....7..
1720: 80 37 80 02 80 00 80 37  80 00 80 02 80 1E 80 01  .7.....7........
1730: 80 01 80 01 80 01 80 01  80 37 80 02 80 00 80 37  .........7.....7
1740: 80 00 80 37 80 02 80 00  80 37 80 00 80 37 80 02  ...7.....7...7..
1750: 80 00 80 37 80 00 80 37  80 02 80 00 80 37 80 00  ...7...7.....7..
1760: 80 37 80 02 80 00 80 37  80 00 80 02 80 01 80 01  .7.....7........
1770: 80 01 80 01 80 01 80 01  80 01 80 01 80 01 80 01  ................
1780: 80 DB 80 DC 80 01 80 01  80 01 80 01 80 01 80 01  ................
1790: 80 01 80 01 80 01 80 01  80 01 80 01 80 01 80 01  ................
17A0: 80 01 80 01 80 01 80 01  80 01 80 01 80 01 80 01  ................
17B0: 80 01 80 01 80 01 80 01  80 01 80 01 80 01 80 01  ................
17C0: 80 00 80 1D 80 01 80 01  80 01 80 01 80 01 80 01  ................
17D0: 80 01 80 01 80 01 80 01  80 01 80 01 80 01 80 01  ................
17E0: 80 01 80 01 80 01 80 01  80 01 80 01 80 01 80 01  ................
17F0: 80 01 80 01 80 01 80 01  80 DD 80 DE 80 DF 80 E0  ................
1800: 80 00 80 E1 80 E2 80 00  80 00 80 00 80 00 80 00  ................
1810: 80 00 80 00 80 00 80 00  80 00 80 00 80 00 80 00  ................
1820: 80 00 80 00 80 00 80 00  80 00 80 00 80 00 80 00  ................
1830: 80 00 80 00 80 00 80 00  80 02 80 1F 80 02 80 09  ................
1840: 80 00 80 00 80 1F 80 01  80 01 80 01 80 01 80 01  ................
1850: 80 01 80 01 80 01 80 01  80 01 80 01 80 01 80 01  ................
1860: 80 01 80 01 80 01 80 01  80 01 80 01 80 01 80 01  ................
1870: 80 01 80 01 80 01 80 01  80 B7 80 E3 80 E4 80 E5  ................
1880: 80 BB 80 01 80 01 80 01  80 01 80 E6 80 E7 80 E8  ................
1890: 80 E9 80 EA 80 01 80 01  80                       .........       
```

## Opcodes

```
  0: 0x1603 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x1604 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x1609 [0x02] IF !(Work_Zone[2] == 4036*) GOTO 0x1619
  3: 0x1611 [0x03] Work_Zone[4] = 0*
  4: 0x1616 [0x01] GOTO 0x161E
  5: 0x1619 [0x03] Work_Zone[4] = 1*

SUBROUTINE_161E:
  6: 0x161E [0x1D] PRINT_EVENT_MESSAGE(message_id=12840*)
    → "Is that \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000 I see? Here, let Granny keep ahold of any you got.\u007F1\u0000\u0007"
  7: 0x1621 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x1622 [0x1D] PRINT_EVENT_MESSAGE(message_id=12841*)
    → "I'm holding a total of 
\u0001 \u0001	)\u0002\u0001\u0000\u0000\u0002\u0000\u0000\u0000 for you. Just speak up when you want to exchange them for some of my \u000C\u0002[armor/stuff].\u007F1\u0000\u0007"
  9: 0x1625 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x1626 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
 11: 0x1627 [0x21] END_EVENT
 12: 0x1628 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x1629 [0x03] 0x0410 = 0x0510
     0x162E [0x10] Work_Zone[6] <<= Work_Zone[7]
     0x1633 [0x08] 0x0910 -= ExtData[1]->WorkLocal[16]
     0x1638 [0x17] Work_Zone_1700[1] = cos(Work_Zone_1700[2]) * Work_Zone_1700[3]
     0x163F [0x04] DEPRECATED_NOP(unused=0x0517)
     0x1642 [0x17] Work_Zone_1700[6] = cos(Work_Zone_1700[7]) * Work_Zone_1700[8]
     0x1649 [0x09] 0x0A17 |= (1 << 0x0B17)
     0x164E [0x17] Work_Zone_1700[12] = cos(Work_Zone_1700[13]) * Work_Zone_1700[14]
     0x1655 [0x0F] Work_Zone[23] ^= Work_Zone_Memorize[23]
     0x165A [0x17] Work_Zone_1700[18] = cos(Work_Zone_1700[19]) * Work_Zone_1700[20]
     0x1661 [0x15] 0x1617 /= Work_Zone_1700[23]
     0x1666 [0x17] Work_Zone_1700[24] = cos(Work_Zone_1700[25]) * Work_Zone_1700[26]
     0x166D [0x1B] RETURN
     0x166E [0x17] Work_Zone_1700[28] = cos(Work_Zone_1700[29]) * Work_Zone_1700[30]
     0x1675 [0x1F] MOVE_ENTITY: Update entity position (mode=23)
     0x1677 [0x02] IF !(0xC110 == 0xC280) GOTO 0x80C3
     0x167F [0xC4] SCHEDULE_MAGIC_CASTING_ALT (arg=16): Unknown NPC (ID: 2160558278/0x80C780C6) casts magic 28332* on Unknown NPC (ID: 2160689352/0x80C980C8)
     0x168B [0xCA] DEPRECATED_OPCODE_CA()
     0x168C [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2160885963/0x80CC80CB))
     0x1691 [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler 0xD480D380 with entities [Unknown NPC (ID: 3498102656/0xD080CF80), Unknown NPC (ID: 3531657600/0xD280D180)], work=[0xCE80, 0xD580]
     0x16A2 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2161606870/0x80D780D6))
     0x16A7 [0xD8] SET_ENTITY_EVENT_DIR: Unknown mode 0x80 for Unknown NPC (ID: 2161803481/0x80DA80D9)
     0x16AD [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x0180, bit_index_work_offset=0x0180, condition_work_offset=0x0180)
     0x16B4 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x16B9 [0xC1] KILL_ENTITY_ACTION(entity_id=0xC380C280)
     0x16BE [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2160427204/0x80C580C4))
     0x16C3 [0xC6] WAIT_LOAD_SCHEDULER_ALT3: Wait for scheduler 0xCD80CC80 with entities [Unknown NPC (ID: 3380660352/0xC980C880), Unknown NPC (ID: 3414215296/0xCB80CA80)], work=0xC780
     0x16D2 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2161082574/0x80CF80CE))
     0x16D7 [0xD0] LOAD_SCHEDULED_TASK_ALT5: Load scheduler 0xD780D680 with entities [Unknown NPC (ID: 3548435072/0xD380D280), Unknown NPC (ID: 3581990016/0xD580D480)], work=[0xD180, 0xD880]
     0x16E8 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2161803481/0x80DA80D9))
     0x16ED [0x01] GOTO 0x0180
     0x16F0 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x16F5 [0x01] GOTO 0x0180
     0x16F8 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147647543/0x80028037))
     0x16FD [0x00] END_REQSTACK()
     0x16FE [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516471/0x80008037))
     0x1703 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=0x0280, z=0x80, y=0x3780, direction=0x80
     0x170C [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147647543/0x80028037))
     0x1711 [0x00] END_REQSTACK()
     0x1712 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516471/0x80008037))
     0x1717 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=0x0280, z=0x80, y=0x3780, direction=0x80
     0x1720 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147647543/0x80028037))
     0x1725 [0x00] END_REQSTACK()
     0x1726 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516471/0x80008037))
     0x172B [0x02] IF !(0x1E80 == 0x0180) GOTO 0x8001
     0x1733 [0x01] GOTO 0x0180
     0x1736 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2151120897/0x80378001))
     0x173B [0x02] IF !(0x80 == 0x3780) GOTO 0x8000
     0x1743 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=0x0280, z=0x80, y=0x3780, direction=0x80
     0x174C [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147647543/0x80028037))
     0x1751 [0x00] END_REQSTACK()
     0x1752 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516471/0x80008037))
     0x1757 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=0x0280, z=0x80, y=0x3780, direction=0x80
     0x1760 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147647543/0x80028037))
     0x1765 [0x00] END_REQSTACK()
     0x1766 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516471/0x80008037))
     0x176B [0x02] IF !(0x0180 == 0x0180) GOTO 0x8001
     0x1773 [0x01] GOTO 0x0180
     0x1776 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x177B [0x01] GOTO 0x0180
     0x177E [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2161868801/0x80DB8001))
     0x1783 [0xDC] UNKNOWN_0xDC
     0x1784 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x1789 [0x01] GOTO 0x0180
     0x178C [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x1791 [0x01] GOTO 0x0180
     0x1794 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x1799 [0x01] GOTO 0x0180
     0x179C [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x17A1 [0x01] GOTO 0x0180
     0x17A4 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x17A9 [0x01] GOTO 0x0180
     0x17AC [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x17B1 [0x01] GOTO 0x0180
     0x17B4 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x17B9 [0x01] GOTO 0x0180
     0x17BC [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x17C1 [0x00] END_REQSTACK()
     0x17C2 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581981/0x8001801D))
     0x17C7 [0x01] GOTO 0x0180
     0x17CA [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x17CF [0x01] GOTO 0x0180
     0x17D2 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x17D7 [0x01] GOTO 0x0180
     0x17DA [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x17DF [0x01] GOTO 0x0180
     0x17E2 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x17E7 [0x01] GOTO 0x0180
     0x17EA [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x17EF [0x01] GOTO 0x0180
     0x17F2 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x17F7 [0x01] GOTO 0xDD80
     0x17FA [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2162131166/0x80DF80DE))
     0x17FF [0xE0] UNKNOWN_0xE0
     0x1800 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2162262016/0x80E18000))
     0x1805 [0xE2] UNKNOWN_0xE2
     0x1806 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516416/0x80008000))
     0x180B [0x00] END_REQSTACK()
     0x180C [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516416/0x80008000))
     0x1811 [0x00] END_REQSTACK()
     0x1812 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516416/0x80008000))
     0x1817 [0x00] END_REQSTACK()
     0x1818 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516416/0x80008000))
     0x181D [0x00] END_REQSTACK()
     0x181E [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516416/0x80008000))
     0x1823 [0x00] END_REQSTACK()
     0x1824 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516416/0x80008000))
     0x1829 [0x00] END_REQSTACK()
     0x182A [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516416/0x80008000))
     0x182F [0x00] END_REQSTACK()
     0x1830 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147516416/0x80008000))
     0x1835 [0x00] END_REQSTACK()
     0x1836 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147647488/0x80028000))
     0x183B [0x1F] MOVE_ENTITY: Update entity position (mode=128)
     0x183D [0x02] IF !(0x0980 == 0x80) GOTO 0x8000
     0x1845 [0x1F] MOVE_ENTITY: Update entity position (mode=128)
     0x1847 [0x01] GOTO 0x0180
     0x184A [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x184F [0x01] GOTO 0x0180
     0x1852 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x1857 [0x01] GOTO 0x0180
     0x185A [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x185F [0x01] GOTO 0x0180
     0x1862 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x1867 [0x01] GOTO 0x0180
     0x186A [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x186F [0x01] GOTO 0x0180
     0x1872 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x1877 [0x01] GOTO 0xB780
     0x187A [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2162458851/0x80E480E3))
     0x187F [0xE5] UNKNOWN_0xE5
     0x1880 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147582139/0x800180BB))
     0x1885 [0x01] GOTO 0x0180
     0x1888 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2162589697/0x80E68001))
     0x188D [0xE7] UNKNOWN_0xE7
     0x188E [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2162786536/0x80E980E8))
     0x1893 [0xEA] UNKNOWN_0xEA
     0x1894 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
```