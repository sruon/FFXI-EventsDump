# Event 341

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/13      |
| Offset          | 0x0292    |
| Data Size       | 733 bytes |
| Calculated Size | 733 bytes |
| Instructions    | 113       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0290:       42 1A 64 00 46 01  5C 00 01 80 5C 01 01 80    B.d.F.\...\...
02A0: 5C 02 01 80 5C 03 01 80  9A 38 08 80 4E 00 F0 FF  \...\....8..N...
02B0: FF 7F 27 10 57 21 10 01  04 92 01 57 21 10 01 94  ..'.W!.....W!...
02C0: 01 57 21 10 01 BA F0 FF  FF 7F 09 80 0A 80 0B 80  .W!.............
02D0: 0C 80 BA 57 21 10 01 0D  80 0A 80 0B 80 0E 80 29  ...W!..........)
02E0: 10 57 21 10 01 09 29 10  F0 FF FF 7F 06 80 57 21  .W!...).......W!
02F0: 10 01 80 F0 FF FF 7F 1C  06 80 5C 00 0F 80 5C 01  ..........\...\.
0300: 0F 80 9A 45 10 80 F0 FF  FF 7F F0 FF FF 7F 73 30  ...E..........s0
0310: 37 34 01 80 1A 43 00 1C  11 80 27 10 F0 FF FF 7F  74...C....'.....
0320: 07 1C 06 80 6E 57 21 10  01 12 80 99 57 21 10 01  ....nW!.....W!..
0330: 1C 13 80 2B 57 21 10 01  14 80 23 52 10 80 F0 FF  ...+W!....#R....
0340: FF 7F F0 FF FF 7F 73 30  37 34 45 10 80 F0 FF FF  ......s074E.....
0350: 7F F0 FF FF 7F 73 30 37  35 01 80 2B 57 21 10 01  .....s075..+W!..
0360: 15 80 23 1C 16 80 6E 57  21 10 01 17 80 99 57 21  ..#...nW!.....W!
0370: 10 01 1C 13 80 29 10 57  21 10 01 0A 2B 57 21 10  .....).W!...+W!.
0380: 01 18 80 23 52 10 80 F0  FF FF 7F F0 FF FF 7F 73  ...#R..........s
0390: 30 37 35 45 10 80 F0 FF  FF 7F F0 FF FF 7F 73 30  075E..........s0
03A0: 37 36 01 80 2B 57 21 10  01 19 80 23 66 1A 80 57  76..+W!....#f..W
03B0: 21 10 01 57 21 10 01 74  6C 6B 30 2B 57 21 10 01  !..W!..tlk0+W!..
03C0: 1B 80 23 52 10 80 F0 FF  FF 7F F0 FF FF 7F 73 30  ..#R..........s0
03D0: 37 36 06 02 10 06 03 10  06 04 10 29 10 F0 FF FF  76.........)....
03E0: 7F 02 02 02 10 1C 80 80  F0 03 05 03 10 01 28 04  ..............(.
03F0: 02 02 10 1D 80 80 FE 03  05 03 10 01 28 04 02 02  ............(...
0400: 10 1E 80 80 0C 04 05 04  10 01 28 04 02 02 10 1F  ..........(.....
0410: 80 80 1A 04 05 04 10 01  28 04 02 02 10 20 80 80  ........(.... ..
0420: 28 04 05 03 10 01 28 04  02 03 10 03 80 00 44 04  (.....(.......D.
0430: 45 10 80 F0 FF FF 7F F0  FF FF 7F 73 30 37 37 01  E..........s077.
0440: 80 01 71 04 02 04 10 03  80 00 60 04 45 10 80 F0  ..q.......`.E...
0450: FF FF 7F F0 FF FF 7F 73  30 37 38 01 80 01 71 04  .......s078...q.
0460: 45 10 80 F0 FF FF 7F F0  FF FF 7F 73 30 37 39 01  E..........s079.
0470: 80 2B 57 21 10 01 21 80  23 52 10 80 F0 FF FF 7F  .+W!..!.#R......
0480: F0 FF FF 7F 73 30 37 37  52 10 80 F0 FF FF 7F F0  ....s077R.......
0490: FF FF 7F 73 30 37 38 52  10 80 F0 FF FF 7F F0 FF  ...s078R........
04A0: FF 7F 73 30 37 39 45 10  80 F0 FF FF 7F F0 FF FF  ..s079E.........
04B0: 7F 73 30 38 30 01 80 66  1A 80 57 21 10 01 57 21  .s080..f..W!..W!
04C0: 10 01 74 6C 6B 32 2B 57  21 10 01 22 80 23 52 10  ..tlk2+W!..".#R.
04D0: 80 F0 FF FF 7F F0 FF FF  7F 73 30 38 30 45 10 80  .........s080E..
04E0: F0 FF FF 7F F0 FF FF 7F  73 30 38 33 01 80 66 1A  ........s083..f.
04F0: 80 57 21 10 01 57 21 10  01 74 6C 6B 31 6E F0 FF  .W!..W!..tlk1n..
0500: FF 7F 03 80 99 F0 FF FF  7F 53 57 21 10 01 57 21  .........SW!..W!
0510: 10 01 74 6C 6B 31 1C 06  80 6E 57 21 10 01 20 80  ..tlk1...nW!.. .
0520: 99 57 21 10 01 1C 06 80  1A 64 00 1C 06 80 52 10  .W!......d....R.
0530: 80 F0 FF FF 7F F0 FF FF  7F 73 30 38 33 5C 00 23  .........s083\.#
0540: 80 5C 01 23 80 5C 02 24  80 5C 03 24 80 9A 1C 25  .\.#.\.$.\.$...%
0550: 80 AB 11 01 80 1C 03 80  AB 0A 46 00 45 00 80 F0  ..........F.E...
0560: FF FF 7F F0 FF FF 7F 66  64 69 32 01 80 21 00     .......fdi2..!. 
```

## Opcodes

```
  0: 0x0292 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0293 [0x1A] CALL_SUBROUTINE(address=0x0064)
  2: 0x0296 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x0298 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
  4: 0x029C [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
  5: 0x02A0 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 0*
  6: 0x02A4 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 0*
  7: 0x02A8 [0x9A] WAIT_MUSIC_SERVER()
  8: 0x02A9 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  9: 0x02AC [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 10: 0x02B2 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17834327/0x01102157), tag_num=0x04)
 11: 0x02B9 [0x92] Unnamed NPC (ID: 17834327/0x01102157)->Render.Flags3 ^= 0x01
 12: 0x02BF [0x94] Unnamed NPC (ID: 17834327/0x01102157)->Render.Flags3 ^= 0x01
 13: 0x02C5 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=357.505*, pos_z=-400.000*, pos_y=-12.510*, direction=359.7°*)
 14: 0x02D2 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17834327/0x01102157), pos_x=360.000*, pos_z=-400.000*, pos_y=-12.510*, direction=180.2°*)
 15: 0x02DF [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 17834327/0x01102157), tag_num=0x09)
 16: 0x02E6 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x06)
 17: 0x02ED [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17834327/0x01102157))
 18: 0x02F2 [0x80] LOAD_WAIT(entity=LocalPlayer)
 19: 0x02F7 [0x1C] WAIT(30* ticks)
 20: 0x02FA [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 120*
 21: 0x02FE [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 120*
 22: 0x0302 [0x9A] WAIT_MUSIC_SERVER()
 23: 0x0303 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s074" with entities [LocalPlayer, LocalPlayer], work=[610*, 0*]
 24: 0x0314 [0x1A] CALL_SUBROUTINE(address=0x0043)
 25: 0x0317 [0x1C] WAIT(20* ticks)
 26: 0x031A [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x07)
 27: 0x0321 [0x1C] WAIT(30* ticks)
 28: 0x0324 [0x6E] Unnamed NPC (ID: 17834327/0x01102157) uses emote 12*
 29: 0x032B [0x99] Wait for Unnamed NPC (ID: 17834327/0x01102157) animation to complete
 30: 0x0330 [0x1C] WAIT(90* ticks)
 31: 0x0333 [0x2B] Unnamed NPC (ID: 17834327/0x01102157) [8564*]:
    → "What a match. You were great out there.\u007F1\u0000\u0007"
 32: 0x033A [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x033B [0x52] END_LOAD_SCHEDULER: End scheduler "s074" with entities [LocalPlayer, LocalPlayer], work=610*
 34: 0x034A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s075" with entities [LocalPlayer, LocalPlayer], work=[610*, 0*]
 35: 0x035B [0x2B] Unnamed NPC (ID: 17834327/0x01102157) [8565*]:
    → "Sorry, I forgot to introduce myself.\u0007I'm Sverdhried's great-great-great-great-great-...\u007F1\u0000\u0007"
 36: 0x0362 [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x0363 [0x1C] WAIT(40* ticks)
 38: 0x0366 [0x6E] Unnamed NPC (ID: 17834327/0x01102157) uses emote 32*
 39: 0x036D [0x99] Wait for Unnamed NPC (ID: 17834327/0x01102157) animation to complete
 40: 0x0372 [0x1C] WAIT(90* ticks)
 41: 0x0375 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 17834327/0x01102157), tag_num=0x0A)
 42: 0x037C [0x2B] Unnamed NPC (ID: 17834327/0x01102157) [8566*]:
    → "I don't know how many \u00072greats\u00073 it is, but I'm his granddaughter. The name's Braga.\u007F1\u0000\u0007"
 43: 0x0383 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x0384 [0x52] END_LOAD_SCHEDULER: End scheduler "s075" with entities [LocalPlayer, LocalPlayer], work=610*
 45: 0x0393 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s076" with entities [LocalPlayer, LocalPlayer], work=[610*, 0*]
 46: 0x03A4 [0x2B] Unnamed NPC (ID: 17834327/0x01102157) [8567*]:
    → "We put budding rune fencers through this trial to see whether they have the potential to carry on the tradition my grandfather began generations ago.\u007F1\u0000\u0007"
 47: 0x03AB [0x23] WAIT_FOR_DIALOG_INTERACTION
 48: 0x03AC [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Unnamed NPC (ID: 17834327/0x01102157), Unnamed NPC (ID: 17834327/0x01102157)], work=158*
 49: 0x03BB [0x2B] Unnamed NPC (ID: 17834327/0x01102157) [8568*]:
    → "As Sverdhried's descendant, it's my duty to pass judgment upon those who undertake the trial. So it has been since the days of old.\u007F1\u0000\u0007"
 50: 0x03C2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x03C3 [0x52] END_LOAD_SCHEDULER: End scheduler "s076" with entities [LocalPlayer, LocalPlayer], work=610*
 52: 0x03D2 [0x06] Work_Zone[2] = 0
 53: 0x03D5 [0x06] Work_Zone[3] = 0
 54: 0x03D8 [0x06] Work_Zone[4] = 0
 55: 0x03DB [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x02)
 56: 0x03E2 [0x02] IF !(Work_Zone[2] == 3*) GOTO 0x03F0
 57: 0x03EA [0x05] Work_Zone[3] = 1
 58: 0x03ED [0x01] GOTO 0x0428
 59: 0x03F0 [0x02] IF !(Work_Zone[2] == 4*) GOTO 0x03FE
 60: 0x03F8 [0x05] Work_Zone[3] = 1
 61: 0x03FB [0x01] GOTO 0x0428
 62: 0x03FE [0x02] IF !(Work_Zone[2] == 5*) GOTO 0x040C
 63: 0x0406 [0x05] Work_Zone[4] = 1
 64: 0x0409 [0x01] GOTO 0x0428
 65: 0x040C [0x02] IF !(Work_Zone[2] == 6*) GOTO 0x041A
 66: 0x0414 [0x05] Work_Zone[4] = 1
 67: 0x0417 [0x01] GOTO 0x0428
 68: 0x041A [0x02] IF !(Work_Zone[2] == 8*) GOTO 0x0428
 69: 0x0422 [0x05] Work_Zone[3] = 1
 70: 0x0425 [0x01] GOTO 0x0428

SUBROUTINE_0428:
 71: 0x0428 [0x02] IF !(Work_Zone[3] == 1*) GOTO 0x0444
 72: 0x0430 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s077" with entities [LocalPlayer, LocalPlayer], work=[610*, 0*]
 73: 0x0441 [0x01] GOTO 0x0471
 74: 0x0444 [0x02] IF !(Work_Zone[4] == 1*) GOTO 0x0460
 75: 0x044C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s078" with entities [LocalPlayer, LocalPlayer], work=[610*, 0*]
 76: 0x045D [0x01] GOTO 0x0471
 77: 0x0460 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s079" with entities [LocalPlayer, LocalPlayer], work=[610*, 0*]

SUBROUTINE_0471:
 78: 0x0471 [0x2B] Unnamed NPC (ID: 17834327/0x01102157) [8569*]:
    → "Well, now that you've passed, enjoy the new powers you've gained from this experience.\u007F1\u0000\u0007"
 79: 0x0478 [0x23] WAIT_FOR_DIALOG_INTERACTION
 80: 0x0479 [0x52] END_LOAD_SCHEDULER: End scheduler "s077" with entities [LocalPlayer, LocalPlayer], work=610*
 81: 0x0488 [0x52] END_LOAD_SCHEDULER: End scheduler "s078" with entities [LocalPlayer, LocalPlayer], work=610*
 82: 0x0497 [0x52] END_LOAD_SCHEDULER: End scheduler "s079" with entities [LocalPlayer, LocalPlayer], work=610*
 83: 0x04A6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s080" with entities [LocalPlayer, LocalPlayer], work=[610*, 0*]
 84: 0x04B7 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk2" with entities [Unnamed NPC (ID: 17834327/0x01102157), Unnamed NPC (ID: 17834327/0x01102157)], work=158*
 85: 0x04C6 [0x2B] Unnamed NPC (ID: 17834327/0x01102157) [8570*]:
    → "I hope that sparring session was as fun for you as it was for me. I haven't fought that hard in years.\u0007Don't think it'll be so easy the next time, though!\u007F1\u0000\u0007"
 86: 0x04CD [0x23] WAIT_FOR_DIALOG_INTERACTION
 87: 0x04CE [0x52] END_LOAD_SCHEDULER: End scheduler "s080" with entities [LocalPlayer, LocalPlayer], work=610*
 88: 0x04DD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s083" with entities [LocalPlayer, LocalPlayer], work=[610*, 0*]
 89: 0x04EE [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [Unnamed NPC (ID: 17834327/0x01102157), Unnamed NPC (ID: 17834327/0x01102157)], work=158*
 90: 0x04FD [0x6E] LocalPlayer uses emote 1*
 91: 0x0504 [0x99] Wait for LocalPlayer animation to complete
 92: 0x0509 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [Unnamed NPC (ID: 17834327/0x01102157), Unnamed NPC (ID: 17834327/0x01102157)]
 93: 0x0516 [0x1C] WAIT(30* ticks)
 94: 0x0519 [0x6E] Unnamed NPC (ID: 17834327/0x01102157) uses emote 8*
 95: 0x0520 [0x99] Wait for Unnamed NPC (ID: 17834327/0x01102157) animation to complete
 96: 0x0525 [0x1C] WAIT(30* ticks)
 97: 0x0528 [0x1A] CALL_SUBROUTINE(address=0x0064)
 98: 0x052B [0x1C] WAIT(30* ticks)
 99: 0x052E [0x52] END_LOAD_SCHEDULER: End scheduler "s083" with entities [LocalPlayer, LocalPlayer], work=610*
100: 0x053D [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 61*
101: 0x0541 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 61*
102: 0x0545 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 57*
103: 0x0549 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 57*
104: 0x054D [0x9A] WAIT_MUSIC_SERVER()
105: 0x054E [0x1C] WAIT(15* ticks)
106: 0x0551 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
107: 0x0555 [0x1C] WAIT(1* ticks)
108: 0x0558 [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
109: 0x055A [0x46] CAMERA_CONTROL: Restore default settings
110: 0x055C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
111: 0x056D [0x21] END_EVENT
112: 0x056E [0x00] END_REQSTACK()
```
