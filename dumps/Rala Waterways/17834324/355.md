# Event 355

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 5/13      |
| Offset          | 0x1086    |
| Data Size       | 675 bytes |
| Calculated Size | 675 bytes |
| Instructions    | 108       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1080:                   03 05  00 03 10 03 03 00 09 10        ..........
1090: 42 1A 64 00 46 01 5C 00  2F 80 5C 01 2F 80 5C 02  B.d.F.\./.\./.\.
10A0: 01 80 5C 03 01 80 9A 38  08 80 27 10 56 21 10 01  ..\....8..'.V!..
10B0: 04 92 01 56 21 10 01 94  01 56 21 10 01 29 10 56  ...V!....V!..).V
10C0: 21 10 01 10 BA 56 21 10  01 28 80 29 80 2A 80 2B  !....V!..(.).*.+
10D0: 80 BA F0 FF FF 7F 2C 80  2D 80 2A 80 2E 80 4A 56  ......,.-.*...JV
10E0: 21 10 01 F0 FF FF 7F 4A  F0 FF FF 7F 56 21 10 01  !......J....V!..
10F0: 80 F0 FF FF 7F 80 56 21  10 01 45 30 80 F0 FF FF  ......V!..E0....
1100: 7F F0 FF FF 7F 73 30 34  35 01 80 1A 43 00 06 01  .....s045...C...
1110: 10 02 05 00 03 80 00 60  12 02 03 00 03 80 00 F9  .......`........
1120: 11 29 10 F0 FF FF 7F 26  1C 71 80 6E 56 21 10 01  .).....&.q.nV!..
1130: 61 80 99 56 21 10 01 1C  62 80 2B 56 21 10 01 72  a..V!...b.+V!..r
1140: 80 23 1C 34 80 7B 56 21  10 01 4B 56 21 10 01 73  .#.4.{V!..KV!..s
1150: 80 6F 70 52 30 80 F0 FF  FF 7F F0 FF FF 7F 73 30  .opR0.........s0
1160: 34 35 45 30 80 F0 FF FF  7F F0 FF FF 7F 73 30 34  45E0.........s04
1170: 36 01 80 9F 74 80 56 21  10 01 56 21 10 01 66 72  6...t.V!..V!..fr
1180: 73 74 01 80 1C 75 80 9F  74 80 56 21 10 01 56 21  st...u..t.V!..V!
1190: 10 01 6F 6B 65 78 01 80  1C 76 80 52 30 80 F0 FF  ..okex...v.R0...
11A0: FF 7F F0 FF FF 7F 73 30  34 36 45 30 80 F0 FF FF  ......s046E0....
11B0: 7F F0 FF FF 7F 73 30 34  37 01 80 1C 71 80 4A 56  .....s047...q.JV
11C0: 21 10 01 F0 FF FF 7F 6F  76 56 21 10 01 6E 56 21  !......ovV!..nV!
11D0: 10 01 4E 80 99 56 21 10  01 2B 56 21 10 01 77 80  ..N..V!..+V!..w.
11E0: 23 1C 04 80 66 6E 80 56  21 10 01 56 21 10 01 70  #...fn.V!..V!..p
11F0: 61 73 30 1C 39 80 01 5A  12 29 10 F0 FF FF 7F 26  as0.9..Z.).....&
1200: 1C 71 80 6E 56 21 10 01  78 80 99 56 21 10 01 1C  .q.nV!..x..V!...
1210: 62 80 2B 56 21 10 01 79  80 23 1C 04 80 52 30 80  b.+V!..y.#...R0.
1220: F0 FF FF 7F F0 FF FF 7F  73 30 34 35 45 30 80 F0  ........s045E0..
1230: FF FF 7F F0 FF FF 7F 73  30 34 37 01 80 2B 56 21  .......s047..+V!
1240: 10 01 7A 80 23 1C 06 80  66 6E 80 56 21 10 01 56  ..z.#...fn.V!..V
1250: 21 10 01 70 61 73 30 1C  39 80 05 01 10 01 D3 12  !..pas0.9.......
1260: 02 03 00 05 80 00 AA 12  6E 56 21 10 01 7B 80 99  ........nV!..{..
1270: 56 21 10 01 2B 56 21 10  01 7C 80 23 1C 04 80 52  V!..+V!..|.#...R
1280: 30 80 F0 FF FF 7F F0 FF  FF 7F 73 30 34 35 45 30  0.........s045E0
1290: 80 F0 FF FF 7F F0 FF FF  7F 73 30 34 38 01 80 2B  .........s048..+
12A0: 56 21 10 01 7D 80 23 01  D3 12 66 47 80 56 21 10  V!..}.#...fG.V!.
12B0: 01 56 21 10 01 74 68 6B  31 2B 56 21 10 01 7E 80  .V!..thk1+V!..~.
12C0: 23 1C 04 80 52 30 80 F0  FF FF 7F F0 FF FF 7F 73  #...R0.........s
12D0: 30 34 35 1A 64 00 1C 06  80 52 30 80 F0 FF FF 7F  045.d....R0.....
12E0: F0 FF FF 7F 73 30 34 37  52 30 80 F0 FF FF 7F F0  ....s047R0......
12F0: FF FF 7F 73 30 34 38 5C  00 23 80 5C 01 23 80 5C  ...s048\.#.\.#.\
1300: 02 24 80 5C 03 24 80 9A  1C 25 80 AB 11 01 80 1C  .$.\.$...%......
1310: 03 80 AB 0A 46 00 45 00  80 F0 FF FF 7F F0 FF FF  ....F.E.........
1320: 7F 66 64 69 32 01 80 21  00                       .fdi2..!.       
```

## Opcodes

```
  0: 0x1086 [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[3]
  1: 0x108B [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[9]
  2: 0x1090 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  3: 0x1091 [0x1A] CALL_SUBROUTINE(address=0x0064)
  4: 0x1094 [0x46] CAMERA_CONTROL: Disable user control
  5: 0x1096 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 104*
  6: 0x109A [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 104*
  7: 0x109E [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 0*
  8: 0x10A2 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 0*
  9: 0x10A6 [0x9A] WAIT_MUSIC_SERVER()
 10: 0x10A7 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 11: 0x10AA [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17834326/0x01102156), tag_num=0x04)
 12: 0x10B1 [0x92] Unnamed NPC (ID: 17834326/0x01102156)->Render.Flags3 ^= 0x01
 13: 0x10B7 [0x94] Unnamed NPC (ID: 17834326/0x01102156)->Render.Flags3 ^= 0x01
 14: 0x10BD [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 17834326/0x01102156), tag_num=0x10)
 15: 0x10C4 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17834326/0x01102156), pos_x=-346.707*, pos_z=-298.554*, pos_y=-5.765*, direction=89.9°*)
 16: 0x10D1 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-347.063*, pos_z=-300.751*, pos_y=-5.765*, direction=270.1°*)
 17: 0x10DE [0x4A] Unnamed NPC (ID: 17834326/0x01102156) looks at LocalPlayer
 18: 0x10E7 [0x4A] LocalPlayer looks at Unnamed NPC (ID: 17834326/0x01102156)
 19: 0x10F0 [0x80] LOAD_WAIT(entity=LocalPlayer)
 20: 0x10F5 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17834326/0x01102156))
 21: 0x10FA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s045" with entities [LocalPlayer, LocalPlayer], work=[612*, 0*]
 22: 0x110B [0x1A] CALL_SUBROUTINE(address=0x0043)
 23: 0x110E [0x06] Work_Zone[1] = 0
 24: 0x1111 [0x02] IF !(ExtData[1]->WorkLocal[5] == 1*) GOTO 0x1260
 25: 0x1119 [0x02] IF !(ExtData[1]->WorkLocal[3] == 1*) GOTO 0x11F9
 26: 0x1121 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x26)
 27: 0x1128 [0x1C] WAIT(60* ticks)
 28: 0x112B [0x6E] Unnamed NPC (ID: 17834326/0x01102156) uses emote 7*
 29: 0x1132 [0x99] Wait for Unnamed NPC (ID: 17834326/0x01102156) animation to complete
 30: 0x1137 [0x1C] WAIT(35* ticks)
 31: 0x113A [0x2B] Unnamed NPC (ID: 17834326/0x01102156) [8603*]:
    → "Yesty once told me, \u00072Never give a sword to a man who can't dancey-wance,\u00073 so let me purrrform a step or two to prove you can trust me.\u007F1\u0000\u0007"
 32: 0x1141 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x1142 [0x1C] WAIT(75* ticks)
 34: 0x1145 [0x7B] Unnamed NPC (ID: 17834326/0x01102156) stops talking
 35: 0x114A [0x4B] UPDATE_ENTITY_YAW(entity=Unnamed NPC (ID: 17834326/0x01102156), yaw=8.22°*)
 36: 0x1151 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 37: 0x1152 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 38: 0x1153 [0x52] END_LOAD_SCHEDULER: End scheduler "s045" with entities [LocalPlayer, LocalPlayer], work=612*
 39: 0x1162 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s046" with entities [LocalPlayer, LocalPlayer], work=[612*, 0*]
 40: 0x1173 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "frst" with entities [Unnamed NPC (ID: 17834326/0x01102156), Unnamed NPC (ID: 17834326/0x01102156)], work=[192*, 0*]
 41: 0x1184 [0x1C] WAIT(150* ticks)
 42: 0x1187 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "okex" with entities [Unnamed NPC (ID: 17834326/0x01102156), Unnamed NPC (ID: 17834326/0x01102156)], work=[192*, 0*]
 43: 0x1198 [0x1C] WAIT(180* ticks)
 44: 0x119B [0x52] END_LOAD_SCHEDULER: End scheduler "s046" with entities [LocalPlayer, LocalPlayer], work=612*
 45: 0x11AA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s047" with entities [LocalPlayer, LocalPlayer], work=[612*, 0*]
 46: 0x11BB [0x1C] WAIT(60* ticks)
 47: 0x11BE [0x4A] Unnamed NPC (ID: 17834326/0x01102156) looks at LocalPlayer
 48: 0x11C7 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 49: 0x11C8 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Unnamed NPC (ID: 17834326/0x01102156) Render.Flags0 and Render.Flags3 conditions are met
 50: 0x11CD [0x6E] Unnamed NPC (ID: 17834326/0x01102156) uses emote 36*
 51: 0x11D4 [0x99] Wait for Unnamed NPC (ID: 17834326/0x01102156) animation to complete
 52: 0x11D9 [0x2B] Unnamed NPC (ID: 17834326/0x01102156) [8604*]:
    → "Ka-boom!\u0007I hope my glorrrious moves didn't blind you.\u007F1\u0000\u0007"
 53: 0x11E0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 54: 0x11E1 [0x1C] WAIT(45* ticks)
 55: 0x11E4 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "pas0" with entities [Unnamed NPC (ID: 17834326/0x01102156), Unnamed NPC (ID: 17834326/0x01102156)], work=127*
 56: 0x11F3 [0x1C] WAIT(100* ticks)
 57: 0x11F6 [0x01] GOTO 0x125A
 58: 0x11F9 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x26)
 59: 0x1200 [0x1C] WAIT(60* ticks)
 60: 0x1203 [0x6E] Unnamed NPC (ID: 17834326/0x01102156) uses emote 14*
 61: 0x120A [0x99] Wait for Unnamed NPC (ID: 17834326/0x01102156) animation to complete
 62: 0x120F [0x1C] WAIT(35* ticks)
 63: 0x1212 [0x2B] Unnamed NPC (ID: 17834326/0x01102156) [8605*]:
    → "Yes, this will do nicely.\u0007Now, let the cerrremony commence!\u007F1\u0000\u0007"
 64: 0x1219 [0x23] WAIT_FOR_DIALOG_INTERACTION
 65: 0x121A [0x1C] WAIT(45* ticks)
 66: 0x121D [0x52] END_LOAD_SCHEDULER: End scheduler "s045" with entities [LocalPlayer, LocalPlayer], work=612*
 67: 0x122C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s047" with entities [LocalPlayer, LocalPlayer], work=[612*, 0*]
 68: 0x123D [0x2B] Unnamed NPC (ID: 17834326/0x01102156) [8606*]:
    → "Here you go, like I prrromised.\u0007I think this good deed deserves a pet on the head. Don't rrrub me the wrong way, though, or...you'll regret it!\u007F1\u0000\u0007"
 69: 0x1244 [0x23] WAIT_FOR_DIALOG_INTERACTION
 70: 0x1245 [0x1C] WAIT(30* ticks)
 71: 0x1248 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "pas0" with entities [Unnamed NPC (ID: 17834326/0x01102156), Unnamed NPC (ID: 17834326/0x01102156)], work=127*
 72: 0x1257 [0x1C] WAIT(100* ticks)
 73: 0x125A [0x05] Work_Zone[1] = 1
 74: 0x125D [0x01] GOTO 0x12D3
 75: 0x1260 [0x02] IF !(ExtData[1]->WorkLocal[3] == 2*) GOTO 0x12AA
 76: 0x1268 [0x6E] Unnamed NPC (ID: 17834326/0x01102156) uses emote 21*
 77: 0x126F [0x99] Wait for Unnamed NPC (ID: 17834326/0x01102156) animation to complete
 78: 0x1274 [0x2B] Unnamed NPC (ID: 17834326/0x01102156) [8608*]:
    → "How nice of you to scrrrounge all these up for me!\u007F1\u0000\u0007"
 79: 0x127B [0x23] WAIT_FOR_DIALOG_INTERACTION
 80: 0x127C [0x1C] WAIT(45* ticks)
 81: 0x127F [0x52] END_LOAD_SCHEDULER: End scheduler "s045" with entities [LocalPlayer, LocalPlayer], work=612*
 82: 0x128E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s048" with entities [LocalPlayer, LocalPlayer], work=[612*, 0*]
 83: 0x129F [0x2B] Unnamed NPC (ID: 17834326/0x01102156) [8609*]:
    → "I only need one, though.\u0007Maybe you should purrrk your ears up and listen better next time.\u007F1\u0000\u0007"
 84: 0x12A6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 85: 0x12A7 [0x01] GOTO 0x12D3
 86: 0x12AA [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [Unnamed NPC (ID: 17834326/0x01102156), Unnamed NPC (ID: 17834326/0x01102156)], work=59*
 87: 0x12B9 [0x2B] Unnamed NPC (ID: 17834326/0x01102156) [8607*]:
    → "What's this drrreg of an object?\u0007I can't do anything with it whatsoever.\u007F1\u0000\u0007"
 88: 0x12C0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 89: 0x12C1 [0x1C] WAIT(45* ticks)
 90: 0x12C4 [0x52] END_LOAD_SCHEDULER: End scheduler "s045" with entities [LocalPlayer, LocalPlayer], work=612*
 91: 0x12D3 [0x1A] CALL_SUBROUTINE(address=0x0064)
 92: 0x12D6 [0x1C] WAIT(30* ticks)
 93: 0x12D9 [0x52] END_LOAD_SCHEDULER: End scheduler "s047" with entities [LocalPlayer, LocalPlayer], work=612*
 94: 0x12E8 [0x52] END_LOAD_SCHEDULER: End scheduler "s048" with entities [LocalPlayer, LocalPlayer], work=612*
 95: 0x12F7 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 61*
 96: 0x12FB [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 61*
 97: 0x12FF [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 57*
 98: 0x1303 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 57*
 99: 0x1307 [0x9A] WAIT_MUSIC_SERVER()
100: 0x1308 [0x1C] WAIT(15* ticks)
101: 0x130B [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
102: 0x130F [0x1C] WAIT(1* ticks)
103: 0x1312 [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
104: 0x1314 [0x46] CAMERA_CONTROL: Restore default settings
105: 0x1316 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
106: 0x1327 [0x21] END_EVENT
107: 0x1328 [0x00] END_REQSTACK()
```
