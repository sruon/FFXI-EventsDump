# Event 10018

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/8       |
| Offset          | 0x1001    |
| Data Size       | 689 bytes |
| Calculated Size | 689 bytes |
| Instructions    | 10        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1000:    1E F0 FF FF 7F 6F 70  5B 00 80 F8 FF FF 7F F8   .....op[.......
1010: FF FF 7F 74 68 6B 30 1D  6C 80 23 1D 6D 80 23 21  ...thk0.l.#.m.#!
1020: 00 45 2F 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 30  .E/.........fdi0
1030: 04 80 55 2F 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  ..U/.........fdi
1040: 30 1B 45 2F 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  0.E/.........fdo
1050: 30 04 80 55 2F 80 F0 FF  FF 7F F0 FF FF 7F 66 64  0..U/.........fd
1060: 6F 30 1B 45 2F 80 F0 FF  FF 7F F0 FF FF 7F 66 64  o0.E/.........fd
1070: 69 31 04 80 55 2F 80 F0  FF FF 7F F0 FF FF 7F 66  i1..U/.........f
1080: 64 69 31 1B 45 2F 80 F0  FF FF 7F F0 FF FF 7F 66  di1.E/.........f
1090: 64 6F 31 04 80 55 2F 80  F0 FF FF 7F F0 FF FF 7F  do1..U/.........
10A0: 66 64 6F 31 1B 45 6B 80  F0 FF FF 7F F0 FF FF 7F  fdo1.Ek.........
10B0: 77 68 69 31 04 80 55 6B  80 F0 FF FF 7F F0 FF FF  whi1..Uk........
10C0: 7F 77 68 69 31 1B 45 6B  80 F0 FF FF 7F F0 FF FF  .whi1.Ek........
10D0: 7F 77 68 6F 31 04 80 55  6B 80 F0 FF FF 7F F0 FF  .who1..Uk.......
10E0: FF 7F 77 68 6F 31 1B 45  6B 80 F0 FF FF 7F F0 FF  ..who1.Ek.......
10F0: FF 7F 77 68 6F 32 04 80  55 6B 80 F0 FF FF 7F F0  ..who2..Uk......
1100: FF FF 7F 77 68 6F 32 1B  45 6B 80 F0 FF FF 7F F0  ...who2.Ek......
1110: FF FF 7F 77 68 6F 33 04  80 55 6B 80 F0 FF FF 7F  ...who3..Uk.....
1120: F0 FF FF 7F 77 68 6F 33  1B 62 03 80 F0 FF FF 7F  ....who3.b......
1130: F0 FF FF 7F 6D 61 69 6E  04 80 1C 6E 80 45 2F 80  ....main...n.E/.
1140: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 04 80 55 2F  ........fdo1..U/
1150: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 1B 45 2F  .........fdo1.E/
1160: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 04 80 62  .........fdi1..b
1170: 6F 80 F0 FF FF 7F F0 FF  FF 7F 6D 61 69 6E 04 80  o.........main..
1180: 1C 0A 80 55 2F 80 F0 FF  FF 7F F0 FF FF 7F 66 64  ...U/.........fd
1190: 69 31 1B 45 2F 80 F0 FF  FF 7F F0 FF FF 7F 62 6C  i1.E/.........bl
11A0: 6F 6E 04 80 45 6B 80 F0  FF FF 7F F0 FF FF 7F 62  on..Ek.........b
11B0: 6C 6F 6E 04 80 1B 45 6B  80 F0 FF FF 7F F0 FF FF  lon...Ek........
11C0: 7F 77 68 69 30 04 80 55  6B 80 F0 FF FF 7F F0 FF  .whi0..Uk.......
11D0: FF 7F 77 68 69 30 1B 45  6B 80 F0 FF FF 7F F0 FF  ..whi0.Ek.......
11E0: FF 7F 77 68 6F 30 04 80  55 6B 80 F0 FF FF 7F F0  ..who0..Uk......
11F0: FF FF 7F 77 68 6F 30 1B  45 70 80 F0 FF FF 7F F0  ...who0.Ep......
1200: FF FF 7F 65 66 6F 6E 04  80 55 70 80 F0 FF FF 7F  ...efon..Up.....
1210: F0 FF FF 7F 65 66 6F 6E  1B 45 2F 80 F0 FF FF 7F  ....efon.E/.....
1220: F0 FF FF 7F 66 64 69 73  04 80 1B 45 2F 80 F0 FF  ....fdis...E/...
1230: FF 7F F0 FF FF 7F 66 64  6F 73 04 80 55 2F 80 F0  ......fdos..U/..
1240: FF FF 7F F0 FF FF 7F 66  64 6F 73 1B 45 2F 80 F0  .......fdos.E/..
1250: FF FF 7F F0 FF FF 7F 66  64 69 66 04 80 1B 45 2F  .......fdif...E/
1260: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 66 04 80 55  .........fdof..U
1270: 2F 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 66 1B 45  /.........fdof.E
1280: 2F 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 70 04 80  /.........fdip..
1290: 1B 45 2F 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 70  .E/.........fdop
12A0: 04 80 55 2F 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..U/.........fdo
12B0: 70 1B                                             p.              
```

## Opcodes

```
  0: 0x1001 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x1006 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x1007 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x1008 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk0" with entities [EventEntity, EventEntity], work=80*
  4: 0x1017 [0x1D] PRINT_EVENT_MESSAGE(message_id=8748*)
    → "I wonder if that Elvaan girl knows how Silver Comet and Shooting Star were married.\u007F1\u0000\u0007"
  5: 0x101A [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x101B [0x1D] PRINT_EVENT_MESSAGE(message_id=8749*)
    → "I would like to meet her again some day...\u007F1\u0000\u0007"
  7: 0x101E [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x101F [0x21] END_EVENT
  9: 0x1020 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x1021 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1032 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x1041 [0x1B] RETURN
     0x1042 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1053 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x1062 [0x1B] RETURN
     0x1063 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1074 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x1083 [0x1B] RETURN
     0x1084 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1095 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x10A4 [0x1B] RETURN
     0x10A5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x10B6 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=201*
     0x10C5 [0x1B] RETURN
     0x10C6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x10D7 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=201*
     0x10E6 [0x1B] RETURN
     0x10E7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who2" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x10F8 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who2" with entities [LocalPlayer, LocalPlayer], work=201*
     0x1107 [0x1B] RETURN
     0x1108 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who3" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x1119 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who3" with entities [LocalPlayer, LocalPlayer], work=201*
     0x1128 [0x1B] RETURN
     0x1129 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[1*, 0*]
     0x113A [0x1C] WAIT(45* ticks)
     0x113D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x114E [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x115D [0x1B] RETURN
     0x115E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x116F [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[2*, 0*]
     0x1180 [0x1C] WAIT(30* ticks)
     0x1183 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x1192 [0x1B] RETURN
     0x1193 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x11A4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x11B5 [0x1B] RETURN
     0x11B6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi0" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x11C7 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi0" with entities [LocalPlayer, LocalPlayer], work=201*
     0x11D6 [0x1B] RETURN
     0x11D7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who0" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x11E8 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who0" with entities [LocalPlayer, LocalPlayer], work=201*
     0x11F7 [0x1B] RETURN
     0x11F8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "efon" with entities [LocalPlayer, LocalPlayer], work=[215*, 0*]
     0x1209 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "efon" with entities [LocalPlayer, LocalPlayer], work=215*
     0x1218 [0x1B] RETURN
     0x1219 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdis" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x122A [0x1B] RETURN
     0x122B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdos" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x123C [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdos" with entities [LocalPlayer, LocalPlayer], work=200*
     0x124B [0x1B] RETURN
     0x124C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdif" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x125D [0x1B] RETURN
     0x125E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x126F [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdof" with entities [LocalPlayer, LocalPlayer], work=200*
     0x127E [0x1B] RETURN
     0x127F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdip" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1290 [0x1B] RETURN
     0x1291 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdop" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x12A2 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdop" with entities [LocalPlayer, LocalPlayer], work=200*
     0x12B1 [0x1B] RETURN
```