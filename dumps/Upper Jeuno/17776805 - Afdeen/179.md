# Event 179

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 11/11     |
| Offset          | 0x1555    |
| Data Size       | 507 bytes |
| Calculated Size | 507 bytes |
| Instructions    | 41        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1550:                1E F0 FF  FF 7F 6F 70 06 01 10 02       .....op....
1560: 08 10 08 80 00 6B 15 1D  C3 80 23 02 03 10 88 7F  .....k....#.....
1570: 02 77 15 1D C4 80 23 02  02 10 03 80 00 95 15 24  .w....#........$
1580: C5 80 08 80 03 80 25 02  00 10 03 80 00 92 15 01  ......%.........
1590: 92 15 01 A8 15 24 C6 80  08 80 03 80 25 02 00 10  .....$......%...
15A0: 03 80 00 A8 15 01 A8 15  02 00 10 03 80 80 FC 15  ................
15B0: 42 03 01 10 08 80 73 2C  80 F8 FF FF 7F F0 FF FF  B.....s,........
15C0: 7F 1C 2D 80 43 00 43 01  02 09 10 2E 80 80 E0 15  ..-.C.C.........
15D0: 6C F0 FF FF 7F 2F 80 08  80 1D 5A 80 23 01 F9 15  l..../....Z.#...
15E0: 02 09 10 B5 80 80 F8 15  6C F0 FF FF 7F 2F 80 08  ........l..../..
15F0: 80 1D C7 80 23 01 F9 15  30 01 FC 15 21 00 3F 16  ....#...0...!.?.
1600: 00 16 00 92 80 15 16 00  14 80 02 16 00 C8 80 80  ................
1610: 1A 16 03 36 00 22 80 01  4F 17 02 16 00 0D 80 80  ...6."..O.......
1620: 2A 16 03 36 00 20 80 01  4F 17 02 16 00 C9 80 80  *..6. ..O.......
1630: 3A 16 03 36 00 28 80 01  4F 17 02 16 00 28 80 80  :..6.(..O....(..
1640: 4A 16 03 36 00 26 80 01  4F 17 02 16 00 CA 80 80  J..6.&..O.......
1650: 5A 16 03 36 00 24 80 01  4F 17 02 16 00 CB 80 80  Z..6.$..O.......
1660: 6A 16 03 36 00 24 80 01  4F 17 02 16 00 CC 80 80  j..6.$..O.......
1670: 7A 16 03 36 00 22 80 01  4F 17 02 16 00 CD 80 80  z..6."..O.......
1680: 8A 16 03 36 00 26 80 01  4F 17 02 16 00 CE 80 80  ...6.&..O.......
1690: 9A 16 03 36 00 28 80 01  4F 17 02 16 00 CF 80 80  ...6.(..O.......
16A0: AA 16 03 36 00 20 80 01  4F 17 02 16 00 D0 80 80  ...6. ..O.......
16B0: BA 16 03 36 00 20 80 01  4F 17 02 16 00 11 80 80  ...6. ..O.......
16C0: CA 16 03 36 00 28 80 01  4F 17 02 16 00 38 80 80  ...6.(..O....8..
16D0: DA 16 03 36 00 26 80 01  4F 17 02 16 00 D1 80 80  ...6.&..O.......
16E0: EA 16 03 36 00 24 80 01  4F 17 02 16 00 D2 80 80  ...6.$..O.......
16F0: FA 16 03 36 00 22 80 01  4F 17 02 16 00 D3 80 80  ...6."..O.......
1700: 0A 17 03 36 00 26 80 01  4F 17 02 16 00 D4 80 80  ...6.&..O.......
1710: 1A 17 03 36 00 28 80 01  4F 17 02 16 00 D5 80 80  ...6.(..O.......
1720: 2A 17 03 36 00 20 80 01  4F 17 02 16 00 D6 80 80  *..6. ..O.......
1730: 3A 17 03 36 00 24 80 01  4F 17 02 16 00 D7 80 80  :..6.$..O.......
1740: 4A 17 03 36 00 22 80 01  4F 17 03 36 00 03 80 1B  J..6."..O..6....
```

## Opcodes

```
  0: 0x1555 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x155A [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x155B [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x155C [0x06] Work_Zone[1] = 0
  4: 0x155F [0x02] IF !(Work_Zone[8] == 1*) GOTO 0x156B
  5: 0x1567 [0x1D] PRINT_EVENT_MESSAGE(message_id=11008*)
    → "As \u001E\u0005Master of Ceremonies\u001E\u0001 (MC), you will be required to conduct the proceedings of all matches held on the Isle. This includes the adjustment of participation rules (speak with me) and the setting of match rules (speak with the Herald).\u007F1\u0000\u0007"
  6: 0x156A [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x156B [0x02] IF !(Work_Zone[3] <= LocalPlayer->JobLevel) GOTO 0x1577
  8: 0x1573 [0x1D] PRINT_EVENT_MESSAGE(message_id=11013*)
    → "Your level is lower than the restriction. Please be warned that by traveling to the Isle at this level, you may not be eligible to participate in the match(es) held.\u007F1\u0000\u0007"
  9: 0x1576 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x1577 [0x02] IF !(Work_Zone[2] == 0*) GOTO 0x1595
 11: 0x157F [0x24] CREATE_DIALOG(message_id=11015*, default_option=1*, option_flags=0*)
    → "Travel to the Isle?\u0007\u000BYes.\u0007Not yet.\u007F1\u0000\u0007"
 12: 0x1586 [0x25] WAIT_DIALOG_SELECT()
 13: 0x1587 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x1592
 14: 0x158F [0x01] GOTO 0x1592

SUBROUTINE_1592:
 15: 0x1592 [0x01] GOTO 0x15A8
 16: 0x1595 [0x24] CREATE_DIALOG(message_id=11014*, default_option=1*, option_flags=0*)
    → "Travel to the Isle? (
\u0000 gil)\u0007\u000BYes.\u0007Not yet.\u007F1\u0000\u0007"
 17: 0x159C [0x25] WAIT_DIALOG_SELECT()
 18: 0x159D [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x15A8
 19: 0x15A5 [0x01] GOTO 0x15A8

SUBROUTINE_15A8:
 20: 0x15A8 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x15FC
 21: 0x15B0 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 22: 0x15B1 [0x03] Work_Zone[1] = 1*
 23: 0x15B6 [0x73] EventEntity casts magic 122* on LocalPlayer
 24: 0x15C1 [0x1C] WAIT(260* ticks)
 25: 0x15C4 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 26: 0x15C6 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 27: 0x15C8 [0x02] IF !(Work_Zone[9] == 4294967295*) GOTO 0x15E0
 28: 0x15D0 [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=127*, fade_time=1*)
 29: 0x15D9 [0x1D] PRINT_EVENT_MESSAGE(message_id=11016*)
    → "You do not possess the 
\u0000 gil necessary for teleportation.\u007F1\u0000\u0007"
 30: 0x15DC [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x15DD [0x01] GOTO 0x15F9
 32: 0x15E0 [0x02] IF !(Work_Zone[9] == 4294967294*) GOTO 0x15F8
 33: 0x15E8 [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=127*, fade_time=1*)
 34: 0x15F1 [0x1D] PRINT_EVENT_MESSAGE(message_id=11017*)
    → "The current Isle reservation has expired. I can no longer teleport you.\u007F1\u0000\u0007"
 35: 0x15F4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x15F5 [0x01] GOTO 0x15F9
 37: 0x15F8 [0x30] SET_UCOFF_CONTINUE_ZERO()
 38: 0x15F9 [0x01] GOTO 0x15FC

SUBROUTINE_15FC:
 39: 0x15FC [0x21] END_EVENT
 40: 0x15FD [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x15FE [0x3F] ExtData[1]->WorkLocal[22] = ExtData[1]->WorkLocal[22] % 604800*
     0x1605 [0x15] ExtData[1]->WorkLocal[22] /= 7200*
     0x160A [0x02] IF !(ExtData[1]->WorkLocal[22] == 78*) GOTO 0x161A
     0x1612 [0x03] ExtData[1]->WorkLocal[54] = 60*
     0x1617 [0x01] GOTO 0x174F
     0x161A [0x02] IF !(ExtData[1]->WorkLocal[22] == 6*) GOTO 0x162A
     0x1622 [0x03] ExtData[1]->WorkLocal[54] = 75*
     0x1627 [0x01] GOTO 0x174F
     0x162A [0x02] IF !(ExtData[1]->WorkLocal[22] == 18*) GOTO 0x163A
     0x1632 [0x03] ExtData[1]->WorkLocal[54] = 30*
     0x1637 [0x01] GOTO 0x174F
     0x163A [0x02] IF !(ExtData[1]->WorkLocal[22] == 30*) GOTO 0x164A
     0x1642 [0x03] ExtData[1]->WorkLocal[54] = 40*
     0x1647 [0x01] GOTO 0x174F
     0x164A [0x02] IF !(ExtData[1]->WorkLocal[22] == 42*) GOTO 0x165A
     0x1652 [0x03] ExtData[1]->WorkLocal[54] = 50*
     0x1657 [0x01] GOTO 0x174F
     0x165A [0x02] IF !(ExtData[1]->WorkLocal[22] == 53*) GOTO 0x166A
     0x1662 [0x03] ExtData[1]->WorkLocal[54] = 50*
     0x1667 [0x01] GOTO 0x174F
     0x166A [0x02] IF !(ExtData[1]->WorkLocal[22] == 54*) GOTO 0x167A
     0x1672 [0x03] ExtData[1]->WorkLocal[54] = 60*
     0x1677 [0x01] GOTO 0x174F
     0x167A [0x02] IF !(ExtData[1]->WorkLocal[22] == 64*) GOTO 0x168A
     0x1682 [0x03] ExtData[1]->WorkLocal[54] = 40*
     0x1687 [0x01] GOTO 0x174F
     0x168A [0x02] IF !(ExtData[1]->WorkLocal[22] == 65*) GOTO 0x169A
     0x1692 [0x03] ExtData[1]->WorkLocal[54] = 30*
     0x1697 [0x01] GOTO 0x174F
     0x169A [0x02] IF !(ExtData[1]->WorkLocal[22] == 66*) GOTO 0x16AA
     0x16A2 [0x03] ExtData[1]->WorkLocal[54] = 75*
     0x16A7 [0x01] GOTO 0x174F
     0x16AA [0x02] IF !(ExtData[1]->WorkLocal[22] == 83*) GOTO 0x16BA
     0x16B2 [0x03] ExtData[1]->WorkLocal[54] = 75*
     0x16B7 [0x01] GOTO 0x174F
     0x16BA [0x02] IF !(ExtData[1]->WorkLocal[22] == 11*) GOTO 0x16CA
     0x16C2 [0x03] ExtData[1]->WorkLocal[54] = 30*
     0x16C7 [0x01] GOTO 0x174F
     0x16CA [0x02] IF !(ExtData[1]->WorkLocal[22] == 23*) GOTO 0x16DA
     0x16D2 [0x03] ExtData[1]->WorkLocal[54] = 40*
     0x16D7 [0x01] GOTO 0x174F
     0x16DA [0x02] IF !(ExtData[1]->WorkLocal[22] == 35*) GOTO 0x16EA
     0x16E2 [0x03] ExtData[1]->WorkLocal[54] = 50*
     0x16E7 [0x01] GOTO 0x174F
     0x16EA [0x02] IF !(ExtData[1]->WorkLocal[22] == 47*) GOTO 0x16FA
     0x16F2 [0x03] ExtData[1]->WorkLocal[54] = 60*
     0x16F7 [0x01] GOTO 0x174F
     0x16FA [0x02] IF !(ExtData[1]->WorkLocal[22] == 56*) GOTO 0x170A
     0x1702 [0x03] ExtData[1]->WorkLocal[54] = 40*
     0x1707 [0x01] GOTO 0x174F
     0x170A [0x02] IF !(ExtData[1]->WorkLocal[22] == 57*) GOTO 0x171A
     0x1712 [0x03] ExtData[1]->WorkLocal[54] = 30*
     0x1717 [0x01] GOTO 0x174F
     0x171A [0x02] IF !(ExtData[1]->WorkLocal[22] == 58*) GOTO 0x172A
     0x1722 [0x03] ExtData[1]->WorkLocal[54] = 75*
     0x1727 [0x01] GOTO 0x174F
     0x172A [0x02] IF !(ExtData[1]->WorkLocal[22] == 68*) GOTO 0x173A
     0x1732 [0x03] ExtData[1]->WorkLocal[54] = 50*
     0x1737 [0x01] GOTO 0x174F
     0x173A [0x02] IF !(ExtData[1]->WorkLocal[22] == 69*) GOTO 0x174A
     0x1742 [0x03] ExtData[1]->WorkLocal[54] = 60*
     0x1747 [0x01] GOTO 0x174F
     0x174A [0x03] ExtData[1]->WorkLocal[54] = 0*
     0x174F [0x1B] RETURN
```