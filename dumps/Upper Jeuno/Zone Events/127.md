# Event 127

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 13/154    |
| Offset          | 0x260C    |
| Data Size       | 725 bytes |
| Calculated Size | 725 bytes |
| Instructions    | 29        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
2600:                                      1A 11 26 21              ..&!
2610: 00 20 01 46 01 42 45 18  80 F0 FF FF 7F F0 FF FF  . .F.BE.........
2620: 7F 66 64 6F 31 03 80 55  18 80 F0 FF FF 7F F0 FF  .fdo1..U........
2630: FF 7F 66 64 6F 31 47 00  D6 80 D7 80 0F 80 DD 80  ..fdo1G.........
2640: 47 01 37 DA 80 DB 80 0F  80 DE 80 45 D9 80 F0 FF  G.7........E....
2650: FF 7F F0 FF FF 7F 63 6D  62 32 03 80 55 D9 80 F0  ......cmb2..U...
2660: FF FF 7F F0 FF FF 7F 63  6D 62 32 45 18 80 F0 FF  .......cmb2E....
2670: FF 7F F0 FF FF 7F 66 64  69 31 03 80 55 18 80 F0  ......fdi1..U...
2680: FF FF 7F F0 FF FF 7F 66  64 69 31 27 03 63 40 0F  .......fdi1'.c@.
2690: 01 03 1C 21 80 45 D9 80  F0 FF FF 7F F0 FF FF 7F  ...!.E..........
26A0: 63 6D 62 33 03 80 1F 00  D6 80 D7 80 0F 80 1F 01  cmb3............
26B0: 27 03 63 40 0F 01 04 45  18 80 F0 FF FF 7F F0 FF  '.c@...E........
26C0: FF 7F 66 64 6F 31 03 80  1C 21 80 55 18 80 F0 FF  ..fdo1...!.U....
26D0: FF 7F F0 FF FF 7F 66 64  6F 31 55 D9 80 F0 FF FF  ......fdo1U.....
26E0: 7F F0 FF FF 7F 63 6D 62  33 46 00 1C 21 80 45 18  .....cmb3F..!.E.
26F0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 03 80 1B  .........fdi1...
2700: 02 08 00 03 80 80 0F 27  48 DF 80 23 01 E0 28 02  .......'H..#..(.
2710: 08 00 06 80 80 1E 27 48  E0 80 23 01 E0 28 02 08  ......'H..#..(..
2720: 00 07 80 80 2D 27 48 E1  80 23 01 E0 28 02 08 00  ....-'H..#..(...
2730: 1A 80 80 3C 27 48 E2 80  23 01 E0 28 02 08 00 2A  ...<'H..#..(...*
2740: 80 80 4B 27 48 E3 80 23  01 E0 28 02 08 00 05 80  ..K'H..#..(.....
2750: 80 5A 27 48 E4 80 23 01  E0 28 02 08 00 30 80 80  .Z'H..#..(...0..
2760: 69 27 48 E5 80 23 01 E0  28 02 08 00 E6 80 80 78  i'H..#..(......x
2770: 27 48 E7 80 23 01 E0 28  02 08 00 2B 80 80 87 27  'H..#..(...+...'
2780: 48 E8 80 23 01 E0 28 02  08 00 09 80 80 96 27 48  H..#..(.......'H
2790: E9 80 23 01 E0 28 02 08  00 08 80 80 A5 27 48 EA  ..#..(.......'H.
27A0: 80 23 01 E0 28 02 08 00  EB 80 80 B4 27 48 EC 80  .#..(.......'H..
27B0: 23 01 E0 28 02 08 00 38  80 80 C3 27 48 ED 80 23  #..(...8...'H..#
27C0: 01 E0 28 02 08 00 00 80  80 D2 27 48 EE 80 23 01  ..(.......'H..#.
27D0: E0 28 02 08 00 EF 80 80  E1 27 48 F0 80 23 01 E0  .(.......'H..#..
27E0: 28 02 08 00 2E 80 80 F0  27 48 F1 80 23 01 E0 28  (.......'H..#..(
27F0: 02 08 00 F2 80 80 FF 27  48 F3 80 23 01 E0 28 02  .......'H..#..(.
2800: 08 00 F4 80 80 0E 28 48  F5 80 23 01 E0 28 02 08  ......(H..#..(..
2810: 00 F6 80 80 1D 28 48 F7  80 23 01 E0 28 02 08 00  .....(H..#..(...
2820: F8 80 80 2C 28 48 F9 80  23 01 E0 28 02 08 00 29  ...,(H..#..(...)
2830: 80 80 3B 28 48 FA 80 23  01 E0 28 02 08 00 FB 80  ..;(H..#..(.....
2840: 80 4A 28 48 FC 80 23 01  E0 28 02 08 00 FD 80 80  .J(H..#..(......
2850: 59 28 48 FE 80 23 01 E0  28 02 08 00 FF 80 80 68  Y(H..#..(......h
2860: 28 48 00 81 23 01 E0 28  02 08 00 01 81 80 77 28  (H..#..(......w(
2870: 48 02 81 23 01 E0 28 02  08 00 03 81 80 86 28 48  H..#..(.......(H
2880: 04 81 23 01 E0 28 02 08  00 05 81 80 95 28 48 06  ..#..(.......(H.
2890: 81 23 01 E0 28 02 08 00  07 81 80 A4 28 48 08 81  .#..(.......(H..
28A0: 23 01 E0 28 02 08 00 09  81 80 B3 28 48 0A 81 23  #..(.......(H..#
28B0: 01 E0 28 02 08 00 0B 81  80 C2 28 48 0C 81 23 01  ..(.......(H..#.
28C0: E0 28 02 08 00 32 80 80  D1 28 48 0D 81 23 01 E0  .(...2...(H..#..
28D0: 28 02 08 00 0E 81 80 E0  28 48 0F 81 23 01 E0 28  (.......(H..#..(
28E0: 1B                                                .               
```

## Opcodes

```
  0: 0x260C [0x1A] CALL_SUBROUTINE(address=0x2611)
  1: 0x260F [0x21] END_EVENT
  2: 0x2610 [0x00] END_REQSTACK()

SUBROUTINE_2611:
  3: 0x2611 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  4: 0x2613 [0x46] CAMERA_CONTROL: Disable user control
  5: 0x2615 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  6: 0x2616 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  7: 0x2627 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
  8: 0x2636 [0x47] UPDATE_PLAYER_POS(-96.713*, 91.482*, -0.199*, yaw=324.4°*)
  9: 0x2640 [0x47] WAIT_PLAYER_POS_UPDATE
 10: 0x2642 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-99.949*, z=89.538*, y=-0.199*, direction=332.1°*
 11: 0x264B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "cmb2" with entities [LocalPlayer, LocalPlayer], work=[144*, 0*]
 12: 0x265C [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "cmb2" with entities [LocalPlayer, LocalPlayer], work=144*
 13: 0x266B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 14: 0x267C [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
 15: 0x268B [0x27] REQ_SET(priority=0x03, entity_id=Door:"Marble Bridge" (ID: 17776739/0x010F4063), tag_num=0x03)
 16: 0x2692 [0x1C] WAIT(60* ticks)
 17: 0x2695 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "cmb3" with entities [LocalPlayer, LocalPlayer], work=[144*, 0*]
 18: 0x26A6 [0x1F] MOVE_ENTITY: EventEntity moves to X=-96.713*, Z=91.482*, Y=-0.199*
 19: 0x26AE [0x1F] MOVE_ENTITY: Update entity position (mode=1)
 20: 0x26B0 [0x27] REQ_SET(priority=0x03, entity_id=Door:"Marble Bridge" (ID: 17776739/0x010F4063), tag_num=0x04)
 21: 0x26B7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 22: 0x26C8 [0x1C] WAIT(60* ticks)
 23: 0x26CB [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 24: 0x26DA [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "cmb3" with entities [LocalPlayer, LocalPlayer], work=144*
 25: 0x26E9 [0x46] CAMERA_CONTROL: Restore default settings
 26: 0x26EB [0x1C] WAIT(60* ticks)
 27: 0x26EE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 28: 0x26FF [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x2700 [0x02] IF !(ExtData[1]->WorkLocal[8] == 0*) GOTO 0x270F
     0x2708 [0x48] [System] [7493*]:
    → "***Today the Marble Bridge welcomes citizens of San d'Oria!***\u007F1\u0000\u0007"
     0x270B [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x270C [0x01] GOTO 0x28E0
     0x270F [0x02] IF !(ExtData[1]->WorkLocal[8] == 1*) GOTO 0x271E
     0x2717 [0x48] [System] [7494*]:
    → "***Today the Marble Bridge welcomes citizens of Bastok!***\u007F1\u0000\u0007"
     0x271A [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x271B [0x01] GOTO 0x28E0
     0x271E [0x02] IF !(ExtData[1]->WorkLocal[8] == 2*) GOTO 0x272D
     0x2726 [0x48] [System] [7495*]:
    → "***Today the Marble Bridge welcomes citizens of Windurst!***\u007F1\u0000\u0007"
     0x2729 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x272A [0x01] GOTO 0x28E0
     0x272D [0x02] IF !(ExtData[1]->WorkLocal[8] == 3*) GOTO 0x273C
     0x2735 [0x48] [System] [7496*]:
    → "***Today the Marble Bridge welcomes warriors!***\u007F1\u0000\u0007"
     0x2738 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2739 [0x01] GOTO 0x28E0
     0x273C [0x02] IF !(ExtData[1]->WorkLocal[8] == 4*) GOTO 0x274B
     0x2744 [0x48] [System] [7497*]:
    → "***Today the Marble Bridge welcomes monks!***\u007F1\u0000\u0007"
     0x2747 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2748 [0x01] GOTO 0x28E0
     0x274B [0x02] IF !(ExtData[1]->WorkLocal[8] == 5*) GOTO 0x275A
     0x2753 [0x48] [System] [7498*]:
    → "***Today the Marble Bridge welcomes white mages!***\u007F1\u0000\u0007"
     0x2756 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2757 [0x01] GOTO 0x28E0
     0x275A [0x02] IF !(ExtData[1]->WorkLocal[8] == 6*) GOTO 0x2769
     0x2762 [0x48] [System] [7499*]:
    → "***Today the Marble Bridge welcomes black mages!***\u007F1\u0000\u0007"
     0x2765 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2766 [0x01] GOTO 0x28E0
     0x2769 [0x02] IF !(ExtData[1]->WorkLocal[8] == 7*) GOTO 0x2778
     0x2771 [0x48] [System] [7500*]:
    → "***Today the Marble Bridge welcomes red mages!***\u007F1\u0000\u0007"
     0x2774 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2775 [0x01] GOTO 0x28E0
     0x2778 [0x02] IF !(ExtData[1]->WorkLocal[8] == 8*) GOTO 0x2787
     0x2780 [0x48] [System] [7501*]:
    → "***Today the Marble Bridge welcomes thieves!***\u007F1\u0000\u0007"
     0x2783 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2784 [0x01] GOTO 0x28E0
     0x2787 [0x02] IF !(ExtData[1]->WorkLocal[8] == 9*) GOTO 0x2796
     0x278F [0x48] [System] [7502*]:
    → "***Today the Marble Bridge welcomes paladins!***\u007F1\u0000\u0007"
     0x2792 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2793 [0x01] GOTO 0x28E0
     0x2796 [0x02] IF !(ExtData[1]->WorkLocal[8] == 10*) GOTO 0x27A5
     0x279E [0x48] [System] [7503*]:
    → "***Today the Marble Bridge welcomes dark knights!***\u007F1\u0000\u0007"
     0x27A1 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x27A2 [0x01] GOTO 0x28E0
     0x27A5 [0x02] IF !(ExtData[1]->WorkLocal[8] == 11*) GOTO 0x27B4
     0x27AD [0x48] [System] [7504*]:
    → "***Today the Marble Bridge welcomes beastmasters!***\u007F1\u0000\u0007"
     0x27B0 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x27B1 [0x01] GOTO 0x28E0
     0x27B4 [0x02] IF !(ExtData[1]->WorkLocal[8] == 12*) GOTO 0x27C3
     0x27BC [0x48] [System] [7505*]:
    → "***Today the Marble Bridge welcomes bards!***\u007F1\u0000\u0007"
     0x27BF [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x27C0 [0x01] GOTO 0x28E0
     0x27C3 [0x02] IF !(ExtData[1]->WorkLocal[8] == 13*) GOTO 0x27D2
     0x27CB [0x48] [System] [7506*]:
    → "***Today the Marble Bridge welcomes rangers!***\u007F1\u0000\u0007"
     0x27CE [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x27CF [0x01] GOTO 0x28E0
     0x27D2 [0x02] IF !(ExtData[1]->WorkLocal[8] == 14*) GOTO 0x27E1
     0x27DA [0x48] [System] [7507*]:
    → "***Today the Marble Bridge welcomes samurais!***\u007F1\u0000\u0007"
     0x27DD [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x27DE [0x01] GOTO 0x28E0
     0x27E1 [0x02] IF !(ExtData[1]->WorkLocal[8] == 15*) GOTO 0x27F0
     0x27E9 [0x48] [System] [7508*]:
    → "***Today the Marble Bridge welcomes ninjas!***\u007F1\u0000\u0007"
     0x27EC [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x27ED [0x01] GOTO 0x28E0
     0x27F0 [0x02] IF !(ExtData[1]->WorkLocal[8] == 16*) GOTO 0x27FF
     0x27F8 [0x48] [System] [7509*]:
    → "***Today the Marble Bridge welcomes dragoons!***\u007F1\u0000\u0007"
     0x27FB [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x27FC [0x01] GOTO 0x28E0
     0x27FF [0x02] IF !(ExtData[1]->WorkLocal[8] == 17*) GOTO 0x280E
     0x2807 [0x48] [System] [7510*]:
    → "***Today the Marble Bridge welcomes summoners!***\u007F1\u0000\u0007"
     0x280A [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x280B [0x01] GOTO 0x28E0
     0x280E [0x02] IF !(ExtData[1]->WorkLocal[8] == 18*) GOTO 0x281D
     0x2816 [0x48] [System] [7511*]:
    → "***Today the Marble Bridge welcomes blue mages!***\u007F1\u0000\u0007"
     0x2819 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x281A [0x01] GOTO 0x28E0
     0x281D [0x02] IF !(ExtData[1]->WorkLocal[8] == 19*) GOTO 0x282C
     0x2825 [0x48] [System] [7512*]:
    → "***Today the Marble Bridge welcomes corsairs!***\u007F1\u0000\u0007"
     0x2828 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2829 [0x01] GOTO 0x28E0
     0x282C [0x02] IF !(ExtData[1]->WorkLocal[8] == 20*) GOTO 0x283B
     0x2834 [0x48] [System] [7513*]:
    → "***Today the Marble Bridge welcomes puppetmasters!***\u007F1\u0000\u0007"
     0x2837 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2838 [0x01] GOTO 0x28E0
     0x283B [0x02] IF !(ExtData[1]->WorkLocal[8] == 21*) GOTO 0x284A
     0x2843 [0x48] [System] [7514*]:
    → "***Today the Marble Bridge welcomes dancers!***\u007F1\u0000\u0007"
     0x2846 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2847 [0x01] GOTO 0x28E0
     0x284A [0x02] IF !(ExtData[1]->WorkLocal[8] == 22*) GOTO 0x2859
     0x2852 [0x48] [System] [7515*]:
    → "***Today the Marble Bridge welcomes scholars!***\u007F1\u0000\u0007"
     0x2855 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2856 [0x01] GOTO 0x28E0
     0x2859 [0x02] IF !(ExtData[1]->WorkLocal[8] == 23*) GOTO 0x2868
     0x2861 [0x48] [System] [7516*]:
    → "***Today the Marble Bridge welcomes geomancers!***\u007F1\u0000\u0007"
     0x2864 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2865 [0x01] GOTO 0x28E0
     0x2868 [0x02] IF !(ExtData[1]->WorkLocal[8] == 24*) GOTO 0x2877
     0x2870 [0x48] [System] [7517*]:
    → "***Today the Marble Bridge welcomes rune fencers!***\u007F1\u0000\u0007"
     0x2873 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2874 [0x01] GOTO 0x28E0
     0x2877 [0x02] IF !(ExtData[1]->WorkLocal[8] == 25*) GOTO 0x2886
     0x287F [0x48] [System] [7518*]:
    → "***Today the Marble Bridge welcomes Humes!***\u007F1\u0000\u0007"
     0x2882 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2883 [0x01] GOTO 0x28E0
     0x2886 [0x02] IF !(ExtData[1]->WorkLocal[8] == 26*) GOTO 0x2895
     0x288E [0x48] [System] [7519*]:
    → "***Today the Marble Bridge welcomes Elvaan!***\u007F1\u0000\u0007"
     0x2891 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x2892 [0x01] GOTO 0x28E0
     0x2895 [0x02] IF !(ExtData[1]->WorkLocal[8] == 27*) GOTO 0x28A4
     0x289D [0x48] [System] [7520*]:
    → "***Today the Marble Bridge welcomes Tarutaru!***\u007F1\u0000\u0007"
     0x28A0 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x28A1 [0x01] GOTO 0x28E0
     0x28A4 [0x02] IF !(ExtData[1]->WorkLocal[8] == 28*) GOTO 0x28B3
     0x28AC [0x48] [System] [7521*]:
    → "***Today the Marble Bridge welcomes Mithra!***\u007F1\u0000\u0007"
     0x28AF [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x28B0 [0x01] GOTO 0x28E0
     0x28B3 [0x02] IF !(ExtData[1]->WorkLocal[8] == 29*) GOTO 0x28C2
     0x28BB [0x48] [System] [7522*]:
    → "***Today the Marble Bridge welcomes Galka!***\u007F1\u0000\u0007"
     0x28BE [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x28BF [0x01] GOTO 0x28E0
     0x28C2 [0x02] IF !(ExtData[1]->WorkLocal[8] == 30*) GOTO 0x28D1
     0x28CA [0x48] [System] [7523*]:
    → "***Today the Marble Bridge welcomes all gentlemen!***\u007F1\u0000\u0007"
     0x28CD [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x28CE [0x01] GOTO 0x28E0
     0x28D1 [0x02] IF !(ExtData[1]->WorkLocal[8] == 31*) GOTO 0x28E0
     0x28D9 [0x48] [System] [7524*]:
    → "***Today the Marble Bridge welcomes all ladies!***\u007F1\u0000\u0007"
     0x28DC [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x28DD [0x01] GOTO 0x28E0
     0x28E0 [0x1B] RETURN
```