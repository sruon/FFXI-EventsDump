# Event 10020

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 46/47     |
| Offset          | 0x02F2    |
| Data Size       | 151 bytes |
| Calculated Size | 151 bytes |
| Instructions    | 32        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
02F0:       20 01 42 1E F0 FF  FF 7F 6F 70 02 07 10 00     .B.....op....
0300: 80 00 25 03 2B 85 40 0F  01 10 80 23 29 08 85 40  ..%.+.@....#)..@
0310: 0F 01 05 2B 85 40 0F 01  11 80 23 29 08 85 40 0F  ...+.@....#)..@.
0320: 01 06 01 74 03 02 07 10  0C 80 00 4E 03 2B 85 40  ...t.......N.+.@
0330: 0F 01 12 80 23 29 08 85  40 0F 01 05 2B 85 40 0F  ....#)..@...+.@.
0340: 01 13 80 23 29 08 85 40  0F 01 06 01 74 03 02 07  ...#)..@....t...
0350: 10 01 80 00 74 03 2B 85  40 0F 01 14 80 23 29 08  ....t.+.@....#).
0360: 85 40 0F 01 05 2B 85 40  0F 01 15 80 23 29 08 85  .@...+.@....#)..
0370: 40 0F 01 06 45 16 80 F0  FF FF 7F F0 FF FF 7F 71  @...E..........q
0380: 73 74 63 00 80 20 00 21  00                       stc.. .!.       
```

## Opcodes

```
  0: 0x02F2 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x02F4 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x02F5 [0x1E] EventEntity looks at LocalPlayer and starts talking
  3: 0x02FA [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x02FB [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  5: 0x02FC [0x02] IF !(Work_Zone[7] == 0*) GOTO 0x0325
  6: 0x0304 [0x2B] Migliorozz (ID: 17776773/0x010F4085) [8535*]:
    → "You have my thanks.\u0007It appears the obstructions within the tower did not prevent you from activating the device.\u007F1\u0000\u0007"
  7: 0x030B [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x030C [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Migliorozz (ID: 17776773/0x010F4085), tag_num=0x05)
  9: 0x0313 [0x2B] Migliorozz (ID: 17776773/0x010F4085) [8536*]:
    → "The devices within the other towers are also being activated, one by one.\u0007Please accept your reward.\u007F1\u0000\u0007"
 10: 0x031A [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x031B [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Migliorozz (ID: 17776773/0x010F4085), tag_num=0x06)
 12: 0x0322 [0x01] GOTO 0x0374
 13: 0x0325 [0x02] IF !(Work_Zone[7] == 1*) GOTO 0x034E
 14: 0x032D [0x2B] Migliorozz (ID: 17776773/0x010F4085) [8537*]:
    → "You have my thanks.\u0007It appears the obstructions within the tower did not prevent you from sealing the gate.\u007F1\u0000\u0007"
 15: 0x0334 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x0335 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Migliorozz (ID: 17776773/0x010F4085), tag_num=0x05)
 17: 0x033C [0x2B] Migliorozz (ID: 17776773/0x010F4085) [8538*]:
    → "Do not be concerned; the gates within the other towers are being sealed as we speak.\u0007Please accept your reward.\u007F1\u0000\u0007"
 18: 0x0343 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x0344 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Migliorozz (ID: 17776773/0x010F4085), tag_num=0x06)
 20: 0x034B [0x01] GOTO 0x0374
 21: 0x034E [0x02] IF !(Work_Zone[7] == 2*) GOTO 0x0374
 22: 0x0356 [0x2B] Migliorozz (ID: 17776773/0x010F4085) [8539*]:
    → "Ah, the gate did not open for you?\u0007That is because a more experienced adventurer activated the device before you arrived.\u007F1\u0000\u0007"
 23: 0x035D [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x035E [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Migliorozz (ID: 17776773/0x010F4085), tag_num=0x05)
 25: 0x0365 [0x2B] Migliorozz (ID: 17776773/0x010F4085) [8540*]:
    → "However, I still wish to recognize your sincere desire to carry out my request.\u0007Please accept this token of my appreciation.\u007F1\u0000\u0007"
 26: 0x036C [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x036D [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Migliorozz (ID: 17776773/0x010F4085), tag_num=0x06)
 28: 0x0374 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 29: 0x0385 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 30: 0x0387 [0x21] END_EVENT
 31: 0x0388 [0x00] END_REQSTACK()
```
