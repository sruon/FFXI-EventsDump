# Event 5513

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 10/10     |
| Offset          | 0x22C5    |
| Data Size       | 964 bytes |
| Calculated Size | 964 bytes |
| Instructions    | 24        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
22C0:                1E F0 FF  FF 7F 06 01 00 06 02 00       ...........
22D0: 06 1F 00 06 05 00 03 01  00 02 10 03 02 00 03 10  ................
22E0: 03 06 00 05 10 0B 06 00  3C 05 00 09 10 0C 80 10  ........<.......
22F0: 05 00 2A 80 1A 0E 1C 9D  00 59 26 10 00 41 00 03  ..*......Y&..A..
2300: 02 10 05 10 1D 3F 81 23  03 02 10 10 00 1D 40 81  .....?.#......@.
2310: 23 1A 4E 1C 1A 6A 16 21  00 06 80 07 80 32 80 35  #.N..j.!.....2.5
2320: 80 28 80 29 80 34 80 FE  80 03 81 39 80 0B 81 06  .(.).4.....9....
2330: 80 06 80 11 81 1A 81 06  80 0C 80 31 80 30 80 33  ...........1.0.3
2340: 80 0F 80 0A 80 FC 80 DD  80 38 80 09 81 0F 81 06  .........8......
2350: 80 06 80 18 81 41 81 06  80 03 10 04 10 05 10 06  .....A..........
2360: 10 07 10 08 10 09 10 00  17 01 17 02 17 03 17 04  ................
2370: 17 05 17 06 17 07 17 08  17 09 17 0A 17 0B 17 0C  ................
2380: 17 06 80 06 80 06 80 06  80 24 00 25 00 26 00 27  .........$.%.&.'
2390: 00 28 00 29 00 2A 00 2B  00 2C 00 2D 00 2E 00 2F  .(.).*.+.,.-.../
23A0: 00 30 00 31 00 32 00 33  00 34 00 35 00 36 00 37  .0.1.2.3.4.5.6.7
23B0: 00 06 80 06 80 06 80 06  80 33 80 06 80 07 80 0C  .........3......
23C0: 80 06 80 07 80 0C 80 32  80 32 80 06 80 09 80 35  .......2.2.....5
23D0: 80 32 80 32 80 06 80 35  80 06 80 2A 80 33 80 06  .2.2...5...*.3..
23E0: 80 33 80 35 80 32 80 0C  80 06 80 06 80 0C 80 06  .3.5.2..........
23F0: 80 32 80 30 80 06 80 0C  80 07 80 08 80 30 80 06  .2.0.........0..
2400: 80 08 80 32 80 31 80 33  80 06 80 06 80 06 80 06  ...2.1.3........
2410: 80 06 80 06 80 06 80 06  80 26 80 06 80 08 80 07  .........&......
2420: 80 06 80 32 80 06 80 09  80 33 80 06 80 33 80 0A  ...2.....3...3..
2430: 80 35 80 33 80 06 80 2D  80 06 80 36 80 26 80 06  .5.3...-...6.&..
2440: 80 09 80 0A 80 33 80 07  80 06 80 06 80 07 80 06  .....3..........
2450: 80 33 80 29 80 06 80 07  80 08 80 2A 80 29 80 06  .3.).......*.)..
2460: 80 2A 80 36 80 30 80 26  80 06 80 06 80 06 80 06  .*.6.0.&........
2470: 80 06 80 06 80 06 80 06  80 06 80 06 80 31 80 08  .............1..
2480: 80 06 80 06 80 06 80 05  81 09 80 06 80 32 80 E4  .............2..
2490: 80 2D 80 06 80 06 80 06  80 06 80 06 80 05 81 06  .-..............
24A0: 80 BA 80 E4 80 06 80 06  80 06 80 06 80 08 80 06  ................
24B0: 80 09 80 05 81 06 80 31  80 31 80 36 80 05 81 06  .......1.1.6....
24C0: 80 33 80 0F 80 33 80 02  81 06 80 06 80 06 80 06  .3...3..........
24D0: 80 06 80 06 80 06 80 06  80 06 80 06 80 06 80 06  ................
24E0: 80 06 80 06 80 06 80 06  80 42 81 06 80 06 80 06  .........B......
24F0: 80 06 80 06 80 06 80 06  80 06 80 06 80 06 80 06  ................
2500: 80 06 80 06 80 06 80 06  80 06 80 06 80 06 80 06  ................
2510: 80 06 80 06 80 06 80 06  80 06 80 43 81 06 80 06  ...........C....
2520: 80 06 80 06 80 0C 80 06  80 06 80 06 80 06 80 06  ................
2530: 80 06 80 06 80 06 80 06  80 44 81 45 81 46 81 47  .........D.E.F.G
2540: 81 48 81 49 81 4A 81 4B  81 4C 81 4D 81 4E 81 4F  .H.I.J.K.L.M.N.O
2550: 81 50 81 51 81 52 81 53  81 54 81 55 81 56 81 57  .P.Q.R.S.T.U.V.W
2560: 81 58 81 59 81 5A 81 5B  81 5C 81 5D 81 5E 81 5F  .X.Y.Z.[.\.].^._
2570: 81 60 81 61 81 62 81 63  81 64 81 65 81 66 81 67  .`.a.b.c.d.e.f.g
2580: 81 68 81 69 81 6A 81 6B  81 6C 81 6D 81 6E 81 6F  .h.i.j.k.l.m.n.o
2590: 81 70 81 71 81 06 80 06  80 33 80 33 80 72 81 72  .p.q.....3.3.r.r
25A0: 81 72 81 72 81 72 81 72  81 73 81 73 81 73 81 73  .r.r.r.r.s.s.s.s
25B0: 81 73 81 73 81 74 81 74  81 74 81 75 81 75 81 75  .s.s.t.t.t.u.u.u
25C0: 81 75 81 76 81 77 81 77  81 77 81 78 81 79 81 7A  .u.v.w.w.w.x.y.z
25D0: 81 7A 81 7A 81 7B 81 7B  81 7B 81 7C 81 7C 81 7C  .z.z.{.{.{.|.|.|
25E0: 81 7D 81 75 81 76 81 75  81 75 81 7E 81 7E 81 77  .}.u.v.u.u.~.~.w
25F0: 81 77 81 77 81 06 80 06  80 06 80 C0 80 C1 80 C2  .w.w............
2600: 80 C3 80 C4 80 CA 80 CB  80 CC 80 06 80 06 80 06  ................
2610: 80 06 80 06 80 06 80 06  80 06 80 C5 80 C6 80 C7  ................
2620: 80 C8 80 C9 80 CD 80 CE  80 CF 80 06 80 06 80 06  ................
2630: 80 06 80 06 80 06 80 06  80 06 80 07 80 08 80 31  ...............1
2640: 80 32 80 2A 80 2D 80 0F  80 29 80 06 80 06 80 06  .2.*.-...)......
2650: 80 06 80 06 80 06 80 06  80 06 80 9F 80 A0 80 A1  ................
2660: 80 A2 80 A3 80 06 80 06  80 06 80 06 80 06 80 06  ................
2670: 80 06 80 06 80 06 80 06  80 75 81 79 81 7E 81 7F  .........u.y.~..
2680: 81 7D 81 78 81 77 81 80  81                       .}.x.w...       
```

## Opcodes

```
  0: 0x22C5 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x22CA [0x06] ExtData[1]->WorkLocal[1] = 0
  2: 0x22CD [0x06] ExtData[1]->WorkLocal[2] = 0
  3: 0x22D0 [0x06] ExtData[1]->WorkLocal[31] = 0
  4: 0x22D3 [0x06] ExtData[1]->WorkLocal[5] = 0
  5: 0x22D6 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
  6: 0x22DB [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[3]
  7: 0x22E0 [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[5]
  8: 0x22E5 [0x0B] ExtData[1]->WorkLocal[6]++
  9: 0x22E8 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x05, bit_index_work_offset=0x1009, condition_work_offset=0x800C)
 10: 0x22EF [0x10] ExtData[1]->WorkLocal[5] <<= 6*
 11: 0x22F4 [0x1A] CALL_SUBROUTINE(address=0x1C0E)
 12: 0x22F7 [0x9D] ExtData[1]->WorkLocal[16] = 0x2659[ExtData[1]->WorkLocal[65]] // Read WORD
 13: 0x22FF [0x03] Work_Zone[2] = Work_Zone[5]
 14: 0x2304 [0x1D] PRINT_EVENT_MESSAGE(message_id=13469*)
    → "What do we have here?\u0007This grimoire already seems to contain feats from expeditions under \u000C\u0000[Sauromugue Champaign/Batallia Downs].\u007F1\u0000\u0007"
 15: 0x2307 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x2308 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[16]
 17: 0x230D [0x1D] PRINT_EVENT_MESSAGE(message_id=13543*)
    → "\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000, huh? That'll grant you the following effects:\u007F1\u0000\u0007"
 18: 0x2310 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x2311 [0x1A] CALL_SUBROUTINE(address=0x1C4E)
 20: 0x2314 [0x1A] CALL_SUBROUTINE(address=0x166A)
 21: 0x2317 [0x21] END_EVENT
 22: 0x2318 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Data Section: 0x2319 (880 bytes)
     0x2319: 06 80 07 80 32 80 35 80 28 80 29 80 34 80 FE 80
     0x2329: 03 81 39 80 0B 81 06 80 06 80 11 81 1A 81 06 80
     0x2339: 0C 80 31 80 30 80 33 80 0F 80 0A 80 FC 80 DD 80
     0x2349: 38 80 09 81 0F 81 06 80 06 80 18 81 41 81 06 80
     0x2359: 03 10 04 10 05 10 06 10 07 10 08 10 09 10 00 17
     0x2369: 01 17 02 17 03 17 04 17 05 17 06 17 07 17 08 17
     0x2379: 09 17 0A 17 0B 17 0C 17 06 80 06 80 06 80 06 80
     0x2389: 24 00 25 00 26 00 27 00 28 00 29 00 2A 00 2B 00
     0x2399: 2C 00 2D 00 2E 00 2F 00 30 00 31 00 32 00 33 00
     0x23A9: 34 00 35 00 36 00 37 00 06 80 06 80 06 80 06 80
     0x23B9: 33 80 06 80 07 80 0C 80 06 80 07 80 0C 80 32 80
     0x23C9: 32 80 06 80 09 80 35 80 32 80 32 80 06 80 35 80
     0x23D9: 06 80 2A 80 33 80 06 80 33 80 35 80 32 80 0C 80
     0x23E9: 06 80 06 80 0C 80 06 80 32 80 30 80 06 80 0C 80
     0x23F9: 07 80 08 80 30 80 06 80 08 80 32 80 31 80 33 80
     0x2409: 06 80 06 80 06 80 06 80 06 80 06 80 06 80 06 80
     0x2419: 26 80 06 80 08 80 07 80 06 80 32 80 06 80 09 80
     0x2429: 33 80 06 80 33 80 0A 80 35 80 33 80 06 80 2D 80
     0x2439: 06 80 36 80 26 80 06 80 09 80 0A 80 33 80 07 80
     0x2449: 06 80 06 80 07 80 06 80 33 80 29 80 06 80 07 80
     0x2459: 08 80 2A 80 29 80 06 80 2A 80 36 80 30 80 26 80
     0x2469: 06 80 06 80 06 80 06 80 06 80 06 80 06 80 06 80
     0x2479: 06 80 06 80 31 80 08 80 06 80 06 80 06 80 05 81
     0x2489: 09 80 06 80 32 80 E4 80 2D 80 06 80 06 80 06 80
     0x2499: 06 80 06 80 05 81 06 80 BA 80 E4 80 06 80 06 80
     0x24A9: 06 80 06 80 08 80 06 80 09 80 05 81 06 80 31 80
     0x24B9: 31 80 36 80 05 81 06 80 33 80 0F 80 33 80 02 81
     0x24C9: 06 80 06 80 06 80 06 80 06 80 06 80 06 80 06 80
     0x24D9: 06 80 06 80 06 80 06 80 06 80 06 80 06 80 06 80
     0x24E9: 42 81 06 80 06 80 06 80 06 80 06 80 06 80 06 80
     0x24F9: 06 80 06 80 06 80 06 80 06 80 06 80 06 80 06 80
     0x2509: 06 80 06 80 06 80 06 80 06 80 06 80 06 80 06 80
     0x2519: 06 80 43 81 06 80 06 80 06 80 06 80 0C 80 06 80
     0x2529: 06 80 06 80 06 80 06 80 06 80 06 80 06 80 06 80
     0x2539: 44 81 45 81 46 81 47 81 48 81 49 81 4A 81 4B 81
     0x2549: 4C 81 4D 81 4E 81 4F 81 50 81 51 81 52 81 53 81
     0x2559: 54 81 55 81 56 81 57 81 58 81 59 81 5A 81 5B 81
     0x2569: 5C 81 5D 81 5E 81 5F 81 60 81 61 81 62 81 63 81
     0x2579: 64 81 65 81 66 81 67 81 68 81 69 81 6A 81 6B 81
     0x2589: 6C 81 6D 81 6E 81 6F 81 70 81 71 81 06 80 06 80
     0x2599: 33 80 33 80 72 81 72 81 72 81 72 81 72 81 72 81
     0x25A9: 73 81 73 81 73 81 73 81 73 81 73 81 74 81 74 81
     0x25B9: 74 81 75 81 75 81 75 81 75 81 76 81 77 81 77 81
     0x25C9: 77 81 78 81 79 81 7A 81 7A 81 7A 81 7B 81 7B 81
     0x25D9: 7B 81 7C 81 7C 81 7C 81 7D 81 75 81 76 81 75 81
     0x25E9: 75 81 7E 81 7E 81 77 81 77 81 77 81 06 80 06 80
     0x25F9: 06 80 C0 80 C1 80 C2 80 C3 80 C4 80 CA 80 CB 80
     0x2609: CC 80 06 80 06 80 06 80 06 80 06 80 06 80 06 80
     0x2619: 06 80 C5 80 C6 80 C7 80 C8 80 C9 80 CD 80 CE 80
     0x2629: CF 80 06 80 06 80 06 80 06 80 06 80 06 80 06 80
     0x2639: 06 80 07 80 08 80 31 80 32 80 2A 80 2D 80 0F 80
     0x2649: 29 80 06 80 06 80 06 80 06 80 06 80 06 80 06 80
     0x2659: 06 80 9F 80 A0 80 A1 80 A2 80 A3 80 06 80 06 80
     0x2669: 06 80 06 80 06 80 06 80 06 80 06 80 06 80 06 80
     0x2679: 75 81 79 81 7E 81 7F 81 7D 81 78 81 77 81 80 81
```