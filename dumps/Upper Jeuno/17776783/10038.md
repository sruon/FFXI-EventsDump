# Event 10038

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/122     |
| Offset          | 0x0003    |
| Data Size       | 561 bytes |
| Calculated Size | 561 bytes |
| Instructions    | 80        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:          2F 00 F8 FF FF  7F 2F 00 8E 40 0F 01 45     /...../..@..E
0010: 00 80 F8 FF FF 7F F8 FF  FF 7F 66 64 6F 32 01 80  ..........fdo2..
0020: 55 00 80 F8 FF FF 7F F8  FF FF 7F 66 64 6F 32 46  U..........fdo2F
0030: 01 92 01 F8 FF FF 7F 92  01 8E 40 0F 01 92 01 2E  ..........@.....
0040: 40 0F 01 38 02 80 77 03  80 04 80 1A AE 31 1A 78  @..8..w......1.x
0050: 36 1A C3 2D 95 01 80 37  05 80 06 80 01 80 07 80  6..-...7........
0060: 22 00 80 F8 FF FF 7F 29  0A F0 FF FF 7F 42 27 0F  "......).....B'.
0070: 8E 40 0F 01 04 4E 00 8E  40 0F 01 80 8E 40 0F 01  .@...N..@....@..
0080: 45 08 80 F0 FF FF 7F F0  FF FF 7F 73 30 35 32 01  E..........s052.
0090: 80 45 00 80 F8 FF FF 7F  F8 FF FF 7F 66 64 69 31  .E..........fdi1
00A0: 01 80 6E 8F 40 0F 01 09  80 99 8F 40 0F 01 99 8F  ..n.@......@....
00B0: 40 0F 01 1C 0A 80 32 0B  80 1F 00 0C 80 0D 80 01  @.....2.........
00C0: 80 1F 01 2B 2E 40 0F 01  0E 80 23 2A 0F 8E 40 0F  ...+.@....#*..@.
00D0: 01 1C 0F 80 4A 8F 40 0F  01 8E 40 0F 01 6F 76 8F  ....J.@...@..ov.
00E0: 40 0F 01 52 08 80 F0 FF  FF 7F F0 FF FF 7F 73 30  @..R..........s0
00F0: 35 32 45 08 80 F0 FF FF  7F F0 FF FF 7F 73 30 35  52E..........s05
0100: 33 01 80 1C 10 80 27 14  8E 40 0F 01 05 1C 11 80  3.....'..@......
0110: 6E 8F 40 0F 01 12 80 99  8F 40 0F 01 2B 2E 40 0F  n.@......@..+.@.
0120: 01 13 80 23 1C 14 80 45  00 80 F8 FF FF 7F F8 FF  ...#...E........
0130: FF 7F 66 64 6F 31 01 80  55 00 80 F8 FF FF 7F F8  ..fdo1..U.......
0140: FF FF 7F 66 64 6F 31 52  08 80 F0 FF FF 7F F0 FF  ...fdo1R........
0150: FF 7F 73 30 35 33 22 01  2F 01 8E 40 0F 01 4E 01  ..s053"./..@..N.
0160: 8E 40 0F 01 4E 01 F0 FF  FF 7F 78 4B 2E 40 0F 01  .@..N.....xK.@..
0170: 15 80 6F 76 2E 40 0F 01  66 01 80 2E 40 0F 01 2E  ..ov.@..f...@...
0180: 40 0F 01 74 6C 6B 30 45  16 80 F8 FF FF 7F F8 FF  @..tlk0E........
0190: FF 7F 73 30 35 35 01 80  1C 11 80 45 00 80 F8 FF  ..s055.....E....
01A0: FF 7F F8 FF FF 7F 66 64  69 32 01 80 55 00 80 F8  ......fdi2..U...
01B0: FF FF 7F F8 FF FF 7F 66  64 69 32 1C 11 80 2B 2E  .......fdi2...+.
01C0: 40 0F 01 17 80 23 1C 11  80 66 01 80 2E 40 0F 01  @....#...f...@..
01D0: 2E 40 0F 01 74 65 6E 30  1C 11 80 45 00 80 F8 FF  .@..ten0...E....
01E0: FF 7F F8 FF FF 7F 66 64  6F 31 01 80 55 00 80 F8  ......fdo1..U...
01F0: FF FF 7F F8 FF FF 7F 66  64 6F 31 52 16 80 F8 FF  .......fdo1R....
0200: FF 7F F8 FF FF 7F 73 30  35 35 4E 00 F0 FF FF 7F  ......s055N.....
0210: 96 46 00 92 00 F8 FF FF  7F 1C 18 80 45 00 80 F8  .F..........E...
0220: FF FF 7F F8 FF FF 7F 66  64 69 30 01 80 2F 01 8F  .......fdi0../..
0230: 40 0F 01 00                                       @...            
```

## Opcodes

```
  0: 0x0003 [0x2F] EventEntity->Render.Flags0 &= ~0x80000 // Bit 19
  1: 0x0009 [0x2F] Palometa (ID: 17776782/0x010F408E)->Render.Flags0 &= ~0x80000 // Bit 19
  2: 0x000F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [EventEntity, EventEntity], work=[200*, 0*]
  3: 0x0020 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [EventEntity, EventEntity], work=200*
  4: 0x002F [0x46] CAMERA_CONTROL: Disable user control
  5: 0x0031 [0x92] EventEntity->Render.Flags3 ^= 0x01
  6: 0x0037 [0x92] Palometa (ID: 17776782/0x010F408E)->Render.Flags3 ^= 0x01
  7: 0x003D [0x92] Bheem (ID: 17776686/0x010F402E)->Render.Flags3 ^= 0x01
  8: 0x0043 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  9: 0x0046 [0x77] SET_EVENT_TIME_WEATHER(hour=12*, weather=1*)
 10: 0x004B [0x1A] CALL_SUBROUTINE(address=0x31AE)
 11: 0x004E [0x1A] CALL_SUBROUTINE(address=0x3678)
 12: 0x0051 [0x1A] CALL_SUBROUTINE(address=0x2DC3)
 13: 0x0054 [0x95] SETUP_EVENT_NPC: Prepare NPC for event (Render.Flags3 = 0*)
 14: 0x0057 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-94.733*, z=163.293*, y=0.000*, direction=189.0°*
 15: 0x0060 [0x22] ENTITY_HIDE_FLAG(enabled=0x00)
 16: 0x0062 [0x80] LOAD_WAIT(entity=EventEntity)
 17: 0x0067 [0x29] REQ_SET_WAIT(priority=0x0A, entity_id=LocalPlayer, tag_num=0x42)
 18: 0x006E [0x27] REQ_SET(priority=0x0F, entity_id=Palometa (ID: 17776782/0x010F408E), tag_num=0x04)
 19: 0x0075 [0x4E] SET_ENTITY_HIDE_FLAG: Show Palometa (ID: 17776782/0x010F408E)
 20: 0x007B [0x80] LOAD_WAIT(entity=Palometa (ID: 17776782/0x010F408E))
 21: 0x0080 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s052" with entities [LocalPlayer, LocalPlayer], work=[191*, 0*]
 22: 0x0091 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 23: 0x00A2 [0x6E] Unnamed NPC (ID: 17776783/0x010F408F) uses emote 6*
 24: 0x00A9 [0x99] Wait for Unnamed NPC (ID: 17776783/0x010F408F) animation to complete
 25: 0x00AE [0x99] Wait for Unnamed NPC (ID: 17776783/0x010F408F) animation to complete
 26: 0x00B3 [0x1C] WAIT(180* ticks)
 27: 0x00B6 [0x32] ExtData[1]->MainSpeed = 13* * 0.1
 28: 0x00B9 [0x1F] MOVE_ENTITY: EventEntity moves to X=-95.720*, Z=165.730*, Y=0.000*
 29: 0x00C1 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
 30: 0x00C3 [0x2B] Bheem (ID: 17776686/0x010F402E) [8871*]:
    → "Always looking into some mirror.\u0007It kind of stuck in my mind.\u007F1\u0000\u0007"
 31: 0x00CA [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x00CB [0x2A] GET_REQ_LEVEL(level=15, entity_id=Palometa (ID: 17776782/0x010F408E))
 33: 0x00D1 [0x1C] WAIT(15* ticks)
 34: 0x00D4 [0x4A] Unnamed NPC (ID: 17776783/0x010F408F) looks at Palometa (ID: 17776782/0x010F408E)
 35: 0x00DD [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 36: 0x00DE [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Unnamed NPC (ID: 17776783/0x010F408F) Render.Flags0 and Render.Flags3 conditions are met
 37: 0x00E3 [0x52] END_LOAD_SCHEDULER: End scheduler "s052" with entities [LocalPlayer, LocalPlayer], work=191*
 38: 0x00F2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s053" with entities [LocalPlayer, LocalPlayer], work=[191*, 0*]
 39: 0x0103 [0x1C] WAIT(30* ticks)
 40: 0x0106 [0x27] REQ_SET(priority=0x14, entity_id=Palometa (ID: 17776782/0x010F408E), tag_num=0x05)
 41: 0x010D [0x1C] WAIT(60* ticks)
 42: 0x0110 [0x6E] Unnamed NPC (ID: 17776783/0x010F408F) uses emote 7*
 43: 0x0117 [0x99] Wait for Unnamed NPC (ID: 17776783/0x010F408F) animation to complete
 44: 0x011C [0x2B] Bheem (ID: 17776686/0x010F402E) [8872*]:
    → "It's like this adventurer was searching for something.\u0007I guess that's what you guys do, though.\u007F1\u0000\u0007"
 45: 0x0123 [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x0124 [0x1C] WAIT(90* ticks)
 47: 0x0127 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 48: 0x0138 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
 49: 0x0147 [0x52] END_LOAD_SCHEDULER: End scheduler "s053" with entities [LocalPlayer, LocalPlayer], work=191*
 50: 0x0156 [0x22] ENTITY_HIDE_FLAG(enabled=0x01)
 51: 0x0158 [0x2F] Palometa (ID: 17776782/0x010F408E)->Render.Flags0 |= 0x80000 // Bit 19
 52: 0x015E [0x4E] SET_ENTITY_HIDE_FLAG: Hide Palometa (ID: 17776782/0x010F408E)
 53: 0x0164 [0x4E] SET_ENTITY_HIDE_FLAG: Hide LocalPlayer
 54: 0x016A [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 55: 0x016B [0x4B] UPDATE_ENTITY_YAW(entity=Bheem (ID: 17776686/0x010F402E), yaw=2.2°*)
 56: 0x0172 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 57: 0x0173 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Bheem (ID: 17776686/0x010F402E) Render.Flags0 and Render.Flags3 conditions are met
 58: 0x0178 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Bheem (ID: 17776686/0x010F402E), Bheem (ID: 17776686/0x010F402E)], work=0*
 59: 0x0187 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s055" with entities [EventEntity, EventEntity], work=[34*, 0*]
 60: 0x0198 [0x1C] WAIT(60* ticks)
 61: 0x019B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [EventEntity, EventEntity], work=[200*, 0*]
 62: 0x01AC [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi2" with entities [EventEntity, EventEntity], work=200*
 63: 0x01BB [0x1C] WAIT(60* ticks)
 64: 0x01BE [0x2B] Bheem (ID: 17776686/0x010F402E) [8873*]:
    → "Stick around here long enough and maybe you'll get lucky.\u0007Everyone comes back to Jeuno eventually.\u007F1\u0000\u0007"
 65: 0x01C5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 66: 0x01C6 [0x1C] WAIT(60* ticks)
 67: 0x01C9 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "ten0" with entities [Bheem (ID: 17776686/0x010F402E), Bheem (ID: 17776686/0x010F402E)], work=0*
 68: 0x01D8 [0x1C] WAIT(60* ticks)
 69: 0x01DB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 70: 0x01EC [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
 71: 0x01FB [0x52] END_LOAD_SCHEDULER: End scheduler "s055" with entities [EventEntity, EventEntity], work=34*
 72: 0x020A [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 73: 0x0210 [0x96] UNSET_EVENT_NPC: Restore NPC after event (removes event NPC status)
 74: 0x0211 [0x46] CAMERA_CONTROL: Restore default settings
 75: 0x0213 [0x92] EventEntity->Render.Flags3 = Flags3  // No change (flag=0)
 76: 0x0219 [0x1C] WAIT(120* ticks)
 77: 0x021C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi0" with entities [EventEntity, EventEntity], work=[200*, 0*]
 78: 0x022D [0x2F] Unnamed NPC (ID: 17776783/0x010F408F)->Render.Flags0 |= 0x80000 // Bit 19
 79: 0x0233 [0x00] END_REQSTACK()
```
