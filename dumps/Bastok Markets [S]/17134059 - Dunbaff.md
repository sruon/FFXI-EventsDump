# 17134059 - Dunbaff

## Common Data

| Field            | Value                       |
|------------------|-----------------------------|
| Zone             | Bastok Markets [S] (ID: 87) |
| Block Size       | 228 bytes                   |
| Total Events     | 11                          |
| References Count | 14                          |

## List of Events

| Event ID                 | Entrypoint   |   Size |   Instructions |
|--------------------------|--------------|--------|----------------|
| [65535](#event-65535)    | 0x0000       |      1 |              1 |
| [156](#event-156)        | 0x0001       |     29 |              7 |
| [120](#event-120)        | 0x001E       |      7 |              2 |
| [19](#event-19)          | 0x0025       |      1 |              1 |
| [65535.1](#event-655351) | 0x0026       |     22 |              6 |
| [65535.2](#event-655352) | 0x003C       |     14 |              4 |
| [56](#event-56)          | 0x004A       |      7 |              2 |
| [65535.3](#event-655353) | 0x0051       |     15 |              5 |
| [65535.4](#event-655354) | 0x0060       |      4 |              2 |
| [65535.5](#event-655355) | 0x0064       |      2 |              2 |
| [179](#event-179)        | 0x0066       |      7 |              2 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x001E      |          30 |
|       1 | 0x003C      |          60 |
|       2 | 0x303B      |       12347 |
|       3 | 0x000D      |          13 |
|       4 | 0xFFFCF159  |  4294766937 |
|       5 | 0xFFFE8D2B  |  4294872363 |
|       6 | 0xFFFFE891  |  4294961297 |
|       7 | 0xFFFCFB71  |  4294769521 |
|       8 | 0xFFFE2B29  |  4294847273 |
|       9 | 0xFFFFE890  |  4294961296 |
|      10 | 0xFFFBA2E1  |  4294681313 |
|      11 | 0xFFFE6C26  |  4294863910 |
|      12 | 0xFFFFD8F0  |  4294957296 |
|      13 | 0x0000      |           0 |

## String References

- **12347**: We Galka live some 200 years before setting off on our journey of rebirth. But none of us wish to embark on that journey now. Not with the fate of our nation, and world, so unsure.

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 156

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 29 bytes |
| Instructions | 7        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1E F0 FF FF 7F 1C 00  80 66 01 80 F8 FF FF 7F   ........f......
0010: F8 FF FF 7F 74 6C 6B 30  1D 02 80 23 21 00        ....tlk0...#!.  
```

#### Opcodes

```
  0: 0x0001 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0006 [0x1C] WAIT(30* ticks)
  2: 0x0009 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=60*
  3: 0x0018 [0x1D] PRINT_EVENT_MESSAGE(message_id=12347*)
    â†’ "We Galka live some 200 years before setting off on our journey of rebirth. But none of us wish to embark on that journey now. Not with the fate of our nation, and world, so unsure."
  4: 0x001B [0x23] WAIT_FOR_DIALOG_INTERACTION
  5: 0x001C [0x21] END_EVENT
  6: 0x001D [0x00] END_REQSTACK()
```

### Event 120

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x001E  |
| Data Size    | 7 bytes |
| Instructions | 2       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0010:                                            92 01                ..
0020: F8 FF FF 7F 00                                    .....           
```

#### Opcodes

```
  0: 0x001E [0x92] EventEntity->Render.Flags3 ^= 0x01
  1: 0x0024 [0x00] END_REQSTACK()
```

### Event 19

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0025  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0020:                00                                      .          
```

#### Opcodes

```
  0: 0x0025 [0x00] END_REQSTACK()
```

### Event 65535.1

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0026   |
| Data Size    | 22 bytes |
| Instructions | 6        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0020:                   32 03  80 1F 00 04 80 05 80 06        2.........
0030: 80 1F 01 1E D4 71 05 01  1C 00 80 00              .....q......    
```

#### Opcodes

```
  0: 0x0026 [0x32] ExtData[1]->MainSpeed = 13* * 0.1
  1: 0x0029 [0x1F] MOVE_ENTITY: EventEntity moves to X=-200.359*, Z=-94.933*, Y=-5.999*
  2: 0x0031 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  3: 0x0033 [0x1E] EventEntity looks at Pagdako (ID: 17134036/0x010571D4) and starts talking
  4: 0x0038 [0x1C] WAIT(30* ticks)
  5: 0x003B [0x00] END_REQSTACK()
```

### Event 65535.2

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x003C   |
| Data Size    | 14 bytes |
| Instructions | 4        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0030:                                      32 03 80 1F              2...
0040: 00 07 80 08 80 09 80 1F  01 00                    ..........      
```

#### Opcodes

```
  0: 0x003C [0x32] ExtData[1]->MainSpeed = 13* * 0.1
  1: 0x003F [0x1F] MOVE_ENTITY: EventEntity moves to X=-197.775*, Z=-120.023*, Y=-6.000*
  2: 0x0047 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  3: 0x0049 [0x00] END_REQSTACK()
```

### Event 56

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x004A  |
| Data Size    | 7 bytes |
| Instructions | 2       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0040:                                92 01 F8 FF FF 7F            ......
0050: 00                                                .               
```

#### Opcodes

```
  0: 0x004A [0x92] EventEntity->Render.Flags3 ^= 0x01
  1: 0x0050 [0x00] END_REQSTACK()
```

### Event 65535.3

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0051   |
| Data Size    | 15 bytes |
| Instructions | 5        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0050:    32 03 80 1F 00 0A 80  0B 80 0C 80 1F 01 6F 00   2............o.
```

#### Opcodes

```
  0: 0x0051 [0x32] ExtData[1]->MainSpeed = 13* * 0.1
  1: 0x0054 [0x1F] MOVE_ENTITY: EventEntity moves to X=-285.983*, Z=-103.386*, Y=-10.000*
  2: 0x005C [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  3: 0x005E [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x005F [0x00] END_REQSTACK()
```

### Event 65535.4

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0060  |
| Data Size    | 4 bytes |
| Instructions | 2       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0060: 95 0D 80 00                                       ....            
```

#### Opcodes

```
  0: 0x0060 [0x95] SETUP_EVENT_NPC: Prepare NPC for event (Render.Flags3 = 0*)
  1: 0x0063 [0x00] END_REQSTACK()
```

### Event 65535.5

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0064  |
| Data Size    | 2 bytes |
| Instructions | 2       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0060:             96 00                                     ..          
```

#### Opcodes

```
  0: 0x0064 [0x96] UNSET_EVENT_NPC: Restore NPC after event (removes event NPC status)
  1: 0x0065 [0x00] END_REQSTACK()
```

### Event 179

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0066  |
| Data Size    | 7 bytes |
| Instructions | 2       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0060:                   92 01  F8 FF FF 7F 00                 .......   
```

#### Opcodes

```
  0: 0x0066 [0x92] EventEntity->Render.Flags3 ^= 0x01
  1: 0x006C [0x00] END_REQSTACK()
```
