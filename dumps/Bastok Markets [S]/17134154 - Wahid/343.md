# Event 343

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 10/11     |
| Offset          | 0x1702    |
| Data Size       | 365 bytes |
| Calculated Size | 365 bytes |
| Instructions    | 49        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1700:       42 20 01 46 01 45  00 80 F0 FF FF 7F F0 FF    B .F.E........
1710: FF 7F 66 64 6F 31 01 80  1C 02 80 38 03 80 BA F0  ..fdo1.....8....
1720: FF FF 7F 17 80 18 80 06  80 19 80 80 F0 FF FF 7F  ................
1730: 80 4A 72 05 01 92 01 4A  72 05 01 1E F0 FF FF 7F  .Jr....Jr.......
1740: 45 08 80 F0 FF FF 7F F0  FF FF 7F 77 68 31 39 01  E..........wh19.
1750: 80 45 00 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 31  .E..........fdi1
1760: 01 80 1C 02 80 66 01 80  F8 FF FF 7F F8 FF FF 7F  .....f..........
1770: 74 6C 6B 30 1D 91 80 23  52 08 80 F0 FF FF 7F F0  tlk0...#R.......
1780: FF FF 7F 77 68 31 39 45  08 80 F0 FF FF 7F F0 FF  ...wh19E........
1790: FF 7F 77 68 32 34 01 80  66 81 80 F8 FF FF 7F F8  ..wh24..f.......
17A0: FF FF 7F 73 64 6F 30 03  02 10 86 80 1D 92 80 23  ...sdo0........#
17B0: 1D 93 80 23 66 81 80 F8  FF FF 7F F8 FF FF 7F 73  ...#f..........s
17C0: 64 6F 31 66 01 80 F8 FF  FF 7F F8 FF FF 7F 74 6C  do1f..........tl
17D0: 6B 30 1D 94 80 23 52 08  80 F0 FF FF 7F F0 FF FF  k0...#R.........
17E0: 7F 77 68 32 34 45 08 80  F0 FF FF 7F F0 FF FF 7F  .wh24E..........
17F0: 77 68 32 32 01 80 03 02  10 95 80 1D 96 80 23 66  wh22..........#f
1800: 01 80 F8 FF FF 7F F8 FF  FF 7F 70 61 73 30 1C 40  ..........pas0.@
1810: 80 6E 4A 72 05 01 97 80  99 4A 72 05 01 1D 98 80  .nJr.....Jr.....
1820: 23 99 4A 72 05 01 45 00  80 F0 FF FF 7F F0 FF FF  #.Jr..E.........
1830: 7F 66 64 6F 31 01 80 1C  02 80 52 08 80 F0 FF FF  .fdo1.....R.....
1840: 7F F0 FF FF 7F 77 68 32  32 46 00 45 00 80 F0 FF  .....wh22F.E....
1850: FF 7F F0 FF FF 7F 66 64  69 31 01 80 45 80 80 F8  ......fdi1..E...
1860: FF FF 7F F8 FF FF 7F 71  73 74 63 01 80 21 00     .......qstc..!. 
```

## Opcodes

```
  0: 0x1702 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x1703 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  2: 0x1705 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x1707 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
  4: 0x1718 [0x1C] WAIT(60* ticks)
  5: 0x171B [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  6: 0x171E [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-142.323*, pos_z=-88.579*, pos_y=-4.000*, direction=290.0°*)
  7: 0x172B [0x80] LOAD_WAIT(entity=LocalPlayer)
  8: 0x1730 [0x80] LOAD_WAIT(entity=Wahid (ID: 17134154/0x0105724A))
  9: 0x1735 [0x92] Wahid (ID: 17134154/0x0105724A)->Render.Flags3 ^= 0x01
 10: 0x173B [0x1E] EventEntity looks at LocalPlayer and starts talking
 11: 0x1740 [0x45] LOAD_SCHEDULED_TASK(work_offset1=456*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="wh19", work_offset2=0*)
 12: 0x1751 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 13: 0x1762 [0x1C] WAIT(60* ticks)
 14: 0x1765 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=0*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 15: 0x1774 [0x1D] PRINT_EVENT_MESSAGE(message_id=7709*)
    → "Oh...it's you again.\u0007Please forgive me for the other day...the grief was too much to bear.\u007F1\u0000\u0007"
 16: 0x1777 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x1778 [0x52] END_LOAD_SCHEDULER: End scheduler "wh19" with entities [LocalPlayer, LocalPlayer], work=456*
 18: 0x1787 [0x45] LOAD_SCHEDULED_TASK(work_offset1=456*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="wh24", work_offset2=0*)
 19: 0x1798 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=3*, entity1=EventEntity, entity2=EventEntity, action="sdo0")
 20: 0x17A7 [0x03] Work_Zone[2] = 2531*
 21: 0x17AC [0x1D] PRINT_EVENT_MESSAGE(message_id=7710*)
    → "Since that day, this \u0001\u0005#\u0002\u0000\u0000\u0000 has never left my hand.\u0007It's worth no more than a pebble, and isn't even much to look at.\u0007But I shall cherish it more than the most precious diamond.\u007F1\u0000\u0007"
 22: 0x17AF [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x17B0 [0x1D] PRINT_EVENT_MESSAGE(message_id=7711*)
    → "I've decided to take it upon myself to realize Swantje's unfulfilled dream.\u0007I shall collect stones like the one she gave her life to find, and do what I can to bring hope and good fortune to the people.\u007F1\u0000\u0007"
 24: 0x17B3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x17B4 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=3*, entity1=EventEntity, entity2=EventEntity, action="sdo1")
 26: 0x17C3 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=0*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 27: 0x17D2 [0x1D] PRINT_EVENT_MESSAGE(message_id=7712*)
    → "Such is the least I can do to honor her memory.\u0007And when the day comes that I leave this world to rejoin her side, I can only hope she will forgive me...\u007F1\u0000\u0007"
 28: 0x17D5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x17D6 [0x52] END_LOAD_SCHEDULER: End scheduler "wh24" with entities [LocalPlayer, LocalPlayer], work=456*
 30: 0x17E5 [0x45] LOAD_SCHEDULED_TASK(work_offset1=456*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="wh22", work_offset2=0*)
 31: 0x17F6 [0x03] Work_Zone[2] = 19274*
 32: 0x17FB [0x1D] PRINT_EVENT_MESSAGE(message_id=7713*)
    → "This \u0001\u0005#\u0002\u0000\u0000\u0000 was one of her most beloved tools.\u007F1\u0000\u0007"
 33: 0x17FE [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x17FF [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=0*, entity1=EventEntity, entity2=EventEntity, action="pas0")
 35: 0x180E [0x1C] WAIT(240* ticks)
 36: 0x1811 [0x6E] Wahid (ID: 17134154/0x0105724A) uses emote 36*
 37: 0x1818 [0x99] Wait for Wahid (ID: 17134154/0x0105724A) animation to complete
 38: 0x181D [0x1D] PRINT_EVENT_MESSAGE(message_id=7714*)
    → "Please take it. You're far more of a goldsmith than I.\u0007Perhaps someday, when you become a master, you can fashion Swantje's stone into a ring worthy of her memory.\u007F1\u0000\u0007"
 39: 0x1820 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x1821 [0x99] Wait for Wahid (ID: 17134154/0x0105724A) animation to complete
 41: 0x1826 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 42: 0x1837 [0x1C] WAIT(60* ticks)
 43: 0x183A [0x52] END_LOAD_SCHEDULER: End scheduler "wh22" with entities [LocalPlayer, LocalPlayer], work=456*
 44: 0x1849 [0x46] CAMERA_CONTROL: Restore default settings
 45: 0x184B [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 46: 0x185C [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=EventEntity, entity2=EventEntity, scheduler_id="qstc", work_offset2=0*)
 47: 0x186D [0x21] END_EVENT
 48: 0x186E [0x00] END_REQSTACK()
```
