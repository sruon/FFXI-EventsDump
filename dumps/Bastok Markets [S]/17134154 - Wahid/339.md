# Event 339

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 6/11      |
| Offset          | 0x098D    |
| Data Size       | 320 bytes |
| Calculated Size | 320 bytes |
| Instructions    | 46        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0980:                                         42 20 01               B .
0990: 46 01 45 00 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  F.E..........fdo
09A0: 31 01 80 1C 02 80 38 03  80 BA F0 FF FF 7F 17 80  1.....8.........
09B0: 18 80 06 80 19 80 80 F0  FF FF 7F 80 4A 72 05 01  ............Jr..
09C0: 92 01 4A 72 05 01 1E F0  FF FF 7F 45 08 80 F0 FF  ..Jr.......E....
09D0: FF 7F F0 FF FF 7F 77 68  31 39 01 80 45 00 80 F0  ......wh19..E...
09E0: FF FF 7F F0 FF FF 7F 66  64 69 31 01 80 1C 02 80  .......fdi1.....
09F0: 6E 4A 72 05 01 30 80 99  4A 72 05 01 1D 49 80 23  nJr..0..Jr...I.#
0A00: 99 4A 72 05 01 66 4A 80  F8 FF FF 7F F8 FF FF 7F  .Jr..fJ.........
0A10: 74 6C 6B 30 1D 4B 80 23  52 08 80 F0 FF FF 7F F0  tlk0.K.#R.......
0A20: FF FF 7F 77 68 31 39 45  08 80 F0 FF FF 7F F0 FF  ...wh19E........
0A30: FF 7F 77 68 32 35 01 80  1D 4C 80 23 1D 4D 80 23  ..wh25...L.#.M.#
0A40: 52 08 80 F0 FF FF 7F F0  FF FF 7F 77 68 32 35 45  R..........wh25E
0A50: 08 80 F0 FF FF 7F F0 FF  FF 7F 77 68 32 32 01 80  ..........wh22..
0A60: 1D 4E 80 23 66 4A 80 F8  FF FF 7F F8 FF FF 7F 74  .N.#fJ.........t
0A70: 6C 6B 31 53 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 31  lk1S........tlk1
0A80: 6E 4A 72 05 01 0F 80 99  4A 72 05 01 1D 4F 80 23  nJr.....Jr...O.#
0A90: 99 4A 72 05 01 45 00 80  F0 FF FF 7F F0 FF FF 7F  .Jr..E..........
0AA0: 66 64 6F 31 01 80 1C 02  80 52 08 80 F0 FF FF 7F  fdo1.....R......
0AB0: F0 FF FF 7F 77 68 32 32  46 00 45 00 80 F0 FF FF  ....wh22F.E.....
0AC0: 7F F0 FF FF 7F 66 64 69  31 01 80 21 00           .....fdi1..!.   
```

## Opcodes

```
  0: 0x098D [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x098E [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  2: 0x0990 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x0992 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  4: 0x09A3 [0x1C] WAIT(60* ticks)
  5: 0x09A6 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  6: 0x09A9 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-142.323*, pos_z=-88.579*, pos_y=-4.000*, direction=290.0°*)
  7: 0x09B6 [0x80] LOAD_WAIT(entity=LocalPlayer)
  8: 0x09BB [0x80] LOAD_WAIT(entity=Wahid (ID: 17134154/0x0105724A))
  9: 0x09C0 [0x92] Wahid (ID: 17134154/0x0105724A)->Render.Flags3 ^= 0x01
 10: 0x09C6 [0x1E] EventEntity looks at LocalPlayer and starts talking
 11: 0x09CB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "wh19" with entities [LocalPlayer, LocalPlayer], work=[456*, 0*]
 12: 0x09DC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 13: 0x09ED [0x1C] WAIT(60* ticks)
 14: 0x09F0 [0x6E] Wahid (ID: 17134154/0x0105724A) uses emote 10*
 15: 0x09F7 [0x99] Wait for Wahid (ID: 17134154/0x0105724A) animation to complete
 16: 0x09FC [0x1D] PRINT_EVENT_MESSAGE(message_id=7659*)
    → "Oh ho! There you are!\u0007Sorry you had to witness our little lovers' spat the other day. Hohoho...\u007F1\u0000\u0007"
 17: 0x09FF [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x0A00 [0x99] Wait for Wahid (ID: 17134154/0x0105724A) animation to complete
 19: 0x0A05 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=9*
 20: 0x0A14 [0x1D] PRINT_EVENT_MESSAGE(message_id=7660*)
    → "Actually, speaking of my wife...\u0007You haven't perchance seen her around, have you?\u007F1\u0000\u0007"
 21: 0x0A17 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x0A18 [0x52] END_LOAD_SCHEDULER: End scheduler "wh19" with entities [LocalPlayer, LocalPlayer], work=456*
 23: 0x0A27 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "wh25" with entities [LocalPlayer, LocalPlayer], work=[456*, 0*]
 24: 0x0A38 [0x1D] PRINT_EVENT_MESSAGE(message_id=7661*)
    → "It pains me to say this, but she hasn't been back home since that day.\u007F1\u0000\u0007"
 25: 0x0A3B [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x0A3C [0x1D] PRINT_EVENT_MESSAGE(message_id=7662*)
    → "Wherever could she have run off to?\u007F1\u0000\u0007"
 27: 0x0A3F [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x0A40 [0x52] END_LOAD_SCHEDULER: End scheduler "wh25" with entities [LocalPlayer, LocalPlayer], work=456*
 29: 0x0A4F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "wh22" with entities [LocalPlayer, LocalPlayer], work=[456*, 0*]
 30: 0x0A60 [0x1D] PRINT_EVENT_MESSAGE(message_id=7663*)
    → "I don't mean to turn you into my errand \u007F\u0005[boy/girl], but perhaps you could take a look around for her?\u007F1\u0000\u0007"
 31: 0x0A63 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x0A64 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=9*
 33: 0x0A73 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [EventEntity, EventEntity]
 34: 0x0A80 [0x6E] Wahid (ID: 17134154/0x0105724A) uses emote 22*
 35: 0x0A87 [0x99] Wait for Wahid (ID: 17134154/0x0105724A) animation to complete
 36: 0x0A8C [0x1D] PRINT_EVENT_MESSAGE(message_id=7664*)
    → "It appears my infallible merchant's instincts aren't quite what they used to be.\u0007Ahahaha!\u007F1\u0000\u0007"
 37: 0x0A8F [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x0A90 [0x99] Wait for Wahid (ID: 17134154/0x0105724A) animation to complete
 39: 0x0A95 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 40: 0x0AA6 [0x1C] WAIT(60* ticks)
 41: 0x0AA9 [0x52] END_LOAD_SCHEDULER: End scheduler "wh22" with entities [LocalPlayer, LocalPlayer], work=456*
 42: 0x0AB8 [0x46] CAMERA_CONTROL: Restore default settings
 43: 0x0ABA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 44: 0x0ACB [0x21] END_EVENT
 45: 0x0ACC [0x00] END_REQSTACK()
```
