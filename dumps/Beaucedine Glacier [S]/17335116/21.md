# Event 21

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 9/10      |
| Offset          | 0x45F5    |
| Data Size       | 556 bytes |
| Calculated Size | 556 bytes |
| Instructions    | 68        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
45F0:                42 45 04  80 F8 FF FF 7F F8 FF FF       BE.........
4600: 7F 66 64 6F 31 02 80 55  04 80 F8 FF FF 7F F8 FF  .fdo1..U........
4610: FF 7F 66 64 6F 31 46 01  38 25 80 34 5A 81 77 EE  ..fdo1F.8%.4Z.w.
4620: 80 00 80 1C 00 80 2F 00  56 83 08 01 4E 00 56 83  ....../.V...N.V.
4630: 08 01 22 00 BA 56 83 08  01 7B 81 7C 81 7D 81 7E  .."..V...{.|.}.~
4640: 81 BA F0 FF FF 7F 7F 81  80 81 81 81 82 81 37 83  ..............7.
4650: 81 84 81 85 81 86 81 80  56 83 08 01 80 F0 FF FF  ........V.......
4660: 7F 80 F8 FF FF 7F 27 05  56 83 08 01 3D 45 17 80  ......'.V...=E..
4670: F0 FF FF 7F F0 FF FF 7F  73 31 36 32 02 80 1C 4B  ........s162...K
4680: 80 45 04 80 F8 FF FF 7F  F8 FF FF 7F 66 64 69 31  .E..........fdi1
4690: 02 80 1C 40 80 48 87 81  23 23 52 17 80 F0 FF FF  ...@.H..##R.....
46A0: 7F F0 FF FF 7F 73 31 36  32 45 17 80 F0 FF FF 7F  .....s162E......
46B0: F0 FF FF 7F 73 31 36 33  02 80 27 05 56 83 08 01  ....s163..'.V...
46C0: 3E 03 02 10 69 81 2B 56  83 08 01 88 81 23 2A 05  >...i.+V.....#*.
46D0: 56 83 08 01 52 17 80 F0  FF FF 7F F0 FF FF 7F 73  V...R..........s
46E0: 31 36 33 45 17 80 F0 FF  FF 7F F0 FF FF 7F 73 31  163E..........s1
46F0: 36 34 02 80 62 3C 80 F8  FF FF 7F F8 FF FF 7F 6D  64..b<.........m
4700: 61 69 6E 02 80 1C 24 80  27 05 56 83 08 01 3C 79  ain...$.'.V...<y
4710: 00 F0 FF FF 7F 56 83 08  01 03 02 10 89 81 2B 56  .....V........+V
4720: 83 08 01 8A 81 23 2A 05  56 83 08 01 52 17 80 F0  .....#*.V...R...
4730: FF FF 7F F0 FF FF 7F 73  31 36 34 45 17 80 F0 FF  .......s164E....
4740: FF 7F F0 FF FF 7F 73 31  36 35 02 80 5B A8 80 56  ......s165..[..V
4750: 83 08 01 56 83 08 01 75  64 65 30 2B 56 83 08 01  ...V...ude0+V...
4760: 8B 81 23 5B A8 80 56 83  08 01 56 83 08 01 75 64  ..#[..V...V...ud
4770: 65 31 52 17 80 F0 FF FF  7F F0 FF FF 7F 73 31 36  e1R..........s16
4780: 35 45 17 80 F0 FF FF 7F  F0 FF FF 7F 73 31 36 36  5E..........s166
4790: 02 80 5B A8 80 56 83 08  01 56 83 08 01 74 6C 61  ..[..V...V...tla
47A0: 30 03 02 10 89 81 2B 56  83 08 01 8C 81 23 52 17  0.....+V.....#R.
47B0: 80 F0 FF FF 7F F0 FF FF  7F 73 31 36 36 45 17 80  .........s166E..
47C0: F0 FF FF 7F F0 FF FF 7F  73 31 36 37 02 80 2B 56  ........s167..+V
47D0: 83 08 01 8D 81 23 45 04  80 F8 FF FF 7F F8 FF FF  .....#E.........
47E0: 7F 66 64 6F 31 02 80 55  04 80 F8 FF FF 7F F8 FF  .fdo1..U........
47F0: FF 7F 66 64 6F 31 52 17  80 F0 FF FF 7F F0 FF FF  ..fdo1R.........
4800: 7F 73 31 36 37 35 0B 81  78 1C 00 80 46 00 45 04  .s1675..x...F.E.
4810: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 32 02 80 21  .........fdi2..!
4820: 00                                                .               
```

## Opcodes

```
  0: 0x45F5 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x45F6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  2: 0x4607 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
  3: 0x4616 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x4618 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x461B [0x34] LOAD_UNLOAD_ZONE(zone_id=86*)
  6: 0x461E [0x77] SET_EVENT_TIME_WEATHER(hour=255*, weather=1*)
  7: 0x4623 [0x1C] WAIT(1* ticks)
  8: 0x4626 [0x2F] Unnamed NPC (ID: 17335126/0x01088356)->Render.Flags0 &= ~0x80000 // Bit 19
  9: 0x462C [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17335126/0x01088356)
 10: 0x4632 [0x22] ENTITY_HIDE_FLAG(enabled=0x00)
 11: 0x4634 [0xBA] SET_ENTITY_POSITION(entity_id=References[17302358], pos_x=300.710*, pos_z=-5.336*, pos_y=11.403*, direction=277.2°*)
 12: 0x4641 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=299.286*, pos_z=-5.195*, pos_y=11.140*, direction=277.3°*)
 13: 0x464E [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=301.296*, z=-2.645*, y=10.214*, direction=22.2°*
 14: 0x4657 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17335126/0x01088356))
 15: 0x465C [0x80] LOAD_WAIT(entity=LocalPlayer)
 16: 0x4661 [0x80] LOAD_WAIT(entity=EventEntity)
 17: 0x4666 [0x27] REQ_SET(priority=0x05, entity_id=Unnamed NPC (ID: 17335126/0x01088356), tag_num=0x3D)
 18: 0x466D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s162" with entities [LocalPlayer, LocalPlayer], work=[402*, 0*]
 19: 0x467E [0x1C] WAIT(15* ticks)
 20: 0x4681 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 21: 0x4692 [0x1C] WAIT(60* ticks)
 22: 0x4695 [0x48] [System] [8388*]:
    → "An extremely sturdy wall of rock blocks your path...\u007F1\u0000\u0007"
 23: 0x4698 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x4699 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x469A [0x52] END_LOAD_SCHEDULER: End scheduler "s162" with entities [LocalPlayer, LocalPlayer], work=402*
 26: 0x46A9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s163" with entities [LocalPlayer, LocalPlayer], work=[402*, 0*]
 27: 0x46BA [0x27] REQ_SET(priority=0x05, entity_id=Unnamed NPC (ID: 17335126/0x01088356), tag_num=0x3E)
 28: 0x46C1 [0x03] Work_Zone[2] = 2760*
 29: 0x46C6 [0x2B] Unnamed NPC (ID: 17335126/0x01088356) [8389*]:
    → "Ack! Just when it seemed nothing would stop us!\u0007Even a dozen \u0001\u0005%\u0002\u0000\u0000\u0000 detonated in unison wouldn't so much as leave a soot stain on the surface. Barely cause a scratch.\u007F1\u0000\u0007"
 30: 0x46CD [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x46CE [0x2A] GET_REQ_LEVEL(level=5, entity_id=Unnamed NPC (ID: 17335126/0x01088356))
 32: 0x46D4 [0x52] END_LOAD_SCHEDULER: End scheduler "s163" with entities [LocalPlayer, LocalPlayer], work=402*
 33: 0x46E3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s164" with entities [LocalPlayer, LocalPlayer], work=[402*, 0*]
 34: 0x46F4 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [EventEntity, EventEntity], work=[3*, 0*]
 35: 0x4705 [0x1C] WAIT(90* ticks)
 36: 0x4708 [0x27] REQ_SET(priority=0x05, entity_id=Unnamed NPC (ID: 17335126/0x01088356), tag_num=0x3C)
 37: 0x470F [0x79] LocalPlayer looks at Unnamed NPC (ID: 17335126/0x01088356) (Basic look)
 38: 0x4719 [0x03] Work_Zone[2] = 947*
 39: 0x471E [0x2B] Unnamed NPC (ID: 17335126/0x01088356) [8390*]:
    → "But, hrmm? What have we here?\u0007Looks to be some kind of contraption for housing...\u0001\u0005%\u0002\u0000\u0000\u0000?\u007F1\u0000\u0007"
 40: 0x4725 [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x4726 [0x2A] GET_REQ_LEVEL(level=5, entity_id=Unnamed NPC (ID: 17335126/0x01088356))
 42: 0x472C [0x52] END_LOAD_SCHEDULER: End scheduler "s164" with entities [LocalPlayer, LocalPlayer], work=402*
 43: 0x473B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s165" with entities [LocalPlayer, LocalPlayer], work=[402*, 0*]
 44: 0x474C [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "ude0" with entities [Unnamed NPC (ID: 17335126/0x01088356), Unnamed NPC (ID: 17335126/0x01088356)], work=1412*
 45: 0x475B [0x2B] Unnamed NPC (ID: 17335126/0x01088356) [8391*]:
    → "Ah! A memory returns to me! A recollection!\u0007Tales of abandoned quarries brimming with Goblin mining technology of ages past! I shan't bother you with the details, though it would make for good telling at a campfire.\u007F1\u0000\u0007"
 46: 0x4762 [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x4763 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "ude1" with entities [Unnamed NPC (ID: 17335126/0x01088356), Unnamed NPC (ID: 17335126/0x01088356)], work=1412*
 48: 0x4772 [0x52] END_LOAD_SCHEDULER: End scheduler "s165" with entities [LocalPlayer, LocalPlayer], work=402*
 49: 0x4781 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s166" with entities [LocalPlayer, LocalPlayer], work=[402*, 0*]
 50: 0x4792 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tla0" with entities [Unnamed NPC (ID: 17335126/0x01088356), Unnamed NPC (ID: 17335126/0x01088356)], work=1412*
 51: 0x47A1 [0x03] Work_Zone[2] = 947*
 52: 0x47A6 [0x2B] Unnamed NPC (ID: 17335126/0x01088356) [8392*]:
    → "Hmmm, a fuse extends from the contraption to a place beyond the wall.\u0007What would happen, I wonder, if we were to place \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000 in it. Set us up a bomb.\u007F1\u0000\u0007"
 53: 0x47AD [0x23] WAIT_FOR_DIALOG_INTERACTION
 54: 0x47AE [0x52] END_LOAD_SCHEDULER: End scheduler "s166" with entities [LocalPlayer, LocalPlayer], work=402*
 55: 0x47BD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s167" with entities [LocalPlayer, LocalPlayer], work=[402*, 0*]
 56: 0x47CE [0x2B] Unnamed NPC (ID: 17335126/0x01088356) [8393*]:
    → "Could it be that the fuse is connected to yet another detonation switch somewhere over yonder...?\u007F1\u0000\u0007"
 57: 0x47D5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 58: 0x47D6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 59: 0x47E7 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
 60: 0x47F6 [0x52] END_LOAD_SCHEDULER: End scheduler "s167" with entities [LocalPlayer, LocalPlayer], work=402*
 61: 0x4805 [0x35] LOAD_ZONE_NO_CLOSE(zone_id=136*)
 62: 0x4808 [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 63: 0x4809 [0x1C] WAIT(1* ticks)
 64: 0x480C [0x46] CAMERA_CONTROL: Restore default settings
 65: 0x480E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 66: 0x481F [0x21] END_EVENT
 67: 0x4820 [0x00] END_REQSTACK()
```
