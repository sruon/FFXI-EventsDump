# Event 20

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 8/16      |
| Offset          | 0x01B0    |
| Data Size       | 167 bytes |
| Calculated Size | 167 bytes |
| Instructions    | 33        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
01B0: 03 00 00 02 10 42 1E F0  FF FF 7F 6F 70 66 00 80  .....B.....opf..
01C0: F8 FF FF 7F F8 FF FF 7F  74 6C 62 30 02 02 10 03  ........tlb0....
01D0: 80 00 D9 01 03 02 10 0C  80 02 02 10 1C 80 00 E6  ................
01E0: 01 03 02 10 10 80 02 02  10 1D 80 00 F3 01 03 02  ................
01F0: 10 1E 80 02 02 10 1F 80  00 00 02 03 02 10 20 80  .............. .
0200: 02 02 10 21 80 00 0D 02  03 02 10 10 80 02 02 10  ...!............
0210: 05 80 00 25 02 03 02 10  0C 80 1D 22 80 23 1D 06  ...%.......".#..
0220: 80 23 01 29 02 1D 23 80  23 1D 24 80 23 66 25 80  .#.)..#.#.$.#f%.
0230: F8 FF FF 7F F8 FF FF 7F  70 61 73 30 1C 26 80 03  ........pas0.&..
0240: 01 10 00 00 45 1B 80 F8  FF FF 7F F8 FF FF 7F 71  ....E..........q
0250: 73 74 63 0C 80 21 00                              stc..!.         
```

## Opcodes

```
  0: 0x01B0 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  1: 0x01B5 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x01B6 [0x1E] EventEntity looks at LocalPlayer and starts talking
  3: 0x01BB [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x01BC [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  5: 0x01BD [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlb0" with entities [EventEntity, EventEntity], work=68*
  6: 0x01CC [0x02] IF !(Work_Zone[2] == 10*) GOTO 0x01D9
  7: 0x01D4 [0x03] Work_Zone[2] = 0*
  8: 0x01D9 [0x02] IF !(Work_Zone[2] == 11*) GOTO 0x01E6
  9: 0x01E1 [0x03] Work_Zone[2] = 1*
 10: 0x01E6 [0x02] IF !(Work_Zone[2] == 12*) GOTO 0x01F3
 11: 0x01EE [0x03] Work_Zone[2] = 2*
 12: 0x01F3 [0x02] IF !(Work_Zone[2] == 13*) GOTO 0x0200
 13: 0x01FB [0x03] Work_Zone[2] = 3*
 14: 0x0200 [0x02] IF !(Work_Zone[2] == 21*) GOTO 0x020D
 15: 0x0208 [0x03] Work_Zone[2] = 1*
 16: 0x020D [0x02] IF !(Work_Zone[2] == 20*) GOTO 0x0225
 17: 0x0215 [0x03] Work_Zone[2] = 0*
 18: 0x021A [0x1D] PRINT_EVENT_MESSAGE(message_id=7669*)
    → "Ah, if it isn't my favorrrite waste of air. The curator's been raving about all you did for our sacred city, and I've been tasked with giving you a little something.\u007F1\u0000\u0007"
 19: 0x021D [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x021E [0x1D] PRINT_EVENT_MESSAGE(message_id=7670*)
    → "Fine. It's from me, okay!? Just don't go spouting it from the rrrooftops.\u007F1\u0000\u0007"
 21: 0x0221 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x0222 [0x01] GOTO 0x0229

SUBROUTINE_0225:
 23: 0x0225 [0x1D] PRINT_EVENT_MESSAGE(message_id=7667*)
    → "There you are.\u0007I hate to admit it, but your efforts \u000C\u0000[in advancing the alliance/at helping the city's populace/in supporting pioneers/during your coalition assignments] deserve prrraise of some sort.\u007F1\u0000\u0007"
 24: 0x0228 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x0229 [0x1D] PRINT_EVENT_MESSAGE(message_id=7668*)
    → "Here's your reward. Now scrrram.\u007F1\u0000\u0007"
 26: 0x022C [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x022D [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "pas0" with entities [EventEntity, EventEntity], work=54*
 28: 0x023C [0x1C] WAIT(120* ticks)
 29: 0x023F [0x03] Work_Zone[1] = ExtData[1]->WorkLocal[0]
 30: 0x0244 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [EventEntity, EventEntity], work=[201*, 0*]
 31: 0x0255 [0x21] END_EVENT
 32: 0x0256 [0x00] END_REQSTACK()
```
