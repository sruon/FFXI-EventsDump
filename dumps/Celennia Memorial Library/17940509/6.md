# Event 6

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/8       |
| Offset          | 0x4D82    |
| Data Size       | 808 bytes |
| Calculated Size | 808 bytes |
| Instructions    | 109       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
4D80:       42 1A AA 53 46 01  38 00 80 2F 00 1F C0 11    B..SF.8../....
4D90: 01 4E 00 1F C0 11 01 4E  00 F0 FF FF 7F 92 01 1F  .N.....N........
4DA0: C0 11 01 94 01 1F C0 11  01 94 01 F0 FF FF 7F BA  ................
4DB0: 1F C0 11 01 11 80 12 80  13 80 14 80 BA F0 FF FF  ................
4DC0: 7F 15 80 16 80 03 80 17  80 80 1F C0 11 01 80 F0  ................
4DD0: FF FF 7F 80 1A C0 11 01  27 05 F0 FF FF 7F 11 1C  ........'.......
4DE0: 32 80 45 2C 82 F8 FF FF  7F F8 FF FF 7F 73 31 36  2.E,.........s16
4DF0: 39 07 80 1C 0D 80 1A 89  53 4A 1F C0 11 01 F0 FF  9.......SJ......
4E00: FF 7F 1C 05 80 5B 23 80  1F C0 11 01 1F C0 11 01  .....[#.........
4E10: 74 6C 6B 30 2B 1F C0 11  01 2D 82 23 2B 1F C0 11  tlk0+....-.#+...
4E20: 01 2E 82 23 5B 23 80 1F  C0 11 01 1F C0 11 01 74  ...#[#.........t
4E30: 6C 6B 31 2A 05 F0 FF FF  7F 52 2C 82 F8 FF FF 7F  lk1*.....R,.....
4E40: F8 FF FF 7F 73 31 36 39  03 03 00 10 80 45 2C 82  ....s169.....E,.
4E50: F8 FF FF 7F F8 FF FF 7F  73 31 37 30 07 80 24 2F  ........s170..$/
4E60: 82 07 80 03 00 25 02 00  10 07 80 00 19 4F 52 2C  .....%.......OR,
4E70: 82 F8 FF FF 7F F8 FF FF  7F 73 31 37 30 45 2C 82  .........s170E,.
4E80: F8 FF FF 7F F8 FF FF 7F  73 30 30 38 07 80 27 05  ........s008..'.
4E90: F0 FF FF 7F 06 1C 98 80  81 00 1F C0 11 01 5B 33  ..............[3
4EA0: 81 1F C0 11 01 1F C0 11  01 74 68 6B 30 52 2C 82  .........thk0R,.
4EB0: F8 FF FF 7F F8 FF FF 7F  73 30 30 38 45 2C 82 F8  ........s008E,..
4EC0: FF FF 7F F8 FF FF 7F 73  31 37 31 07 80 2B 1F C0  .......s171..+..
4ED0: 11 01 30 82 23 2B 1F C0  11 01 31 82 23 81 01 1F  ..0.#+....1.#...
4EE0: C0 11 01 5B 33 81 1F C0  11 01 1F C0 11 01 74 68  ...[3.........th
4EF0: 6B 31 52 2C 82 F8 FF FF  7F F8 FF FF 7F 73 31 37  k1R,.........s17
4F00: 31 0F 03 00 0E 80 02 03  00 A0 80 00 13 4F 03 03  1............O..
4F10: 00 26 80 01 4D 4E 01 0C  50 02 00 10 0E 80 00 0C  .&..MN..P.......
4F20: 50 27 05 F0 FF FF 7F 07  1C 4A 80 27 05 F0 FF FF  P'.......J.'....
4F30: 7F 08 1C 08 80 52 2C 82  F8 FF FF 7F F8 FF FF 7F  .....R,.........
4F40: 73 31 37 30 45 2C 82 F8  FF FF 7F F8 FF FF 7F 73  s170E,.........s
4F50: 31 37 32 07 80 5B 23 80  1F C0 11 01 1F C0 11 01  172..[#.........
4F60: 74 6C 6B 30 2B 1F C0 11  01 32 82 23 2B 1F C0 11  tlk0+....2.#+...
4F70: 01 33 82 23 5B 23 80 1F  C0 11 01 1F C0 11 01 74  .3.#[#.........t
4F80: 6C 6B 31 2B 1F C0 11 01  34 82 23 81 00 1F C0 11  lk1+....4.#.....
4F90: 01 5B 33 81 1F C0 11 01  1F C0 11 01 74 68 6B 30  .[3.........thk0
4FA0: 52 2C 82 F8 FF FF 7F F8  FF FF 7F 73 31 37 32 45  R,.........s172E
4FB0: 2C 82 F8 FF FF 7F F8 FF  FF 7F 73 31 37 33 07 80  ,.........s173..
4FC0: 2B 1F C0 11 01 35 82 23  2B 1F C0 11 01 36 82 23  +....5.#+....6.#
4FD0: 81 01 1F C0 11 01 5B 33  81 1F C0 11 01 1F C0 11  ......[3........
4FE0: 01 74 68 6B 31 52 2C 82  F8 FF FF 7F F8 FF FF 7F  .thk1R,.........
4FF0: 73 31 37 33 0F 03 00 25  80 02 03 00 A0 80 00 06  s173...%........
5000: 50 03 03 00 26 80 01 4D  4E 01 0C 50 6E F0 FF FF  P...&..MN..Pn...
5010: 7F 37 82 99 F0 FF FF 7F  81 00 1F C0 11 01 7C 00  .7............|.
5020: 1F C0 11 01 5B 2B 80 1F  C0 11 01 1F C0 11 01 66  ....[+.........f
5030: 68 30 31 1C 39 80 52 2C  82 F8 FF FF 7F F8 FF FF  h01.9.R,........
5040: 7F 73 31 37 30 45 2C 82  F8 FF FF 7F F8 FF FF 7F  .s170E,.........
5050: 73 31 37 34 07 80 5B 23  80 1F C0 11 01 1F C0 11  s174..[#........
5060: 01 74 6C 6B 30 2B 1F C0  11 01 38 82 23 1A AA 53  .tlk0+....8.#..S
5070: 1C 05 80 52 2C 82 F8 FF  FF 7F F8 FF FF 7F 73 31  ...R,.........s1
5080: 37 34 27 05 20 C0 11 01  02 1C 0D 80 AB 11 07 80  74'. ...........
5090: 1C 0E 80 AB 0A 46 00 45  0F 80 F0 FF FF 7F F0 FF  .....F.E........
50A0: FF 7F 66 64 69 32 07 80  21 00                    ..fdi2..!.      
```

## Opcodes

```
  0: 0x4D82 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x4D83 [0x1A] CALL_SUBROUTINE(address=0x53AA)
  2: 0x4D86 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x4D88 [0x38] SET_CLIENT_EVENT_MODE(mode=147*)
  4: 0x4D8B [0x2F] Arciela (ID: 17940511/0x0111C01F)->Render.Flags0 &= ~0x80000 // Bit 19
  5: 0x4D91 [0x4E] SET_ENTITY_HIDE_FLAG: Show Arciela (ID: 17940511/0x0111C01F)
  6: 0x4D97 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
  7: 0x4D9D [0x92] Arciela (ID: 17940511/0x0111C01F)->Render.Flags3 ^= 0x01
  8: 0x4DA3 [0x94] Arciela (ID: 17940511/0x0111C01F)->Render.Flags3 ^= 0x01
  9: 0x4DA9 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 10: 0x4DAF [0xBA] SET_ENTITY_POSITION(entity_id=References[17907743], pos_x=-114.449*, pos_z=-95.110*, pos_y=-2.149*, direction=175.5°*)
 11: 0x4DBC [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-107.474*, pos_z=-94.006*, pos_y=-2.150*, direction=194.7°*)
 12: 0x4DC9 [0x80] LOAD_WAIT(entity=Arciela (ID: 17940511/0x0111C01F))
 13: 0x4DCE [0x80] LOAD_WAIT(entity=LocalPlayer)
 14: 0x4DD3 [0x80] LOAD_WAIT(entity=Vainrachault (ID: 17940506/0x0111C01A))
 15: 0x4DD8 [0x27] REQ_SET(priority=0x05, entity_id=LocalPlayer, tag_num=0x11)
 16: 0x4DDF [0x1C] WAIT(60* ticks)
 17: 0x4DE2 [0x45] LOAD_SCHEDULED_TASK(work_offset1=632*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s169", work_offset2=0*)
 18: 0x4DF3 [0x1C] WAIT(15* ticks)
 19: 0x4DF6 [0x1A] CALL_SUBROUTINE(address=0x5389)
 20: 0x4DF9 [0x4A] Arciela (ID: 17940511/0x0111C01F) looks at LocalPlayer
 21: 0x4E02 [0x1C] WAIT(30* ticks)
 22: 0x4E05 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3217*, entity1=Arciela (ID: 17940511/0x0111C01F), entity2=Arciela (ID: 17940511/0x0111C01F), action="tlk0")
 23: 0x4E14 [0x2B] Arciela (ID: 17940511/0x0111C01F) [8111*]:
    → "Oh, hello, \u0008!\u0007I've been searching and searching, but haven't yet come up with anything of interest.\u007F1\u0000\u0007"
 24: 0x4E1B [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x4E1C [0x2B] Arciela (ID: 17940511/0x0111C01F) [8112*]:
    → "How about you?\u007F1\u0000\u0007"
 26: 0x4E23 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x4E24 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3217*, entity1=Arciela (ID: 17940511/0x0111C01F), entity2=Arciela (ID: 17940511/0x0111C01F), action="tlk1")
 28: 0x4E33 [0x2A] GET_REQ_LEVEL(level=5, entity_id=LocalPlayer)
 29: 0x4E39 [0x52] END_LOAD_SCHEDULER: End scheduler "s169" with entities [EventEntity, EventEntity], work=632*
 30: 0x4E48 [0x03] ExtData[1]->WorkLocal[3] = 4*
 31: 0x4E4D [0x45] LOAD_SCHEDULED_TASK(work_offset1=632*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s170", work_offset2=0*)
 32: 0x4E5E [0x24] CREATE_DIALOG(message_id=8113*, default_option=0*, option_flags=0x03)
    → "What will you do?\u0007\u000BShow her a scale.\u0007Ask about the Serpentine Labyrinth.\u0007Cheer Arciela on.\u007F1\u0000\u0007"
 33: 0x4E65 [0x25] WAIT_DIALOG_SELECT()
 34: 0x4E66 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x4F19
 35: 0x4E6E [0x52] END_LOAD_SCHEDULER: End scheduler "s170" with entities [EventEntity, EventEntity], work=632*
 36: 0x4E7D [0x45] LOAD_SCHEDULED_TASK(work_offset1=632*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s008", work_offset2=0*)
 37: 0x4E8E [0x27] REQ_SET(priority=0x05, entity_id=LocalPlayer, tag_num=0x06)
 38: 0x4E95 [0x1C] WAIT(150* ticks)
 39: 0x4E98 [0x81] SET_ENTITY_BLINKING(blink_flag=0x00, entity=Arciela (ID: 17940511/0x0111C01F))
 40: 0x4E9E [0x5B] LOAD_EXT_SCHEDULER(work_offset=3219*, entity1=Arciela (ID: 17940511/0x0111C01F), entity2=Arciela (ID: 17940511/0x0111C01F), action="thk0")
 41: 0x4EAD [0x52] END_LOAD_SCHEDULER: End scheduler "s008" with entities [EventEntity, EventEntity], work=632*
 42: 0x4EBC [0x45] LOAD_SCHEDULED_TASK(work_offset1=632*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s171", work_offset2=0*)
 43: 0x4ECD [0x2B] Arciela (ID: 17940511/0x0111C01F) [8114*]:
    → "You say this is one of his scales? I thought it would be more...physical in form. Or does it look like this because it was sealed away for so long?\u007F1\u0000\u0007"
 44: 0x4ED4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 45: 0x4ED5 [0x2B] Arciela (ID: 17940511/0x0111C01F) [8115*]:
    → "Its light is so comfortingly warm, yet the scale itself is so frail...\u0007Perhaps there are more left to be found.\u007F1\u0000\u0007"
 46: 0x4EDC [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x4EDD [0x81] SET_ENTITY_BLINKING(blink_flag=0x01, entity=Arciela (ID: 17940511/0x0111C01F))
 48: 0x4EE3 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3219*, entity1=Arciela (ID: 17940511/0x0111C01F), entity2=Arciela (ID: 17940511/0x0111C01F), action="thk1")
 49: 0x4EF2 [0x52] END_LOAD_SCHEDULER: End scheduler "s171" with entities [EventEntity, EventEntity], work=632*
 50: 0x4F01 [0x0F] ExtData[1]->WorkLocal[3] ^= 1*
 51: 0x4F06 [0x02] IF !(ExtData[1]->WorkLocal[3] == 7*) GOTO 0x4F13
 52: 0x4F0E [0x03] ExtData[1]->WorkLocal[3] = 3*
 53: 0x4F13 [0x01] GOTO 0x4E4D

SUBROUTINE_4F19:
 54: 0x4F19 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x500C
 55: 0x4F21 [0x27] REQ_SET(priority=0x05, entity_id=LocalPlayer, tag_num=0x07)
 56: 0x4F28 [0x1C] WAIT(80* ticks)
 57: 0x4F2B [0x27] REQ_SET(priority=0x05, entity_id=LocalPlayer, tag_num=0x08)
 58: 0x4F32 [0x1C] WAIT(40* ticks)
 59: 0x4F35 [0x52] END_LOAD_SCHEDULER: End scheduler "s170" with entities [EventEntity, EventEntity], work=632*
 60: 0x4F44 [0x45] LOAD_SCHEDULED_TASK(work_offset1=632*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s172", work_offset2=0*)
 61: 0x4F55 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3217*, entity1=Arciela (ID: 17940511/0x0111C01F), entity2=Arciela (ID: 17940511/0x0111C01F), action="tlk0")
 62: 0x4F64 [0x2B] Arciela (ID: 17940511/0x0111C01F) [8116*]:
    → "I've taken a good look at the documents here in the closed stacks, and we were right in thinking that the Serpentine Labyrinth and Ra'Kaznar are the same place.\u007F1\u0000\u0007"
 63: 0x4F6B [0x23] WAIT_FOR_DIALOG_INTERACTION
 64: 0x4F6C [0x2B] Arciela (ID: 17940511/0x0111C01F) [8117*]:
    → "If so, then that means it existed in Ulbuka long before the founder king ever laid eyes on it.\u007F1\u0000\u0007"
 65: 0x4F73 [0x23] WAIT_FOR_DIALOG_INTERACTION
 66: 0x4F74 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3217*, entity1=Arciela (ID: 17940511/0x0111C01F), entity2=Arciela (ID: 17940511/0x0111C01F), action="tlk1")
 67: 0x4F83 [0x2B] Arciela (ID: 17940511/0x0111C01F) [8118*]:
    → "Then it follows that there was a civilization that came long before, one with the technology to build such an enigmatic structure.\u007F1\u0000\u0007"
 68: 0x4F8A [0x23] WAIT_FOR_DIALOG_INTERACTION
 69: 0x4F8B [0x81] SET_ENTITY_BLINKING(blink_flag=0x00, entity=Arciela (ID: 17940511/0x0111C01F))
 70: 0x4F91 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3219*, entity1=Arciela (ID: 17940511/0x0111C01F), entity2=Arciela (ID: 17940511/0x0111C01F), action="thk0")
 71: 0x4FA0 [0x52] END_LOAD_SCHEDULER: End scheduler "s172" with entities [EventEntity, EventEntity], work=632*
 72: 0x4FAF [0x45] LOAD_SCHEDULED_TASK(work_offset1=632*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s173", work_offset2=0*)
 73: 0x4FC0 [0x2B] Arciela (ID: 17940511/0x0111C01F) [8119*]:
    → "It goes without saying that we don't have any records from back then, so no matter how hard I try, it's impossible to find out more.\u007F1\u0000\u0007"
 74: 0x4FC7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 75: 0x4FC8 [0x2B] Arciela (ID: 17940511/0x0111C01F) [8120*]:
    → "Just who is this heinous fiend, and what does he want?\u007F1\u0000\u0007"
 76: 0x4FCF [0x23] WAIT_FOR_DIALOG_INTERACTION
 77: 0x4FD0 [0x81] SET_ENTITY_BLINKING(blink_flag=0x01, entity=Arciela (ID: 17940511/0x0111C01F))
 78: 0x4FD6 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3219*, entity1=Arciela (ID: 17940511/0x0111C01F), entity2=Arciela (ID: 17940511/0x0111C01F), action="thk1")
 79: 0x4FE5 [0x52] END_LOAD_SCHEDULER: End scheduler "s173" with entities [EventEntity, EventEntity], work=632*
 80: 0x4FF4 [0x0F] ExtData[1]->WorkLocal[3] ^= 2*
 81: 0x4FF9 [0x02] IF !(ExtData[1]->WorkLocal[3] == 7*) GOTO 0x5006
 82: 0x5001 [0x03] ExtData[1]->WorkLocal[3] = 3*
 83: 0x5006 [0x01] GOTO 0x4E4D

SUBROUTINE_500C:
 84: 0x500C [0x6E] LocalPlayer uses emote 12*
 85: 0x5013 [0x99] Wait for LocalPlayer animation to complete
 86: 0x5018 [0x81] SET_ENTITY_BLINKING(blink_flag=0x00, entity=Arciela (ID: 17940511/0x0111C01F))
 87: 0x501E [0x7C] Arciela (ID: 17940511/0x0111C01F)->Render.Flags2 |= 0x00
 88: 0x5024 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3216*, entity1=Arciela (ID: 17940511/0x0111C01F), entity2=Arciela (ID: 17940511/0x0111C01F), action="fh01")
 89: 0x5033 [0x1C] WAIT(90* ticks)
 90: 0x5036 [0x52] END_LOAD_SCHEDULER: End scheduler "s170" with entities [EventEntity, EventEntity], work=632*
 91: 0x5045 [0x45] LOAD_SCHEDULED_TASK(work_offset1=632*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s174", work_offset2=0*)
 92: 0x5056 [0x5B] LOAD_EXT_SCHEDULER(work_offset=3217*, entity1=Arciela (ID: 17940511/0x0111C01F), entity2=Arciela (ID: 17940511/0x0111C01F), action="tlk0")
 93: 0x5065 [0x2B] Arciela (ID: 17940511/0x0111C01F) [8121*]:
    → "I'm glad you came to visit me. I'll do whatever I can here. Stay safe--everyone's waiting for good news.\u007F1\u0000\u0007"
 94: 0x506C [0x23] WAIT_FOR_DIALOG_INTERACTION
 95: 0x506D [0x1A] CALL_SUBROUTINE(address=0x53AA)
 96: 0x5070 [0x1C] WAIT(30* ticks)
 97: 0x5073 [0x52] END_LOAD_SCHEDULER: End scheduler "s174" with entities [EventEntity, EventEntity], work=632*
 98: 0x5082 [0x27] REQ_SET(priority=0x05, entity_id=Unnamed NPC (ID: 17940512/0x0111C020), tag_num=0x02)
 99: 0x5089 [0x1C] WAIT(15* ticks)
100: 0x508C [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
101: 0x5090 [0x1C] WAIT(1* ticks)
102: 0x5093 [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
103: 0x5095 [0x46] CAMERA_CONTROL: Restore default settings
104: 0x5097 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
105: 0x50A8 [0x21] END_EVENT
106: 0x50A9 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x4F16 [0x01] GOTO 0x500C
# Dead code (unreachable instructions):
     0x5009 [0x01] GOTO 0x500C
```