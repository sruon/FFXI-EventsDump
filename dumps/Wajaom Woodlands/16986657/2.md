# Event 2

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/3       |
| Offset          | 0x0001    |
| Data Size       | 369 bytes |
| Calculated Size | 369 bytes |
| Instructions    | 57        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 02 09 10 00 80 00  0D 00 38 01 80 03 02 10   B........8.....
0010: 02 80 48 03 80 23 48 04  80 23 03 02 10 02 80 24  ..H..#H..#.....$
0020: 05 80 06 80 06 80 25 02  00 10 00 80 00 39 00 48  ......%......9.H
0030: 07 80 23 01 1A 00 01 39  00 1A 07 03 46 01 38 01  ..#....9....F.8.
0040: 80 94 01 F0 FF FF 7F 94  01 23 32 03 01 94 01 24  .........#2....$
0050: 32 03 01 29 10 23 32 03  01 03 29 10 24 32 03 01  2..).#2...).$2..
0060: 03 29 10 F0 FF FF 7F 0D  80 23 32 03 01 80 24 32  .).......#2...$2
0070: 03 01 80 F0 FF FF 7F 4A  F0 FF FF 7F 22 32 03 01  .......J...."2..
0080: 1C 08 80 45 09 80 F0 FF  FF 7F F0 FF FF 7F 6F 64  ...E..........od
0090: 30 30 06 80 1A E6 02 1C  0A 80 2C F0 FF FF 7F F0  00........,.....
00A0: FF FF 7F 73 73 69 74 52  09 80 F0 FF FF 7F F0 FF  ...ssitR........
00B0: FF 7F 6F 64 30 30 45 09  80 F0 FF FF 7F F0 FF FF  ..od00E.........
00C0: 7F 6F 64 30 32 06 80 73  0B 80 23 32 03 01 F0 FF  .od02..s..#2....
00D0: FF 7F 27 10 20 32 03 01  03 27 10 F0 FF FF 7F 0F  ..'. 2...'......
00E0: 55 09 80 F0 FF FF 7F F0  FF FF 7F 6F 64 30 32 45  U..........od02E
00F0: 09 80 F0 FF FF 7F F0 FF  FF 7F 6F 64 30 33 06 80  ..........od03..
0100: 55 09 80 F0 FF FF 7F F0  FF FF 7F 6F 64 30 33 45  U..........od03E
0110: 09 80 F0 FF FF 7F F0 FF  FF 7F 6F 64 30 31 06 80  ..........od01..
0120: 1C 0C 80 1A 07 03 1C 0D  80 03 02 10 02 80 48 0E  ..............H.
0130: 80 1C 0F 80 52 09 80 F0  FF FF 7F F0 FF FF 7F 6F  ....R..........o
0140: 64 30 31 45 09 80 F0 FF  FF 7F F0 FF FF 7F 30 62  d01E..........0b
0150: 6C 66 06 80 5C 00 10 80  5C 01 10 80 9A 46 00 45  lf..\...\....F.E
0160: 11 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 32 06 80  ..........fdi2..
0170: 21 00                                             !.              
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x02] IF !(Work_Zone[9] == 1*) GOTO 0x000D
  2: 0x000A [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  3: 0x000D [0x03] Work_Zone[2] = 2217*
  4: 0x0012 [0x48] [System] [7414*]:
    → "Your \u0001\u0005#\u0002\u0000\u0000\u0000 is responding to the platform...\u007F1\u0000\u0007"
  5: 0x0015 [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x0016 [0x48] [System] [7415*]:
    → "You have a sense of foreboding...\u007F1\u0000\u0007"
  7: 0x0019 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x001A [0x03] Work_Zone[2] = 2217*
  9: 0x001F [0x24] CREATE_DIALOG(message_id=7416*, default_option=0*, option_flags=0*)
    → "Bring the \u0001\u0005#\u0002\u0000\u0000\u0000 closer?\u0007\u000BHere goes...\u0007Ah, maybe not...\u007F1\u0000\u0007"
 10: 0x0026 [0x25] WAIT_DIALOG_SELECT()
 11: 0x0027 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0039
 12: 0x002F [0x48] [System] [7420*]:
    → "Your \u0001\u0005#\u0002\u0000\u0000\u0000 is responding strongly to the platform...\u007F6\u0002\u0007You sense some strange connection...\u007F1\u0000\u0007"
 13: 0x0032 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0033 [0x01] GOTO 0x001A

SUBROUTINE_0039:
 15: 0x0039 [0x1A] CALL_SUBROUTINE(address=0x0307)
 16: 0x003C [0x46] CAMERA_CONTROL: Disable user control
 17: 0x003E [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 18: 0x0041 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 19: 0x0047 [0x94] Unnamed NPC (ID: 16986659/0x01033223)->Render.Flags3 ^= 0x01
 20: 0x004D [0x94] Unnamed NPC (ID: 16986660/0x01033224)->Render.Flags3 ^= 0x01
 21: 0x0053 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 16986659/0x01033223), tag_num=0x03)
 22: 0x005A [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 16986660/0x01033224), tag_num=0x03)
 23: 0x0061 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x0D)
 24: 0x0068 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16986659/0x01033223))
 25: 0x006D [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16986660/0x01033224))
 26: 0x0072 [0x80] LOAD_WAIT(entity=LocalPlayer)
 27: 0x0077 [0x4A] LocalPlayer looks at Leypoint (ID: 16986658/0x01033222)
 28: 0x0080 [0x1C] WAIT(30* ticks)
 29: 0x0083 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "od00" with entities [LocalPlayer, LocalPlayer], work=[258*, 0*]
 30: 0x0094 [0x1A] CALL_SUBROUTINE(address=0x02E6)
 31: 0x0097 [0x1C] WAIT(150* ticks)
 32: 0x009A [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "ssit" with entities [LocalPlayer, LocalPlayer]
 33: 0x00A7 [0x52] END_LOAD_SCHEDULER: End scheduler "od00" with entities [LocalPlayer, LocalPlayer], work=258*
 34: 0x00B6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "od02" with entities [LocalPlayer, LocalPlayer], work=[258*, 0*]
 35: 0x00C7 [0x73] Unnamed NPC (ID: 16986659/0x01033223) casts magic 198* on LocalPlayer
 36: 0x00D2 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 16986656/0x01033220), tag_num=0x03)
 37: 0x00D9 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x0F)
 38: 0x00E0 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "od02" with entities [LocalPlayer, LocalPlayer], work=258*
 39: 0x00EF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "od03" with entities [LocalPlayer, LocalPlayer], work=[258*, 0*]
 40: 0x0100 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "od03" with entities [LocalPlayer, LocalPlayer], work=258*
 41: 0x010F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "od01" with entities [LocalPlayer, LocalPlayer], work=[258*, 0*]
 42: 0x0120 [0x1C] WAIT(120* ticks)
 43: 0x0123 [0x1A] CALL_SUBROUTINE(address=0x0307)
 44: 0x0126 [0x1C] WAIT(180* ticks)
 45: 0x0129 [0x03] Work_Zone[2] = 2217*
 46: 0x012E [0x48] [System] [7417*]:
    → "The \u0001\u0005#\u0002\u0000\u0000\u0000 has been charged with the power of lightning!\u0000\u0007"
 47: 0x0131 [0x1C] WAIT(60* ticks)
 48: 0x0134 [0x52] END_LOAD_SCHEDULER: End scheduler "od01" with entities [LocalPlayer, LocalPlayer], work=258*
 49: 0x0143 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "0blf" with entities [LocalPlayer, LocalPlayer], work=[258*, 0*]
 50: 0x0154 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 149*
 51: 0x0158 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 149*
 52: 0x015C [0x9A] WAIT_MUSIC_SERVER()
 53: 0x015D [0x46] CAMERA_CONTROL: Restore default settings
 54: 0x015F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 55: 0x0170 [0x21] END_EVENT
 56: 0x0171 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0036 [0x01] GOTO 0x0039
```