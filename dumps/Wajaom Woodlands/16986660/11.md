# Event 11

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/9       |
| Offset          | 0x6FE2    |
| Data Size       | 457 bytes |
| Calculated Size | 457 bytes |
| Instructions    | 70        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
6FE0:       42 45 04 80 F8 FF  FF 7F F8 FF FF 7F 66 64    BE..........fd
6FF0: 6F 31 05 80 55 04 80 F8  FF FF 7F F8 FF FF 7F 66  o1..U..........f
7000: 64 6F 31 46 01 38 06 80  43 00 43 01 03 00 00 09  do1F.8..C.C.....
7010: 10 34 BD 83 77 43 80 2B  80 1C 12 80 AB 09 B4 0D  .4..wC.+........
7020: 1C 0F 80 5C 00 90 80 5C  01 90 80 9A BB 27 80 F8  ...\...\.....'..
7030: FF FF 7F F8 FF FF 7F 73  30 30 30 05 80 45 04 80  .......s000..E..
7040: F8 FF FF 7F F8 FF FF 7F  66 64 69 31 05 80 1C 0F  ........fdi1....
7050: 81 45 BE 83 F0 FF FF 7F  F0 FF FF 7F 73 69 6E 70  .E..........sinp
7060: 05 80 BB 27 80 F8 FF FF  7F F8 FF FF 7F 6D 61 69  ...'.........mai
7070: 6E 05 80 1C BF 83 45 04  80 F8 FF FF 7F F8 FF FF  n.....E.........
7080: 7F 66 64 6F 30 05 80 55  04 80 F8 FF FF 7F F8 FF  .fdo0..U........
7090: FF 7F 66 64 6F 30 B4 0E  34 BD 81 77 43 80 2B 80  ..fdo0..4..wC.+.
70A0: 1C 12 80 AB 09 4E 00 75  32 03 01 4E 00 78 32 03  .....N.u2..N.x2.
70B0: 01 4E 00 94 32 03 01 BA  75 32 03 01 C0 83 C1 83  .N..2...u2......
70C0: C2 83 C3 83 BA 78 32 03  01 C4 83 C5 83 C6 83 C7  .....x2.........
70D0: 83 BA 94 32 03 01 C8 83  C9 83 CA 83 05 80 80 75  ...2...........u
70E0: 32 03 01 80 78 32 03 01  80 94 32 03 01 BB CB 83  2...x2....2.....
70F0: F8 FF FF 7F F8 FF FF 7F  73 30 30 30 05 80 1C 12  ........s000....
7100: 80 45 04 80 F8 FF FF 7F  F8 FF FF 7F 66 64 69 31  .E..........fdi1
7110: 05 80 1C 4C 80 BB CB 83  F8 FF FF 7F F8 FF FF 7F  ...L............
7120: 73 30 30 31 05 80 1C 04  80 45 BE 83 F0 FF FF 7F  s001.....E......
7130: F0 FF FF 7F 68 69 74 30  05 80 1C CC 83 45 04 80  ....hit0.....E..
7140: F8 FF FF 7F F8 FF FF 7F  66 64 6F 31 05 80 55 04  ........fdo1..U.
7150: 80 F8 FF FF 7F F8 FF FF  7F 66 64 6F 31 4E 01 75  .........fdo1N.u
7160: 32 03 01 4E 01 78 32 03  01 4E 01 94 32 03 01 1C  2..N.x2..N..2...
7170: 2F 80 AB 11 05 80 1C 2B  80 35 BD 81 78 1C 2F 80  /......+.5..x./.
7180: AB 0A 02 00 00 05 80 00  8D 71 30 21 00 5C 00 C2  .........q0!.\..
7190: 81 5C 01 C2 81 9A 46 00  45 04 80 F0 FF FF 7F F0  .\....F.E.......
71A0: FF FF 7F 66 64 69 32 05  80 21 00                 ...fdi2..!.     
```

## Opcodes

```
  0: 0x6FE2 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x6FE3 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  2: 0x6FF4 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
  3: 0x7003 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x7005 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x7008 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
  6: 0x700A [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
  7: 0x700C [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[9]
  8: 0x7011 [0x34] LOAD_UNLOAD_ZONE(zone_id=58*)
  9: 0x7014 [0x77] SET_EVENT_TIME_WEATHER(hour=22*, weather=1*)
 10: 0x7019 [0x1C] WAIT(30* ticks)
 11: 0x701C [0xAB] EventEntity->UnknownFlag = 1 // Enable unknown flag
 12: 0x701E [0xB4] UI_WINDOW_STRING_HANDLER(case=0x0D - Set unknown flag to 1)
 13: 0x7020 [0x1C] WAIT(60* ticks)
 14: 0x7023 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 148*
 15: 0x7027 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 148*
 16: 0x702B [0x9A] WAIT_MUSIC_SERVER()
 17: 0x702C [0xBB] LOAD_EVENT_SCHEDULER_ALT: Load scheduler "s000" with entities [EventEntity, EventEntity], work=[90*, 0*]
 18: 0x703D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 19: 0x704E [0x1C] WAIT(100* ticks)
 20: 0x7051 [0x45] LOAD_SCHEDULED_TASK(work_offset1=312*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="sinp", work_offset2=0*)
 21: 0x7062 [0xBB] LOAD_EVENT_SCHEDULER_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[90*, 0*]
 22: 0x7073 [0x1C] WAIT(310* ticks)
 23: 0x7076 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo0", work_offset2=0*)
 24: 0x7087 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo0")
 25: 0x7096 [0xB4] UI_WINDOW_STRING_HANDLER(case=0x0E - Set unknown flag to 0)
 26: 0x7098 [0x34] LOAD_UNLOAD_ZONE(zone_id=51*)
 27: 0x709B [0x77] SET_EVENT_TIME_WEATHER(hour=22*, weather=1*)
 28: 0x70A0 [0x1C] WAIT(30* ticks)
 29: 0x70A3 [0xAB] EventEntity->UnknownFlag = 1 // Enable unknown flag
 30: 0x70A5 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 16986741/0x01033275)
 31: 0x70AB [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 16986744/0x01033278)
 32: 0x70B1 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 16986772/0x01033294)
 33: 0x70B7 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 16986741/0x01033275), pos_x=14.187*, pos_z=42.898*, pos_y=-15.614*, direction=184.6°*)
 34: 0x70C4 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 16986744/0x01033278), pos_x=21.191*, pos_z=43.593*, pos_y=-15.500*, direction=272.6°*)
 35: 0x70D1 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 16986772/0x01033294), pos_x=6.711*, pos_z=36.998*, pos_y=-15.832*, direction=0.0°*)
 36: 0x70DE [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16986741/0x01033275))
 37: 0x70E3 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16986744/0x01033278))
 38: 0x70E8 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16986772/0x01033294))
 39: 0x70ED [0xBB] LOAD_EVENT_SCHEDULER_ALT: Load scheduler "s000" with entities [EventEntity, EventEntity], work=[94*, 0*]
 40: 0x70FE [0x1C] WAIT(30* ticks)
 41: 0x7101 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 42: 0x7112 [0x1C] WAIT(20* ticks)
 43: 0x7115 [0xBB] LOAD_EVENT_SCHEDULER_ALT: Load scheduler "s001" with entities [EventEntity, EventEntity], work=[94*, 0*]
 44: 0x7126 [0x1C] WAIT(200* ticks)
 45: 0x7129 [0x45] LOAD_SCHEDULED_TASK(work_offset1=312*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="hit0", work_offset2=0*)
 46: 0x713A [0x1C] WAIT(330* ticks)
 47: 0x713D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 48: 0x714E [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
 49: 0x715D [0x4E] SET_ENTITY_HIDE_FLAG: Hide Unnamed NPC (ID: 16986741/0x01033275)
 50: 0x7163 [0x4E] SET_ENTITY_HIDE_FLAG: Hide Unnamed NPC (ID: 16986744/0x01033278)
 51: 0x7169 [0x4E] SET_ENTITY_HIDE_FLAG: Hide Unnamed NPC (ID: 16986772/0x01033294)
 52: 0x716F [0x1C] WAIT(15* ticks)
 53: 0x7172 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 54: 0x7176 [0x1C] WAIT(1* ticks)
 55: 0x7179 [0x35] LOAD_ZONE_NO_CLOSE(zone_id=51*)
 56: 0x717C [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 57: 0x717D [0x1C] WAIT(15* ticks)
 58: 0x7180 [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 59: 0x7182 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x718D
 60: 0x718A [0x30] SET_UCOFF_CONTINUE_ZERO()
 61: 0x718B [0x21] END_EVENT
 62: 0x718C [0x00] END_REQSTACK()

SUBROUTINE_718D:
 63: 0x718D [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 149*
 64: 0x7191 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 149*
 65: 0x7195 [0x9A] WAIT_MUSIC_SERVER()
 66: 0x7196 [0x46] CAMERA_CONTROL: Restore default settings
 67: 0x7198 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 68: 0x71A9 [0x21] END_EVENT
 69: 0x71AA [0x00] END_REQSTACK()
```
