# Event 32757

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 714 bytes |
| Calculated Size | 714 bytes |
| Instructions    | 64        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    06 01 10 1E F0 FF FF  7F 1D 00 80 23 2C F8 FF   ...........#,..
0010: FF 7F F8 FF FF 7F 65 78  70 30 1D 01 80 23 2C F8  ......exp0...#,.
0020: FF FF 7F F8 FF FF 7F 65  78 70 31 48 02 80 23 48  .......exp1H..#H
0030: 03 80 23 03 01 10 04 80  43 00 43 01 02 08 10 05  ..#.....C.C.....
0040: 80 80 99 01 03 02 10 06  80 2C F8 FF FF 7F F8 FF  .........,......
0050: FF 7F 74 6C 6B 30 1D 07  80 23 2C F8 FF FF 7F F8  ..tlk0...#,.....
0060: FF FF 7F 74 6C 6B 31 06  00 00 03 01 00 08 80 9D  ...tlk1.........
0070: 0A BB 02 03 10 05 80 09  80 9D 0A BB 02 04 10 0A  ................
0080: 80 09 80 9D 0A BB 02 05  10 06 80 09 80 9D 0A BB  ................
0090: 02 06 10 0B 80 09 80 9D  0A BB 02 07 10 0C 80 09  ................
00A0: 80 9D 0A BB 02 08 10 0D  80 09 80 9D 0A BB 02 09  ................
00B0: 10 0E 80 09 80 03 00 17  05 80 D4 03 0A 80 03 10  ................
00C0: D4 03 06 80 04 10 D4 03  0B 80 05 10 D4 03 0C 80  ................
00D0: 06 10 D4 03 0D 80 07 10  D4 03 0E 80 08 10 D4 03  ................
00E0: 09 80 09 10 D4 03 0F 80  00 17 D4 02 10 80 00 00  ................
00F0: 01 00 25 02 00 10 05 80  00 1C 01 2C F8 FF FF 7F  ..%........,....
0100: F8 FF FF 7F 74 6C 6B 30  1D 11 80 23 2C F8 FF FF  ....tlk0...#,...
0110: 7F F8 FF FF 7F 74 6C 6B  31 01 91 01 03 01 10 00  .....tlk1.......
0120: 10 0C 01 10 03 00 00 00  10 03 01 17 00 00 0C 01  ................
0130: 17 9D 0A BB 02 01 17 01  17 09 80 D4 03 05 80 01  ................
0140: 17 D4 03 0A 80 01 17 D4  02 12 80 0A 80 05 80 25  ...............%
0150: 02 00 10 05 80 00 83 01  42 1D 13 80 23 43 00 43  ........B...#C.C
0160: 01 02 02 10 05 80 02 80  01 02 08 10 0A 80 00 7D  ...............}
0170: 01 2E 03 02 10 0A 80 01  6A 00 01 7D 01 01 80 01  ........j..}....
0180: 01 91 01 02 00 10 0A 80  00 91 01 01 6A 00 01 91  ............j...
0190: 01 03 01 10 14 80 01 B9  02 02 08 10 0A 80 80 CA  ................
01A0: 01 03 02 10 0A 80 2C F8  FF FF 7F F8 FF FF 7F 74  ......,........t
01B0: 6C 6B 30 1D 15 80 23 2C  F8 FF FF 7F F8 FF FF 7F  lk0...#,........
01C0: 74 6C 6B 31 01 6A 00 01  B9 02 02 08 10 06 80 80  tlk1.j..........
01D0: B9 02 02 09 10 05 80 00  93 02 1D 16 80 23 2C F8  .............#,.
01E0: FF FF 7F F8 FF FF 7F 65  78 70 30 1D 17 80 23 1D  .......exp0...#.
01F0: 18 80 23 2C F8 FF FF 7F  F8 FF FF 7F 65 78 70 31  ..#,........exp1
0200: 24 19 80 05 80 05 80 25  02 00 10 05 80 00 36 02  $......%......6.
0210: 2C F8 FF FF 7F F8 FF FF  7F 74 6C 6B 30 03 01 10  ,........tlk0...
0220: 14 80 1D 1A 80 23 2C F8  FF FF 7F F8 FF FF 7F 74  .....#,........t
0230: 6C 6B 31 01 90 02 02 00  10 0A 80 00 63 02 42 2C  lk1.........c.B,
0240: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 06 01 10 1D  ........tlk0....
0250: 1B 80 23 2C F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 31  ..#,........tlk1
0260: 01 90 02 02 00 10 06 80  00 90 02 42 2C F8 FF FF  ...........B,...
0270: 7F F8 FF FF 7F 74 6C 6B  30 05 01 10 1D 1C 80 23  .....tlk0......#
0280: 2C F8 FF FF 7F F8 FF FF  7F 74 6C 6B 31 01 90 02  ,........tlk1...
0290: 01 B6 02 2C F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 30  ...,........tlk0
02A0: 1D 1D 80 23 2C F8 FF FF  7F F8 FF FF 7F 74 6C 6B  ...#,........tlk
02B0: 31 03 01 10 14 80 01 B9  02 21 00 1E 80 1F 80 20  1........!..... 
02C0: 80 21 80 22 80 23 80 24  80 05 80                 .!.".#.$...     
```

## Opcodes

```
  0: 0x0001 [0x06] Work_Zone[1] = 0
  1: 0x0004 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0009 [0x1D] PRINT_EVENT_MESSAGE(message_id=7753*)
    → "Vana'diel is abuzz with \u00072Adventurer Appreciation\u00073 fever, kupo!\u007F1\u0000\u0007"
  3: 0x000C [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x000D [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "exp0" with entities [EventEntity, EventEntity]
  5: 0x001A [0x1D] PRINT_EVENT_MESSAGE(message_id=7754*)
    → "We moogles have prepared some nice little goodies and gathered lots of top-secret information on adventurer activity, kupo!\u0007Let me check my journal for your statistical data...\u007F1\u0000\u0007"
  6: 0x001D [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x001E [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "exp1" with entities [EventEntity, EventEntity]
  8: 0x002B [0x48] [System] [7755*]:
    → "Chat Frequency: 
\u0000\u0007Conversations With NPCs: 
\u0001\u0007Parties Joined: 
\u0002\u0007Alliances Joined: 
\u0003\u007F1\u0000\u0007"
  9: 0x002E [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x002F [0x48] [System] [7756*]:
    → "Battles Fought: 
\u0004\u0007Number of Times KO'd: 
\u0005\u0007Enemies Defeated: 
\u0006\u0007GM Calls Made: 
\u0007\u007F1\u0000\u0007"
 11: 0x0032 [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x0033 [0x03] Work_Zone[1] = 99*
 13: 0x0038 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 14: 0x003A [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 15: 0x003C [0x02] IF !(Work_Zone[8] == 0*) GOTO 0x0199
 16: 0x0044 [0x03] Work_Zone[2] = 2*
 17: 0x0049 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "tlk0" with entities [EventEntity, EventEntity]
 18: 0x0056 [0x1D] PRINT_EVENT_MESSAGE(message_id=7759*)
    → "Take a look--and to think, you can select 
\u0000 more amazing anniversary items!\u007F1\u0000\u0007"
 19: 0x0059 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x005A [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "tlk1" with entities [EventEntity, EventEntity]
 21: 0x0067 [0x06] ExtData[1]->WorkLocal[0] = 0
 22: 0x006A [0x03] ExtData[1]->WorkLocal[1] = 256*
 23: 0x006F [0x9D] IF (0x02BB) 0* = Work_Zone[3] // extra=0x8009
 24: 0x0079 [0x9D] IF (0x02BB) 1* = Work_Zone[4] // extra=0x8009
 25: 0x0083 [0x9D] IF (0x02BB) 2* = Work_Zone[5] // extra=0x8009
 26: 0x008D [0x9D] IF (0x02BB) 3* = Work_Zone[6] // extra=0x8009
 27: 0x0097 [0x9D] IF (0x02BB) 4* = Work_Zone[7] // extra=0x8009
 28: 0x00A1 [0x9D] IF (0x02BB) 5* = Work_Zone[8] // extra=0x8009
 29: 0x00AB [0x9D] IF (0x02BB) 6* = Work_Zone[9] // extra=0x8009
 30: 0x00B5 [0x03] Work_Zone_1700[0] = 0*
 31: 0x00BA [0xD4] MAP_QUERY_WINDOW: Prepare buffer configuration A (buffer=[0A 80 03 10 D4 03 06 80...])
 32: 0x00D8 [0xD4] MAP_QUERY_WINDOW: Prepare buffer configuration A (buffer=[0E 80 08 10 D4 03 09 80...])
 33: 0x00F6 [0x05] 0x80 = 1
 34: 0x00F9 [0x1C] WAIT(0x2C01 ticks)
 35: 0x00FC [0xF8] UNKNOWN_OPCODE_0xF8
 36: 0x00FD [0xFF] UNKNOWN_OPCODE_0xFF
 37: 0x00FE [0xFF] UNKNOWN_OPCODE_0xFF
 38: 0x00FF [0x7F] WAIT_DIALOG_SELECT_ALT()
 39: 0x0100 [0xF8] UNKNOWN_OPCODE_0xF8
 40: 0x0101 [0xFF] UNKNOWN_OPCODE_0xFF
 41: 0x0102 [0xFF] UNKNOWN_OPCODE_0xFF
 42: 0x0103 [0x7F] WAIT_DIALOG_SELECT_ALT()
 43: 0x0104 [0x74] EventEntity->Render.Flags1 |= 0x6C
 44: 0x0106 [0x6B] STOP_AND_IDLE: Unknown NPC (ID: 4294454307/0xFFF82C23) stops current action and resets to idle (animation=0x80111D30)
 45: 0x010F [0xFF] UNKNOWN_OPCODE_0xFF
 46: 0x0110 [0x7F] WAIT_DIALOG_SELECT_ALT()
 47: 0x0111 [0xF8] UNKNOWN_OPCODE_0xF8
 48: 0x0112 [0xFF] UNKNOWN_OPCODE_0xFF
 49: 0x0113 [0xFF] UNKNOWN_OPCODE_0xFF
 50: 0x0114 [0x7F] WAIT_DIALOG_SELECT_ALT()
 51: 0x0115 [0x74] EventEntity->Render.Flags1 |= 0x6C
 52: 0x0117 [0x6B] STOP_AND_IDLE: Unknown NPC (ID: 1048835/0x00100103) stops current action and resets to idle (animation=0x01910131)
 53: 0x0120 [0x10] 0x010C <<= 0x0310
 54: 0x0125 [0x00] END_REQSTACK()

SUBROUTINE_0290:
 55: 0x0290 [0x01] GOTO 0x02B6
 56: 0x0293 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "tlk0" with entities [EventEntity, EventEntity]
 57: 0x02A0 [0x1D] PRINT_EVENT_MESSAGE(message_id=7757*)
    → "There's your adventuring life in a nutshell!\u007F1\u0000\u0007"
 58: 0x02A3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0x02A4 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "tlk1" with entities [EventEntity, EventEntity]
 60: 0x02B1 [0x03] Work_Zone[1] = 1073741824*
 61: 0x02B6 [0x01] GOTO 0x02B9

SUBROUTINE_02B9:
 62: 0x02B9 [0x21] END_EVENT
 63: 0x02BA [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0126 [0x00] END_REQSTACK()
     0x0127 [0x00] END_REQSTACK()
     0x0128 [0x10] 0x0103 <<= ExtData[1]->WorkLocal[23]
     0x012D [0x00] END_REQSTACK()
     0x012E [0x0C] Work_Zone_1700[1]--
     0x0131 [0x9D] IF (0x02BB) Work_Zone_1700[1] = Work_Zone_1700[1] // extra=0x8009
     0x013B [0xD4] MAP_QUERY_WINDOW: Prepare buffer configuration A (buffer=[05 80 01 17 D4 03 0A 80...])
     0x0159 [0x1D] PRINT_EVENT_MESSAGE(message_id=7764*)
    → "An excellent choice! I hope you enjoy your brand-new \u0001\u0005#\u0002	\u0000\u0000!\u007F1\u0000\u0007"
     0x015C [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x015D [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
     0x015F [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
     0x0161 [0x02] IF !(Work_Zone[2] <= 0*) GOTO 0x0180
     0x0169 [0x02] IF !(Work_Zone[8] == 1*) GOTO 0x017D
     0x0171 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
     0x0172 [0x03] Work_Zone[2] = 1*
     0x0177 [0x01] GOTO 0x006A
     0x017A [0x01] GOTO 0x017D
     0x017D [0x01] GOTO 0x0180
     0x0180 [0x01] GOTO 0x0191
     0x0183 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0191
     0x018B [0x01] GOTO 0x006A
     0x018E [0x01] GOTO 0x0191
     0x0191 [0x03] Work_Zone[1] = 1073741824*
     0x0196 [0x01] GOTO 0x02B9
     0x01C7 [0x01] GOTO 0x02B9
# Dead code (unreachable instructions):
     0x02BB [0x1E] EventEntity looks at Unknown NPC (ID: 545267584/0x20801F80) and starts talking
     0x02C0 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2149744673/0x80228021))
     0x02C5 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x02C6 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147844132/0x80058024))
```