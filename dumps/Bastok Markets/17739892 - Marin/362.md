# Event 362

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/12      |
| Offset          | 0x036B    |
| Data Size       | 159 bytes |
| Calculated Size | 159 bytes |
| Instructions    | 37        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0360:                                   1E F0 FF FF 7F             .....
0370: 6F 70 66 01 80 F8 FF FF  7F F8 FF FF 7F 74 6C 6B  opf..........tlk
0380: 30 1D 25 80 23 1D 26 80  23 1A 79 05 24 27 80 0E  0.%.#.&.#.y.$'..
0390: 80 00 80 25 02 00 10 00  80 00 E8 03 42 4A 75 B0  ...%........BJu.
03A0: 0E 01 F0 FF FF 7F 6F 76  75 B0 0E 01 66 01 80 F8  ......ovu...f...
03B0: FF FF 7F F8 FF FF 7F 74  6C 6B 30 1D 20 80 23 66  .......tlk0. .#f
03C0: 03 80 75 B0 0E 01 75 B0  0E 01 74 6C 6B 30 2B 75  ..u...u...tlk0+u
03D0: B0 0E 01 21 80 23 1A A3  05 1D 22 80 23 1A 79 05  ...!.#....".#.y.
03E0: 03 01 10 0E 80 01 08 04  02 00 10 0E 80 00 08 04  ................
03F0: 6E F8 FF FF 7F 28 80 99  F8 FF FF 7F 1D 24 80 23  n....(.......$.#
0400: 99 F8 FF FF 7F 01 08 04  21 00                    ........!.      
```

## Opcodes

```
  0: 0x036B [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0370 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0371 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0372 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=19*
  4: 0x0381 [0x1D] PRINT_EVENT_MESSAGE(message_id=8482*)
    → "My brother was accused of cheating on his military academy entrance examination and has been ordered to take a make-up test...\u007F1\u0000\u0007"
  5: 0x0384 [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x0385 [0x1D] PRINT_EVENT_MESSAGE(message_id=8483*)
    → "Please, will you accompany him?\u007F1\u0000\u0007"
  7: 0x0388 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x0389 [0x1A] CALL_SUBROUTINE(address=0x0579)
  9: 0x038C [0x24] CREATE_DIALOG(message_id=8484*, default_option=1*, option_flags=0*)
    → "Babysit Marin's brother?\u0007\u000BNo problem.\u0007Not this time.\u007F1\u0000\u0007"
 10: 0x0393 [0x25] WAIT_DIALOG_SELECT()
 11: 0x0394 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x03E8
 12: 0x039C [0x42] SET_CLI_EVENT_CANCEL_DATA()
 13: 0x039D [0x4A] Ken (ID: 17739893/0x010EB075) looks at LocalPlayer
 14: 0x03A6 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 15: 0x03A7 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Ken (ID: 17739893/0x010EB075) Render.Flags0 and Render.Flags3 conditions are met
 16: 0x03AC [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=19*
 17: 0x03BB [0x1D] PRINT_EVENT_MESSAGE(message_id=8471*)
    → "Oh, thank you thank you thank you thank you!\u0007Now I can rest easy knowing that a powerful adventurer will be by Ken's side.\u007F1\u0000\u0007"
 18: 0x03BE [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x03BF [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Ken (ID: 17739893/0x010EB075), Ken (ID: 17739893/0x010EB075)], work=9*
 20: 0x03CE [0x2B] Ken (ID: 17739893/0x010EB075) [8472*]:
    → "Hmph...\u0007You can tag along if you like--just don't get in my way!\u007F1\u0000\u0007"
 21: 0x03D5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x03D6 [0x1A] CALL_SUBROUTINE(address=0x05A3)
 23: 0x03D9 [0x1D] PRINT_EVENT_MESSAGE(message_id=8473*)
    → "The Wadi is an evil place crawling with ferocious beasts. Don't allow any of them to lay a finger on my brother.\u007F1\u0000\u0007"
 24: 0x03DC [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x03DD [0x1A] CALL_SUBROUTINE(address=0x0579)
 26: 0x03E0 [0x03] Work_Zone[1] = 1*
 27: 0x03E5 [0x01] GOTO 0x0408
 28: 0x03E8 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0408
 29: 0x03F0 [0x6E] EventEntity uses emote 32*
 30: 0x03F7 [0x99] Wait for EventEntity animation to complete
 31: 0x03FC [0x1D] PRINT_EVENT_MESSAGE(message_id=8475*)
    → "Oh, what am I to do... I don't want to be an only child...\u007F1\u0000\u0007"
 32: 0x03FF [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x0400 [0x99] Wait for EventEntity animation to complete
 34: 0x0405 [0x01] GOTO 0x0408

SUBROUTINE_0408:
 35: 0x0408 [0x21] END_EVENT
 36: 0x0409 [0x00] END_REQSTACK()
```
