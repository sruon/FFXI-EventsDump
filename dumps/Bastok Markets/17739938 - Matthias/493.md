# Event 493

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/12      |
| Offset          | 0x001F    |
| Data Size       | 392 bytes |
| Calculated Size | 392 bytes |
| Instructions    | 74        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0010:                                               42                 B
0020: 03 00 00 01 80 02 02 10  03 80 00 32 00 03 00 00  ...........2....
0030: 03 80 02 03 10 03 80 00  3F 00 0E 00 00 04 80 02  ........?.......
0040: 04 10 03 80 00 4C 00 0E  00 00 05 80 1E F0 FF FF  .....L..........
0050: 7F 1C 00 80 66 01 80 F8  FF FF 7F F8 FF FF 7F 74  ....f..........t
0060: 6C 6B 30 1D 06 80 23 66  01 80 F8 FF FF 7F F8 FF  lk0...#f........
0070: FF 7F 74 65 6E 30 03 02  10 07 80 03 03 10 08 80  ..ten0..........
0080: 03 04 10 09 80 24 0A 80  01 80 00 00 25 02 00 10  .....$......%...
0090: 01 80 00 BD 00 03 03 10  0B 80 03 04 10 0C 80 03  ................
00A0: 05 10 0D 80 03 01 10 03  80 02 8B 7F 03 80 00 B7  ................
00B0: 00 93 07 80 01 BA 00 93  0E 80 01 4C 01 02 00 10  ...........L....
00C0: 03 80 00 F2 00 03 02 10  08 80 03 03 10 0F 80 03  ................
00D0: 04 10 10 80 03 05 10 11  80 03 01 10 04 80 02 8B  ................
00E0: 7F 03 80 00 EC 00 93 08  80 01 EF 00 93 12 80 01  ................
00F0: 4C 01 02 00 10 04 80 00  27 01 03 02 10 09 80 03  L.......'.......
0100: 03 10 13 80 03 04 10 14  80 03 05 10 15 80 03 01  ................
0110: 10 16 80 02 8B 7F 03 80  00 21 01 93 09 80 01 24  .........!.....$
0120: 01 93 17 80 01 4C 01 02  00 10 16 80 00 4C 01 03  .....L.......L..
0130: 01 10 01 80 66 01 80 F8  FF FF 7F F8 FF FF 7F 74  ....f..........t
0140: 6C 6B 30 1D 18 80 23 21  00 01 4C 01 66 01 80 F8  lk0...#!..L.f...
0150: FF FF 7F F8 FF FF 7F 74  6C 6B 30 1D 19 80 23 66  .......tlk0...#f
0160: 01 80 F8 FF FF 7F F8 FF  FF 7F 74 65 6E 30 93 01  ..........ten0..
0170: 80 24 1A 80 03 80 01 80  25 02 00 10 01 80 00 97  .$......%.......
0180: 01 66 01 80 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 30  .f..........tlk0
0190: 1D 1B 80 23 01 A5 01 02  00 10 03 80 00 A5 01 01  ...#............
01A0: 76 00 01 A5 01 21 00                              v....!.         
```

## Opcodes

```
  0: 0x001F [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0020 [0x03] ExtData[1]->WorkLocal[0] = 0*
  2: 0x0025 [0x02] IF !(Work_Zone[2] == 1*) GOTO 0x0032
  3: 0x002D [0x03] ExtData[1]->WorkLocal[0] = 1*
  4: 0x0032 [0x02] IF !(Work_Zone[3] == 1*) GOTO 0x003F
  5: 0x003A [0x0E] ExtData[1]->WorkLocal[0] |= 2*
  6: 0x003F [0x02] IF !(Work_Zone[4] == 1*) GOTO 0x004C
  7: 0x0047 [0x0E] ExtData[1]->WorkLocal[0] |= 4*
  8: 0x004C [0x1E] EventEntity looks at LocalPlayer and starts talking
  9: 0x0051 [0x1C] WAIT(30* ticks)
 10: 0x0054 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=0*
 11: 0x0063 [0x1D] PRINT_EVENT_MESSAGE(message_id=12453*)
    → "Would you like to have something made?\u007F1\u0000\u0007"
 12: 0x0066 [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x0067 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "ten0" with entities [EventEntity, EventEntity], work=0*
 14: 0x0076 [0x03] Work_Zone[2] = 16138*
 15: 0x007B [0x03] Work_Zone[3] = 15002*
 16: 0x0080 [0x03] Work_Zone[4] = 15746*
 17: 0x0085 [0x24] CREATE_DIALOG(message_id=12433*, default_option=0*, option_flags=ExtData[1]->WorkLocal[0])
    → "Which will you have made?\u0007\u000B\u007F\u0000\u0001\u0001\u0005#\u0002\u0000\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0001\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0002\u0000\u0000.\u0007Nothing.\u007F1\u0000\u0007"
 18: 0x008C [0x25] WAIT_DIALOG_SELECT()
 19: 0x008D [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00BD
 20: 0x0095 [0x03] Work_Zone[3] = 2340*
 21: 0x009A [0x03] Work_Zone[4] = 2010*
 22: 0x009F [0x03] Work_Zone[5] = 1991*
 23: 0x00A4 [0x03] Work_Zone[1] = 1*
 24: 0x00A9 [0x02] IF !((LocalPlayer->Render.Flags01 >> 25) & 1 == 1*) GOTO 0x00B7
 25: 0x00B1 [0x93] DISPLAY_ITEM_INFO(item_id=16138*)
 26: 0x00B4 [0x01] GOTO 0x00BA
 27: 0x00B7 [0x93] DISPLAY_ITEM_INFO(item_id=16139*)

SUBROUTINE_00BA:
 28: 0x00BA [0x01] GOTO 0x014C
 29: 0x00BD [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00F2
 30: 0x00C5 [0x03] Work_Zone[2] = 15002*
 31: 0x00CA [0x03] Work_Zone[3] = 2288*
 32: 0x00CF [0x03] Work_Zone[4] = 830*
 33: 0x00D4 [0x03] Work_Zone[5] = 1996*
 34: 0x00D9 [0x03] Work_Zone[1] = 2*
 35: 0x00DE [0x02] IF !((LocalPlayer->Render.Flags01 >> 25) & 1 == 1*) GOTO 0x00EC
 36: 0x00E6 [0x93] DISPLAY_ITEM_INFO(item_id=15002*)
 37: 0x00E9 [0x01] GOTO 0x00EF
 38: 0x00EC [0x93] DISPLAY_ITEM_INFO(item_id=15003*)

SUBROUTINE_00EF:
 39: 0x00EF [0x01] GOTO 0x014C
 40: 0x00F2 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0127
 41: 0x00FA [0x03] Work_Zone[2] = 15746*
 42: 0x00FF [0x03] Work_Zone[3] = 2289*
 43: 0x0104 [0x03] Work_Zone[4] = 1636*
 44: 0x0109 [0x03] Work_Zone[5] = 1999*
 45: 0x010E [0x03] Work_Zone[1] = 3*
 46: 0x0113 [0x02] IF !((LocalPlayer->Render.Flags01 >> 25) & 1 == 1*) GOTO 0x0121
 47: 0x011B [0x93] DISPLAY_ITEM_INFO(item_id=15746*)
 48: 0x011E [0x01] GOTO 0x0124
 49: 0x0121 [0x93] DISPLAY_ITEM_INFO(item_id=15747*)

SUBROUTINE_0124:
 50: 0x0124 [0x01] GOTO 0x014C
 51: 0x0127 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x014C
 52: 0x012F [0x03] Work_Zone[1] = 0*
 53: 0x0134 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=0*
 54: 0x0143 [0x1D] PRINT_EVENT_MESSAGE(message_id=12434*)
    → "Not interested? Feel free to come back anytime you need something.\u007F1\u0000\u0007"
 55: 0x0146 [0x23] WAIT_FOR_DIALOG_INTERACTION
 56: 0x0147 [0x21] END_EVENT
 57: 0x0148 [0x00] END_REQSTACK()

SUBROUTINE_014C:
 58: 0x014C [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=0*
 59: 0x015B [0x1D] PRINT_EVENT_MESSAGE(message_id=12435*)
    → "In order to make \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000, I need \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000, and \u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000.\u0007Oh, and also \u0001\u0001\u0001 \u0001\u0005$\u0002\u0003\u0000\u0000.\u007F1\u0000\u0007"
 60: 0x015E [0x23] WAIT_FOR_DIALOG_INTERACTION
 61: 0x015F [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "ten0" with entities [EventEntity, EventEntity], work=0*
 62: 0x016E [0x93] DISPLAY_ITEM_INFO(item_id=0*)
 63: 0x0171 [0x24] CREATE_DIALOG(message_id=12436*, default_option=1*, option_flags=0*)
    → "Sounds doable?\u0007\u000BNo problem.\u0007No...\u007F1\u0000\u0007"
 64: 0x0178 [0x25] WAIT_DIALOG_SELECT()
 65: 0x0179 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0197
 66: 0x0181 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=0*
 67: 0x0190 [0x1D] PRINT_EVENT_MESSAGE(message_id=12437*)
    → "Alright then, bring me the materials and I'll get started.\u007F1\u0000\u0007"
 68: 0x0193 [0x23] WAIT_FOR_DIALOG_INTERACTION
 69: 0x0194 [0x01] GOTO 0x01A5
 70: 0x0197 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x01A5
 71: 0x019F [0x01] GOTO 0x0076

SUBROUTINE_01A5:
 72: 0x01A5 [0x21] END_EVENT
 73: 0x01A6 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0149 [0x01] GOTO 0x014C
# Dead code (unreachable instructions):
     0x01A2 [0x01] GOTO 0x01A5
```