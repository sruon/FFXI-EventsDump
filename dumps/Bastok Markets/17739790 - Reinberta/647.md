# Event 647

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 23/31     |
| Offset          | 0x13FF    |
| Data Size       | 184 bytes |
| Calculated Size | 184 bytes |
| Instructions    | 35        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
13F0:                                               03                 .
1400: 0E 00 02 10 42 4A F8 FF  FF 7F F0 FF FF 7F 4A F0  ....BJ........J.
1410: FF FF 7F F8 FF FF 7F 6F  70 1D B8 80 23 66 01 80  .......op...#f..
1420: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 1D B9 80 23  ........tlk0...#
1430: 1D BA 80 23 66 01 80 F8  FF FF 7F F8 FF FF 7F 74  ...#f..........t
1440: 6C 6B 31 1D B6 80 23 1A  2E 17 53 F8 FF FF 7F F8  lk1...#...S.....
1450: FF FF 7F 74 6C 6B 31 1C  9B 80 1A 0D 17 1C 9C 80  ...tlk1.........
1460: 66 01 80 F8 FF FF 7F F8  FF FF 7F 70 61 73 30 1D  f..........pas0.
1470: B7 80 23 53 F8 FF FF 7F  F8 FF FF 7F 70 61 73 30  ..#S........pas0
1480: 02 03 10 03 80 00 B0 14  66 01 80 F8 FF FF 7F F8  ........f.......
1490: FF FF 7F 70 61 73 30 1D  BB 80 23 53 F8 FF FF 7F  ...pas0...#S....
14A0: F8 FF FF 7F 70 61 73 30  03 01 10 0B 80 01 B5 14  ....pas0........
14B0: 03 01 10 03 80 21 00                              .....!.         
```

## Opcodes

```
  0: 0x13FF [0x03] ExtData[1]->WorkLocal[14] = Work_Zone[2]
  1: 0x1404 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x1405 [0x4A] EventEntity looks at LocalPlayer
  3: 0x140E [0x4A] LocalPlayer looks at EventEntity
  4: 0x1417 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  5: 0x1418 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  6: 0x1419 [0x1D] PRINT_EVENT_MESSAGE(message_id=15080*)
    → "So this is what the shield looks like this time around, hm?\u007F1\u0000\u0007"
  7: 0x141C [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x141D [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=10*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
  9: 0x142C [0x1D] PRINT_EVENT_MESSAGE(message_id=15081*)
    → "It's so bright... Your talent really is indisputable. I'm thinking our guild should start carrying your shields. They'd be one of our biggest sellers.\u007F1\u0000\u0007"
 10: 0x142F [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x1430 [0x1D] PRINT_EVENT_MESSAGE(message_id=15082*)
    → "Our mutual friend has mentioned that the next upgrade should unlock the shield's true power. I'm excited to see just how powerful it can become.\u007F1\u0000\u0007"
 12: 0x1433 [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x1434 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=10*, entity1=EventEntity, entity2=EventEntity, action="tlk1")
 14: 0x1443 [0x1D] PRINT_EVENT_MESSAGE(message_id=15045*)
    → "Here, let me mark the shield for when you show it to her.\u007F1\u0000\u0007"
 15: 0x1446 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x1447 [0x1A] CALL_SUBROUTINE(address=0x172E)
 17: 0x144A [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="tlk1")
 18: 0x1457 [0x1C] WAIT(60* ticks)
 19: 0x145A [0x1A] CALL_SUBROUTINE(address=0x170D)
 20: 0x145D [0x1C] WAIT(30* ticks)
 21: 0x1460 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=10*, entity1=EventEntity, entity2=EventEntity, action="pas0")
 22: 0x146F [0x1D] PRINT_EVENT_MESSAGE(message_id=15046*)
    → "That ought to do it. Show the shield to Mewk Chorosap when you get a chance.\u007F1\u0000\u0007"
 23: 0x1472 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x1473 [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="pas0")
 25: 0x1480 [0x02] IF !(Work_Zone[3] == 0*) GOTO 0x14B0
 26: 0x1488 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=10*, entity1=EventEntity, entity2=EventEntity, action="pas0")
 27: 0x1497 [0x1D] PRINT_EVENT_MESSAGE(message_id=15083*)
    → "Oh yes, that reminds me... I think you are skilled enough to use this new crafting technique I've developed. Please give it a try when you get a chance.\u007F1\u0000\u0007"
 28: 0x149A [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x149B [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="pas0")
 30: 0x14A8 [0x03] Work_Zone[1] = 1*
 31: 0x14AD [0x01] GOTO 0x14B5

SUBROUTINE_14B0:
 32: 0x14B0 [0x03] Work_Zone[1] = 0*
 33: 0x14B5 [0x21] END_EVENT
 34: 0x14B6 [0x00] END_REQSTACK()
```
