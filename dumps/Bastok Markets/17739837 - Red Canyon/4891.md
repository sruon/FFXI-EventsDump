# Event 4891

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/7       |
| Offset          | 0x0020    |
| Data Size       | 913 bytes |
| Calculated Size | 913 bytes |
| Instructions    | 39        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0020: 1A 37 03 21 00 03 00 00  06 10 1E F0 FF FF 7F 6F  .7.!...........o
0030: 70 02 00 00 01 80 00 59  00 2C F8 FF FF 7F F8 FF  p......Y.,......
0040: FF 7F 74 6C 6B 30 1D 02  80 23 1D 03 80 23 1D 04  ..tlk0...#...#..
0050: 80 23 1D 05 80 23 01 66  01 02 00 00 06 80 00 81  .#...#.f........
0060: 00 2C F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D 07  .,........tlk0..
0070: 80 23 1D 08 80 23 1D 09  80 23 1D 0A 80 23 01 66  .#...#...#...#.f
0080: 01 02 00 00 0B 80 00 A9  00 2C F8 FF FF 7F F8 FF  .........,......
0090: FF 7F 74 6C 6B 30 1D 0C  80 23 1D 0D 80 23 1D 0E  ..tlk0...#...#..
00A0: 80 23 1D 0F 80 23 01 66  01 02 00 00 10 80 00 D1  .#...#.f........
00B0: 00 2C F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D 11  .,........tlk0..
00C0: 80 23 1D 12 80 23 1D 13  80 23 1D 14 80 23 01 66  .#...#...#...#.f
00D0: 01 02 00 00 15 80 00 F9  00 2C F8 FF FF 7F F8 FF  .........,......
00E0: FF 7F 74 6C 6B 30 1D 16  80 23 1D 17 80 23 1D 18  ..tlk0...#...#..
00F0: 80 23 1D 19 80 23 01 66  01 02 00 00 1A 80 00 21  .#...#.f.......!
0100: 01 2C F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D 1B  .,........tlk0..
0110: 80 23 1D 1C 80 23 1D 1D  80 23 1D 1E 80 23 01 66  .#...#...#...#.f
0120: 01 02 00 00 1F 80 00 49  01 2C F8 FF FF 7F F8 FF  .......I.,......
0130: FF 7F 74 6C 6B 30 1D 20  80 23 1D 21 80 23 1D 22  ..tlk0. .#.!.#."
0140: 80 23 1D 23 80 23 01 66  01 2C F8 FF FF 7F F8 FF  .#.#.#.f.,......
0150: FF 7F 74 6C 6B 30 1D 24  80 23 1D 25 80 23 1D 26  ..tlk0.$.#.%.#.&
0160: 80 23 1D 27 80 23 1B 03  00 00 06 10 1E F0 FF FF  .#.'.#..........
0170: 7F 6F 70 02 00 00 01 80  00 86 01 1D 04 80 23 1D  .op...........#.
0180: 05 80 23 01 00 02 02 00  00 06 80 00 99 01 1D 09  ..#.............
0190: 80 23 1D 0A 80 23 01 00  02 02 00 00 0B 80 00 AC  .#...#..........
01A0: 01 1D 0E 80 23 1D 0F 80  23 01 00 02 02 00 00 10  ....#...#.......
01B0: 80 00 BF 01 1D 13 80 23  1D 14 80 23 01 00 02 02  .......#...#....
01C0: 00 00 15 80 00 D2 01 1D  18 80 23 1D 19 80 23 01  ..........#...#.
01D0: 00 02 02 00 00 1A 80 00  E5 01 1D 1D 80 23 1D 1E  .............#..
01E0: 80 23 01 00 02 02 00 00  1F 80 00 F8 01 1D 22 80  .#............".
01F0: 23 1D 23 80 23 01 00 02  1D 26 80 23 1D 27 80 23  #.#.#....&.#.'.#
0200: 1B 03 00 00 06 10 42 1E  F0 FF FF 7F 6F 70 02 00  ......B.....op..
0210: 00 01 80 00 1D 02 1D 28  80 23 01 7B 02 02 00 00  .......(.#.{....
0220: 06 80 00 2C 02 1D 29 80  23 01 7B 02 02 00 00 0B  ...,..).#.{.....
0230: 80 00 3B 02 1D 2A 80 23  01 7B 02 02 00 00 10 80  ..;..*.#.{......
0240: 00 4A 02 1D 2B 80 23 01  7B 02 02 00 00 15 80 00  .J..+.#.{.......
0250: 59 02 1D 2C 80 23 01 7B  02 02 00 00 1A 80 00 68  Y..,.#.{.......h
0260: 02 1D 2D 80 23 01 7B 02  02 00 00 1F 80 00 77 02  ..-.#.{.......w.
0270: 1D 2E 80 23 01 7B 02 1D  2F 80 23 1B 03 00 00 06  ...#.{../.#.....
0280: 10 42 1E F0 FF FF 7F 6F  70 02 00 00 01 80 00 A0  .B.....op.......
0290: 02 1D 30 80 23 1D 31 80  23 1D 32 80 23 01 36 03  ..0.#.1.#.2.#.6.
02A0: 02 00 00 06 80 00 B7 02  1D 33 80 23 1D 34 80 23  .........3.#.4.#
02B0: 1D 35 80 23 01 36 03 02  00 00 0B 80 00 CE 02 1D  .5.#.6..........
02C0: 36 80 23 1D 37 80 23 1D  38 80 23 01 36 03 02 00  6.#.7.#.8.#.6...
02D0: 00 10 80 00 E5 02 1D 39  80 23 1D 3A 80 23 1D 3B  .......9.#.:.#.;
02E0: 80 23 01 36 03 02 00 00  15 80 00 FC 02 1D 3C 80  .#.6..........<.
02F0: 23 1D 3D 80 23 1D 3E 80  23 01 36 03 02 00 00 1A  #.=.#.>.#.6.....
0300: 80 00 13 03 1D 3F 80 23  1D 40 80 23 1D 41 80 23  .....?.#.@.#.A.#
0310: 01 36 03 02 00 00 1F 80  00 2A 03 1D 42 80 23 1D  .6.......*..B.#.
0320: 43 80 23 1D 44 80 23 01  36 03 1D 45 80 23 1D 46  C.#.D.#.6..E.#.F
0330: 80 23 1D 47 80 23 1B 03  00 00 06 10 1E F0 FF FF  .#.G.#..........
0340: 7F 6F 70 02 00 00 01 80  00 52 03 1D 32 80 23 01  .op......R..2.#.
0350: B0 03 02 00 00 06 80 00  61 03 1D 35 80 23 01 B0  ........a..5.#..
0360: 03 02 00 00 0B 80 00 70  03 1D 38 80 23 01 B0 03  .......p..8.#...
0370: 02 00 00 10 80 00 7F 03  1D 3B 80 23 01 B0 03 02  .........;.#....
0380: 00 00 15 80 00 8E 03 1D  3E 80 23 01 B0 03 02 00  ........>.#.....
0390: 00 1A 80 00 9D 03 1D 41  80 23 01 B0 03 02 00 00  .......A.#......
03A0: 1F 80 00 AC 03 1D 44 80  23 01 B0 03 1D 47 80 23  ......D.#....G.#
03B0: 1B                                                .               
```

## Opcodes

```
  0: 0x0020 [0x1A] CALL_SUBROUTINE(address=0x0337)
  1: 0x0023 [0x21] END_EVENT
  2: 0x0024 [0x00] END_REQSTACK()

  3: 0x0337 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[6]
  4: 0x033C [0x1E] EventEntity looks at LocalPlayer and starts talking
  5: 0x0341 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  6: 0x0342 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  7: 0x0343 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x0352
  8: 0x034B [0x1D] PRINT_EVENT_MESSAGE(message_id=14032*)
    → "And please thank \u001C\u0000 the next time you see that good samaritan.\u0007The person who said, \u00072'Tis better to give than receive\u00073 probably never had a gift drought as long as mine. I feel fantastic!\u007F1\u0000\u0007"
  9: 0x034E [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x034F [0x01] GOTO 0x03B0

SUBROUTINE_0352:
 11: 0x0352 [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x0361
 12: 0x035A [0x1D] PRINT_EVENT_MESSAGE(message_id=14035*)
    → "I'm actually quite fed up with these ridiculous baubles, but I'm not one for losing face.\u0007If you should see \u001C\u0000 again, please give my regards and say I found the gift rather...quaint.\u007F1\u0000\u0007"
 13: 0x035D [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x035E [0x01] GOTO 0x03B0

SUBROUTINE_0361:
 15: 0x0361 [0x02] IF !(ExtData[1]->WorkLocal[0] == 3*) GOTO 0x0370
 16: 0x0369 [0x1D] PRINT_EVENT_MESSAGE(message_id=14038*)
    → "Would you be so kind as to tell \u001C\u0000 that I truly appreciate the gift?\u0007I am also thoroughly impressed with your selfless nature, adventurer.\u007F1\u0000\u0007"
 17: 0x036C [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x036D [0x01] GOTO 0x03B0

SUBROUTINE_0370:
 19: 0x0370 [0x02] IF !(ExtData[1]->WorkLocal[0] == 4*) GOTO 0x037F
 20: 0x0378 [0x1D] PRINT_EVENT_MESSAGE(message_id=14041*)
    → "The finite words of us mere mortals may not be sufficient to convey the depths of my gratitude, but I earnestly hope \u001C\u0000 would appreciate a succinct \u00072Thank you.\u00073\u007F1\u0000\u0007"
 21: 0x037B [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x037C [0x01] GOTO 0x03B0

SUBROUTINE_037F:
 23: 0x037F [0x02] IF !(ExtData[1]->WorkLocal[0] == 5*) GOTO 0x038E
 24: 0x0387 [0x1D] PRINT_EVENT_MESSAGE(message_id=14044*)
    → "Well then, I suppose some thanks are in order. But if I find out that this was just some elaborataru scheme to make me lower my guard, I'm going to boppy-wop you both in the noggin!\u007F1\u0000\u0007"
 25: 0x038A [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x038B [0x01] GOTO 0x03B0

SUBROUTINE_038E:
 27: 0x038E [0x02] IF !(ExtData[1]->WorkLocal[0] == 6*) GOTO 0x039D
 28: 0x0396 [0x1D] PRINT_EVENT_MESSAGE(message_id=14047*)
    → "No, thataru wouldn't be right. Besides, it might not be edible.\u0007Anyway, please be sure to thank \u001C\u0000 for pudding the icing on such a delectable Starcake Chocolation.\u0007Ugh, I'm just terrible!\u007F1\u0000\u0007"
 29: 0x0399 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x039A [0x01] GOTO 0x03B0

SUBROUTINE_039D:
 31: 0x039D [0x02] IF !(ExtData[1]->WorkLocal[0] == 7*) GOTO 0x03AC
 32: 0x03A5 [0x1D] PRINT_EVENT_MESSAGE(message_id=14053*)
    → "Don't get the wrrrong idea! It's not like I enjoy the gift or anything!\u0007Just run back to \u001C\u0000 and drop dead! This conversation never happened!\u007F1\u0000\u0007"
 33: 0x03A8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x03A9 [0x01] GOTO 0x03B0

SUBROUTINE_03AC:
 35: 0x03AC [0x1D] PRINT_EVENT_MESSAGE(message_id=14050*)
    → "I best start looking for something to give in return. In the meantime, please tell \u001C\u0000 how happy I am to have received this.\u0007And maybe next year I'll remember before it's too late. <Sigh>...One can only hope.\u007F1\u0000\u0007"
 36: 0x03AF [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x03B0 [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x0025 (786 bytes)
     0x0025: 03 00 00 06 10 1E F0 FF FF 7F 6F 70 02 00 00 01
     0x0035: 80 00 59 00 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x0045: 30 1D 02 80 23 1D 03 80 23 1D 04 80 23 1D 05 80
     0x0055: 23 01 66 01 02 00 00 06 80 00 81 00 2C F8 FF FF
     0x0065: 7F F8 FF FF 7F 74 6C 6B 30 1D 07 80 23 1D 08 80
     0x0075: 23 1D 09 80 23 1D 0A 80 23 01 66 01 02 00 00 0B
     0x0085: 80 00 A9 00 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x0095: 30 1D 0C 80 23 1D 0D 80 23 1D 0E 80 23 1D 0F 80
     0x00A5: 23 01 66 01 02 00 00 10 80 00 D1 00 2C F8 FF FF
     0x00B5: 7F F8 FF FF 7F 74 6C 6B 30 1D 11 80 23 1D 12 80
     0x00C5: 23 1D 13 80 23 1D 14 80 23 01 66 01 02 00 00 15
     0x00D5: 80 00 F9 00 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x00E5: 30 1D 16 80 23 1D 17 80 23 1D 18 80 23 1D 19 80
     0x00F5: 23 01 66 01 02 00 00 1A 80 00 21 01 2C F8 FF FF
     0x0105: 7F F8 FF FF 7F 74 6C 6B 30 1D 1B 80 23 1D 1C 80
     0x0115: 23 1D 1D 80 23 1D 1E 80 23 01 66 01 02 00 00 1F
     0x0125: 80 00 49 01 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x0135: 30 1D 20 80 23 1D 21 80 23 1D 22 80 23 1D 23 80
     0x0145: 23 01 66 01 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x0155: 30 1D 24 80 23 1D 25 80 23 1D 26 80 23 1D 27 80
     0x0165: 23 1B 03 00 00 06 10 1E F0 FF FF 7F 6F 70 02 00
     0x0175: 00 01 80 00 86 01 1D 04 80 23 1D 05 80 23 01 00
     0x0185: 02 02 00 00 06 80 00 99 01 1D 09 80 23 1D 0A 80
     0x0195: 23 01 00 02 02 00 00 0B 80 00 AC 01 1D 0E 80 23
     0x01A5: 1D 0F 80 23 01 00 02 02 00 00 10 80 00 BF 01 1D
     0x01B5: 13 80 23 1D 14 80 23 01 00 02 02 00 00 15 80 00
     0x01C5: D2 01 1D 18 80 23 1D 19 80 23 01 00 02 02 00 00
     0x01D5: 1A 80 00 E5 01 1D 1D 80 23 1D 1E 80 23 01 00 02
     0x01E5: 02 00 00 1F 80 00 F8 01 1D 22 80 23 1D 23 80 23
     0x01F5: 01 00 02 1D 26 80 23 1D 27 80 23 1B 03 00 00 06
     0x0205: 10 42 1E F0 FF FF 7F 6F 70 02 00 00 01 80 00 1D
     0x0215: 02 1D 28 80 23 01 7B 02 02 00 00 06 80 00 2C 02
     0x0225: 1D 29 80 23 01 7B 02 02 00 00 0B 80 00 3B 02 1D
     0x0235: 2A 80 23 01 7B 02 02 00 00 10 80 00 4A 02 1D 2B
     0x0245: 80 23 01 7B 02 02 00 00 15 80 00 59 02 1D 2C 80
     0x0255: 23 01 7B 02 02 00 00 1A 80 00 68 02 1D 2D 80 23
     0x0265: 01 7B 02 02 00 00 1F 80 00 77 02 1D 2E 80 23 01
     0x0275: 7B 02 1D 2F 80 23 1B 03 00 00 06 10 42 1E F0 FF
     0x0285: FF 7F 6F 70 02 00 00 01 80 00 A0 02 1D 30 80 23
     0x0295: 1D 31 80 23 1D 32 80 23 01 36 03 02 00 00 06 80
     0x02A5: 00 B7 02 1D 33 80 23 1D 34 80 23 1D 35 80 23 01
     0x02B5: 36 03 02 00 00 0B 80 00 CE 02 1D 36 80 23 1D 37
     0x02C5: 80 23 1D 38 80 23 01 36 03 02 00 00 10 80 00 E5
     0x02D5: 02 1D 39 80 23 1D 3A 80 23 1D 3B 80 23 01 36 03
     0x02E5: 02 00 00 15 80 00 FC 02 1D 3C 80 23 1D 3D 80 23
     0x02F5: 1D 3E 80 23 01 36 03 02 00 00 1A 80 00 13 03 1D
     0x0305: 3F 80 23 1D 40 80 23 1D 41 80 23 01 36 03 02 00
     0x0315: 00 1F 80 00 2A 03 1D 42 80 23 1D 43 80 23 1D 44
     0x0325: 80 23 01 36 03 1D 45 80 23 1D 46 80 23 1D 47 80
     0x0335: 23 1B
```