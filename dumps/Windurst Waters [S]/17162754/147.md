# Event 147

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 13/38     |
| Offset          | 0x796E    |
| Data Size       | 542 bytes |
| Calculated Size | 542 bytes |
| Instructions    | 75        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
7960:                                            42 45                BE
7970: 00 80 F8 FF FF 7F F8 FF  FF 7F 66 64 6F 31 01 80  ..........fdo1..
7980: 55 00 80 F8 FF FF 7F F8  FF FF 7F 66 64 6F 31 46  U..........fdo1F
7990: 01 38 02 80 34 9C 83 77  01 80 01 80 AB 09 1C 15  .8..4..w........
79A0: 80 75 00 C3 83 75 01 4E  00 0A E2 05 01 4E 00 0B  .u...u.N.....N..
79B0: E2 05 01 2F 00 0A E2 05  01 2F 00 0B E2 05 01 92  .../...../......
79C0: 01 0B E2 05 01 92 01 0A  E2 05 01 BA 0A E2 05 01  ................
79D0: E0 83 E1 83 6F 83 E2 83  BA 0B E2 05 01 C7 83 C8  ....o...........
79E0: 83 B9 80 C9 83 BA F0 FF  FF 7F CA 83 CB 83 CC 83  ................
79F0: CD 83 80 0B E2 05 01 80  0A E2 05 01 4A 0B E2 05  ............J...
7A00: 01 0A E2 05 01 4A F0 FF  FF 7F 0A E2 05 01 4A 0A  .....J........J.
7A10: E2 05 01 F0 FF FF 7F 1C  0B 80 45 0C 80 F0 FF FF  ..........E.....
7A20: 7F F0 FF FF 7F 6B 30 32  32 01 80 45 00 80 F0 FF  .....k022..E....
7A30: FF 7F F0 FF FF 7F 66 64  69 31 01 80 1C 0B 80 66  ......fdi1.....f
7A40: 5A 80 0A E2 05 01 0A E2  05 01 74 6C 6B 30 2B 0A  Z.........tlk0+.
7A50: E2 05 01 E7 83 23 2B 0A  E2 05 01 E8 83 23 66 5A  .....#+......#fZ
7A60: 80 0A E2 05 01 0A E2 05  01 74 6C 6B 31 1C 15 80  .........tlk1...
7A70: 52 0C 80 F0 FF FF 7F F0  FF FF 7F 6B 30 32 32 45  R..........k022E
7A80: 0C 80 F0 FF FF 7F F0 FF  FF 7F 6B 30 32 33 01 80  ..........k023..
7A90: 1C 15 80 6E 0B E2 05 01  01 80 99 0B E2 05 01 2B  ...n...........+
7AA0: 0B E2 05 01 E9 83 23 4A  0B E2 05 01 F0 FF FF 7F  ......#J........
7AB0: 4A F0 FF FF 7F 0B E2 05  01 6F 70 66 5A 80 0B E2  J........opfZ...
7AC0: 05 01 0B E2 05 01 74 6C  6B 30 2B 0B E2 05 01 EA  ......tlk0+.....
7AD0: 83 23 2B 0B E2 05 01 EB  83 23 66 5A 80 0B E2 05  .#+......#fZ....
7AE0: 01 0B E2 05 01 74 6C 6B  31 1C 0B 80 45 00 80 F8  .....tlk1...E...
7AF0: FF FF 7F F8 FF FF 7F 66  64 6F 31 01 80 55 00 80  .......fdo1..U..
7B00: F8 FF FF 7F F8 FF FF 7F  66 64 6F 31 52 0C 80 F0  ........fdo1R...
7B10: FF FF 7F F0 FF FF 7F 6B  30 32 33 35 A4 80 78 1C  .......k0235..x.
7B20: A5 80 22 00 45 B4 83 F0  FF FF 7F F0 FF FF 7F 6E  ..".E..........n
7B30: 6F 73 65 01 80 55 B4 83  F0 FF FF 7F F0 FF FF 7F  ose..U..........
7B40: 6E 6F 73 65 6A A6 80 0B  80 44 80 AB 0A 2D F0 FF  nosej....D...-..
7B50: FF 7F F0 FF FF 7F 31 70  62 31 1C 15 80 5C 00 0D  ......1pb1...\..
7B60: 80 5C 01 0D 80 9A 46 00  45 C9 82 F8 FF FF 7F F8  .\....F.E.......
7B70: FF FF 7F 71 73 74 63 01  80 45 00 80 F0 FF FF 7F  ...qstc..E......
7B80: F0 FF FF 7F 66 64 69 32  01 80 21 00              ....fdi2..!.    
```

## Opcodes

```
  0: 0x796E [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x796F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  2: 0x7980 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
  3: 0x798F [0x46] CAMERA_CONTROL: Disable user control
  4: 0x7991 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x7994 [0x34] LOAD_UNLOAD_ZONE(zone_id=238*)
  6: 0x7997 [0x77] SET_EVENT_TIME_WEATHER(hour=0*, weather=0*)
  7: 0x799C [0xAB] EventEntity->UnknownFlag = 1 // Enable unknown flag
  8: 0x799E [0x1C] WAIT(30* ticks)
  9: 0x79A1 [0x75] LOAD_ROOM(Load indoor room, room=395*)
 10: 0x79A5 [0x75] LOAD_ROOM(No action)
 11: 0x79A7 [0x4E] SET_ENTITY_HIDE_FLAG: Show Tosuka-Porika (ID: 17162762/0x0105E20A)
 12: 0x79AD [0x4E] SET_ENTITY_HIDE_FLAG: Show Yoran-Oran (ID: 17162763/0x0105E20B)
 13: 0x79B3 [0x2F] Tosuka-Porika (ID: 17162762/0x0105E20A)->Render.Flags0 &= ~0x80000 // Bit 19
 14: 0x79B9 [0x2F] Yoran-Oran (ID: 17162763/0x0105E20B)->Render.Flags0 &= ~0x80000 // Bit 19
 15: 0x79BF [0x92] Yoran-Oran (ID: 17162763/0x0105E20B)->Render.Flags3 ^= 0x01
 16: 0x79C5 [0x92] Tosuka-Porika (ID: 17162762/0x0105E20A)->Render.Flags3 ^= 0x01
 17: 0x79CB [0xBA] SET_ENTITY_POSITION(entity_id=References[17129994], pos_x=-57.243*, pos_z=97.591*, pos_y=-5.249*, direction=278.5°*)
 18: 0x79D8 [0xBA] SET_ENTITY_POSITION(entity_id=References[17129995], pos_x=-57.609*, pos_z=95.561*, pos_y=-5.000*, direction=309.3°*)
 19: 0x79E5 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-56.426*, pos_z=94.999*, pos_y=-5.250*, direction=278.6°*)
 20: 0x79F2 [0x80] LOAD_WAIT(entity=Yoran-Oran (ID: 17162763/0x0105E20B))
 21: 0x79F7 [0x80] LOAD_WAIT(entity=Tosuka-Porika (ID: 17162762/0x0105E20A))
 22: 0x79FC [0x4A] Yoran-Oran (ID: 17162763/0x0105E20B) looks at Tosuka-Porika (ID: 17162762/0x0105E20A)
 23: 0x7A05 [0x4A] LocalPlayer looks at Tosuka-Porika (ID: 17162762/0x0105E20A)
 24: 0x7A0E [0x4A] Tosuka-Porika (ID: 17162762/0x0105E20A) looks at LocalPlayer
 25: 0x7A17 [0x1C] WAIT(60* ticks)
 26: 0x7A1A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "k022" with entities [LocalPlayer, LocalPlayer], work=[369*, 0*]
 27: 0x7A2B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 28: 0x7A3C [0x1C] WAIT(60* ticks)
 29: 0x7A3F [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Tosuka-Porika (ID: 17162762/0x0105E20A), Tosuka-Porika (ID: 17162762/0x0105E20A)], work=49*
 30: 0x7A4E [0x2B] Tosuka-Porika (ID: 17162762/0x0105E20A) [11332*]:
    → "Hrrrm! There! It's back in perfectly pristine condition!\u007F1\u0000\u0007"
 31: 0x7A55 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x7A56 [0x2B] Tosuka-Porika (ID: 17162762/0x0105E20A) [11333*]:
    → "I also took the liberty of repairing the leaf of paper wedged inside the book.\u007F1\u0000\u0007"
 33: 0x7A5D [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x7A5E [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [Tosuka-Porika (ID: 17162762/0x0105E20A), Tosuka-Porika (ID: 17162762/0x0105E20A)], work=49*
 35: 0x7A6D [0x1C] WAIT(30* ticks)
 36: 0x7A70 [0x52] END_LOAD_SCHEDULER: End scheduler "k022" with entities [LocalPlayer, LocalPlayer], work=369*
 37: 0x7A7F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "k023" with entities [LocalPlayer, LocalPlayer], work=[369*, 0*]
 38: 0x7A90 [0x1C] WAIT(30* ticks)
 39: 0x7A93 [0x6E] Yoran-Oran (ID: 17162763/0x0105E20B) uses emote 0*
 40: 0x7A9A [0x99] Wait for Yoran-Oran (ID: 17162763/0x0105E20B) animation to complete
 41: 0x7A9F [0x2B] Yoran-Oran (ID: 17162763/0x0105E20B) [11334*]:
    → "A leaf-ethy of paper? Oh, you mean the one I was using as a bookmark? I don't really need it though...\u007F1\u0000\u0007"
 42: 0x7AA6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x7AA7 [0x4A] Yoran-Oran (ID: 17162763/0x0105E20B) looks at LocalPlayer
 44: 0x7AB0 [0x4A] LocalPlayer looks at Yoran-Oran (ID: 17162763/0x0105E20B)
 45: 0x7AB9 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 46: 0x7ABA [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 47: 0x7ABB [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Yoran-Oran (ID: 17162763/0x0105E20B), Yoran-Oran (ID: 17162763/0x0105E20B)], work=49*
 48: 0x7ACA [0x2B] Yoran-Oran (ID: 17162763/0x0105E20B) [11335*]:
    → "Hey, why don't you keep it? Think of it as a small reward-ethy for your help.\u007F1\u0000\u0007"
 49: 0x7AD1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x7AD2 [0x2B] Yoran-Oran (ID: 17162763/0x0105E20B) [11336*]:
    → "All's well that ends well-ethy. Thank you for saving my hide-ethy.\u007F1\u0000\u0007"
 51: 0x7AD9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x7ADA [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [Yoran-Oran (ID: 17162763/0x0105E20B), Yoran-Oran (ID: 17162763/0x0105E20B)], work=49*
 53: 0x7AE9 [0x1C] WAIT(60* ticks)
 54: 0x7AEC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 55: 0x7AFD [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
 56: 0x7B0C [0x52] END_LOAD_SCHEDULER: End scheduler "k023" with entities [LocalPlayer, LocalPlayer], work=369*
 57: 0x7B1B [0x35] LOAD_ZONE_NO_CLOSE(zone_id=94*)
 58: 0x7B1E [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 59: 0x7B1F [0x1C] WAIT(3* ticks)
 60: 0x7B22 [0x22] ENTITY_HIDE_FLAG(enabled=0x00)
 61: 0x7B24 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "nose" with entities [LocalPlayer, LocalPlayer], work=[272*, 0*]
 62: 0x7B35 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "nose" with entities [LocalPlayer, LocalPlayer], work=272*
 63: 0x7B44 [0x6A] CHANGE_SOUND_VOLUME: Set Effects/System/Zone/Master volume to 999*, fade_time=60*
 64: 0x7B4B [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 65: 0x7B4D [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "1pb1" with entities [LocalPlayer, LocalPlayer]
 66: 0x7B5A [0x1C] WAIT(30* ticks)
 67: 0x7B5D [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 182*
 68: 0x7B61 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 182*
 69: 0x7B65 [0x9A] WAIT_MUSIC_SERVER()
 70: 0x7B66 [0x46] CAMERA_CONTROL: Restore default settings
 71: 0x7B68 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [EventEntity, EventEntity], work=[201*, 0*]
 72: 0x7B79 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 73: 0x7B8A [0x21] END_EVENT
 74: 0x7B8B [0x00] END_REQSTACK()
```
