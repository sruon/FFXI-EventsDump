# Event 146

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 12/38     |
| Offset          | 0x7796    |
| Data Size       | 472 bytes |
| Calculated Size | 472 bytes |
| Instructions    | 67        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
7790:                   42 45  00 80 F8 FF FF 7F F8 FF        BE........
77A0: FF 7F 66 64 6F 31 01 80  55 00 80 F8 FF FF 7F F8  ..fdo1..U.......
77B0: FF FF 7F 66 64 6F 31 46  01 38 02 80 34 9C 83 77  ...fdo1F.8..4..w
77C0: 01 80 01 80 AB 09 1C 15  80 75 00 C3 83 75 01 92  .........u...u..
77D0: 01 0B E2 05 01 92 01 0A  E2 05 01 4E 00 0A E2 05  ...........N....
77E0: 01 4E 00 0B E2 05 01 2F  00 0A E2 05 01 2F 00 0B  .N...../...../..
77F0: E2 05 01 BA 0A E2 05 01  E0 83 E1 83 6F 83 E2 83  ............o...
7800: BA 0B E2 05 01 C7 83 C8  83 B9 80 C9 83 BA F0 FF  ................
7810: FF 7F CA 83 CB 83 CC 83  CD 83 80 0B E2 05 01 80  ................
7820: 0A E2 05 01 4A 0B E2 05  01 0A E2 05 01 4A F0 FF  ....J........J..
7830: FF 7F 0A E2 05 01 4A 0A  E2 05 01 F0 FF FF 7F 1C  ......J.........
7840: 0B 80 45 0C 80 F0 FF FF  7F F0 FF FF 7F 6B 30 32  ..E..........k02
7850: 30 01 80 45 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  0..E..........fd
7860: 69 31 01 80 1C 0B 80 6E  0A E2 05 01 55 80 99 0A  i1.....n....U...
7870: E2 05 01 2B 0A E2 05 01  E3 83 23 2B 0A E2 05 01  ...+......#+....
7880: E4 83 23 52 0C 80 F0 FF  FF 7F F0 FF FF 7F 6B 30  ..#R..........k0
7890: 32 30 45 0C 80 F0 FF FF  7F F0 FF FF 7F 6B 30 32  20E..........k02
78A0: 31 01 80 4A 0B E2 05 01  F0 FF FF 7F 6F 70 66 5A  1..J........opfZ
78B0: 80 0B E2 05 01 0B E2 05  01 74 6C 6B 30 2B 0B E2  .........tlk0+..
78C0: 05 01 E5 83 23 2B 0B E2  05 01 E6 83 23 66 5A 80  ....#+......#fZ.
78D0: 0B E2 05 01 0B E2 05 01  74 6C 6B 31 1C 0B 80 45  ........tlk1...E
78E0: 00 80 F8 FF FF 7F F8 FF  FF 7F 66 64 6F 31 01 80  ..........fdo1..
78F0: 55 00 80 F8 FF FF 7F F8  FF FF 7F 66 64 6F 31 52  U..........fdo1R
7900: 0C 80 F0 FF FF 7F F0 FF  FF 7F 6B 30 32 31 35 A4  ..........k0215.
7910: 80 78 1C A5 80 22 00 45  B4 83 F0 FF FF 7F F0 FF  .x...".E........
7920: FF 7F 6E 6F 73 65 01 80  55 B4 83 F0 FF FF 7F F0  ..nose..U.......
7930: FF FF 7F 6E 6F 73 65 6A  A6 80 0B 80 44 80 AB 0A  ...nosej....D...
7940: 2D F0 FF FF 7F F0 FF FF  7F 31 70 62 31 1C 15 80  -........1pb1...
7950: 5C 00 0D 80 5C 01 0D 80  9A 46 00 45 00 80 F0 FF  \...\....F.E....
7960: FF 7F F0 FF FF 7F 66 64  69 32 01 80 21 00        ......fdi2..!.  
```

## Opcodes

```
  0: 0x7796 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x7797 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  2: 0x77A8 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
  3: 0x77B7 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x77B9 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x77BC [0x34] LOAD_UNLOAD_ZONE(zone_id=238*)
  6: 0x77BF [0x77] SET_EVENT_TIME_WEATHER(hour=0*, weather=0*)
  7: 0x77C4 [0xAB] EventEntity->UnknownFlag = 1 // Enable unknown flag
  8: 0x77C6 [0x1C] WAIT(30* ticks)
  9: 0x77C9 [0x75] LOAD_ROOM(Load indoor room, room=395*)
 10: 0x77CD [0x75] LOAD_ROOM(No action)
 11: 0x77CF [0x92] Yoran-Oran (ID: 17162763/0x0105E20B)->Render.Flags3 ^= 0x01
 12: 0x77D5 [0x92] Tosuka-Porika (ID: 17162762/0x0105E20A)->Render.Flags3 ^= 0x01
 13: 0x77DB [0x4E] SET_ENTITY_HIDE_FLAG: Show Tosuka-Porika (ID: 17162762/0x0105E20A)
 14: 0x77E1 [0x4E] SET_ENTITY_HIDE_FLAG: Show Yoran-Oran (ID: 17162763/0x0105E20B)
 15: 0x77E7 [0x2F] Tosuka-Porika (ID: 17162762/0x0105E20A)->Render.Flags0 &= ~0x80000 // Bit 19
 16: 0x77ED [0x2F] Yoran-Oran (ID: 17162763/0x0105E20B)->Render.Flags0 &= ~0x80000 // Bit 19
 17: 0x77F3 [0xBA] SET_ENTITY_POSITION(entity_id=References[17129994], pos_x=-57.243*, pos_z=97.591*, pos_y=-5.249*, direction=278.5°*)
 18: 0x7800 [0xBA] SET_ENTITY_POSITION(entity_id=References[17129995], pos_x=-57.609*, pos_z=95.561*, pos_y=-5.000*, direction=309.3°*)
 19: 0x780D [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-56.426*, pos_z=94.999*, pos_y=-5.250*, direction=278.6°*)
 20: 0x781A [0x80] LOAD_WAIT(entity=Yoran-Oran (ID: 17162763/0x0105E20B))
 21: 0x781F [0x80] LOAD_WAIT(entity=Tosuka-Porika (ID: 17162762/0x0105E20A))
 22: 0x7824 [0x4A] Yoran-Oran (ID: 17162763/0x0105E20B) looks at Tosuka-Porika (ID: 17162762/0x0105E20A)
 23: 0x782D [0x4A] LocalPlayer looks at Tosuka-Porika (ID: 17162762/0x0105E20A)
 24: 0x7836 [0x4A] Tosuka-Porika (ID: 17162762/0x0105E20A) looks at LocalPlayer
 25: 0x783F [0x1C] WAIT(60* ticks)
 26: 0x7842 [0x45] LOAD_SCHEDULED_TASK(work_offset1=369*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="k020", work_offset2=0*)
 27: 0x7853 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 28: 0x7864 [0x1C] WAIT(60* ticks)
 29: 0x7867 [0x6E] Tosuka-Porika (ID: 17162762/0x0105E20A) uses emote 7*
 30: 0x786E [0x99] Wait for Tosuka-Porika (ID: 17162762/0x0105E20A) animation to complete
 31: 0x7873 [0x2B] Tosuka-Porika (ID: 17162762/0x0105E20A) [11328*]:
    → "Hrmmmmmm... Yes, yes, these will do. These will do just fine.\u007F1\u0000\u0007"
 32: 0x787A [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x787B [0x2B] Tosuka-Porika (ID: 17162762/0x0105E20A) [11329*]:
    → "Now I can finally repair the book.\u007F1\u0000\u0007"
 34: 0x7882 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x7883 [0x52] END_LOAD_SCHEDULER: End scheduler "k020" with entities [LocalPlayer, LocalPlayer], work=369*
 36: 0x7892 [0x45] LOAD_SCHEDULED_TASK(work_offset1=369*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="k021", work_offset2=0*)
 37: 0x78A3 [0x4A] Yoran-Oran (ID: 17162763/0x0105E20B) looks at LocalPlayer
 38: 0x78AC [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 39: 0x78AD [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 40: 0x78AE [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=Yoran-Oran (ID: 17162763/0x0105E20B), entity2=Yoran-Oran (ID: 17162763/0x0105E20B), action="tlk0")
 41: 0x78BD [0x2B] Yoran-Oran (ID: 17162763/0x0105E20B) [11330*]:
    → "Phew... Thank you for saving my hide-ethy!\u007F1\u0000\u0007"
 42: 0x78C4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x78C5 [0x2B] Yoran-Oran (ID: 17162763/0x0105E20B) [11331*]:
    → "I'm glad it's over. Tosuka-Porika should be able to return the book to its original state-ethy in no time.\u007F1\u0000\u0007"
 44: 0x78CC [0x23] WAIT_FOR_DIALOG_INTERACTION
 45: 0x78CD [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=Yoran-Oran (ID: 17162763/0x0105E20B), entity2=Yoran-Oran (ID: 17162763/0x0105E20B), action="tlk1")
 46: 0x78DC [0x1C] WAIT(60* ticks)
 47: 0x78DF [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 48: 0x78F0 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
 49: 0x78FF [0x52] END_LOAD_SCHEDULER: End scheduler "k021" with entities [LocalPlayer, LocalPlayer], work=369*
 50: 0x790E [0x35] LOAD_ZONE_NO_CLOSE(zone_id=94*)
 51: 0x7911 [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 52: 0x7912 [0x1C] WAIT(3* ticks)
 53: 0x7915 [0x22] ENTITY_HIDE_FLAG(enabled=0x00)
 54: 0x7917 [0x45] LOAD_SCHEDULED_TASK(work_offset1=272*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="nose", work_offset2=0*)
 55: 0x7928 [0x55] WAIT_LOAD_SCHEDULER(work_offset=272*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="nose")
 56: 0x7937 [0x6A] CHANGE_SOUND_VOLUME: Set Effects/System/Zone/Master volume to 999*, fade_time=60*
 57: 0x793E [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 58: 0x7940 [0x2D] CREATE_ZONE_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, zone_action="1pb1")
 59: 0x794D [0x1C] WAIT(30* ticks)
 60: 0x7950 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 182*
 61: 0x7954 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 182*
 62: 0x7958 [0x9A] WAIT_MUSIC_SERVER()
 63: 0x7959 [0x46] CAMERA_CONTROL: Restore default settings
 64: 0x795B [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 65: 0x796C [0x21] END_EVENT
 66: 0x796D [0x00] END_REQSTACK()
```
