# Event 1072

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 202/206   |
| Offset          | 0x2754    |
| Data Size       | 295 bytes |
| Calculated Size | 295 bytes |
| Instructions    | 61        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
2750:             03 15 00 02  10 03 17 00 03 10 02 02      ............
2760: 10 34 80 80 7D 27 03 08  00 34 80 03 16 00 D5 81  .4..}'...4......
2770: 03 04 10 44 81 14 04 10  17 00 01 BB 27 02 02 10  ...D........'...
2780: 67 80 80 9C 27 03 08 00  67 80 03 16 00 D6 81 03  g...'...g.......
2790: 04 10 44 81 14 04 10 17  00 01 BB 27 02 02 10 51  ..D........'...Q
27A0: 81 80 BB 27 03 08 00 51  81 03 16 00 D7 81 03 04  ...'...Q........
27B0: 10 44 81 14 04 10 17 00  01 BB 27 1E F0 FF FF 7F  .D........'.....
27C0: 03 03 10 16 00 1D D8 81  23 1D D9 81 23 24 DA 81  ........#...#$..
27D0: 34 80 34 80 25 02 00 10  34 80 00 74 28 42 02 08  4.4.%...4..t(B..
27E0: 00 34 80 80 F7 27 03 01  10 DB 81 40 45 81 60 81  .4...'.....@E.`.
27F0: 01 10 17 00 01 29 28 02  08 00 67 80 80 10 28 03  .....)(...g...(.
2800: 01 10 DC 81 40 45 81 60  81 01 10 17 00 01 29 28  ....@E.`......)(
2810: 02 08 00 51 81 80 29 28  03 01 10 DD 81 40 45 81  ...Q..)(.....@E.
2820: 60 81 01 10 17 00 01 29  28 43 00 43 01 02 02 10  `......)(C.C....
2830: 34 80 01 67 28 1D CE 81  23 45 6E 81 F0 FF FF 7F  4..g(...#En.....
2840: F0 FF FF 7F 66 64 6F 31  34 80 1A 7F 28 1C DF 80  ....fdo14...(...
2850: 45 6E 81 F0 FF FF 7F F0  FF FF 7F 66 64 69 31 34  En.........fdi14
2860: 80 06 00 00 01 71 28 1D  DE 81 23 2E 03 01 10 C3  .....q(...#.....
2870: 81 01 79 28 03 01 10 C3  81 21 00                 ..y(.....!.     
```

## Opcodes

```
  0: 0x2754 [0x03] ExtData[1]->WorkLocal[21] = Work_Zone[2]
  1: 0x2759 [0x03] ExtData[1]->WorkLocal[23] = Work_Zone[3]
  2: 0x275E [0x02] IF !(Work_Zone[2] == 0*) GOTO 0x277D
  3: 0x2766 [0x03] ExtData[1]->WorkLocal[8] = 0*
  4: 0x276B [0x03] ExtData[1]->WorkLocal[22] = 4048*
  5: 0x2770 [0x03] Work_Zone[4] = 7*
  6: 0x2775 [0x14] Work_Zone[4] *= ExtData[1]->WorkLocal[23]
  7: 0x277A [0x01] GOTO 0x27BB
  8: 0x277D [0x02] IF !(Work_Zone[2] == 1*) GOTO 0x279C
  9: 0x2785 [0x03] ExtData[1]->WorkLocal[8] = 1*
 10: 0x278A [0x03] ExtData[1]->WorkLocal[22] = 4049*
 11: 0x278F [0x03] Work_Zone[4] = 7*
 12: 0x2794 [0x14] Work_Zone[4] *= ExtData[1]->WorkLocal[23]
 13: 0x2799 [0x01] GOTO 0x27BB
 14: 0x279C [0x02] IF !(Work_Zone[2] == 2*) GOTO 0x27BB
 15: 0x27A4 [0x03] ExtData[1]->WorkLocal[8] = 2*
 16: 0x27A9 [0x03] ExtData[1]->WorkLocal[22] = 4050*
 17: 0x27AE [0x03] Work_Zone[4] = 7*
 18: 0x27B3 [0x14] Work_Zone[4] *= ExtData[1]->WorkLocal[23]
 19: 0x27B8 [0x01] GOTO 0x27BB

SUBROUTINE_27BB:
 20: 0x27BB [0x1E] EventEntity looks at LocalPlayer and starts talking
 21: 0x27C0 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[22]
 22: 0x27C5 [0x1D] PRINT_EVENT_MESSAGE(message_id=7482*)
    → "Kupopopo, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000? This is sure to tickle \u000C\u0000[Kuyin Hathdenna/Susuroon/Yeestog]'s toes!\u007F1\u0000\u0007"
 23: 0x27C8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x27C9 [0x1D] PRINT_EVENT_MESSAGE(message_id=7483*)
    → "Now, bequeathing this bauble to me will allow your assistant to aid you for 
\u0002 day\u007F\u0012\u0002[/s]. Is that alright, kupo?\u007F1\u0000\u0007"
 25: 0x27CC [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x27CD [0x24] CREATE_DIALOG(message_id=7484*, default_option=0*, option_flags=0*)
    → "Is that alright?\u0007\u000BYou know it, poet!\u0007Hmmm, let me think it over.\u007F1\u0000\u0007"
 27: 0x27D4 [0x25] WAIT_DIALOG_SELECT()
 28: 0x27D5 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x2874
 29: 0x27DD [0x42] SET_CLI_EVENT_CANCEL_DATA()
 30: 0x27DE [0x02] IF !(ExtData[1]->WorkLocal[8] == 0*) GOTO 0x27F7
 31: 0x27E6 [0x03] Work_Zone[1] = 45*
 32: 0x27EB [0x40] SET_BIT_WORK_RANGE(start_bit=8*, end_bit=31*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[23])
 33: 0x27F4 [0x01] GOTO 0x2829
 34: 0x27F7 [0x02] IF !(ExtData[1]->WorkLocal[8] == 1*) GOTO 0x2810
 35: 0x27FF [0x03] Work_Zone[1] = 46*
 36: 0x2804 [0x40] SET_BIT_WORK_RANGE(start_bit=8*, end_bit=31*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[23])
 37: 0x280D [0x01] GOTO 0x2829
 38: 0x2810 [0x02] IF !(ExtData[1]->WorkLocal[8] == 2*) GOTO 0x2829
 39: 0x2818 [0x03] Work_Zone[1] = 47*
 40: 0x281D [0x40] SET_BIT_WORK_RANGE(start_bit=8*, end_bit=31*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[23])
 41: 0x2826 [0x01] GOTO 0x2829

SUBROUTINE_2829:
 42: 0x2829 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 43: 0x282B [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 44: 0x282D [0x02] IF !(Work_Zone[2] == 0*) GOTO 0x2867
 45: 0x2835 [0x1D] PRINT_EVENT_MESSAGE(message_id=7481*)
    → "Contract: complete! ...For all plans and purposes.\u0007Let me deal with the dirty detail drudgery, kupo.\u007F1\u0000\u0007"
 46: 0x2838 [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x2839 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 48: 0x284A [0x1A] CALL_SUBROUTINE(address=0x287F)
 49: 0x284D [0x1C] WAIT(60* ticks)
 50: 0x2850 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 51: 0x2861 [0x06] ExtData[1]->WorkLocal[0] = 0
 52: 0x2864 [0x01] GOTO 0x2871
 53: 0x2867 [0x1D] PRINT_EVENT_MESSAGE(message_id=7485*)
    → "My apologies, but a plethora of problems have proliferated, kupo! Take this back and turn it in at another time.\u007F1\u0000\u0007"
 54: 0x286A [0x23] WAIT_FOR_DIALOG_INTERACTION
 55: 0x286B [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
 56: 0x286C [0x03] Work_Zone[1] = 1073741824*
 57: 0x2871 [0x01] GOTO 0x2879
 58: 0x2874 [0x03] Work_Zone[1] = 1073741824*
 59: 0x2879 [0x21] END_EVENT
 60: 0x287A [0x00] END_REQSTACK()
```
