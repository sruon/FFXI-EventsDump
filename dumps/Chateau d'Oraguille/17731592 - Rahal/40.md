# Event 40

## Metadata

| Field           | Value    |
|-----------------|----------|
| Event Index     | 23/99    |
| Offset          | 0x0245   |
| Data Size       | 45 bytes |
| Calculated Size | 45 bytes |
| Instructions    | 11       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0240:                1E F0 FF  FF 7F 6F 70 1D 28 80 23       .....op.(.#
0250: 1D 29 80 23 66 26 80 F8  FF FF 7F F8 FF FF 7F 73  .).#f&.........s
0260: 6C 30 30 53 F8 FF FF 7F  F8 FF FF 7F 73 6C 30 30  l00S........sl00
0270: 21 00                                             !.              
```

## Opcodes

```
  0: 0x0245 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x024A [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x024B [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x024C [0x1D] PRINT_EVENT_MESSAGE(message_id=7847*)
    → "\u0008.\u0007I never thought I would live to see the day when the Royal Knights would fight alongside adventurers such as yourself. Your valiant efforts on the battlefield helped turn the tide in favor of San d'Oria.\u007F1\u0000\u0007"
  4: 0x024F [0x23] WAIT_FOR_DIALOG_INTERACTION
  5: 0x0250 [0x1D] PRINT_EVENT_MESSAGE(message_id=7848*)
    → "To protect the prince while grappling with the enemy... I feel that even I may not have been able to accomplish such a feat. I applaud your skill.\u007F1\u0000\u0007"
  6: 0x0253 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x0254 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "sl00" with entities [EventEntity, EventEntity], work=21*
  8: 0x0263 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "sl00" with entities [EventEntity, EventEntity]
  9: 0x0270 [0x21] END_EVENT
 10: 0x0271 [0x00] END_REQSTACK()
```
