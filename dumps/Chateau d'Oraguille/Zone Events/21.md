# Event 21

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 109/170   |
| Offset          | 0x5C3C    |
| Data Size       | 639 bytes |
| Calculated Size | 639 bytes |
| Instructions    | 92        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
5C30:                                      4E 01 01 90              N...
5C40: 0E 01 4E 00 02 90 0E 01  4E 00 40 90 0E 01 4E 00  ..N.....N.@...N.
5C50: 41 90 0E 01 5D 03 80 AE  80 1A 54 4C 1A B6 4C 2B  A...].....TL..L+
5C60: 03 90 0E 01 5A 82 23 27  03 03 90 0E 01 19 45 02  ....Z.#'......E.
5C70: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 03 80 55  .........fdo1..U
5C80: 02 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 31 5C 00  ..........fdo1\.
5C90: 77 80 5C 01 77 80 4A 03  90 0E 01 02 90 0E 01 4A  w.\.w.J........J
5CA0: 05 90 0E 01 02 90 0E 01  4A 06 90 0E 01 02 90 0E  ........J.......
5CB0: 01 79 00 F0 FF FF 7F F0  FF FF 7F 7B F0 FF FF 7F  .y.........{....
5CC0: 32 34 80 29 04 03 90 0E  01 18 1C 5B 82 37 5C 82  24.).......[.7\.
5CD0: 5D 82 3E 80 5E 82 80 02  90 0E 01 80 03 90 0E 01  ].>.^...........
5CE0: 80 05 90 0E 01 80 06 90  0E 01 45 55 82 F0 FF FF  ..........EU....
5CF0: 7F F0 FF FF 7F 77 30 30  32 03 80 45 02 80 F0 FF  .....w002..E....
5D00: FF 7F F0 FF FF 7F 66 64  69 31 03 80 32 34 80 1F  ......fdi1..24..
5D10: 00 5F 82 60 82 17 81 1F  01 6F 4A F0 FF FF 7F 02  ._.`.....oJ.....
5D20: 90 0E 01 55 55 82 F0 FF  FF 7F F0 FF FF 7F 77 30  ...UU.........w0
5D30: 30 32 27 03 03 90 0E 01  32 1C 13 80 2B 03 90 0E  02'.....2...+...
5D40: 01 61 82 23 27 04 03 90  0E 01 33 27 03 02 90 0E  .a.#'.....3'....
5D50: 01 19 1C 06 80 45 55 82  F0 FF FF 7F F0 FF FF 7F  .....EU.........
5D60: 77 30 30 33 03 80 55 55  82 F0 FF FF 7F F0 FF FF  w003..UU........
5D70: 7F 77 30 30 33 2B 02 90  0E 01 62 82 23 2B 02 90  .w003+....b.#+..
5D80: 0E 01 63 82 23 27 04 02  90 0E 01 1A 1C 06 80 45  ..c.#'.........E
5D90: 55 82 F0 FF FF 7F F0 FF  FF 7F 77 30 30 34 03 80  U.........w004..
5DA0: 55 55 82 F0 FF FF 7F F0  FF FF 7F 77 30 30 34 2A  UU.........w004*
5DB0: 04 02 90 0E 01 2B 02 90  0E 01 64 82 23 2B 02 90  .....+....d.#+..
5DC0: 0E 01 65 82 23 45 55 82  F0 FF FF 7F F0 FF FF 7F  ..e.#EU.........
5DD0: 77 30 30 35 03 80 2B 03  90 0E 01 66 82 23 1C 13  w005..+....f.#..
5DE0: 80 2B 05 90 0E 01 67 82  23 55 55 82 F0 FF FF 7F  .+....g.#UU.....
5DF0: F0 FF FF 7F 77 30 30 35  1C 13 80 45 55 82 F0 FF  ....w005...EU...
5E00: FF 7F F0 FF FF 7F 77 30  30 36 03 80 55 55 82 F0  ......w006..UU..
5E10: FF FF 7F F0 FF FF 7F 77  30 30 36 2B 02 90 0E 01  .......w006+....
5E20: 68 82 23 4A 02 90 0E 01  F0 FF FF 7F 6F 76 02 90  h.#J........ov..
5E30: 0E 01 27 04 02 90 0E 01  19 2B 02 90 0E 01 69 82  ..'......+....i.
5E40: 23 27 04 02 90 0E 01 1A  45 55 82 F0 FF FF 7F F0  #'......EU......
5E50: FF FF 7F 77 30 30 37 03  80 55 55 82 F0 FF FF 7F  ...w007..UU.....
5E60: F0 FF FF 7F 77 30 30 37  2B 02 90 0E 01 6A 82 23  ....w007+....j.#
5E70: 2B 02 90 0E 01 6B 82 23  1C 13 80 45 02 80 F0 FF  +....k.#...E....
5E80: FF 7F F0 FF FF 7F 66 64  6F 31 03 80 55 02 80 F0  ......fdo1..U...
5E90: FF FF 7F F0 FF FF 7F 66  64 6F 31 1C 69 80 5C 00  .......fdo1.i.\.
5EA0: 38 80 5C 01 38 80 45 02  80 F0 FF FF 7F F0 FF FF  8.\.8.E.........
5EB0: 7F 66 64 69 32 03 80 46  00 21 00                 .fdi2..F.!.     
```

## Opcodes

```
  0: 0x5C3C [0x4E] SET_ENTITY_HIDE_FLAG: Hide Destin (ID: 17731585/0x010E9001)
  1: 0x5C42 [0x4E] SET_ENTITY_HIDE_FLAG: Show Destin (ID: 17731586/0x010E9002)
  2: 0x5C48 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17731648/0x010E9040)
  3: 0x5C4E [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17731649/0x010E9041)
  4: 0x5C54 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=300*)
  5: 0x5C59 [0x1A] CALL_SUBROUTINE(address=0x4C54)
  6: 0x5C5C [0x1A] CALL_SUBROUTINE(address=0x4CB6)
  7: 0x5C5F [0x2B] Trion (ID: 17731587/0x010E9003) [6771*]:
    → "Well done, \u0008.\u0007Do you wish to know what is written in the tome? The king is about to make an official announcement regarding its contents in the Great Hall.\u007F1\u0000\u0007"
  8: 0x5C66 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x5C67 [0x27] REQ_SET(priority=0x03, entity_id=Trion (ID: 17731587/0x010E9003), tag_num=0x19)
 10: 0x5C6E [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 11: 0x5C7F [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
 12: 0x5C8E [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 127*
 13: 0x5C92 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 127*
 14: 0x5C96 [0x4A] Trion (ID: 17731587/0x010E9003) looks at Destin (ID: 17731586/0x010E9002)
 15: 0x5C9F [0x4A] Pieuje (ID: 17731589/0x010E9005) looks at Destin (ID: 17731586/0x010E9002)
 16: 0x5CA8 [0x4A] Claidie (ID: 17731590/0x010E9006) looks at Destin (ID: 17731586/0x010E9002)
 17: 0x5CB1 [0x79] LocalPlayer looks at LocalPlayer (Basic look)
 18: 0x5CBB [0x7B] LocalPlayer stops talking
 19: 0x5CC0 [0x32] ExtData[1]->MainSpeed = 13* * 0.1
 20: 0x5CC3 [0x29] REQ_SET_WAIT(priority=0x04, entity_id=Trion (ID: 17731587/0x010E9003), tag_num=0x18)
 21: 0x5CCA [0x1C] WAIT(180* ticks)
 22: 0x5CCD [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-0.756*, z=34.294*, y=-3.000*, direction=272.0°*
 23: 0x5CD6 [0x80] LOAD_WAIT(entity=Destin (ID: 17731586/0x010E9002))
 24: 0x5CDB [0x80] LOAD_WAIT(entity=Trion (ID: 17731587/0x010E9003))
 25: 0x5CE0 [0x80] LOAD_WAIT(entity=Pieuje (ID: 17731589/0x010E9005))
 26: 0x5CE5 [0x80] LOAD_WAIT(entity=Claidie (ID: 17731590/0x010E9006))
 27: 0x5CEA [0x45] LOAD_SCHEDULED_TASK(work_offset1=242*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="w002", work_offset2=0*)
 28: 0x5CFB [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 29: 0x5D0C [0x32] ExtData[1]->MainSpeed = 13* * 0.1
 30: 0x5D0F [0x1F] MOVE_ENTITY: EventEntity moves to X=-0.780*, Z=35.494*, Y=-2.999*
 31: 0x5D17 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
 32: 0x5D19 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 33: 0x5D1A [0x4A] LocalPlayer looks at Destin (ID: 17731586/0x010E9002)
 34: 0x5D23 [0x55] WAIT_LOAD_SCHEDULER(work_offset=242*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="w002")
 35: 0x5D32 [0x27] REQ_SET(priority=0x03, entity_id=Trion (ID: 17731587/0x010E9003), tag_num=0x32)
 36: 0x5D39 [0x1C] WAIT(60* ticks)
 37: 0x5D3C [0x2B] Trion (ID: 17731587/0x010E9003) [6772*]:
    → "Father. Shall we begin?\u007F1\u0000\u0007"
 38: 0x5D43 [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x5D44 [0x27] REQ_SET(priority=0x04, entity_id=Trion (ID: 17731587/0x010E9003), tag_num=0x33)
 40: 0x5D4B [0x27] REQ_SET(priority=0x03, entity_id=Destin (ID: 17731586/0x010E9002), tag_num=0x19)
 41: 0x5D52 [0x1C] WAIT(10* ticks)
 42: 0x5D55 [0x45] LOAD_SCHEDULED_TASK(work_offset1=242*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="w003", work_offset2=0*)
 43: 0x5D66 [0x55] WAIT_LOAD_SCHEDULER(work_offset=242*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="w003")
 44: 0x5D75 [0x2B] Destin (ID: 17731586/0x010E9002) [6773*]:
    → "Yes, Trion.\u0007Oh, I see the discoverer of the ancient tome is also here with us.\u007F1\u0000\u0007"
 45: 0x5D7C [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x5D7D [0x2B] Destin (ID: 17731586/0x010E9002) [6774*]:
    → "Well, as you all expected, the tomb discovered is in fact the true resting place of the Dragon King. I applaud our adventurer on \u007F\u0005[his/her] work.\u007F1\u0000\u0007"
 47: 0x5D84 [0x23] WAIT_FOR_DIALOG_INTERACTION
 48: 0x5D85 [0x27] REQ_SET(priority=0x04, entity_id=Destin (ID: 17731586/0x010E9002), tag_num=0x1A)
 49: 0x5D8C [0x1C] WAIT(10* ticks)
 50: 0x5D8F [0x45] LOAD_SCHEDULED_TASK(work_offset1=242*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="w004", work_offset2=0*)
 51: 0x5DA0 [0x55] WAIT_LOAD_SCHEDULER(work_offset=242*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="w004")
 52: 0x5DAF [0x2A] GET_REQ_LEVEL(level=4, entity_id=Destin (ID: 17731586/0x010E9002))
 53: 0x5DB5 [0x2B] Destin (ID: 17731586/0x010E9002) [6775*]:
    → "In addition to this, the ancient writings also tell us about King Ranperre's Treasure...\u007F1\u0000\u0007"
 54: 0x5DBC [0x23] WAIT_FOR_DIALOG_INTERACTION
 55: 0x5DBD [0x2B] Destin (ID: 17731586/0x010E9002) [6776*]:
    → "According to the encrypted tome, the Treasure is a sword--a sword that, when unsheathed, wields more power than one can imagine. \u00072Lightbringer.\u00073\u007F1\u0000\u0007"
 56: 0x5DC4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x5DC5 [0x45] LOAD_SCHEDULED_TASK(work_offset1=242*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="w005", work_offset2=0*)
 58: 0x5DD6 [0x2B] Trion (ID: 17731587/0x010E9003) [6777*]:
    → "The Dragon King's...\u007F4\u0001\u007F1\u0000\u0007"
 59: 0x5DDD [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x5DDE [0x1C] WAIT(60* ticks)
 61: 0x5DE1 [0x2B] Pieuje (ID: 17731589/0x010E9005) [6778*]:
    → "Lightbringer.\u007F1\u0000\u0007"
 62: 0x5DE8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 63: 0x5DE9 [0x55] WAIT_LOAD_SCHEDULER(work_offset=242*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="w005")
 64: 0x5DF8 [0x1C] WAIT(60* ticks)
 65: 0x5DFB [0x45] LOAD_SCHEDULED_TASK(work_offset1=242*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="w006", work_offset2=0*)
 66: 0x5E0C [0x55] WAIT_LOAD_SCHEDULER(work_offset=242*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="w006")
 67: 0x5E1B [0x2B] Destin (ID: 17731586/0x010E9002) [6779*]:
    → "Unfortunately, the whereabouts of the sword were not found within the tome's pages. However, our investigation has taken an important step forward.\u007F1\u0000\u0007"
 68: 0x5E22 [0x23] WAIT_FOR_DIALOG_INTERACTION
 69: 0x5E23 [0x4A] Destin (ID: 17731586/0x010E9002) looks at LocalPlayer
 70: 0x5E2C [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 71: 0x5E2D [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Destin (ID: 17731586/0x010E9002) Render.Flags0 and Render.Flags3 conditions are met
 72: 0x5E32 [0x27] REQ_SET(priority=0x04, entity_id=Destin (ID: 17731586/0x010E9002), tag_num=0x19)
 73: 0x5E39 [0x2B] Destin (ID: 17731586/0x010E9002) [6780*]:
    → "\u0008. If you obtain any new information on Lightbringer, I ask you to share it with us.\u007F1\u0000\u0007"
 74: 0x5E40 [0x23] WAIT_FOR_DIALOG_INTERACTION
 75: 0x5E41 [0x27] REQ_SET(priority=0x04, entity_id=Destin (ID: 17731586/0x010E9002), tag_num=0x1A)
 76: 0x5E48 [0x45] LOAD_SCHEDULED_TASK(work_offset1=242*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="w007", work_offset2=0*)
 77: 0x5E59 [0x55] WAIT_LOAD_SCHEDULER(work_offset=242*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="w007")
 78: 0x5E68 [0x2B] Destin (ID: 17731586/0x010E9002) [6781*]:
    → "While finding Ranperre's holy sword is one of our top priorities, paying proper homage to our former king is something I wish to do as successor to his throne.\u007F1\u0000\u0007"
 79: 0x5E6F [0x23] WAIT_FOR_DIALOG_INTERACTION
 80: 0x5E70 [0x2B] Destin (ID: 17731586/0x010E9002) [6782*]:
    → "\u0008. I wish for you to travel to the Dragon King's tomb and purge the area of any vermin. We will follow directly behind.\u007F1\u0000\u0007"
 81: 0x5E77 [0x23] WAIT_FOR_DIALOG_INTERACTION
 82: 0x5E78 [0x1C] WAIT(60* ticks)
 83: 0x5E7B [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 84: 0x5E8C [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
 85: 0x5E9B [0x1C] WAIT(120* ticks)
 86: 0x5E9E [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 156*
 87: 0x5EA2 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 156*
 88: 0x5EA6 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 89: 0x5EB7 [0x46] CAMERA_CONTROL: Restore default settings
 90: 0x5EB9 [0x21] END_EVENT
 91: 0x5EBA [0x00] END_REQSTACK()
```
