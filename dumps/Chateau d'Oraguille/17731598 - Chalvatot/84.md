# Event 84

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 12/50     |
| Offset          | 0x0395    |
| Data Size       | 595 bytes |
| Calculated Size | 595 bytes |
| Instructions    | 101       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0390:                06 01 10  03 00 00 02 10 42 75 00       ........Bu.
03A0: 16 80 75 01 4A 0E 90 0E  01 F0 FF FF 7F 6F 76 0E  ..u.J........ov.
03B0: 90 0E 01 02 00 00 2A 80  00 F8 03 2B 0E 90 0E 01  ......*....+....
03C0: 2B 80 23 24 2C 80 2A 80  02 80 25 02 00 10 02 80  +.#$,.*...%.....
03D0: 00 E3 03 03 01 10 2A 80  2B 0E 90 0E 01 2D 80 23  ......*.+....-.#
03E0: 01 F6 03 02 00 10 2A 80  00 F6 03 2B 0E 90 0E 01  ......*....+....
03F0: 2E 80 23 01 F6 03 21 00  46 01 1A 64 0A 1C 2F 80  ..#...!.F..d../.
0400: 38 18 80 5B 04 80 0E 90  0E 01 0E 90 0E 01 00 FE  8..[............
0410: FE FE 29 10 F0 FF FF 7F  50 4A 0E 90 0E 01 F0 FF  ..).....PJ......
0420: FF 7F 6F 76 0E 90 0E 01  5B 04 80 0E 90 0E 01 0E  ..ov....[.......
0430: 90 0E 01 74 6C 6B 30 45  17 80 F0 FF FF 7F F0 FF  ...tlk0E........
0440: FF 7F 73 67 30 34 02 80  1A 85 0A 03 02 10 30 80  ..sg04........0.
0450: 2B 0E 90 0E 01 31 80 23  2B 0E 90 0E 01 32 80 23  +....1.#+....2.#
0460: 4A 0E 90 0E 01 0F 90 0E  01 6F 76 0E 90 0E 01 79  J........ov....y
0470: 00 F0 FF FF 7F 0F 90 0E  01 5B 04 80 0E 90 0E 01  .........[......
0480: 0E 90 0E 01 74 68 6B 31  27 10 F0 FF FF 7F 51 2B  ....thk1'.....Q+
0490: 0E 90 0E 01 33 80 23 2A  10 F0 FF FF 7F 1A 64 0A  ....3.#*......d.
04A0: 45 17 80 F0 FF FF 7F F0  FF FF 7F 73 67 30 37 02  E..........sg07.
04B0: 80 1A 43 0A 5B 04 80 0E  90 0E 01 0E 90 0E 01 74  ..C.[..........t
04C0: 68 6B 32 53 0E 90 0E 01  0E 90 0E 01 74 68 6B 32  hk2S........thk2
04D0: 7B F0 FF FF 7F 4A 0E 90  0E 01 F0 FF FF 7F 6F 76  {....J........ov
04E0: 0E 90 0E 01 2B 0E 90 0E  01 34 80 23 5B 04 80 0E  ....+....4.#[...
04F0: 90 0E 01 0E 90 0E 01 74  6C 6B 30 2B 0E 90 0E 01  .......tlk0+....
0500: 35 80 23 45 17 80 F0 FF  FF 7F F0 FF FF 7F 73 67  5.#E..........sg
0510: 30 35 02 80 2B 0E 90 0E  01 36 80 23 2B 0E 90 0E  05..+....6.#+...
0520: 01 37 80 23 55 17 80 F0  FF FF 7F F0 FF FF 7F 73  .7.#U..........s
0530: 67 30 35 1A 64 0A 45 17  80 F0 FF FF 7F F0 FF FF  g05.d.E.........
0540: 7F 73 67 30 37 02 80 1A  43 0A 2B 0E 90 0E 01 38  .sg07...C.+....8
0550: 80 23 6B 69 64 6C 30 0E  90 0E 01 24 2C 80 2A 80  .#kidl0....$,.*.
0560: 02 80 25 02 00 10 02 80  00 82 05 03 01 10 2A 80  ..%...........*.
0570: 6E F0 FF FF 7F 39 80 99  F0 FF FF 7F 1C 25 80 01  n....9.......%..
0580: B6 05 02 00 10 2A 80 00  B6 05 6E F0 FF FF 7F 3A  .....*....n....:
0590: 80 99 F0 FF FF 7F 1C 12  80 5B 04 80 0E 90 0E 01  .........[......
05A0: 0E 90 0E 01 74 68 6B 31  2B 0E 90 0E 01 2E 80 23  ....thk1+......#
05B0: 01 CD 05 01 B6 05 5B 04  80 0E 90 0E 01 0E 90 0E  ......[.........
05C0: 01 74 6C 6B 30 2B 0E 90  0E 01 2D 80 23 1A 64 0A  .tlk0+....-.#.d.
05D0: 1C 2F 80 45 19 80 F0 FF  FF 7F F0 FF FF 7F 66 64  ./.E..........fd
05E0: 69 32 02 80 46 00 21 00                           i2..F.!.        
```

## Opcodes

```
  0: 0x0395 [0x06] Work_Zone[1] = 0
  1: 0x0398 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  2: 0x039D [0x42] SET_CLI_EVENT_CANCEL_DATA()
  3: 0x039E [0x75] LOAD_ROOM(Load indoor room, room=373*)
  4: 0x03A2 [0x75] LOAD_ROOM(No action)
  5: 0x03A4 [0x4A] Chalvatot (ID: 17731598/0x010E900E) looks at LocalPlayer
  6: 0x03AD [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  7: 0x03AE [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Chalvatot (ID: 17731598/0x010E900E) Render.Flags0 and Render.Flags3 conditions are met
  8: 0x03B3 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x03F8
  9: 0x03BB [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7413*]:
    → "Eh? What's that? Changed your mind? It be for Queen Leaute, you know!\u007F1\u0000\u0007"
 10: 0x03C2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x03C3 [0x24] CREATE_DIALOG(message_id=7410*, default_option=1*, option_flags=0*)
    → "Accept Chalvatot's request?\u0007\u000BAccept.\u0007Decline.\u007F1\u0000\u0007"
 12: 0x03CA [0x25] WAIT_DIALOG_SELECT()
 13: 0x03CB [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x03E3
 14: 0x03D3 [0x03] Work_Zone[1] = 1*
 15: 0x03D8 [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7412*]:
    → "Ah, now that's the answer I was expectin'. Queen Leaute'd be pleased, she would. You get going, then.\u007F1\u0000\u0007"
 16: 0x03DF [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x03E0 [0x01] GOTO 0x03F6
 18: 0x03E3 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x03F6
 19: 0x03EB [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7411*]:
    → "Hrm...that's a shame, that is. Guess I'll talk to those knights again.\u007F1\u0000\u0007"
 20: 0x03F2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 21: 0x03F3 [0x01] GOTO 0x03F6

SUBROUTINE_03F6:
 22: 0x03F6 [0x21] END_EVENT
 23: 0x03F7 [0x00] END_REQSTACK()
 24: 0x03F8 [0x46] CAMERA_CONTROL: Disable user control
 25: 0x03FA [0x1A] CALL_SUBROUTINE(address=0x0A64)
 26: 0x03FD [0x1C] WAIT(15* ticks)
 27: 0x0400 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
 28: 0x0403 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler 0xFEFEFE00 with entities [Chalvatot (ID: 17731598/0x010E900E), Chalvatot (ID: 17731598/0x010E900E)], work=30*
 29: 0x0412 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x50)
 30: 0x0419 [0x4A] Chalvatot (ID: 17731598/0x010E900E) looks at LocalPlayer
 31: 0x0422 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 32: 0x0423 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Chalvatot (ID: 17731598/0x010E900E) Render.Flags0 and Render.Flags3 conditions are met
 33: 0x0428 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [Chalvatot (ID: 17731598/0x010E900E), Chalvatot (ID: 17731598/0x010E900E)], work=30*
 34: 0x0437 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "sg04" with entities [LocalPlayer, LocalPlayer], work=[133*, 0*]
 35: 0x0448 [0x1A] CALL_SUBROUTINE(address=0x0A85)
 36: 0x044B [0x03] Work_Zone[2] = 533*
 37: 0x0450 [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7402*]:
    → "So, you like me garden, eh? Understandably! 'Tis filled with the kindness of Queen Leaute, this place is.\u007F1\u0000\u0007"
 38: 0x0457 [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x0458 [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7403*]:
    → "Working here, it's like I can feel the warm, merciful smile o' the queen shining down on me.\u007F1\u0000\u0007"
 40: 0x045F [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x0460 [0x4A] Chalvatot (ID: 17731598/0x010E900E) looks at Tombstone (ID: 17731599/0x010E900F)
 42: 0x0469 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 43: 0x046A [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Chalvatot (ID: 17731598/0x010E900E) Render.Flags0 and Render.Flags3 conditions are met
 44: 0x046F [0x79] LocalPlayer looks at Tombstone (ID: 17731599/0x010E900F) (Basic look)
 45: 0x0479 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk1" with entities [Chalvatot (ID: 17731598/0x010E900E), Chalvatot (ID: 17731598/0x010E900E)], work=30*
 46: 0x0488 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x51)
 47: 0x048F [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7404*]:
    → "Were Queen Leaute still alive, those two would never be fighting like they do now. Guess it's fate.\u007F1\u0000\u0007"
 48: 0x0496 [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0x0497 [0x2A] GET_REQ_LEVEL(level=16, entity_id=LocalPlayer)
 50: 0x049D [0x1A] CALL_SUBROUTINE(address=0x0A64)
 51: 0x04A0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "sg07" with entities [LocalPlayer, LocalPlayer], work=[133*, 0*]
 52: 0x04B1 [0x1A] CALL_SUBROUTINE(address=0x0A43)
 53: 0x04B4 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk2" with entities [Chalvatot (ID: 17731598/0x010E900E), Chalvatot (ID: 17731598/0x010E900E)], work=30*
 54: 0x04C3 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk2" with entities [Chalvatot (ID: 17731598/0x010E900E), Chalvatot (ID: 17731598/0x010E900E)]
 55: 0x04D0 [0x7B] LocalPlayer stops talking
 56: 0x04D5 [0x4A] Chalvatot (ID: 17731598/0x010E900E) looks at LocalPlayer
 57: 0x04DE [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 58: 0x04DF [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Chalvatot (ID: 17731598/0x010E900E) Render.Flags0 and Render.Flags3 conditions are met
 59: 0x04E4 [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7405*]:
    → "Hmph. Why am I blabbering about this to the likes of you, eh?\u007F1\u0000\u0007"
 60: 0x04EB [0x23] WAIT_FOR_DIALOG_INTERACTION
 61: 0x04EC [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [Chalvatot (ID: 17731598/0x010E900E), Chalvatot (ID: 17731598/0x010E900E)], work=30*
 62: 0x04FB [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7406*]:
    → "Since you seem to have taken a fancy to the garden, here, how's about lending me a hand?\u007F1\u0000\u0007"
 63: 0x0502 [0x23] WAIT_FOR_DIALOG_INTERACTION
 64: 0x0503 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "sg05" with entities [LocalPlayer, LocalPlayer], work=[133*, 0*]
 65: 0x0514 [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7407*]:
    → "I got me a problem, see. No regular compost is good enough to make these flowers bloom the way they do.\u007F1\u0000\u0007"
 66: 0x051B [0x23] WAIT_FOR_DIALOG_INTERACTION
 67: 0x051C [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7408*]:
    → "So I've been using \u0001\u0005%\u0002\u0000\u0000\u0000 as a special fertilizer, I have.\u007F1\u0000\u0007"
 68: 0x0523 [0x23] WAIT_FOR_DIALOG_INTERACTION
 69: 0x0524 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "sg05" with entities [LocalPlayer, LocalPlayer], work=133*
 70: 0x0533 [0x1A] CALL_SUBROUTINE(address=0x0A64)
 71: 0x0536 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "sg07" with entities [LocalPlayer, LocalPlayer], work=[133*, 0*]
 72: 0x0547 [0x1A] CALL_SUBROUTINE(address=0x0A43)
 73: 0x054A [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7409*]:
    → "Only, it be harder than skinning a wild sheep to get those knights off their shiny rumps to help, and now I'm running out.\u007F1\u0000\u0007"
 74: 0x0551 [0x23] WAIT_FOR_DIALOG_INTERACTION
 75: 0x0552 [0x6B] STOP_AND_IDLE: Chalvatot (ID: 17731598/0x010E900E) stops current action and resets to idle (animation="idl0")
 76: 0x055B [0x24] CREATE_DIALOG(message_id=7410*, default_option=1*, option_flags=0*)
    → "Accept Chalvatot's request?\u0007\u000BAccept.\u0007Decline.\u007F1\u0000\u0007"
 77: 0x0562 [0x25] WAIT_DIALOG_SELECT()
 78: 0x0563 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0582
 79: 0x056B [0x03] Work_Zone[1] = 1*
 80: 0x0570 [0x6E] LocalPlayer uses emote 7*
 81: 0x0577 [0x99] Wait for LocalPlayer animation to complete
 82: 0x057C [0x1C] WAIT(45* ticks)
 83: 0x057F [0x01] GOTO 0x05B6
 84: 0x0582 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x05B6
 85: 0x058A [0x6E] LocalPlayer uses emote 6*
 86: 0x0591 [0x99] Wait for LocalPlayer animation to complete
 87: 0x0596 [0x1C] WAIT(60* ticks)
 88: 0x0599 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk1" with entities [Chalvatot (ID: 17731598/0x010E900E), Chalvatot (ID: 17731598/0x010E900E)], work=30*
 89: 0x05A8 [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7411*]:
    → "Hrm...that's a shame, that is. Guess I'll talk to those knights again.\u007F1\u0000\u0007"
 90: 0x05AF [0x23] WAIT_FOR_DIALOG_INTERACTION
 91: 0x05B0 [0x01] GOTO 0x05CD

SUBROUTINE_05B6:
 92: 0x05B6 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [Chalvatot (ID: 17731598/0x010E900E), Chalvatot (ID: 17731598/0x010E900E)], work=30*
 93: 0x05C5 [0x2B] Chalvatot (ID: 17731598/0x010E900E) [7412*]:
    → "Ah, now that's the answer I was expectin'. Queen Leaute'd be pleased, she would. You get going, then.\u007F1\u0000\u0007"
 94: 0x05CC [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_05CD:
 95: 0x05CD [0x1A] CALL_SUBROUTINE(address=0x0A64)
 96: 0x05D0 [0x1C] WAIT(15* ticks)
 97: 0x05D3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 98: 0x05E4 [0x46] CAMERA_CONTROL: Restore default settings
 99: 0x05E6 [0x21] END_EVENT
100: 0x05E7 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x05B3 [0x01] GOTO 0x05B6
```