# Event 55

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 35/102    |
| Offset          | 0x057B    |
| Data Size       | 538 bytes |
| Calculated Size | 538 bytes |
| Instructions    | 87        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0570:                                   06 01 10 03 08             .....
0580: 00 02 10 42 75 00 4D 80  75 01 5B 19 80 0C 90 0E  ...Bu.M.u.[.....
0590: 01 0C 90 0E 01 00 FE FE  FE 4A 0C 90 0E 01 F0 FF  .........J......
05A0: FF 7F 6F 76 0C 90 0E 01  02 08 00 18 80 00 09 06  ..ov............
05B0: 2B 0C 90 0E 01 4E 80 23  24 4F 80 18 80 00 80 25  +....N.#$O.....%
05C0: 02 00 10 00 80 00 F4 05  03 01 10 18 80 5B 19 80  .............[..
05D0: 0C 90 0E 01 0C 90 0E 01  70 61 73 30 2B 0C 90 0E  ........pas0+...
05E0: 01 50 80 23 53 0C 90 0E  01 0C 90 0E 01 70 61 73  .P.#S........pas
05F0: 30 01 07 06 02 00 10 18  80 00 07 06 2B 0C 90 0E  0...........+...
0600: 01 51 80 23 01 07 06 21  00 46 01 1A 67 09 1C 52  .Q.#...!.F..g..R
0610: 80 29 10 F0 FF FF 7F 4F  4A 0C 90 0E 01 F0 FF FF  .).....OJ.......
0620: 7F 6F 76 0C 90 0E 01 5B  19 80 0C 90 0E 01 0C 90  .ov....[........
0630: 0E 01 74 6C 6B 30 45 53  80 F0 FF FF 7F F0 FF FF  ..tlk0ES........
0640: 7F 73 67 30 31 00 80 38  54 80 1A 88 09 2B 0C 90  .sg01..8T....+..
0650: 0E 01 55 80 23 5B 19 80  0C 90 0E 01 0C 90 0E 01  ..U.#[..........
0660: 74 6C 6B 31 55 53 80 F0  FF FF 7F F0 FF FF 7F 73  tlk1US.........s
0670: 67 30 31 24 56 80 18 80  00 80 25 02 00 10 00 80  g01$V.....%.....
0680: 00 95 06 6E F0 FF FF 7F  57 80 99 F0 FF FF 7F 1C  ...n....W.......
0690: 58 80 01 A3 06 02 00 10  18 80 00 A3 06 01 0D 07  X...............
06A0: 01 A3 06 53 0C 90 0E 01  0C 90 0E 01 74 6C 6B 31  ...S........tlk1
06B0: 5B 19 80 0C 90 0E 01 0C  90 0E 01 74 6C 6B 30 2B  [..........tlk0+
06C0: 0C 90 0E 01 59 80 23 2B  0C 90 0E 01 5A 80 23 5B  ....Y.#+....Z.#[
06D0: 19 80 0C 90 0E 01 0C 90  0E 01 74 6C 6B 31 24 4F  ..........tlk1$O
06E0: 80 18 80 00 80 25 02 00  10 00 80 00 05 07 03 01  .....%..........
06F0: 10 18 80 6E F0 FF FF 7F  57 80 99 F0 FF FF 7F 1C  ...n....W.......
0700: 58 80 01 46 07 02 00 10  18 80 00 46 07 6E F0 FF  X..F.......F.n..
0710: FF 7F 5B 80 99 F0 FF FF  7F 1C 3A 80 53 0C 90 0E  ..[.......:.S...
0720: 01 0C 90 0E 01 74 6C 6B  31 5B 19 80 0C 90 0E 01  .....tlk1[......
0730: 0C 90 0E 01 74 68 6B 31  2B 0C 90 0E 01 51 80 23  ....thk1+....Q.#
0740: 01 7A 07 01 46 07 53 0C  90 0E 01 0C 90 0E 01 74  .z..F.S........t
0750: 6C 6B 31 1C 52 80 5B 19  80 0C 90 0E 01 0C 90 0E  lk1.R.[.........
0760: 01 70 61 73 30 2B 0C 90  0E 01 50 80 23 53 0C 90  .pas0+....P.#S..
0770: 0E 01 0C 90 0E 01 70 61  73 30 1A 67 09 1C 52 80  ......pas0.g..R.
0780: 45 0B 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 32 00  E..........fdi2.
0790: 80 46 00 21 00                                    .F.!.           
```

## Opcodes

```
  0: 0x057B [0x06] Work_Zone[1] = 0
  1: 0x057E [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[2]
  2: 0x0583 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  3: 0x0584 [0x75] LOAD_ROOM(Load indoor room, room=371*)
  4: 0x0588 [0x75] LOAD_ROOM(No action)
  5: 0x058A [0x5B] LOAD_EXT_SCHEDULER: Load scheduler 0xFEFEFE00 with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)], work=140*
  6: 0x0599 [0x4A] Curilla (ID: 17731596/0x010E900C) looks at LocalPlayer
  7: 0x05A2 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  8: 0x05A3 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Curilla (ID: 17731596/0x010E900C) Render.Flags0 and Render.Flags3 conditions are met
  9: 0x05A8 [0x02] IF !(ExtData[1]->WorkLocal[8] == 1*) GOTO 0x0609
 10: 0x05B0 [0x2B] Curilla (ID: 17731596/0x010E900C) [7394*]:
    → "Ah, it's you again! Have you decided to accept my request?\u007F1\u0000\u0007"
 11: 0x05B7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x05B8 [0x24] CREATE_DIALOG(message_id=7391*, default_option=1*, option_flags=0*)
    → "Accept Curilla's request?\u0007\u000BAccept.\u0007Decline.\u007F1\u0000\u0007"
 13: 0x05BF [0x25] WAIT_DIALOG_SELECT()
 14: 0x05C0 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x05F4
 15: 0x05C8 [0x03] Work_Zone[1] = 1*
 16: 0x05CD [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "pas0" with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)], work=140*
 17: 0x05DC [0x2B] Curilla (ID: 17731596/0x010E900C) [7392*]:
    → "Then, good luck! Use this to draw water from the spring atop Horlais Peak.\u007F1\u0000\u0007"
 18: 0x05E3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x05E4 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "pas0" with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)]
 20: 0x05F1 [0x01] GOTO 0x0607
 21: 0x05F4 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0607
 22: 0x05FC [0x2B] Curilla (ID: 17731596/0x010E900C) [7393*]:
    → "That is unfortunate. I'll ask somebody else.\u007F1\u0000\u0007"
 23: 0x0603 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x0604 [0x01] GOTO 0x0607

SUBROUTINE_0607:
 25: 0x0607 [0x21] END_EVENT
 26: 0x0608 [0x00] END_REQSTACK()
 27: 0x0609 [0x46] CAMERA_CONTROL: Disable user control
 28: 0x060B [0x1A] CALL_SUBROUTINE(address=0x0967)
 29: 0x060E [0x1C] WAIT(15* ticks)
 30: 0x0611 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x4F)
 31: 0x0618 [0x4A] Curilla (ID: 17731596/0x010E900C) looks at LocalPlayer
 32: 0x0621 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 33: 0x0622 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Curilla (ID: 17731596/0x010E900C) Render.Flags0 and Render.Flags3 conditions are met
 34: 0x0627 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)], work=140*
 35: 0x0636 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "sg01" with entities [LocalPlayer, LocalPlayer], work=[133*, 0*]
 36: 0x0647 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
 37: 0x064A [0x1A] CALL_SUBROUTINE(address=0x0988)
 38: 0x064D [0x2B] Curilla (ID: 17731596/0x010E900C) [7387*]:
    → "You are an adventurer in good standing, are you not? I have a request for you, if you've the time.\u007F1\u0000\u0007"
 39: 0x0654 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x0655 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk1" with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)], work=140*
 41: 0x0664 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "sg01" with entities [LocalPlayer, LocalPlayer], work=133*
 42: 0x0673 [0x24] CREATE_DIALOG(message_id=7388*, default_option=1*, option_flags=0*)
    → "Listen to Curilla's request?\u0007\u000BListen.\u0007Not now.\u007F1\u0000\u0007"
 43: 0x067A [0x25] WAIT_DIALOG_SELECT()
 44: 0x067B [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0695
 45: 0x0683 [0x6E] LocalPlayer uses emote 7*
 46: 0x068A [0x99] Wait for LocalPlayer animation to complete
 47: 0x068F [0x1C] WAIT(45* ticks)
 48: 0x0692 [0x01] GOTO 0x06A3
 49: 0x0695 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x06A3
 50: 0x069D [0x01] GOTO 0x070D

SUBROUTINE_06A3:
 51: 0x06A3 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)]
 52: 0x06B0 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)], work=140*
 53: 0x06BF [0x2B] Curilla (ID: 17731596/0x010E900C) [7389*]:
    → "There is a spring atop Horlais Peak from which the sweetest water flows. I want you to bring me some. I could have one of my knights bring it, but...I would like to keep this an outside job.\u007F1\u0000\u0007"
 54: 0x06C6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 55: 0x06C7 [0x2B] Curilla (ID: 17731596/0x010E900C) [7390*]:
    → "Why? I have my reasons. Tell me, will you do it?\u007F1\u0000\u0007"
 56: 0x06CE [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x06CF [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk1" with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)], work=140*
 58: 0x06DE [0x24] CREATE_DIALOG(message_id=7391*, default_option=1*, option_flags=0*)
    → "Accept Curilla's request?\u0007\u000BAccept.\u0007Decline.\u007F1\u0000\u0007"
 59: 0x06E5 [0x25] WAIT_DIALOG_SELECT()
 60: 0x06E6 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0705
 61: 0x06EE [0x03] Work_Zone[1] = 1*
 62: 0x06F3 [0x6E] LocalPlayer uses emote 7*
 63: 0x06FA [0x99] Wait for LocalPlayer animation to complete
 64: 0x06FF [0x1C] WAIT(45* ticks)
 65: 0x0702 [0x01] GOTO 0x0746
 66: 0x0705 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0746

SUBROUTINE_070D:
 67: 0x070D [0x6E] LocalPlayer uses emote 6*
 68: 0x0714 [0x99] Wait for LocalPlayer animation to complete
 69: 0x0719 [0x1C] WAIT(60* ticks)
 70: 0x071C [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)]
 71: 0x0729 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk1" with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)], work=140*
 72: 0x0738 [0x2B] Curilla (ID: 17731596/0x010E900C) [7393*]:
    → "That is unfortunate. I'll ask somebody else.\u007F1\u0000\u0007"
 73: 0x073F [0x23] WAIT_FOR_DIALOG_INTERACTION
 74: 0x0740 [0x01] GOTO 0x077A

SUBROUTINE_0746:
 75: 0x0746 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)]
 76: 0x0753 [0x1C] WAIT(15* ticks)
 77: 0x0756 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "pas0" with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)], work=140*
 78: 0x0765 [0x2B] Curilla (ID: 17731596/0x010E900C) [7392*]:
    → "Then, good luck! Use this to draw water from the spring atop Horlais Peak.\u007F1\u0000\u0007"
 79: 0x076C [0x23] WAIT_FOR_DIALOG_INTERACTION
 80: 0x076D [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "pas0" with entities [Curilla (ID: 17731596/0x010E900C), Curilla (ID: 17731596/0x010E900C)]

SUBROUTINE_077A:
 81: 0x077A [0x1A] CALL_SUBROUTINE(address=0x0967)
 82: 0x077D [0x1C] WAIT(15* ticks)
 83: 0x0780 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 84: 0x0791 [0x46] CAMERA_CONTROL: Restore default settings
 85: 0x0793 [0x21] END_EVENT
 86: 0x0794 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x06A0 [0x01] GOTO 0x06A3
# Dead code (unreachable instructions):
     0x0743 [0x01] GOTO 0x0746
```