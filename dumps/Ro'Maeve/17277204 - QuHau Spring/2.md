# Event 2

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/5       |
| Offset          | 0x0001    |
| Data Size       | 989 bytes |
| Calculated Size | 989 bytes |
| Instructions    | 122       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    20 01 42 46 01 5D 00  80 01 80 45 01 80 F8 FF    .BF.]....E....
0010: FF 7F F8 FF FF 7F 66 64  6F 31 00 80 1C 01 80 38  ......fdo1.....8
0020: 02 80 5C 00 03 80 5C 01  03 80 5D 04 80 05 80 1C  ..\...\...].....
0030: 01 80 4E 00 16 A1 07 01  80 16 A1 07 01 29 0B F0  ..N..........)..
0040: FF FF 7F 02 29 08 F0 FF  FF 7F 05 45 06 80 F0 FF  ....)......E....
0050: FF 7F F0 FF FF 7F 73 30  30 30 00 80 45 01 80 F8  ......s000..E...
0060: FF FF 7F F8 FF FF 7F 66  64 69 31 00 80 1C 07 80  .......fdi1.....
0070: 48 08 80 23 1C 07 80 52  06 80 F0 FF FF 7F F0 FF  H..#...R........
0080: FF 7F 73 30 30 30 45 01  80 F0 FF FF 7F F0 FF FF  ..s000E.........
0090: 7F 6F 76 6C 31 00 80 02  09 10 09 80 00 B3 00 45  .ovl1..........E
00A0: 06 80 F0 FF FF 7F F0 FF  FF 7F 73 30 30 37 00 80  ..........s007..
00B0: 01 E0 00 02 09 10 0A 80  00 CF 00 45 06 80 F0 FF  ...........E....
00C0: FF 7F F0 FF FF 7F 73 30  30 37 00 80 01 E0 00 45  ......s007.....E
00D0: 06 80 F0 FF FF 7F F0 FF  FF 7F 73 30 30 31 00 80  ..........s001..
00E0: 4E 00 15 A1 07 01 4A F0  FF FF 7F 16 A1 07 01 2B  N.....J........+
00F0: 16 A1 07 01 0B 80 23 6F  76 F0 FF FF 7F 79 00 F0  ......#ov....y..
0100: FF FF 7F 15 A1 07 01 1C  0C 80 80 15 A1 07 01 02  ................
0110: 09 10 09 80 00 29 01 52  06 80 F0 FF FF 7F F0 FF  .....).R........
0120: FF 7F 73 30 30 37 01 52  01 02 09 10 0A 80 00 43  ..s007.R.......C
0130: 01 52 06 80 F0 FF FF 7F  F0 FF FF 7F 73 30 30 37  .R..........s007
0140: 01 52 01 52 06 80 F0 FF  FF 7F F0 FF FF 7F 73 30  .R.R..........s0
0150: 30 31 5D 00 80 05 80 45  01 80 F0 FF FF 7F F0 FF  01]....E........
0160: FF 7F 62 6C 6F 6E 00 80  45 0D 80 F0 FF FF 7F F0  ..blon..E.......
0170: FF FF 7F 62 6C 6F 6E 00  80 45 06 80 F0 FF FF 7F  ...blon..E......
0180: F0 FF FF 7F 73 30 30 32  00 80 27 0B 15 A1 07 01  ....s002..'.....
0190: 02 1C 05 80 5C 00 0E 80  5C 01 0E 80 5D 04 80 05  ....\...\...]...
01A0: 80 1C 07 80 52 06 80 F0  FF FF 7F F0 FF FF 7F 73  ....R..........s
01B0: 30 30 32 45 01 80 F0 FF  FF 7F F0 FF FF 7F 6F 76  002E..........ov
01C0: 6C 31 00 80 45 06 80 F0  FF FF 7F F0 FF FF 7F 73  l1..E..........s
01D0: 30 30 35 00 80 4A F0 FF  FF 7F 15 A1 07 01 2B 16  005..J........+.
01E0: A1 07 01 0F 80 23 1C 10  80 2A 0B 15 A1 07 01 52  .....#...*.....R
01F0: 06 80 F0 FF FF 7F F0 FF  FF 7F 73 30 30 35 45 01  ..........s005E.
0200: 80 F0 FF FF 7F F0 FF FF  7F 62 6C 6F 66 00 80 45  .........blof..E
0210: 01 80 F0 FF FF 7F F0 FF  FF 7F 6F 76 6C 31 00 80  ..........ovl1..
0220: 45 06 80 F0 FF FF 7F F0  FF FF 7F 73 30 30 33 00  E..........s003.
0230: 80 5D 00 80 01 80 1C 11  80 29 0B 15 A1 07 01 04  .].......)......
0240: 29 0B 15 A1 07 01 03 62  05 80 15 A1 07 01 15 A1  )......b........
0250: 07 01 6D 61 69 6E 00 80  45 01 80 F8 FF FF 7F F8  ..main..E.......
0260: FF FF 7F 66 64 6F 31 00  80 1C 12 80 5C 00 13 80  ...fdo1.....\...
0270: 5C 01 13 80 5D 04 80 05  80 52 06 80 F0 FF FF 7F  \...]....R......
0280: F0 FF FF 7F 73 30 30 33  45 06 80 F0 FF FF 7F F0  ....s003E.......
0290: FF FF 7F 73 30 30 34 00  80 1C 12 80 45 01 80 F8  ...s004.....E...
02A0: FF FF 7F F8 FF FF 7F 66  64 69 31 00 80 1C 12 80  .......fdi1.....
02B0: 79 00 F0 FF FF 7F 16 A1  07 01 4A 16 A1 07 01 F0  y.........J.....
02C0: FF FF 7F 6F 76 16 A1 07  01 2B 16 A1 07 01 14 80  ...ov....+......
02D0: 23 2B 16 A1 07 01 15 80  23 52 06 80 F0 FF FF 7F  #+......#R......
02E0: F0 FF FF 7F 73 30 30 34  45 01 80 F8 FF FF 7F F8  ....s004E.......
02F0: FF FF 7F 66 64 6F 31 00  80 1C 12 80 4A F0 FF FF  ...fdo1.....J...
0300: 7F 16 A1 07 01 6F 76 F0  FF FF 7F 02 09 10 09 80  .....ov.........
0310: 00 27 03 45 06 80 F0 FF  FF 7F F0 FF FF 7F 73 30  .'.E..........s0
0320: 30 37 00 80 01 54 03 02  09 10 0A 80 00 43 03 45  07...T.......C.E
0330: 06 80 F0 FF FF 7F F0 FF  FF 7F 73 30 30 37 00 80  ..........s007..
0340: 01 54 03 45 06 80 F0 FF  FF 7F F0 FF FF 7F 73 30  .T.E..........s0
0350: 30 36 00 80 45 01 80 F8  FF FF 7F F8 FF FF 7F 66  06..E..........f
0360: 64 69 31 00 80 2B 16 A1  07 01 16 80 23 45 01 80  di1..+......#E..
0370: F8 FF FF 7F F8 FF FF 7F  66 64 6F 31 00 80 1C 12  ........fdo1....
0380: 80 02 09 10 09 80 00 9B  03 52 06 80 F0 FF FF 7F  .........R......
0390: F0 FF FF 7F 73 30 30 37  01 C4 03 02 09 10 0A 80  ....s007........
03A0: 00 B5 03 52 06 80 F0 FF  FF 7F F0 FF FF 7F 73 30  ...R..........s0
03B0: 30 37 01 C4 03 52 06 80  F0 FF FF 7F F0 FF FF 7F  07...R..........
03C0: 73 30 30 36 46 00 1C 01  80 45 01 80 F8 FF FF 7F  s006F....E......
03D0: F8 FF FF 7F 66 64 69 31  00 80 20 00 21 00        ....fdi1.. .!.  
```

## Opcodes

```
  0: 0x0001 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0003 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0004 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x0006 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=200*)
  4: 0x000B [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  5: 0x001C [0x1C] WAIT(200* ticks)
  6: 0x001F [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  7: 0x0022 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 204*
  8: 0x0026 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 204*
  9: 0x002A [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 10: 0x002F [0x1C] WAIT(200* ticks)
 11: 0x0032 [0x4E] SET_ENTITY_HIDE_FLAG: Show Talking Doll (ID: 17277206/0x0107A116)
 12: 0x0038 [0x80] LOAD_WAIT(entity=Talking Doll (ID: 17277206/0x0107A116))
 13: 0x003D [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x02)
 14: 0x0044 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x05)
 15: 0x004B [0x45] LOAD_SCHEDULED_TASK(work_offset1=228*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s000", work_offset2=0*)
 16: 0x005C [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 17: 0x006D [0x1C] WAIT(120* ticks)
 18: 0x0070 [0x48] [System] [7329*]:
    → "A haunting song suddenly echoes throughout the ruins...\u007F1\u0000\u0007"
 19: 0x0073 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x0074 [0x1C] WAIT(120* ticks)
 21: 0x0077 [0x52] END_LOAD_SCHEDULER: End scheduler "s000" with entities [LocalPlayer, LocalPlayer], work=228*
 22: 0x0086 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="ovl1", work_offset2=0*)
 23: 0x0097 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x00B3
 24: 0x009F [0x45] LOAD_SCHEDULED_TASK(work_offset1=228*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s007", work_offset2=0*)
 25: 0x00B0 [0x01] GOTO 0x00E0

SUBROUTINE_00B3:
 26: 0x00B3 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x00CF
 27: 0x00BB [0x45] LOAD_SCHEDULED_TASK(work_offset1=228*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s007", work_offset2=0*)
 28: 0x00CC [0x01] GOTO 0x00E0

SUBROUTINE_00CF:
 29: 0x00CF [0x45] LOAD_SCHEDULED_TASK(work_offset1=228*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s001", work_offset2=0*)
 30: 0x00E0 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17277205/0x0107A115)
 31: 0x00E6 [0x4A] LocalPlayer looks at Talking Doll (ID: 17277206/0x0107A116)
 32: 0x00EF [0x2B] Talking Doll (ID: 17277206/0x0107A116) [7330*]:
    → "Ahahahahaha!\u0007That's it! That's it! You've found it, slacker!\u007F1\u0000\u0007"
 33: 0x00F6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x00F7 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 35: 0x00F8 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 36: 0x00FD [0x79] LocalPlayer looks at Unnamed NPC (ID: 17277205/0x0107A115) (Basic look)
 37: 0x0107 [0x1C] WAIT(10* ticks)
 38: 0x010A [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17277205/0x0107A115))
 39: 0x010F [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x0129
 40: 0x0117 [0x52] END_LOAD_SCHEDULER: End scheduler "s007" with entities [LocalPlayer, LocalPlayer], work=228*
 41: 0x0126 [0x01] GOTO 0x0152

SUBROUTINE_0129:
 42: 0x0129 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x0143
 43: 0x0131 [0x52] END_LOAD_SCHEDULER: End scheduler "s007" with entities [LocalPlayer, LocalPlayer], work=228*
 44: 0x0140 [0x01] GOTO 0x0152

SUBROUTINE_0143:
 45: 0x0143 [0x52] END_LOAD_SCHEDULER: End scheduler "s001" with entities [LocalPlayer, LocalPlayer], work=228*
 46: 0x0152 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=1*)
 47: 0x0157 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="blon", work_offset2=0*)
 48: 0x0168 [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="blon", work_offset2=0*)
 49: 0x0179 [0x45] LOAD_SCHEDULED_TASK(work_offset1=228*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s002", work_offset2=0*)
 50: 0x018A [0x27] REQ_SET(priority=0x0B, entity_id=Unnamed NPC (ID: 17277205/0x0107A115), tag_num=0x02)
 51: 0x0191 [0x1C] WAIT(1* ticks)
 52: 0x0194 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 125*
 53: 0x0198 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 125*
 54: 0x019C [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 55: 0x01A1 [0x1C] WAIT(120* ticks)
 56: 0x01A4 [0x52] END_LOAD_SCHEDULER: End scheduler "s002" with entities [LocalPlayer, LocalPlayer], work=228*
 57: 0x01B3 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="ovl1", work_offset2=0*)
 58: 0x01C4 [0x45] LOAD_SCHEDULED_TASK(work_offset1=228*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s005", work_offset2=0*)
 59: 0x01D5 [0x4A] LocalPlayer looks at Unnamed NPC (ID: 17277205/0x0107A115)
 60: 0x01DE [0x2B] Talking Doll (ID: 17277206/0x0107A116) [7331*]:
    → "Ahahahaha...huh?\u0007Wait, something's not right! The power is too concentrated...\u007F4\u0003\u0000\u0007"
 61: 0x01E5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 62: 0x01E6 [0x1C] WAIT(50* ticks)
 63: 0x01E9 [0x2A] GET_REQ_LEVEL(level=11, entity_id=Unnamed NPC (ID: 17277205/0x0107A115))
 64: 0x01EF [0x52] END_LOAD_SCHEDULER: End scheduler "s005" with entities [LocalPlayer, LocalPlayer], work=228*
 65: 0x01FE [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="blof", work_offset2=0*)
 66: 0x020F [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="ovl1", work_offset2=0*)
 67: 0x0220 [0x45] LOAD_SCHEDULED_TASK(work_offset1=228*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s003", work_offset2=0*)
 68: 0x0231 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=200*)
 69: 0x0236 [0x1C] WAIT(100* ticks)
 70: 0x0239 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Unnamed NPC (ID: 17277205/0x0107A115), tag_num=0x04)
 71: 0x0240 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Unnamed NPC (ID: 17277205/0x0107A115), tag_num=0x03)
 72: 0x0247 [0x62] LOAD_EVENT_SCHEDULER (arg=5012): Load scheduler "main" with entities [Unnamed NPC (ID: 17277205/0x0107A115), Unnamed NPC (ID: 17277205/0x0107A115)], work=[1*, 0*]
 73: 0x0258 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 74: 0x0269 [0x1C] WAIT(60* ticks)
 75: 0x026C [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 211*
 76: 0x0270 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 211*
 77: 0x0274 [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 78: 0x0279 [0x52] END_LOAD_SCHEDULER: End scheduler "s003" with entities [LocalPlayer, LocalPlayer], work=228*
 79: 0x0288 [0x45] LOAD_SCHEDULED_TASK(work_offset1=228*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s004", work_offset2=0*)
 80: 0x0299 [0x1C] WAIT(60* ticks)
 81: 0x029C [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 82: 0x02AD [0x1C] WAIT(60* ticks)
 83: 0x02B0 [0x79] LocalPlayer looks at Talking Doll (ID: 17277206/0x0107A116) (Basic look)
 84: 0x02BA [0x4A] Talking Doll (ID: 17277206/0x0107A116) looks at LocalPlayer
 85: 0x02C3 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 86: 0x02C4 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Talking Doll (ID: 17277206/0x0107A116) Render.Flags0 and Render.Flags3 conditions are met
 87: 0x02C9 [0x2B] Talking Doll (ID: 17277206/0x0107A116) [7332*]:
    → "Ahahahahaha!\u0007Oops! I guess that wasn't it!\u0007All right, all right, I don't need to hear your whining!\u007F1\u0000\u0007"
 88: 0x02D0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 89: 0x02D1 [0x2B] Talking Doll (ID: 17277206/0x0107A116) [7333*]:
    → "Just a moment there, slacker...\u0007Let me recalibrate my search!\u007F1\u0000\u0007"
 90: 0x02D8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 91: 0x02D9 [0x52] END_LOAD_SCHEDULER: End scheduler "s004" with entities [LocalPlayer, LocalPlayer], work=228*
 92: 0x02E8 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 93: 0x02F9 [0x1C] WAIT(60* ticks)
 94: 0x02FC [0x4A] LocalPlayer looks at Talking Doll (ID: 17277206/0x0107A116)
 95: 0x0305 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 96: 0x0306 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 97: 0x030B [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x0327
 98: 0x0313 [0x45] LOAD_SCHEDULED_TASK(work_offset1=228*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s007", work_offset2=0*)
 99: 0x0324 [0x01] GOTO 0x0354

SUBROUTINE_0327:
100: 0x0327 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x0343
101: 0x032F [0x45] LOAD_SCHEDULED_TASK(work_offset1=228*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s007", work_offset2=0*)
102: 0x0340 [0x01] GOTO 0x0354

SUBROUTINE_0343:
103: 0x0343 [0x45] LOAD_SCHEDULED_TASK(work_offset1=228*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s006", work_offset2=0*)
104: 0x0354 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
105: 0x0365 [0x2B] Talking Doll (ID: 17277206/0x0107A116) [7334*]:
    → "Ahahahahaha!\u0007Okay, this is not a drill!\u0007Sensing emanations from the southwest!\u007F1\u0000\u0007"
106: 0x036C [0x23] WAIT_FOR_DIALOG_INTERACTION
107: 0x036D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
108: 0x037E [0x1C] WAIT(60* ticks)
109: 0x0381 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x039B
110: 0x0389 [0x52] END_LOAD_SCHEDULER: End scheduler "s007" with entities [LocalPlayer, LocalPlayer], work=228*
111: 0x0398 [0x01] GOTO 0x03C4

SUBROUTINE_039B:
112: 0x039B [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x03B5
113: 0x03A3 [0x52] END_LOAD_SCHEDULER: End scheduler "s007" with entities [LocalPlayer, LocalPlayer], work=228*
114: 0x03B2 [0x01] GOTO 0x03C4

SUBROUTINE_03B5:
115: 0x03B5 [0x52] END_LOAD_SCHEDULER: End scheduler "s006" with entities [LocalPlayer, LocalPlayer], work=228*
116: 0x03C4 [0x46] CAMERA_CONTROL: Restore default settings
117: 0x03C6 [0x1C] WAIT(200* ticks)
118: 0x03C9 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
119: 0x03DA [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
120: 0x03DC [0x21] END_EVENT
121: 0x03DD [0x00] END_REQSTACK()
```
