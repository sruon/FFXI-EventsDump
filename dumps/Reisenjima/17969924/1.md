# Event 1

## Metadata

| Field           | Value      |
|-----------------|------------|
| Event Index     | 7/7        |
| Offset          | 0x77FB     |
| Data Size       | 1111 bytes |
| Calculated Size | 1111 bytes |
| Instructions    | 76         |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
77F0:                                   42 5D 01 80 03             B]...
7800: 80 1A 24 7A 46 01 38 04  80 4E 00 F0 FF FF 7F 4E  ..$zF.8..N.....N
7810: 00 25 33 12 01 4E 00 26  33 12 01 2F 00 25 33 12  .%3..N.&3../.%3.
7820: 01 2F 00 26 33 12 01 92  01 F0 FF FF 7F 92 01 25  ./.&3..........%
7830: 33 12 01 92 01 26 33 12  01 94 01 F0 FF FF 7F 94  3....&3.........
7840: 01 25 33 12 01 94 01 26  33 12 01 BA F0 FF FF 7F  .%3....&3.......
7850: 4B 84 4C 84 4D 84 0E 80  BA 25 33 12 01 4E 84 4F  K.L.M....%3..N.O
7860: 84 50 84 51 84 BA 26 33  12 01 52 84 53 84 54 84  .P.Q..&3..R.S.T.
7870: 55 84 29 10 25 33 12 01  0C 29 10 26 33 12 01 0C  U.).%3...).&3...
7880: 80 F0 FF FF 7F 80 25 33  12 01 80 26 33 12 01 6C  ......%3...&3..l
7890: F0 FF FF 7F 01 80 06 80  29 05 F0 FF FF 7F 04 1C  ........).......
78A0: 29 80 5C 00 01 80 5C 01  01 80 5C 02 01 80 5C 03  ).\...\...\...\.
78B0: 01 80 9A 45 56 84 F8 FF  FF 7F F8 FF FF 7F 72 65  ...EV.........re
78C0: 30 31 01 80 1A 03 7A 1C  2F 80 52 56 84 F8 FF FF  01....z./.RV....
78D0: 7F F8 FF FF 7F 72 65 30  31 45 56 84 F8 FF FF 7F  .....re01EV.....
78E0: F8 FF FF 7F 73 30 39 34  01 80 1C 4A 80 52 56 84  ....s094...J.RV.
78F0: F8 FF FF 7F F8 FF FF 7F  73 30 39 34 45 56 84 F8  ........s094EV..
7900: FF FF 7F F8 FF FF 7F 73  30 39 36 01 80 1C 29 80  .......s096...).
7910: 9F 57 84 F0 FF FF 7F F0  FF FF 7F 6D 61 69 6E 01  .W.........main.
7920: 80 1C 34 80 92 00 F0 FF  FF 7F 1C 29 80 1C 32 80  ..4........)..2.
7930: 27 05 F0 FF FF 7F 05 1C  29 80 52 56 84 F8 FF FF  '.......).RV....
7940: 7F F8 FF FF 7F 73 30 39  36 45 56 84 F8 FF FF 7F  .....s096EV.....
7950: F8 FF FF 7F 73 30 39 37  01 80 1C 4A 80 1A 24 7A  ....s097...J..$z
7960: 1C 29 80 52 56 84 F8 FF  FF 7F F8 FF FF 7F 73 30  .).RV.........s0
7970: 39 37 45 56 84 F8 FF FF  7F F8 FF FF 7F 30 62 6C  97EV.........0bl
7980: 66 01 80 29 10 25 33 12  01 0A 29 10 26 33 12 01  f..).%3...).&3..
7990: 0A 80 25 33 12 01 80 26  33 12 01 5C 00 63 80 5C  ..%3...&3..\.c.\
79A0: 01 63 80 5C 02 63 80 5C  03 63 80 9A 46 00 45 00  .c.\.c.\.c..F.E.
79B0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 32 01 80 21  .........fdi2..!
79C0: 00 45 00 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 30  .E..........fdi0
79D0: 01 80 55 00 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  ..U..........fdi
79E0: 30 1B 45 00 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  0.E..........fdo
79F0: 30 01 80 55 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  0..U..........fd
7A00: 6F 30 1B 45 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  o0.E..........fd
7A10: 69 31 01 80 55 00 80 F0  FF FF 7F F0 FF FF 7F 66  i1..U..........f
7A20: 64 69 31 1B 45 00 80 F0  FF FF 7F F0 FF FF 7F 66  di1.E..........f
7A30: 64 6F 31 01 80 55 00 80  F0 FF FF 7F F0 FF FF 7F  do1..U..........
7A40: 66 64 6F 31 1B 45 AE 81  F0 FF FF 7F F0 FF FF 7F  fdo1.E..........
7A50: 77 68 69 31 01 80 55 AE  81 F0 FF FF 7F F0 FF FF  whi1..U.........
7A60: 7F 77 68 69 31 1B 45 AE  81 F0 FF FF 7F F0 FF FF  .whi1.E.........
7A70: 7F 77 68 6F 31 01 80 55  AE 81 F0 FF FF 7F F0 FF  .who1..U........
7A80: FF 7F 77 68 6F 31 1B 45  AE 81 F0 FF FF 7F F0 FF  ..who1.E........
7A90: FF 7F 77 68 6F 32 01 80  55 AE 81 F0 FF FF 7F F0  ..who2..U.......
7AA0: FF FF 7F 77 68 6F 32 1B  45 AE 81 F0 FF FF 7F F0  ...who2.E.......
7AB0: FF FF 7F 77 68 6F 33 01  80 55 AE 81 F0 FF FF 7F  ...who3..U......
7AC0: F0 FF FF 7F 77 68 6F 33  1B 62 06 80 F0 FF FF 7F  ....who3.b......
7AD0: F0 FF FF 7F 6D 61 69 6E  01 80 1C A6 80 45 00 80  ....main.....E..
7AE0: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 01 80 55 00  ........fdo1..U.
7AF0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 1B 45 00  .........fdo1.E.
7B00: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 01 80 62  .........fdi1..b
7B10: 2B 80 F0 FF FF 7F F0 FF  FF 7F 6D 61 69 6E 01 80  +.........main..
7B20: 1C 29 80 55 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .).U..........fd
7B30: 69 31 1B 45 00 80 F0 FF  FF 7F F0 FF FF 7F 62 6C  i1.E..........bl
7B40: 6F 6E 01 80 45 AE 81 F0  FF FF 7F F0 FF FF 7F 62  on..E..........b
7B50: 6C 6F 6E 01 80 1B 45 AE  81 F0 FF FF 7F F0 FF FF  lon...E.........
7B60: 7F 77 68 69 30 01 80 55  AE 81 F0 FF FF 7F F0 FF  .whi0..U........
7B70: FF 7F 77 68 69 30 1B 45  AE 81 F0 FF FF 7F F0 FF  ..whi0.E........
7B80: FF 7F 77 68 6F 30 01 80  55 AE 81 F0 FF FF 7F F0  ..who0..U.......
7B90: FF FF 7F 77 68 6F 30 1B  45 58 84 F0 FF FF 7F F0  ...who0.EX......
7BA0: FF FF 7F 65 66 6F 6E 01  80 55 58 84 F0 FF FF 7F  ...efon..UX.....
7BB0: F0 FF FF 7F 65 66 6F 6E  1B 45 00 80 F0 FF FF 7F  ....efon.E......
7BC0: F0 FF FF 7F 66 64 69 73  01 80 1B 45 00 80 F0 FF  ....fdis...E....
7BD0: FF 7F F0 FF FF 7F 66 64  6F 73 01 80 55 00 80 F0  ......fdos..U...
7BE0: FF FF 7F F0 FF FF 7F 66  64 6F 73 1B 45 00 80 F0  .......fdos.E...
7BF0: FF FF 7F F0 FF FF 7F 66  64 69 66 01 80 1B 45 00  .......fdif...E.
7C00: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 66 01 80 55  .........fdof..U
7C10: 00 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 66 1B 45  ..........fdof.E
7C20: 00 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 70 01 80  ..........fdip..
7C30: 1B 45 00 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 70  .E..........fdop
7C40: 01 80 55 00 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..U..........fdo
7C50: 70 1B                                             p.              
```

## Opcodes

```
  0: 0x77FB [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x77FC [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=120*)
  2: 0x7801 [0x1A] CALL_SUBROUTINE(address=0x7A24)
  3: 0x7804 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x7806 [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  5: 0x7809 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
  6: 0x780F [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17969957/0x01123325)
  7: 0x7815 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17969958/0x01123326)
  8: 0x781B [0x2F] Unnamed NPC (ID: 17969957/0x01123325)->Render.Flags0 &= ~0x80000 // Bit 19
  9: 0x7821 [0x2F] Unnamed NPC (ID: 17969958/0x01123326)->Render.Flags0 &= ~0x80000 // Bit 19
 10: 0x7827 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
 11: 0x782D [0x92] Unnamed NPC (ID: 17969957/0x01123325)->Render.Flags3 ^= 0x01
 12: 0x7833 [0x92] Unnamed NPC (ID: 17969958/0x01123326)->Render.Flags3 ^= 0x01
 13: 0x7839 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 14: 0x783F [0x94] Unnamed NPC (ID: 17969957/0x01123325)->Render.Flags3 ^= 0x01
 15: 0x7845 [0x94] Unnamed NPC (ID: 17969958/0x01123326)->Render.Flags3 ^= 0x01
 16: 0x784B [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-499.547*, pos_z=-487.609*, pos_y=-19.080*, direction=264.5°*)
 17: 0x7858 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17969957/0x01123325), pos_x=-454.761*, pos_z=92.895*, pos_y=-53.410*, direction=205.4°*)
 18: 0x7865 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17969958/0x01123326), pos_x=-457.069*, pos_z=83.431*, pos_y=-51.626*, direction=359.4°*)
 19: 0x7872 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 17969957/0x01123325), tag_num=0x0C)
 20: 0x7879 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 17969958/0x01123326), tag_num=0x0C)
 21: 0x7880 [0x80] LOAD_WAIT(entity=LocalPlayer)
 22: 0x7885 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17969957/0x01123325))
 23: 0x788A [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17969958/0x01123326))
 24: 0x788F [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=0*, fade_time=1*)
 25: 0x7898 [0x29] REQ_SET_WAIT(priority=0x05, entity_id=LocalPlayer, tag_num=0x04)
 26: 0x789F [0x1C] WAIT(30* ticks)
 27: 0x78A2 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 28: 0x78A6 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 29: 0x78AA [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 0*
 30: 0x78AE [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 0*
 31: 0x78B2 [0x9A] WAIT_MUSIC_SERVER()
 32: 0x78B3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "re01" with entities [EventEntity, EventEntity], work=[738*, 0*]
 33: 0x78C4 [0x1A] CALL_SUBROUTINE(address=0x7A03)
 34: 0x78C7 [0x1C] WAIT(480* ticks)
 35: 0x78CA [0x52] END_LOAD_SCHEDULER: End scheduler "re01" with entities [EventEntity, EventEntity], work=738*
 36: 0x78D9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s094" with entities [EventEntity, EventEntity], work=[738*, 0*]
 37: 0x78EA [0x1C] WAIT(180* ticks)
 38: 0x78ED [0x52] END_LOAD_SCHEDULER: End scheduler "s094" with entities [EventEntity, EventEntity], work=738*
 39: 0x78FC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s096" with entities [EventEntity, EventEntity], work=[738*, 0*]
 40: 0x790D [0x1C] WAIT(30* ticks)
 41: 0x7910 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[76*, 0*]
 42: 0x7921 [0x1C] WAIT(90* ticks)
 43: 0x7924 [0x92] LocalPlayer->Render.Flags3 = Flags3  // No change (flag=0)
 44: 0x792A [0x1C] WAIT(30* ticks)
 45: 0x792D [0x1C] WAIT(60* ticks)
 46: 0x7930 [0x27] REQ_SET(priority=0x05, entity_id=LocalPlayer, tag_num=0x05)
 47: 0x7937 [0x1C] WAIT(30* ticks)
 48: 0x793A [0x52] END_LOAD_SCHEDULER: End scheduler "s096" with entities [EventEntity, EventEntity], work=738*
 49: 0x7949 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s097" with entities [EventEntity, EventEntity], work=[738*, 0*]
 50: 0x795A [0x1C] WAIT(180* ticks)
 51: 0x795D [0x1A] CALL_SUBROUTINE(address=0x7A24)
 52: 0x7960 [0x1C] WAIT(30* ticks)
 53: 0x7963 [0x52] END_LOAD_SCHEDULER: End scheduler "s097" with entities [EventEntity, EventEntity], work=738*
 54: 0x7972 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "0blf" with entities [EventEntity, EventEntity], work=[738*, 0*]
 55: 0x7983 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 17969957/0x01123325), tag_num=0x0A)
 56: 0x798A [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 17969958/0x01123326), tag_num=0x0A)
 57: 0x7991 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17969957/0x01123325))
 58: 0x7996 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17969958/0x01123326))
 59: 0x799B [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 79*
 60: 0x799F [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 79*
 61: 0x79A3 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 79*
 62: 0x79A7 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 79*
 63: 0x79AB [0x9A] WAIT_MUSIC_SERVER()
 64: 0x79AC [0x46] CAMERA_CONTROL: Restore default settings
 65: 0x79AE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 66: 0x79BF [0x21] END_EVENT
 67: 0x79C0 [0x00] END_REQSTACK()

 68: 0x7A03 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 69: 0x7A14 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
 70: 0x7A23 [0x1B] RETURN

SUBROUTINE_7A24:
 71: 0x7A24 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 72: 0x7A35 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 73: 0x7A44 [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x79C1 (66 bytes)
     0x79C1: 45 00 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 30 01
     0x79D1: 80 55 00 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 30
     0x79E1: 1B 45 00 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 30
     0x79F1: 01 80 55 00 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F
     0x7A01: 30 1B
# Data Section: 0x7A45 (525 bytes)
     0x7A45: 45 AE 81 F0 FF FF 7F F0 FF FF 7F 77 68 69 31 01
     0x7A55: 80 55 AE 81 F0 FF FF 7F F0 FF FF 7F 77 68 69 31
     0x7A65: 1B 45 AE 81 F0 FF FF 7F F0 FF FF 7F 77 68 6F 31
     0x7A75: 01 80 55 AE 81 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x7A85: 31 1B 45 AE 81 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x7A95: 32 01 80 55 AE 81 F0 FF FF 7F F0 FF FF 7F 77 68
     0x7AA5: 6F 32 1B 45 AE 81 F0 FF FF 7F F0 FF FF 7F 77 68
     0x7AB5: 6F 33 01 80 55 AE 81 F0 FF FF 7F F0 FF FF 7F 77
     0x7AC5: 68 6F 33 1B 62 06 80 F0 FF FF 7F F0 FF FF 7F 6D
     0x7AD5: 61 69 6E 01 80 1C A6 80 45 00 80 F0 FF FF 7F F0
     0x7AE5: FF FF 7F 66 64 6F 31 01 80 55 00 80 F0 FF FF 7F
     0x7AF5: F0 FF FF 7F 66 64 6F 31 1B 45 00 80 F0 FF FF 7F
     0x7B05: F0 FF FF 7F 66 64 69 31 01 80 62 2B 80 F0 FF FF
     0x7B15: 7F F0 FF FF 7F 6D 61 69 6E 01 80 1C 29 80 55 00
     0x7B25: 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 31 1B 45 00
     0x7B35: 80 F0 FF FF 7F F0 FF FF 7F 62 6C 6F 6E 01 80 45
     0x7B45: AE 81 F0 FF FF 7F F0 FF FF 7F 62 6C 6F 6E 01 80
     0x7B55: 1B 45 AE 81 F0 FF FF 7F F0 FF FF 7F 77 68 69 30
     0x7B65: 01 80 55 AE 81 F0 FF FF 7F F0 FF FF 7F 77 68 69
     0x7B75: 30 1B 45 AE 81 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x7B85: 30 01 80 55 AE 81 F0 FF FF 7F F0 FF FF 7F 77 68
     0x7B95: 6F 30 1B 45 58 84 F0 FF FF 7F F0 FF FF 7F 65 66
     0x7BA5: 6F 6E 01 80 55 58 84 F0 FF FF 7F F0 FF FF 7F 65
     0x7BB5: 66 6F 6E 1B 45 00 80 F0 FF FF 7F F0 FF FF 7F 66
     0x7BC5: 64 69 73 01 80 1B 45 00 80 F0 FF FF 7F F0 FF FF
     0x7BD5: 7F 66 64 6F 73 01 80 55 00 80 F0 FF FF 7F F0 FF
     0x7BE5: FF 7F 66 64 6F 73 1B 45 00 80 F0 FF FF 7F F0 FF
     0x7BF5: FF 7F 66 64 69 66 01 80 1B 45 00 80 F0 FF FF 7F
     0x7C05: F0 FF FF 7F 66 64 6F 66 01 80 55 00 80 F0 FF FF
     0x7C15: 7F F0 FF FF 7F 66 64 6F 66 1B 45 00 80 F0 FF FF
     0x7C25: 7F F0 FF FF 7F 66 64 69 70 01 80 1B 45 00 80 F0
     0x7C35: FF FF 7F F0 FF FF 7F 66 64 6F 70 01 80 55 00 80
     0x7C45: F0 FF FF 7F F0 FF FF 7F 66 64 6F 70 1B
```