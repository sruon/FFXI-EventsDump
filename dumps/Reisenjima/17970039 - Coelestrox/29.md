# Event 29

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 5/7       |
| Offset          | 0x08CA    |
| Data Size       | 280 bytes |
| Calculated Size | 280 bytes |
| Instructions    | 68        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
08C0:                                42 03 07 00 02 10            B.....
08D0: 03 00 00 03 10 03 0A 00  04 10 03 0C 00 05 10 03  ................
08E0: 0B 00 07 10 03 01 00 08  10 03 06 00 09 10 1E F0  ................
08F0: FF FF 7F 1C 00 80 3E 00  00 04 80 8B 09 1A C5 0A  ......>.........
0900: 03 01 10 04 80 02 0C 00  00 80 04 11 09 1D 3D 80  ..............=.
0910: 23 02 0C 00 04 80 04 1D  09 1D 3E 80 23 02 0C 00  #.........>.#...
0920: 15 80 04 29 09 1D 3F 80  23 02 0C 00 1B 80 04 88  ...)..?.#.......
0930: 09 1D 40 80 23 03 02 10  02 80 24 41 80 02 80 02  ..@.#.....$A....
0940: 80 25 02 00 10 02 80 00  4D 09 01 88 09 02 00 10  .%......M.......
0950: 00 80 00 88 09 1D 42 80  23 03 02 10 00 80 24 41  ......B.#.....$A
0960: 80 02 80 02 80 25 02 00  10 02 80 00 71 09 01 85  .....%......q...
0970: 09 02 00 10 00 80 00 85  09 1D 43 80 23 03 01 10  ..........C.#...
0980: 15 80 01 85 09 01 88 09  01 DF 09 1D 44 80 23 3E  ............D.#>
0990: 00 00 02 80 DF 09 1D 45  80 23 03 02 10 07 00 03  .......E.#......
09A0: 08 10 01 00 24 46 80 02  80 02 00 25 02 00 10 02  ....$F.....%....
09B0: 80 00 BC 09 03 01 10 02  80 01 DF 09 02 00 10 00  ................
09C0: 80 00 DF 09 1D 3C 80 23  03 01 10 00 80 3E 00 00  .....<.#.....>..
09D0: 00 80 DC 09 1A C5 0A 03  01 10 1B 80 01 DF 09 2E  ................
09E0: 21 00                                             !.              
```

## Opcodes

```
  0: 0x08CA [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x08CB [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[2]
  2: 0x08D0 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[3]
  3: 0x08D5 [0x03] ExtData[1]->WorkLocal[10] = Work_Zone[4]
  4: 0x08DA [0x03] ExtData[1]->WorkLocal[12] = Work_Zone[5]
  5: 0x08DF [0x03] ExtData[1]->WorkLocal[11] = Work_Zone[7]
  6: 0x08E4 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[8]
  7: 0x08E9 [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[9]
  8: 0x08EE [0x1E] EventEntity looks at LocalPlayer and starts talking
  9: 0x08F3 [0x1C] WAIT(1* ticks)
 10: 0x08F6 [0x3E] IF !(ExtData[1]->WorkLocal[0] bit 2*) GOTO 0x098B
 11: 0x08FD [0x1A] CALL_SUBROUTINE(address=0x0AC5)
 12: 0x0900 [0x03] Work_Zone[1] = 2*
 13: 0x0905 [0x02] IF !(ExtData[1]->WorkLocal[12] < 1*) GOTO 0x0911
 14: 0x090D [0x1D] PRINT_EVENT_MESSAGE(message_id=7991*)
    → "...\u007F6\u0002\u0007......\u007F1\u0000\u0007"
 15: 0x0910 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x0911 [0x02] IF !(ExtData[1]->WorkLocal[12] < 2*) GOTO 0x091D
 17: 0x0919 [0x1D] PRINT_EVENT_MESSAGE(message_id=7992*)
    → "Hm? What that?\u007F1\u0000\u0007"
 18: 0x091C [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x091D [0x02] IF !(ExtData[1]->WorkLocal[12] < 3*) GOTO 0x0929
 20: 0x0925 [0x1D] PRINT_EVENT_MESSAGE(message_id=7993*)
    → "You...you mean...\u007F1\u0000\u0007"
 21: 0x0928 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x0929 [0x02] IF !(ExtData[1]->WorkLocal[12] < 4*) GOTO 0x0988
 23: 0x0931 [0x1D] PRINT_EVENT_MESSAGE(message_id=7994*)
    → "You want it to be as it was? Okay, but I no return materials.\u007F1\u0000\u0007"
 24: 0x0934 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x0935 [0x03] Work_Zone[2] = 0*
 26: 0x093A [0x24] CREATE_DIALOG(message_id=7995*, default_option=0*, option_flags=0*)
    → "What will you do? \u000C\u0000[/(Last chance!)]\u0007\u000BWait a second.\u0007Stop reforging/\u007F1\u0000\u0007"
 27: 0x0941 [0x25] WAIT_DIALOG_SELECT()
 28: 0x0942 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x094D
 29: 0x094A [0x01] GOTO 0x0988
 30: 0x094D [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0988
 31: 0x0955 [0x1D] PRINT_EVENT_MESSAGE(message_id=7996*)
    → "You sure?\u007F1\u0000\u0007"
 32: 0x0958 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x0959 [0x03] Work_Zone[2] = 1*
 34: 0x095E [0x24] CREATE_DIALOG(message_id=7995*, default_option=0*, option_flags=0*)
    → "What will you do? \u000C\u0000[/(Last chance!)]\u0007\u000BWait a second.\u0007Stop reforging/\u007F1\u0000\u0007"
 35: 0x0965 [0x25] WAIT_DIALOG_SELECT()
 36: 0x0966 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0971
 37: 0x096E [0x01] GOTO 0x0985
 38: 0x0971 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0985
 39: 0x0979 [0x1D] PRINT_EVENT_MESSAGE(message_id=7997*)
    → "Okay. I return armor to you.\u007F1\u0000\u0007"
 40: 0x097C [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x097D [0x03] Work_Zone[1] = 3*
 42: 0x0982 [0x01] GOTO 0x0985

SUBROUTINE_0985:
 43: 0x0985 [0x01] GOTO 0x0988

SUBROUTINE_0988:
 44: 0x0988 [0x01] GOTO 0x09DF
 45: 0x098B [0x1D] PRINT_EVENT_MESSAGE(message_id=7987*)
    → "Come back later. I very busy.\u007F1\u0000\u0007"
 46: 0x098E [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x098F [0x3E] IF !(ExtData[1]->WorkLocal[0] bit 0*) GOTO 0x09DF
 48: 0x0996 [0x1D] PRINT_EVENT_MESSAGE(message_id=7988*)
    → "Hang on. I can tell you have enough escha bead to make item done right away.\u007F1\u0000\u0007"
 49: 0x0999 [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x099A [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[7]
 51: 0x099F [0x03] Work_Zone[8] = ExtData[1]->WorkLocal[1]
 52: 0x09A4 [0x24] CREATE_DIALOG(message_id=7989*, default_option=0*, option_flags=ExtData[1]->WorkLocal[2])
    → "What will you do? (
\u0006 bead\u007F\u0012\u0006[/s])\u0007\u000BWait.\u0007Speedy: 
\u0000 bead\u007F\u0012\u0000[/s].\u007F1\u0000\u0007"
 53: 0x09AB [0x25] WAIT_DIALOG_SELECT()
 54: 0x09AC [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x09BC
 55: 0x09B4 [0x03] Work_Zone[1] = 0*
 56: 0x09B9 [0x01] GOTO 0x09DF
 57: 0x09BC [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x09DF
 58: 0x09C4 [0x1D] PRINT_EVENT_MESSAGE(message_id=7985*)
    → "You want right away? Then watch true master at work!\u007F1\u0000\u0007"
 59: 0x09C7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x09C8 [0x03] Work_Zone[1] = 1*
 61: 0x09CD [0x3E] IF !(ExtData[1]->WorkLocal[0] bit 1*) GOTO 0x09DC
 62: 0x09D4 [0x1A] CALL_SUBROUTINE(address=0x0AC5)
 63: 0x09D7 [0x03] Work_Zone[1] = 4*
 64: 0x09DC [0x01] GOTO 0x09DF

SUBROUTINE_09DF:
 65: 0x09DF [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
 66: 0x09E0 [0x21] END_EVENT
 67: 0x09E1 [0x00] END_REQSTACK()
```
