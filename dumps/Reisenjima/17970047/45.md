# Event 45

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 14/17     |
| Offset          | 0x9654    |
| Data Size       | 984 bytes |
| Calculated Size | 984 bytes |
| Instructions    | 128       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
9650:             42 43 00 43  01 03 00 00 02 10 5D 01      BC.C......].
9660: 80 08 80 1A 64 00 46 01  38 09 80 2F 00 83 33 12  ....d.F.8../..3.
9670: 01 4E 00 83 33 12 01 92  01 7E 33 12 01 92 01 98  .N..3....~3.....
9680: 33 12 01 4E 01 F0 FF FF  7F 94 01 7E 33 12 01 94  3..N.......~3...
9690: 01 83 33 12 01 94 01 98  33 12 01 94 01 F0 FF FF  ..3.....3.......
96A0: 7F BA 7E 33 12 01 F6 82  F7 82 F8 82 F9 82 BA 83  ..~3............
96B0: 33 12 01 FA 82 FB 82 FC  82 FD 82 BA F0 FF FF 7F  3...............
96C0: FE 82 FF 82 00 83 01 83  80 7E 33 12 01 80 83 33  .........~3....3
96D0: 12 01 80 98 33 12 01 80  F0 FF FF 7F 4A 83 33 12  ....3.......J.3.
96E0: 01 F0 FF FF 7F 6F 76 83  33 12 01 7B 83 33 12 01  .....ov.3..{.3..
96F0: 2C 83 33 12 01 83 33 12  01 77 70 6F 6E 29 0F 83  ,.3...3..wpon)..
9700: 33 12 01 3A 29 0F F0 FF  FF 7F 04 29 0F 83 33 12  3..:)......)..3.
9710: 01 3B 29 0F F0 FF FF 7F  08 6C 83 33 12 01 01 80  .;)......l.3....
9720: 03 80 6C F0 FF FF 7F 01  80 03 80 1C 03 80 45 11  ..l...........E.
9730: 82 F8 FF FF 7F F8 FF FF  7F 73 31 31 30 01 80 1A  .........s110...
9740: 43 00 4E 00 F0 FF FF 7F  62 05 80 83 33 12 01 83  C.N.....b...3...
9750: 33 12 01 6D 61 69 6E 01  80 62 05 80 F0 FF FF 7F  3..main..b......
9760: F0 FF FF 7F 6D 61 69 6E  01 80 1C A7 80 1C A7 80  ....main........
9770: 29 0F F0 FF FF 7F 05 4A  F0 FF FF 7F 83 33 12 01  )......J.....3..
9780: 6F 76 F0 FF FF 7F 1C 06  80 52 11 82 F8 FF FF 7F  ov.......R......
9790: F8 FF FF 7F 73 31 31 30  45 11 82 F8 FF FF 7F F8  ....s110E.......
97A0: FF FF 7F 73 31 31 31 01  80 02 00 00 02 83 00 D2  ...s111.........
97B0: 98 1C 1B 80 45 11 82 F8  FF FF 7F F8 FF FF 7F 34  ....E..........4
97C0: 30 30 36 01 80 2B 83 33  12 01 03 83 23 52 11 82  006..+.3....#R..
97D0: F8 FF FF 7F F8 FF FF 7F  73 31 31 31 02 09 10 20  ........s111... 
97E0: 80 00 F8 97 45 11 82 F8  FF FF 7F F8 FF FF 7F 73  ....E..........s
97F0: 31 31 34 01 80 01 25 98  02 09 10 21 80 00 14 98  114...%....!....
9800: 45 11 82 F8 FF FF 7F F8  FF FF 7F 73 31 31 34 01  E..........s114.
9810: 80 01 25 98 45 11 82 F8  FF FF 7F F8 FF FF 7F 73  ..%.E..........s
9820: 31 31 32 01 80 4A 83 33  12 01 F0 FF FF 7F 6F 76  112..J.3......ov
9830: 83 33 12 01 29 0F 83 33  12 01 2C 45 11 82 F8 FF  .3..)..3..,E....
9840: FF 7F F8 FF FF 7F 34 30  30 37 01 80 2B 83 33 12  ......4007..+.3.
9850: 01 04 83 23 29 0F 83 33  12 01 2D 02 09 10 20 80  ...#)..3..-... .
9860: 00 75 98 52 11 82 F8 FF  FF 7F F8 FF FF 7F 73 31  .u.R..........s1
9870: 31 34 01 9E 98 02 09 10  21 80 00 8F 98 52 11 82  14......!....R..
9880: F8 FF FF 7F F8 FF FF 7F  73 31 31 34 01 9E 98 52  ........s114...R
9890: 11 82 F8 FF FF 7F F8 FF  FF 7F 73 31 31 32 45 11  ..........s112E.
98A0: 82 F8 FF FF 7F F8 FF FF  7F 73 31 31 33 01 80 29  .........s113..)
98B0: 0F 83 33 12 01 2E 45 11  82 F8 FF FF 7F F8 FF FF  ..3...E.........
98C0: 7F 34 30 30 35 01 80 2B  83 33 12 01 05 83 23 01  .4005..+.3....#.
98D0: F0 99 1C 1B 80 45 11 82  F8 FF FF 7F F8 FF FF 7F  .....E..........
98E0: 34 30 30 36 01 80 2B 83  33 12 01 06 83 23 52 11  4006..+.3....#R.
98F0: 82 F8 FF FF 7F F8 FF FF  7F 73 31 31 31 02 09 10  .........s111...
9900: 20 80 00 19 99 45 11 82  F8 FF FF 7F F8 FF FF 7F   ....E..........
9910: 73 31 31 34 01 80 01 46  99 02 09 10 21 80 00 35  s114...F....!..5
9920: 99 45 11 82 F8 FF FF 7F  F8 FF FF 7F 73 31 31 34  .E..........s114
9930: 01 80 01 46 99 45 11 82  F8 FF FF 7F F8 FF FF 7F  ...F.E..........
9940: 73 31 31 32 01 80 4A 83  33 12 01 F0 FF FF 7F 6F  s112..J.3......o
9950: 76 83 33 12 01 29 0F 83  33 12 01 2C 45 11 82 F8  v.3..)..3..,E...
9960: FF FF 7F F8 FF FF 7F 34  30 30 37 01 80 2B 83 33  .......4007..+.3
9970: 12 01 07 83 23 29 0F 83  33 12 01 2D 02 09 10 20  ....#)..3..-... 
9980: 80 00 96 99 52 11 82 F8  FF FF 7F F8 FF FF 7F 73  ....R..........s
9990: 31 31 34 01 BF 99 02 09  10 21 80 00 B0 99 52 11  114......!....R.
99A0: 82 F8 FF FF 7F F8 FF FF  7F 73 31 31 34 01 BF 99  .........s114...
99B0: 52 11 82 F8 FF FF 7F F8  FF FF 7F 73 31 31 32 45  R..........s112E
99C0: 11 82 F8 FF FF 7F F8 FF  FF 7F 73 31 31 33 01 80  ..........s113..
99D0: 29 0F 83 33 12 01 2E 45  11 82 F8 FF FF 7F F8 FF  )..3...E........
99E0: FF 7F 34 30 30 35 01 80  2B 83 33 12 01 08 83 23  ..4005..+.3....#
99F0: 1A 64 00 52 11 82 F8 FF  FF 7F F8 FF FF 7F 73 31  .d.R..........s1
9A00: 31 33 5C 00 DB 80 5C 01  DB 80 9A 5D 1E 80 03 80  13\...\....]....
9A10: AB 11 01 80 1C 03 80 46  00 45 00 80 F8 FF FF 7F  .......F.E......
9A20: F8 FF FF 7F 66 64 69 32  01 80 21 00              ....fdi2..!.    
```

## Opcodes

```
  0: 0x9654 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x9655 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
  2: 0x9657 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
  3: 0x9659 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  4: 0x965E [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=300*)
  5: 0x9663 [0x1A] CALL_SUBROUTINE(address=0x0064)
  6: 0x9666 [0x46] CAMERA_CONTROL: Disable user control
  7: 0x9668 [0x38] SET_CLIENT_EVENT_MODE(mode=147*)
  8: 0x966B [0x2F] Nii Aquu (ID: 17970051/0x01123383)->Render.Flags0 &= ~0x80000 // Bit 19
  9: 0x9671 [0x4E] SET_ENTITY_HIDE_FLAG: Show Nii Aquu (ID: 17970051/0x01123383)
 10: 0x9677 [0x92] Incantrix (ID: 17970046/0x0112337E)->Render.Flags3 ^= 0x01
 11: 0x967D [0x92] Aspirants' Grounds (ID: 17970072/0x01123398)->Render.Flags3 ^= 0x01
 12: 0x9683 [0x4E] SET_ENTITY_HIDE_FLAG: Hide LocalPlayer
 13: 0x9689 [0x94] Incantrix (ID: 17970046/0x0112337E)->Render.Flags3 ^= 0x01
 14: 0x968F [0x94] Nii Aquu (ID: 17970051/0x01123383)->Render.Flags3 ^= 0x01
 15: 0x9695 [0x94] Aspirants' Grounds (ID: 17970072/0x01123398)->Render.Flags3 ^= 0x01
 16: 0x969B [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 17: 0x96A1 [0xBA] SET_ENTITY_POSITION(entity_id=Incantrix (ID: 17970046/0x0112337E), pos_x=281.607*, pos_z=306.630*, pos_y=-101.758*, direction=337.5°*)
 18: 0x96AE [0xBA] SET_ENTITY_POSITION(entity_id=Nii Aquu (ID: 17970051/0x01123383), pos_x=286.097*, pos_z=307.833*, pos_y=-101.791*, direction=158.1°*)
 19: 0x96BB [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=283.951*, pos_z=305.556*, pos_y=-101.491*, direction=160.2°*)
 20: 0x96C8 [0x80] LOAD_WAIT(entity=Incantrix (ID: 17970046/0x0112337E))
 21: 0x96CD [0x80] LOAD_WAIT(entity=Nii Aquu (ID: 17970051/0x01123383))
 22: 0x96D2 [0x80] LOAD_WAIT(entity=Aspirants' Grounds (ID: 17970072/0x01123398))
 23: 0x96D7 [0x80] LOAD_WAIT(entity=LocalPlayer)
 24: 0x96DC [0x4A] Nii Aquu (ID: 17970051/0x01123383) looks at LocalPlayer
 25: 0x96E5 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 26: 0x96E6 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Nii Aquu (ID: 17970051/0x01123383) Render.Flags0 and Render.Flags3 conditions are met
 27: 0x96EB [0x7B] Nii Aquu (ID: 17970051/0x01123383) stops talking
 28: 0x96F0 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "wpon" with entities [Nii Aquu (ID: 17970051/0x01123383), Nii Aquu (ID: 17970051/0x01123383)]
 29: 0x96FD [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=Nii Aquu (ID: 17970051/0x01123383), tag_num=0x3A)
 30: 0x9704 [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=LocalPlayer, tag_num=0x04)
 31: 0x970B [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=Nii Aquu (ID: 17970051/0x01123383), tag_num=0x3B)
 32: 0x9712 [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=LocalPlayer, tag_num=0x08)
 33: 0x9719 [0x6C] FADE_ENTITY_COLOR(entity_id=Nii Aquu (ID: 17970051/0x01123383), end_alpha=0*, fade_time=1*)
 34: 0x9722 [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=0*, fade_time=1*)
 35: 0x972B [0x1C] WAIT(1* ticks)
 36: 0x972E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s110" with entities [EventEntity, EventEntity], work=[886*, 0*]
 37: 0x973F [0x1A] CALL_SUBROUTINE(address=0x0043)
 38: 0x9742 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 39: 0x9748 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [Nii Aquu (ID: 17970051/0x01123383), Nii Aquu (ID: 17970051/0x01123383)], work=[2*, 0*]
 40: 0x9759 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[2*, 0*]
 41: 0x976A [0x1C] WAIT(90* ticks)
 42: 0x976D [0x1C] WAIT(90* ticks)
 43: 0x9770 [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=LocalPlayer, tag_num=0x05)
 44: 0x9777 [0x4A] LocalPlayer looks at Nii Aquu (ID: 17970051/0x01123383)
 45: 0x9780 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 46: 0x9781 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 47: 0x9786 [0x1C] WAIT(30* ticks)
 48: 0x9789 [0x52] END_LOAD_SCHEDULER: End scheduler "s110" with entities [EventEntity, EventEntity], work=886*
 49: 0x9798 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s111" with entities [EventEntity, EventEntity], work=[886*, 0*]
 50: 0x97A9 [0x02] IF !(ExtData[1]->WorkLocal[0] == 404*) GOTO 0x98D2
 51: 0x97B1 [0x1C] WAIT(40* ticks)
 52: 0x97B4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "4006" with entities [EventEntity, EventEntity], work=[886*, 0*]
 53: 0x97C5 [0x2B] Nii Aquu (ID: 17970051/0x01123383) [8589*]:
    → "I am too weak, kyah...\u0007I detest myself.\u007F1\u0000\u0007"
 54: 0x97CC [0x23] WAIT_FOR_DIALOG_INTERACTION
 55: 0x97CD [0x52] END_LOAD_SCHEDULER: End scheduler "s111" with entities [EventEntity, EventEntity], work=886*
 56: 0x97DC [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x97F8
 57: 0x97E4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s114" with entities [EventEntity, EventEntity], work=[886*, 0*]
 58: 0x97F5 [0x01] GOTO 0x9825
 59: 0x97F8 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x9814
 60: 0x9800 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s114" with entities [EventEntity, EventEntity], work=[886*, 0*]
 61: 0x9811 [0x01] GOTO 0x9825
 62: 0x9814 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s112" with entities [EventEntity, EventEntity], work=[886*, 0*]

SUBROUTINE_9825:
 63: 0x9825 [0x4A] Nii Aquu (ID: 17970051/0x01123383) looks at LocalPlayer
 64: 0x982E [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 65: 0x982F [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Nii Aquu (ID: 17970051/0x01123383) Render.Flags0 and Render.Flags3 conditions are met
 66: 0x9834 [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=Nii Aquu (ID: 17970051/0x01123383), tag_num=0x2C)
 67: 0x983B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "4007" with entities [EventEntity, EventEntity], work=[886*, 0*]
 68: 0x984C [0x2B] Nii Aquu (ID: 17970051/0x01123383) [8590*]:
    → "However, that only means I have room to grow stronger, quawk.\u007F1\u0000\u0007"
 69: 0x9853 [0x23] WAIT_FOR_DIALOG_INTERACTION
 70: 0x9854 [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=Nii Aquu (ID: 17970051/0x01123383), tag_num=0x2D)
 71: 0x985B [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x9875
 72: 0x9863 [0x52] END_LOAD_SCHEDULER: End scheduler "s114" with entities [EventEntity, EventEntity], work=886*
 73: 0x9872 [0x01] GOTO 0x989E
 74: 0x9875 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x988F
 75: 0x987D [0x52] END_LOAD_SCHEDULER: End scheduler "s114" with entities [EventEntity, EventEntity], work=886*
 76: 0x988C [0x01] GOTO 0x989E
 77: 0x988F [0x52] END_LOAD_SCHEDULER: End scheduler "s112" with entities [EventEntity, EventEntity], work=886*

SUBROUTINE_989E:
 78: 0x989E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s113" with entities [EventEntity, EventEntity], work=[886*, 0*]
 79: 0x98AF [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=Nii Aquu (ID: 17970051/0x01123383), tag_num=0x2E)
 80: 0x98B6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "4005" with entities [EventEntity, EventEntity], work=[886*, 0*]
 81: 0x98C7 [0x2B] Nii Aquu (ID: 17970051/0x01123383) [8591*]:
    → "Kyah-kyah! Please, let's do it again!\u007F1\u0000\u0007"
 82: 0x98CE [0x23] WAIT_FOR_DIALOG_INTERACTION
 83: 0x98CF [0x01] GOTO 0x99F0
 84: 0x98D2 [0x1C] WAIT(40* ticks)
 85: 0x98D5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "4006" with entities [EventEntity, EventEntity], work=[886*, 0*]
 86: 0x98E6 [0x2B] Nii Aquu (ID: 17970051/0x01123383) [8592*]:
    → "Kyah... I am weak...too weak.\u0007Is that why you're holding back?\u007F1\u0000\u0007"
 87: 0x98ED [0x23] WAIT_FOR_DIALOG_INTERACTION
 88: 0x98EE [0x52] END_LOAD_SCHEDULER: End scheduler "s111" with entities [EventEntity, EventEntity], work=886*
 89: 0x98FD [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x9919
 90: 0x9905 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s114" with entities [EventEntity, EventEntity], work=[886*, 0*]
 91: 0x9916 [0x01] GOTO 0x9946
 92: 0x9919 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x9935
 93: 0x9921 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s114" with entities [EventEntity, EventEntity], work=[886*, 0*]
 94: 0x9932 [0x01] GOTO 0x9946
 95: 0x9935 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s112" with entities [EventEntity, EventEntity], work=[886*, 0*]

SUBROUTINE_9946:
 96: 0x9946 [0x4A] Nii Aquu (ID: 17970051/0x01123383) looks at LocalPlayer
 97: 0x994F [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 98: 0x9950 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Nii Aquu (ID: 17970051/0x01123383) Render.Flags0 and Render.Flags3 conditions are met
 99: 0x9955 [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=Nii Aquu (ID: 17970051/0x01123383), tag_num=0x2C)
100: 0x995C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "4007" with entities [EventEntity, EventEntity], work=[886*, 0*]
101: 0x996D [0x2B] Nii Aquu (ID: 17970051/0x01123383) [8593*]:
    → "There is no point in training if you let me win, quawk!\u007F1\u0000\u0007"
102: 0x9974 [0x23] WAIT_FOR_DIALOG_INTERACTION
103: 0x9975 [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=Nii Aquu (ID: 17970051/0x01123383), tag_num=0x2D)
104: 0x997C [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x9996
105: 0x9984 [0x52] END_LOAD_SCHEDULER: End scheduler "s114" with entities [EventEntity, EventEntity], work=886*
106: 0x9993 [0x01] GOTO 0x99BF
107: 0x9996 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x99B0
108: 0x999E [0x52] END_LOAD_SCHEDULER: End scheduler "s114" with entities [EventEntity, EventEntity], work=886*
109: 0x99AD [0x01] GOTO 0x99BF
110: 0x99B0 [0x52] END_LOAD_SCHEDULER: End scheduler "s112" with entities [EventEntity, EventEntity], work=886*

SUBROUTINE_99BF:
111: 0x99BF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s113" with entities [EventEntity, EventEntity], work=[886*, 0*]
112: 0x99D0 [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=Nii Aquu (ID: 17970051/0x01123383), tag_num=0x2E)
113: 0x99D7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "4005" with entities [EventEntity, EventEntity], work=[886*, 0*]
114: 0x99E8 [0x2B] Nii Aquu (ID: 17970051/0x01123383) [8594*]:
    → "Kyah-kyah! Let's try it again, please!\u007F1\u0000\u0007"
115: 0x99EF [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_99F0:
116: 0x99F0 [0x1A] CALL_SUBROUTINE(address=0x0064)
117: 0x99F3 [0x52] END_LOAD_SCHEDULER: End scheduler "s113" with entities [EventEntity, EventEntity], work=886*
118: 0x9A02 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 79*
119: 0x9A06 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 79*
120: 0x9A0A [0x9A] WAIT_MUSIC_SERVER()
121: 0x9A0B [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
122: 0x9A10 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
123: 0x9A14 [0x1C] WAIT(1* ticks)
124: 0x9A17 [0x46] CAMERA_CONTROL: Restore default settings
125: 0x9A19 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [EventEntity, EventEntity], work=[200*, 0*]
126: 0x9A2A [0x21] END_EVENT
127: 0x9A2B [0x00] END_REQSTACK()
```
