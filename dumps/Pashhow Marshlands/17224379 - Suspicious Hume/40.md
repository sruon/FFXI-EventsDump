# Event 40

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/10      |
| Offset          | 0x0037    |
| Data Size       | 507 bytes |
| Calculated Size | 507 bytes |
| Instructions    | 67        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0030:                      42  45 06 80 F0 FF FF 7F F0         BE.......
0040: FF FF 7F 66 64 6F 31 01  80 55 06 80 F0 FF FF 7F  ...fdo1..U......
0050: F0 FF FF 7F 66 64 6F 31  46 01 38 07 80 2F 00 BC  ....fdo1F.8../..
0060: D2 06 01 4E 00 BC D2 06  01 92 01 F8 FF FF 7F 59  ...N...........Y
0070: 05 BC D2 06 01 01 BA BC  D2 06 01 08 80 09 80 0A  ................
0080: 80 0B 80 BA F0 FF FF 7F  0C 80 0D 80 0E 80 0F 80  ................
0090: 80 BC D2 06 01 80 F0 FF  FF 7F 80 F8 FF FF 7F 80  ................
00A0: BD D2 06 01 1E F0 FF FF  7F 4A F0 FF FF 7F F8 FF  .........J......
00B0: FF 7F 1C 00 80 45 10 80  F8 FF FF 7F F8 FF FF 7F  .....E..........
00C0: 73 31 32 38 01 80 1C 11  80 45 06 80 F0 FF FF 7F  s128.....E......
00D0: F0 FF FF 7F 66 64 69 31  01 80 79 00 F0 FF FF 7F  ....fdi1..y.....
00E0: BC D2 06 01 1C 12 80 52  10 80 F8 FF FF 7F F8 FF  .......R........
00F0: FF 7F 73 31 32 38 45 10  80 F8 FF FF 7F F8 FF FF  ..s128E.........
0100: 7F 73 31 33 30 01 80 66  03 80 F8 FF FF 7F F8 FF  .s130..f........
0110: FF 7F 74 68 6B 31 79 00  F0 FF FF 7F F8 FF FF 7F  ..thk1y.........
0120: 02 8B 7F 01 80 00 30 01  03 02 10 01 80 01 35 01  ......0.......5.
0130: 03 02 10 02 80 1D 04 80  23 66 03 80 F8 FF FF 7F  ........#f......
0140: F8 FF FF 7F 74 68 6B 32  1D 13 80 23 6E F8 FF FF  ....thk2...#n...
0150: 7F 14 80 99 F8 FF FF 7F  1D 15 80 23 52 10 80 F8  ...........#R...
0160: FF FF 7F F8 FF FF 7F 73  31 33 30 45 10 80 F8 FF  .......s130E....
0170: FF 7F F8 FF FF 7F 73 31  32 39 01 80 66 03 80 F8  ......s129..f...
0180: FF FF 7F F8 FF FF 7F 74  6C 6B 30 1D 16 80 23 1D  .......tlk0...#.
0190: 17 80 23 52 10 80 F8 FF  FF 7F F8 FF FF 7F 73 31  ..#R..........s1
01A0: 32 39 45 10 80 F8 FF FF  7F F8 FF FF 7F 73 31 33  29E..........s13
01B0: 31 01 80 03 02 10 18 80  03 03 10 19 80 03 04 10  1...............
01C0: 1A 80 1D 1B 80 23 1D 1C  80 23 52 10 80 F8 FF FF  .....#...#R.....
01D0: 7F F8 FF FF 7F 73 31 33  31 45 10 80 F8 FF FF 7F  .....s131E......
01E0: F8 FF FF 7F 73 31 33 32  01 80 1D 1D 80 23 45 06  ....s132.....#E.
01F0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 01 80 55  .........fdo1..U
0200: 06 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 31 52 10  ..........fdo1R.
0210: 80 F8 FF FF 7F F8 FF FF  7F 73 31 33 32 46 00 45  .........s132F.E
0220: 06 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 32 01 80  ..........fdi2..
0230: 21 00                                             !.              
```

## Opcodes

```
  0: 0x0037 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0038 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  2: 0x0049 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
  3: 0x0058 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x005A [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  5: 0x005D [0x2F] Unnamed NPC (ID: 17224380/0x0106D2BC)->Render.Flags0 &= ~0x80000 // Bit 19
  6: 0x0063 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17224380/0x0106D2BC)
  7: 0x0069 [0x92] EventEntity->Render.Flags3 ^= 0x01
  8: 0x006F [0x59] UPDATE_ENTITY_DATA: Unnamed NPC (ID: 17224380/0x0106D2BC)->Render.Flags0 |= 0x200000
  9: 0x0076 [0xBA] SET_ENTITY_POSITION(entity_id=References[17191612], pos_x=-492.344*, pos_z=-620.325*, pos_y=23.999*, direction=203.7°*)
 10: 0x0083 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-493.932*, pos_z=-617.175*, pos_y=24.999*, direction=21.6°*)
 11: 0x0090 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17224380/0x0106D2BC))
 12: 0x0095 [0x80] LOAD_WAIT(entity=LocalPlayer)
 13: 0x009A [0x80] LOAD_WAIT(entity=EventEntity)
 14: 0x009F [0x80] LOAD_WAIT(entity=Odyssean Passage (ID: 17224381/0x0106D2BD))
 15: 0x00A4 [0x1E] EventEntity looks at LocalPlayer and starts talking
 16: 0x00A9 [0x4A] LocalPlayer looks at EventEntity
 17: 0x00B2 [0x1C] WAIT(30* ticks)
 18: 0x00B5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s128" with entities [EventEntity, EventEntity], work=[621*, 0*]
 19: 0x00C6 [0x1C] WAIT(15* ticks)
 20: 0x00C9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 21: 0x00DA [0x79] LocalPlayer looks at Unnamed NPC (ID: 17224380/0x0106D2BC) (Basic look)
 22: 0x00E4 [0x1C] WAIT(180* ticks)
 23: 0x00E7 [0x52] END_LOAD_SCHEDULER: End scheduler "s128" with entities [EventEntity, EventEntity], work=621*
 24: 0x00F6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s130" with entities [EventEntity, EventEntity], work=[621*, 0*]
 25: 0x0107 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [EventEntity, EventEntity], work=9*
 26: 0x0116 [0x79] LocalPlayer looks at EventEntity (Basic look)
 27: 0x0120 [0x02] IF !((LocalPlayer->Render.Flags01 >> 25) & 1 == 0*) GOTO 0x0130
 28: 0x0128 [0x03] Work_Zone[2] = 0*
 29: 0x012D [0x01] GOTO 0x0135
 30: 0x0130 [0x03] Work_Zone[2] = 1*
 31: 0x0135 [0x1D] PRINT_EVENT_MESSAGE(message_id=12754*)
    → "Hist!\u0007Thou canst see the light, canst thou not? It seems thou hast the talent for which I have been searching.\u007F1\u0000\u0007"
 32: 0x0138 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x0139 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [EventEntity, EventEntity], work=9*
 34: 0x0148 [0x1D] PRINT_EVENT_MESSAGE(message_id=12756*)
    → "Eke, thy training hath not been in vain. My only question is that, with thy great powers, dost thou not tire of this corporeal realm?\u007F1\u0000\u0007"
 35: 0x014B [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x014C [0x6E] EventEntity uses emote 6*
 37: 0x0153 [0x99] Wait for EventEntity animation to complete
 38: 0x0158 [0x1D] PRINT_EVENT_MESSAGE(message_id=12757*)
    → "How do I know of thy deepest desires?\u0007'Tis only natural, for the soul doth constantly yearn for greener pastures.\u007F1\u0000\u0007"
 39: 0x015B [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x015C [0x52] END_LOAD_SCHEDULER: End scheduler "s130" with entities [EventEntity, EventEntity], work=621*
 41: 0x016B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s129" with entities [EventEntity, EventEntity], work=[621*, 0*]
 42: 0x017C [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=9*
 43: 0x018B [0x1D] PRINT_EVENT_MESSAGE(message_id=12758*)
    → "Yet the pasture it hath been given is finite. Each soul's lot is to one day meet with its fence. Such wanion!\u007F1\u0000\u0007"
 44: 0x018E [0x23] WAIT_FOR_DIALOG_INTERACTION
 45: 0x018F [0x1D] PRINT_EVENT_MESSAGE(message_id=12759*)
    → "Yet what if there were a method by which it could escape its confines and begin life anew?\u007F1\u0000\u0007"
 46: 0x0192 [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x0193 [0x52] END_LOAD_SCHEDULER: End scheduler "s129" with entities [EventEntity, EventEntity], work=621*
 48: 0x01A2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s131" with entities [EventEntity, EventEntity], work=[621*, 0*]
 49: 0x01B3 [0x03] Work_Zone[2] = 856*
 50: 0x01B8 [0x03] Work_Zone[3] = 926*
 51: 0x01BD [0x03] Work_Zone[4] = 4368*
 52: 0x01C2 [0x1D] PRINT_EVENT_MESSAGE(message_id=12760*)
    → "Shouldst thou be enchanted with these adumbrations, procurest for one of my brethren \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000, or \u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000.\u007F1\u0000\u0007"
 53: 0x01C5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 54: 0x01C6 [0x1D] PRINT_EVENT_MESSAGE(message_id=12761*)
    → "They reside in Northern San d'Oria, Port Bastok, and Port Windurst. To which thou yede is of no matter, as their message shall be the same.\u007F1\u0000\u0007"
 55: 0x01C9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 56: 0x01CA [0x52] END_LOAD_SCHEDULER: End scheduler "s131" with entities [EventEntity, EventEntity], work=621*
 57: 0x01D9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s132" with entities [EventEntity, EventEntity], work=[621*, 0*]
 58: 0x01EA [0x1D] PRINT_EVENT_MESSAGE(message_id=12762*)
    → "Whether or not thou undertakest this effortless swink to free thyself from thy shackles is a choice which is wholly thine to make.\u007F1\u0000\u0007"
 59: 0x01ED [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x01EE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 61: 0x01FF [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 62: 0x020E [0x52] END_LOAD_SCHEDULER: End scheduler "s132" with entities [EventEntity, EventEntity], work=621*
 63: 0x021D [0x46] CAMERA_CONTROL: Restore default settings
 64: 0x021F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 65: 0x0230 [0x21] END_EVENT
 66: 0x0231 [0x00] END_REQSTACK()
```
