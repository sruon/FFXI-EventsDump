# Event 21

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/3       |
| Offset          | 0x0001    |
| Data Size       | 549 bytes |
| Calculated Size | 549 bytes |
| Instructions    | 84        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 03 00 00 03 10 03  01 00 09 10 1A E5 05 46   B.............F
0010: 01 38 00 80 1C 01 80 5C  00 02 80 5C 01 02 80 5C  .8.....\...\...\
0020: 02 02 80 5C 03 02 80 9A  27 10 A0 D2 06 01 03 92  ...\....'.......
0030: 01 A0 D2 06 01 27 10 F0  FF FF 7F 09 27 10 A0 D2  .....'......'...
0040: 06 01 04 94 01 A0 D2 06  01 1C 01 80 79 00 F0 FF  ............y...
0050: FF 7F A0 D2 06 01 27 10  A0 D2 06 01 05 45 03 80  ......'......E..
0060: F0 FF FF 7F F0 FF FF 7F  6F 72 30 30 04 80 1A C4  ........or00....
0070: 05 2A 10 A0 D2 06 01 1C  05 80 66 04 80 A0 D2 06  .*........f.....
0080: 01 A0 D2 06 01 64 69 73  30 2B A0 D2 06 01 06 80  .....dis0+......
0090: 23 52 03 80 F0 FF FF 7F  F0 FF FF 7F 6F 72 30 30  #R..........or00
00A0: 45 03 80 F0 FF FF 7F F0  FF FF 7F 6F 72 30 31 04  E..........or01.
00B0: 80 02 01 00 07 80 00 C4  00 2B A0 D2 06 01 08 80  .........+......
00C0: 23 01 CC 00 2B A0 D2 06  01 09 80 23 1A E5 05 1C  #...+......#....
00D0: 0A 80 7B A0 D2 06 01 27  10 F0 FF FF 7F 0A 27 10  ..{....'......'.
00E0: A0 D2 06 01 06 66 0B 80  A0 D2 06 01 A0 D2 06 01  .....f..........
00F0: 73 69 74 6C 1C 01 80 52  03 80 F0 FF FF 7F F0 FF  sitl...R........
0100: FF 7F 6F 72 30 31 45 03  80 F0 FF FF 7F F0 FF FF  ..or01E.........
0110: 7F 6F 72 30 32 04 80 1A  C4 05 2B A0 D2 06 01 0C  .or02.....+.....
0120: 80 23 52 03 80 F0 FF FF  7F F0 FF FF 7F 6F 72 30  .#R..........or0
0130: 32 45 03 80 F0 FF FF 7F  F0 FF FF 7F 6F 72 30 33  2E..........or03
0140: 04 80 2B A0 D2 06 01 0D  80 23 66 0B 80 A0 D2 06  ..+......#f.....
0150: 01 A0 D2 06 01 73 69 74  31 1C 0E 80 79 00 A0 D2  .....sit1...y...
0160: 06 01 F0 FF FF 7F 52 03  80 F0 FF FF 7F F0 FF FF  ......R.........
0170: 7F 6F 72 30 33 45 03 80  F0 FF FF 7F F0 FF FF 7F  .or03E..........
0180: 6F 72 30 34 04 80 1C 0E  80 6E A0 D2 06 01 0F 80  or04.....n......
0190: 99 A0 D2 06 01 99 A0 D2  06 01 2B A0 D2 06 01 10  ..........+.....
01A0: 80 23 29 10 A0 D2 06 01  07 27 10 A0 D2 06 01 08  .#)......'......
01B0: 03 03 10 00 00 2B A0 D2  06 01 11 80 23 2A 10 A0  .....+......#*..
01C0: D2 06 01 52 03 80 F0 FF  FF 7F F0 FF FF 7F 6F 72  ...R..........or
01D0: 30 34 45 03 80 F0 FF FF  7F F0 FF FF 7F 6F 72 30  04E..........or0
01E0: 35 04 80 66 0B 80 A0 D2  06 01 A0 D2 06 01 74 77  5..f..........tw
01F0: 62 30 2B A0 D2 06 01 12  80 23 1A E5 05 1C 13 80  b0+......#......
0200: 5C 00 04 80 5C 01 04 80  5C 02 14 80 5C 03 15 80  \...\...\...\...
0210: 9A 46 00 45 16 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .F.E..........fd
0220: 69 32 04 80 21 00                                 i2..!.          
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[3]
  2: 0x0007 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[9]
  3: 0x000C [0x1A] CALL_SUBROUTINE(address=0x05E5)
  4: 0x000F [0x46] CAMERA_CONTROL: Disable user control
  5: 0x0011 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  6: 0x0014 [0x1C] WAIT(15* ticks)
  7: 0x0017 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 127*
  8: 0x001B [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 127*
  9: 0x001F [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 127*
 10: 0x0023 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 127*
 11: 0x0027 [0x9A] WAIT_MUSIC_SERVER()
 12: 0x0028 [0x27] REQ_SET(priority=0x10, entity_id=Ulzana (ID: 17224352/0x0106D2A0), tag_num=0x03)
 13: 0x002F [0x92] Ulzana (ID: 17224352/0x0106D2A0)->Render.Flags3 ^= 0x01
 14: 0x0035 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x09)
 15: 0x003C [0x27] REQ_SET(priority=0x10, entity_id=Ulzana (ID: 17224352/0x0106D2A0), tag_num=0x04)
 16: 0x0043 [0x94] Ulzana (ID: 17224352/0x0106D2A0)->Render.Flags3 ^= 0x01
 17: 0x0049 [0x1C] WAIT(15* ticks)
 18: 0x004C [0x79] LocalPlayer looks at Ulzana (ID: 17224352/0x0106D2A0) (Basic look)
 19: 0x0056 [0x27] REQ_SET(priority=0x10, entity_id=Ulzana (ID: 17224352/0x0106D2A0), tag_num=0x05)
 20: 0x005D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "or00" with entities [LocalPlayer, LocalPlayer], work=[176*, 0*]
 21: 0x006E [0x1A] CALL_SUBROUTINE(address=0x05C4)
 22: 0x0071 [0x2A] GET_REQ_LEVEL(level=16, entity_id=Ulzana (ID: 17224352/0x0106D2A0))
 23: 0x0077 [0x1C] WAIT(6* ticks)
 24: 0x007A [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "dis0" with entities [Ulzana (ID: 17224352/0x0106D2A0), Ulzana (ID: 17224352/0x0106D2A0)], work=0*
 25: 0x0089 [0x2B] Ulzana (ID: 17224352/0x0106D2A0) [8389*]:
    → "Whaddaya want?\u0007I got no time for adventurers.\u007F1\u0000\u0007"
 26: 0x0090 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x0091 [0x52] END_LOAD_SCHEDULER: End scheduler "or00" with entities [LocalPlayer, LocalPlayer], work=176*
 28: 0x00A0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "or01" with entities [LocalPlayer, LocalPlayer], work=[176*, 0*]
 29: 0x00B1 [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x00C4
 30: 0x00B9 [0x2B] Ulzana (ID: 17224352/0x0106D2A0) [8390*]:
    → "Huh? Where'd you hear...\u0007Well, whatever.\u007F1\u0000\u0007"
 31: 0x00C0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x00C1 [0x01] GOTO 0x00CC
 33: 0x00C4 [0x2B] Ulzana (ID: 17224352/0x0106D2A0) [8391*]:
    → "You say you got business with me?\u007F1\u0000\u0007"
 34: 0x00CB [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x00CC [0x1A] CALL_SUBROUTINE(address=0x05E5)
 36: 0x00CF [0x1C] WAIT(45* ticks)
 37: 0x00D2 [0x7B] Ulzana (ID: 17224352/0x0106D2A0) stops talking
 38: 0x00D7 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x0A)
 39: 0x00DE [0x27] REQ_SET(priority=0x10, entity_id=Ulzana (ID: 17224352/0x0106D2A0), tag_num=0x06)
 40: 0x00E5 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "sitl" with entities [Ulzana (ID: 17224352/0x0106D2A0), Ulzana (ID: 17224352/0x0106D2A0)], work=9*
 41: 0x00F4 [0x1C] WAIT(15* ticks)
 42: 0x00F7 [0x52] END_LOAD_SCHEDULER: End scheduler "or01" with entities [LocalPlayer, LocalPlayer], work=176*
 43: 0x0106 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "or02" with entities [LocalPlayer, LocalPlayer], work=[176*, 0*]
 44: 0x0117 [0x1A] CALL_SUBROUTINE(address=0x05C4)
 45: 0x011A [0x2B] Ulzana (ID: 17224352/0x0106D2A0) [8392*]:
    → "Silver Comet...\u0007What the hell are you bothering me about that old chocobo story for?\u0007You some kind of crackpot?\u007F1\u0000\u0007"
 46: 0x0121 [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x0122 [0x52] END_LOAD_SCHEDULER: End scheduler "or02" with entities [LocalPlayer, LocalPlayer], work=176*
 48: 0x0131 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "or03" with entities [LocalPlayer, LocalPlayer], work=[176*, 0*]
 49: 0x0142 [0x2B] Ulzana (ID: 17224352/0x0106D2A0) [8393*]:
    → "Leave me alone, you loon.\u007F1\u0000\u0007"
 50: 0x0149 [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x014A [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "sit1" with entities [Ulzana (ID: 17224352/0x0106D2A0), Ulzana (ID: 17224352/0x0106D2A0)], work=9*
 52: 0x0159 [0x1C] WAIT(60* ticks)
 53: 0x015C [0x79] Ulzana (ID: 17224352/0x0106D2A0) looks at LocalPlayer (Basic look)
 54: 0x0166 [0x52] END_LOAD_SCHEDULER: End scheduler "or03" with entities [LocalPlayer, LocalPlayer], work=176*
 55: 0x0175 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "or04" with entities [LocalPlayer, LocalPlayer], work=[176*, 0*]
 56: 0x0186 [0x1C] WAIT(60* ticks)
 57: 0x0189 [0x6E] Ulzana (ID: 17224352/0x0106D2A0) uses emote 26*
 58: 0x0190 [0x99] Wait for Ulzana (ID: 17224352/0x0106D2A0) animation to complete
 59: 0x0195 [0x99] Wait for Ulzana (ID: 17224352/0x0106D2A0) animation to complete
 60: 0x019A [0x2B] Ulzana (ID: 17224352/0x0106D2A0) [8394*]:
    → "Can't you see I'm busy? \u0007This place gets too wet and too dark too quick to be wasting time chatting.\u007F1\u0000\u0007"
 61: 0x01A1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 62: 0x01A2 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Ulzana (ID: 17224352/0x0106D2A0), tag_num=0x07)
 63: 0x01A9 [0x27] REQ_SET(priority=0x10, entity_id=Ulzana (ID: 17224352/0x0106D2A0), tag_num=0x08)
 64: 0x01B0 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[0]
 65: 0x01B5 [0x2B] Ulzana (ID: 17224352/0x0106D2A0) [8395*]:
    → "Hold up a minute.\u0007If you bring me some \u0001\u0005%\u0002\u0001\u0000\u0000, I might be willing to give you the time of day.\u007F1\u0000\u0007"
 66: 0x01BC [0x23] WAIT_FOR_DIALOG_INTERACTION
 67: 0x01BD [0x2A] GET_REQ_LEVEL(level=16, entity_id=Ulzana (ID: 17224352/0x0106D2A0))
 68: 0x01C3 [0x52] END_LOAD_SCHEDULER: End scheduler "or04" with entities [LocalPlayer, LocalPlayer], work=176*
 69: 0x01D2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "or05" with entities [LocalPlayer, LocalPlayer], work=[176*, 0*]
 70: 0x01E3 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "twb0" with entities [Ulzana (ID: 17224352/0x0106D2A0), Ulzana (ID: 17224352/0x0106D2A0)], work=9*
 71: 0x01F2 [0x2B] Ulzana (ID: 17224352/0x0106D2A0) [8396*]:
    → "Yep, three of those ought to do it.\u0007I'll give you until the day after tomorrow.\u007F1\u0000\u0007"
 72: 0x01F9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 73: 0x01FA [0x1A] CALL_SUBROUTINE(address=0x05E5)
 74: 0x01FD [0x1C] WAIT(30* ticks)
 75: 0x0200 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 76: 0x0204 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 77: 0x0208 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 101*
 78: 0x020C [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 103*
 79: 0x0210 [0x9A] WAIT_MUSIC_SERVER()
 80: 0x0211 [0x46] CAMERA_CONTROL: Restore default settings
 81: 0x0213 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 82: 0x0224 [0x21] END_EVENT
 83: 0x0225 [0x00] END_REQSTACK()
```
