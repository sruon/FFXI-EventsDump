# Event 120

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/7       |
| Offset          | 0x0001    |
| Data Size       | 487 bytes |
| Calculated Size | 487 bytes |
| Instructions    | 95        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1E F0 FF FF 7F 6F 70  66 00 80 F8 FF FF 7F F8   .....opf.......
0010: FF FF 7F 74 6C 6B 30 1D  01 80 23 53 F8 FF FF 7F  ...tlk0...#S....
0020: F8 FF FF 7F 74 6C 6B 30  5E 69 64 6C 30 24 02 80  ....tlk0^idl0$..
0030: 03 80 03 80 25 02 00 10  03 80 00 C2 01 66 00 80  ....%........f..
0040: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 1D 04 80 23  ........tlk0...#
0050: 1D 05 80 23 1D 06 80 23  1D 07 80 23 53 F8 FF FF  ...#...#...#S...
0060: 7F F8 FF FF 7F 74 6C 6B  30 5E 69 64 6C 30 24 08  .....tlk0^idl0$.
0070: 80 03 80 03 80 25 02 00  10 03 80 00 9A 01 66 00  .....%........f.
0080: 80 F8 FF FF 7F F8 FF FF  7F 74 6C 6B 30 1D 09 80  .........tlk0...
0090: 23 1D 0A 80 23 1D 0B 80  23 1D 0C 80 23 1D 0D 80  #...#...#...#...
00A0: 23 53 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 5E 69  #S........tlk0^i
00B0: 64 6C 30 42 24 0E 80 03  80 0F 80 25 02 00 10 03  dl0B$......%....
00C0: 80 00 CC 00 03 00 00 10  80 01 0F 01 02 00 10 11  ................
00D0: 80 00 DC 00 03 00 00 12  80 01 0F 01 02 00 10 13  ................
00E0: 80 00 EC 00 03 00 00 14  80 01 0F 01 02 00 10 15  ................
00F0: 80 00 FC 00 03 00 00 16  80 01 0F 01 02 00 10 17  ................
0100: 80 00 0C 01 03 00 00 18  80 01 0F 01 01 A2 01 24  ...............$
0110: 19 80 03 80 03 80 25 02  00 10 03 80 00 27 01 03  ......%......'..
0120: 01 00 1A 80 01 6A 01 02  00 10 11 80 00 37 01 03  .....j.......7..
0130: 01 00 1B 80 01 6A 01 02  00 10 13 80 00 47 01 03  .....j.......G..
0140: 01 00 1C 80 01 6A 01 02  00 10 15 80 00 57 01 03  .....j.......W..
0150: 01 00 1D 80 01 6A 01 02  00 10 17 80 00 67 01 03  .....j.......g..
0160: 01 00 1E 80 01 6A 01 01  A2 01 03 04 10 00 00 03  .....j..........
0170: 05 10 01 00 07 00 00 01  00 03 01 10 00 00 43 00  ..............C.
0180: 43 01 66 00 80 F8 FF FF  7F F8 FF FF 7F 74 6C 6B  C.f..........tlk
0190: 30 1D 1F 80 23 21 00 01  BF 01 02 00 10 11 80 00  0...#!..........
01A0: BF 01 66 00 80 F8 FF FF  7F F8 FF FF 7F 74 6C 6B  ..f..........tlk
01B0: 30 1D 20 80 23 03 01 10  21 80 21 00 01 BF 01 01  0. .#...!.!.....
01C0: E7 01 02 00 10 11 80 00  E7 01 66 00 80 F8 FF FF  ..........f.....
01D0: 7F F8 FF FF 7F 74 6C 6B  30 1D 22 80 23 03 01 10  .....tlk0.".#...
01E0: 21 80 21 00 01 E7 01 00                           !.!.....        
```

## Opcodes

```
  0: 0x0001 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0006 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0007 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0008 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
  4: 0x0017 [0x1D] PRINT_EVENT_MESSAGE(message_id=6878*)
    → "Hey \u007F\u0005[mister/lady], you got some spare time? I know the road to easy money! Want to give it a try?\u007F1\u0000\u0007"
  5: 0x001A [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x001B [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk0" with entities [EventEntity, EventEntity]
  7: 0x0028 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
  8: 0x002D [0x24] CREATE_DIALOG(message_id=6879*, default_option=0*, option_flags=0*)
    → "Interested?\u0007\u000BYeah, so far.\u0007No way.\u007F1\u0000\u0007"
  9: 0x0034 [0x25] WAIT_DIALOG_SELECT()
 10: 0x0035 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x01C2
 11: 0x003D [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 12: 0x004C [0x1D] PRINT_EVENT_MESSAGE(message_id=6881*)
    → "That's the spirit! You've just got to prove yourself, that's all. Find some loot I hid in Davoi, bring it to me, and you win.\u007F1\u0000\u0007"
 13: 0x004F [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0050 [0x1D] PRINT_EVENT_MESSAGE(message_id=6882*)
    → "But that's not all, \u007F\u0005[big shot/sweetheart]. You'll get cold, hard cash! You can pick how much time you think you'll need to do the job.\u007F1\u0000\u0007"
 15: 0x0053 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x0054 [0x1D] PRINT_EVENT_MESSAGE(message_id=6883*)
    → "You'll have pockets full o' gil if you bring it back before the time's up. If not...well, then you don't get jack! Simple, ain't it?\u007F1\u0000\u0007"
 17: 0x0057 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x0058 [0x1D] PRINT_EVENT_MESSAGE(message_id=6884*)
    → "You want more spending money, right? Come on, give it a try! You can't afford not to!\u007F1\u0000\u0007"
 19: 0x005B [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x005C [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk0" with entities [EventEntity, EventEntity]
 21: 0x0069 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 22: 0x006E [0x24] CREATE_DIALOG(message_id=6885*, default_option=0*, option_flags=0*)
    → "Give it a try?\u0007\u000BI'm game.\u0007I'll pass, thanks.\u007F1\u0000\u0007"
 23: 0x0075 [0x25] WAIT_DIALOG_SELECT()
 24: 0x0076 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x019A
 25: 0x007E [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 26: 0x008D [0x1D] PRINT_EVENT_MESSAGE(message_id=6887*)
    → "That's the spirit! Life's nothin' but a game of chance, right? Here's the rules.\u007F1\u0000\u0007"
 27: 0x0090 [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x0091 [0x1D] PRINT_EVENT_MESSAGE(message_id=6888*)
    → "You gotta bring me \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000, hidden inside an urn in Davoi. And I ain't tellin' ya which one.\u007F1\u0000\u0007"
 29: 0x0094 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x0095 [0x1D] PRINT_EVENT_MESSAGE(message_id=6889*)
    → "But here's a hint: It's in an urn all by itself, not one that's bunched up with others. Eh, you'll figure it out once you get there.\u007F1\u0000\u0007"
 31: 0x0098 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x0099 [0x1D] PRINT_EVENT_MESSAGE(message_id=6890*)
    → "Bets start at 100 gil! It goes 100, 250, 500, and the big 1000. Then choose a deadline of 24, 36, 48, 60, or 72 hours.\u007F1\u0000\u0007"
 33: 0x009C [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x009D [0x1D] PRINT_EVENT_MESSAGE(message_id=6891*)
    → "And, the shorter the time, the bigger the payoff. You'll get triple if you make it back in 24 hours, but 72 only yields one and one-fifth.\u007F1\u0000\u0007"
 35: 0x00A0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x00A1 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk0" with entities [EventEntity, EventEntity]
 37: 0x00AE [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 38: 0x00B3 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 39: 0x00B4 [0x24] CREATE_DIALOG(message_id=6892*, default_option=0*, option_flags=16*)
    → "I'll bet...\u0007\u000B100 gil.\u0007250 gil.\u0007500 gil.\u00071000 gil.\u00075000 gil.\u0007I'll pass.\u007F1\u0000\u0007"
 40: 0x00BB [0x25] WAIT_DIALOG_SELECT()
 41: 0x00BC [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00CC
 42: 0x00C4 [0x03] ExtData[1]->WorkLocal[0] = 100*
 43: 0x00C9 [0x01] GOTO 0x010F
 44: 0x00CC [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00DC
 45: 0x00D4 [0x03] ExtData[1]->WorkLocal[0] = 250*
 46: 0x00D9 [0x01] GOTO 0x010F
 47: 0x00DC [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x00EC
 48: 0x00E4 [0x03] ExtData[1]->WorkLocal[0] = 500*
 49: 0x00E9 [0x01] GOTO 0x010F
 50: 0x00EC [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x00FC
 51: 0x00F4 [0x03] ExtData[1]->WorkLocal[0] = 1000*
 52: 0x00F9 [0x01] GOTO 0x010F
 53: 0x00FC [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x010C
 54: 0x0104 [0x03] ExtData[1]->WorkLocal[0] = 5000*
 55: 0x0109 [0x01] GOTO 0x010F
 56: 0x010C [0x01] GOTO 0x01A2

SUBROUTINE_010F:
 57: 0x010F [0x24] CREATE_DIALOG(message_id=6893*, default_option=0*, option_flags=0*)
    → "I'll be back in\u0007\u000B24 hours for triple payout.\u000736 hours for 2.5 times payout.\u000748 hours for double payout.\u000760 hours for 1.5 times payout.\u000772 hours for 1.2 times payout.\u0007Cancel\u007F1\u0000\u0007"
 58: 0x0116 [0x25] WAIT_DIALOG_SELECT()
 59: 0x0117 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0127
 60: 0x011F [0x03] ExtData[1]->WorkLocal[1] = 24*
 61: 0x0124 [0x01] GOTO 0x016A
 62: 0x0127 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0137
 63: 0x012F [0x03] ExtData[1]->WorkLocal[1] = 36*
 64: 0x0134 [0x01] GOTO 0x016A
 65: 0x0137 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0147
 66: 0x013F [0x03] ExtData[1]->WorkLocal[1] = 48*
 67: 0x0144 [0x01] GOTO 0x016A
 68: 0x0147 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0157
 69: 0x014F [0x03] ExtData[1]->WorkLocal[1] = 60*
 70: 0x0154 [0x01] GOTO 0x016A
 71: 0x0157 [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x0167
 72: 0x015F [0x03] ExtData[1]->WorkLocal[1] = 72*
 73: 0x0164 [0x01] GOTO 0x016A
 74: 0x0167 [0x01] GOTO 0x01A2

SUBROUTINE_016A:
 75: 0x016A [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[0]
 76: 0x016F [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[1]
 77: 0x0174 [0x07] ExtData[1]->WorkLocal[0] += ExtData[1]->WorkLocal[1]
 78: 0x0179 [0x03] Work_Zone[1] = ExtData[1]->WorkLocal[0]
 79: 0x017E [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 80: 0x0180 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 81: 0x0182 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 82: 0x0191 [0x1D] PRINT_EVENT_MESSAGE(message_id=6894*)
    → "So, you're betting me 
\u0002 gil that you'll be back here in 
\u0003 hours to hand me \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000. So what are you waitin' for? Get movin'!\u007F1\u0000\u0007"
 83: 0x0194 [0x23] WAIT_FOR_DIALOG_INTERACTION
 84: 0x0195 [0x21] END_EVENT
 85: 0x0196 [0x00] END_REQSTACK()

SUBROUTINE_01BF:
 86: 0x01BF [0x01] GOTO 0x01E7
 87: 0x01C2 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x01E7
 88: 0x01CA [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 89: 0x01D9 [0x1D] PRINT_EVENT_MESSAGE(message_id=6880*)
    → "Aw, give me the cold shoulder, will you? Well, you'll change your mind sooner or later, heheh.\u007F1\u0000\u0007"
 90: 0x01DC [0x23] WAIT_FOR_DIALOG_INTERACTION
 91: 0x01DD [0x03] Work_Zone[1] = 1073741824*
 92: 0x01E2 [0x21] END_EVENT
 93: 0x01E3 [0x00] END_REQSTACK()

SUBROUTINE_01E7:
 94: 0x01E7 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0197 [0x01] GOTO 0x01BF
     0x01BC [0x01] GOTO 0x01BF
# Dead code (unreachable instructions):
     0x01E4 [0x01] GOTO 0x01E7
```