# Event 176

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/4       |
| Offset          | 0x0001    |
| Data Size       | 616 bytes |
| Calculated Size | 616 bytes |
| Instructions    | 81        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 45 00 80 F8 FF FF  7F F8 FF FF 7F 66 64 6F   BE..........fdo
0010: 31 01 80 55 00 80 F8 FF  FF 7F F8 FF FF 7F 66 64  1..U..........fd
0020: 6F 31 03 01 10 02 80 43  00 43 01 03 00 00 09 10  o1.....C.C......
0030: 46 01 38 03 80 75 00 04  80 75 01 2F 00 7C 80 0F  F.8..u...u./.|..
0040: 01 4E 00 7C 80 0F 01 4E  00 F0 FF FF 7F 92 01 7A  .N.|...N.......z
0050: 80 0F 01 92 01 7C 80 0F  01 92 01 7D 80 0F 01 92  .....|.....}....
0060: 01 02 80 0F 01 94 01 7A  80 0F 01 94 01 7C 80 0F  .......z.....|..
0070: 01 94 01 7D 80 0F 01 94  01 F0 FF FF 7F 94 01 02  ...}............
0080: 80 0F 01 BA 7C 80 0F 01  05 80 06 80 07 80 08 80  ....|...........
0090: BA 7D 80 0F 01 09 80 0A  80 0B 80 0C 80 BA F0 FF  .}..............
00A0: FF 7F 0D 80 0E 80 0F 80  10 80 BA 7A 80 0F 01 11  ...........z....
00B0: 80 12 80 0F 80 13 80 80  7C 80 0F 01 80 F0 FF FF  ........|.......
00C0: 7F 80 02 80 0F 01 80 7D  80 0F 01 80 7A 80 0F 01  .......}....z...
00D0: 27 05 32 80 0F 01 03 27  05 7C 80 0F 01 02 45 14  '.2....'.|....E.
00E0: 80 F8 FF FF 7F F8 FF FF  7F 73 30 33 33 01 80 1C  .........s033...
00F0: 15 80 45 00 80 F8 FF FF  7F F8 FF FF 7F 66 64 69  ..E..........fdi
0100: 31 01 80 27 05 7D 80 0F  01 02 1C 16 80 52 14 80  1..'.}.......R..
0110: F8 FF FF 7F F8 FF FF 7F  73 30 33 33 45 14 80 F8  ........s033E...
0120: FF FF 7F F8 FF FF 7F 73  30 33 34 01 80 1C 15 80  .......s034.....
0130: 7A 00 7C 80 0F 01 7A 00  7D 80 0F 01 BA 7C 80 0F  z.|...z.}....|..
0140: 01 17 80 18 80 19 80 1A  80 BA 7D 80 0F 01 1B 80  ..........}.....
0150: 1C 80 19 80 1D 80 27 05  7C 80 0F 01 03 1C 15 80  ......'.|.......
0160: 27 05 7D 80 0F 01 03 1C  16 80 27 05 F0 FF FF 7F  '.}.......'.....
0170: 2A 1C 1E 80 52 14 80 F8  FF FF 7F F8 FF FF 7F 73  *...R..........s
0180: 30 33 34 45 14 80 F8 FF  FF 7F F8 FF FF 7F 73 30  034E..........s0
0190: 33 35 01 80 1C 1F 80 27  05 7A 80 0F 01 03 1C 20  35.....'.z..... 
01A0: 80 52 14 80 F8 FF FF 7F  F8 FF FF 7F 73 30 33 35  .R..........s035
01B0: 45 14 80 F8 FF FF 7F F8  FF FF 7F 73 30 33 36 01  E..........s036.
01C0: 80 02 00 00 01 80 00 F1  01 2B 7A 80 0F 01 21 80  .........+z...!.
01D0: 23 2A 05 7A 80 0F 01 66  22 80 7A 80 0F 01 7A 80  #*.z...f".z...z.
01E0: 0F 01 74 6C 6B 30 2B 7A  80 0F 01 23 80 23 01 25  ..tlk0+z...#.#.%
01F0: 02 2A 05 7A 80 0F 01 66  22 80 7A 80 0F 01 7A 80  .*.z...f".z...z.
0200: 0F 01 74 68 6B 31 2B 7A  80 0F 01 24 80 23 66 22  ..thk1+z...$.#f"
0210: 80 7A 80 0F 01 7A 80 0F  01 74 68 6B 32 2B 7A 80  .z...z...thk2+z.
0220: 0F 01 25 80 23 45 00 80  F8 FF FF 7F F8 FF FF 7F  ..%.#E..........
0230: 66 64 6F 31 01 80 55 00  80 F8 FF FF 7F F8 FF FF  fdo1..U.........
0240: 7F 66 64 6F 31 52 14 80  F8 FF FF 7F F8 FF FF 7F  .fdo1R..........
0250: 73 30 33 36 46 00 45 00  80 F8 FF FF 7F F8 FF FF  s036F.E.........
0260: 7F 66 64 69 32 01 80 21  00                       .fdi2..!.       
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  2: 0x0013 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
  3: 0x0022 [0x03] Work_Zone[1] = 1*
  4: 0x0027 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
  5: 0x0029 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
  6: 0x002B [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[9]
  7: 0x0030 [0x46] CAMERA_CONTROL: Disable user control
  8: 0x0032 [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  9: 0x0035 [0x75] LOAD_ROOM(Load indoor room, room=484*)
 10: 0x0039 [0x75] LOAD_ROOM(No action)
 11: 0x003B [0x2F] Gilgamesh (ID: 17793148/0x010F807C)->Render.Flags0 &= ~0x80000 // Bit 19
 12: 0x0041 [0x4E] SET_ENTITY_HIDE_FLAG: Show Gilgamesh (ID: 17793148/0x010F807C)
 13: 0x0047 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 14: 0x004D [0x92] Esteban (ID: 17793146/0x010F807A)->Render.Flags3 ^= 0x01
 15: 0x0053 [0x92] Gilgamesh (ID: 17793148/0x010F807C)->Render.Flags3 ^= 0x01
 16: 0x0059 [0x92] Pacomart (ID: 17793149/0x010F807D)->Render.Flags3 ^= 0x01
 17: 0x005F [0x92] Thunder Hawk (ID: 17793026/0x010F8002)->Render.Flags3 ^= 0x01
 18: 0x0065 [0x94] Esteban (ID: 17793146/0x010F807A)->Render.Flags3 ^= 0x01
 19: 0x006B [0x94] Gilgamesh (ID: 17793148/0x010F807C)->Render.Flags3 ^= 0x01
 20: 0x0071 [0x94] Pacomart (ID: 17793149/0x010F807D)->Render.Flags3 ^= 0x01
 21: 0x0077 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 22: 0x007D [0x94] Thunder Hawk (ID: 17793026/0x010F8002)->Render.Flags3 ^= 0x01
 23: 0x0083 [0xBA] SET_ENTITY_POSITION(entity_id=Gilgamesh (ID: 17793148/0x010F807C), pos_x=-61.041*, pos_z=0.693*, pos_y=-11.459*, direction=313.6°*)
 24: 0x0090 [0xBA] SET_ENTITY_POSITION(entity_id=Pacomart (ID: 17793149/0x010F807D), pos_x=-62.238*, pos_z=-0.524*, pos_y=-11.359*, direction=315.1°*)
 25: 0x009D [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=17.989*, pos_z=83.259*, pos_y=-14.558*, direction=95.1°*)
 26: 0x00AA [0xBA] SET_ENTITY_POSITION(entity_id=Esteban (ID: 17793146/0x010F807A), pos_x=21.427*, pos_z=72.360*, pos_y=-14.558*, direction=242.0°*)
 27: 0x00B7 [0x80] LOAD_WAIT(entity=Gilgamesh (ID: 17793148/0x010F807C))
 28: 0x00BC [0x80] LOAD_WAIT(entity=LocalPlayer)
 29: 0x00C1 [0x80] LOAD_WAIT(entity=Thunder Hawk (ID: 17793026/0x010F8002))
 30: 0x00C6 [0x80] LOAD_WAIT(entity=Pacomart (ID: 17793149/0x010F807D))
 31: 0x00CB [0x80] LOAD_WAIT(entity=Esteban (ID: 17793146/0x010F807A))
 32: 0x00D0 [0x27] REQ_SET(priority=0x05, entity_id=Door:Mayor's Residence (ID: 17793074/0x010F8032), tag_num=0x03)
 33: 0x00D7 [0x27] REQ_SET(priority=0x05, entity_id=Gilgamesh (ID: 17793148/0x010F807C), tag_num=0x02)
 34: 0x00DE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s033" with entities [EventEntity, EventEntity], work=[760*, 0*]
 35: 0x00EF [0x1C] WAIT(15* ticks)
 36: 0x00F2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 37: 0x0103 [0x27] REQ_SET(priority=0x05, entity_id=Pacomart (ID: 17793149/0x010F807D), tag_num=0x02)
 38: 0x010A [0x1C] WAIT(240* ticks)
 39: 0x010D [0x52] END_LOAD_SCHEDULER: End scheduler "s033" with entities [EventEntity, EventEntity], work=760*
 40: 0x011C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s034" with entities [EventEntity, EventEntity], work=[760*, 0*]
 41: 0x012D [0x1C] WAIT(15* ticks)
 42: 0x0130 [0x7A] VM_CONTROL: Reset VM for Gilgamesh (ID: 17793148/0x010F807C)
 43: 0x0136 [0x7A] VM_CONTROL: Reset VM for Pacomart (ID: 17793149/0x010F807D)
 44: 0x013C [0xBA] SET_ENTITY_POSITION(entity_id=Gilgamesh (ID: 17793148/0x010F807C), pos_x=-30.346*, pos_z=-9.467*, pos_y=-2.558*, direction=49.4°*)
 45: 0x0149 [0xBA] SET_ENTITY_POSITION(entity_id=Pacomart (ID: 17793149/0x010F807D), pos_x=-31.605*, pos_z=-7.680*, pos_y=-2.558*, direction=51.1°*)
 46: 0x0156 [0x27] REQ_SET(priority=0x05, entity_id=Gilgamesh (ID: 17793148/0x010F807C), tag_num=0x03)
 47: 0x015D [0x1C] WAIT(15* ticks)
 48: 0x0160 [0x27] REQ_SET(priority=0x05, entity_id=Pacomart (ID: 17793149/0x010F807D), tag_num=0x03)
 49: 0x0167 [0x1C] WAIT(240* ticks)
 50: 0x016A [0x27] REQ_SET(priority=0x05, entity_id=LocalPlayer, tag_num=0x2A)
 51: 0x0171 [0x1C] WAIT(30* ticks)
 52: 0x0174 [0x52] END_LOAD_SCHEDULER: End scheduler "s034" with entities [EventEntity, EventEntity], work=760*
 53: 0x0183 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s035" with entities [EventEntity, EventEntity], work=[760*, 0*]
 54: 0x0194 [0x1C] WAIT(90* ticks)
 55: 0x0197 [0x27] REQ_SET(priority=0x05, entity_id=Esteban (ID: 17793146/0x010F807A), tag_num=0x03)
 56: 0x019E [0x1C] WAIT(60* ticks)
 57: 0x01A1 [0x52] END_LOAD_SCHEDULER: End scheduler "s035" with entities [EventEntity, EventEntity], work=760*
 58: 0x01B0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s036" with entities [EventEntity, EventEntity], work=[760*, 0*]
 59: 0x01C1 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x01F1
 60: 0x01C9 [0x2B] Esteban (ID: 17793146/0x010F807A) [7986*]:
    → "Selbina's mayor is looking for adventurers to fulfill a special task for him. I'm not familiar with the particulars...\u007F1\u0000\u0007"
 61: 0x01D0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 62: 0x01D1 [0x2A] GET_REQ_LEVEL(level=5, entity_id=Esteban (ID: 17793146/0x010F807A))
 63: 0x01D7 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Esteban (ID: 17793146/0x010F807A), Esteban (ID: 17793146/0x010F807A)], work=9*
 64: 0x01E6 [0x2B] Esteban (ID: 17793146/0x010F807A) [7987*]:
    → "...But Flandiace is. He can direct you to the mayor's residence.\u007F1\u0000\u0007"
 65: 0x01ED [0x23] WAIT_FOR_DIALOG_INTERACTION
 66: 0x01EE [0x01] GOTO 0x0225
 67: 0x01F1 [0x2A] GET_REQ_LEVEL(level=5, entity_id=Esteban (ID: 17793146/0x010F807A))
 68: 0x01F7 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [Esteban (ID: 17793146/0x010F807A), Esteban (ID: 17793146/0x010F807A)], work=9*
 69: 0x0206 [0x2B] Esteban (ID: 17793146/0x010F807A) [7988*]:
    → "The mayor has been putting out the call for a particular adventurer, and I think you may be just the person he's looking for.\u007F1\u0000\u0007"
 70: 0x020D [0x23] WAIT_FOR_DIALOG_INTERACTION
 71: 0x020E [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [Esteban (ID: 17793146/0x010F807A), Esteban (ID: 17793146/0x010F807A)], work=9*
 72: 0x021D [0x2B] Esteban (ID: 17793146/0x010F807A) [7989*]:
    → "Make haste for his residence and see if you can lend him a hand.\u007F1\u0000\u0007"
 73: 0x0224 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_0225:
 74: 0x0225 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 75: 0x0236 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
 76: 0x0245 [0x52] END_LOAD_SCHEDULER: End scheduler "s036" with entities [EventEntity, EventEntity], work=760*
 77: 0x0254 [0x46] CAMERA_CONTROL: Restore default settings
 78: 0x0256 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [EventEntity, EventEntity], work=[200*, 0*]
 79: 0x0267 [0x21] END_EVENT
 80: 0x0268 [0x00] END_REQSTACK()
```
