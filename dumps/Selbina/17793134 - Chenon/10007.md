# Event 10007

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/5       |
| Offset          | 0x0723    |
| Data Size       | 346 bytes |
| Calculated Size | 346 bytes |
| Instructions    | 13        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0720:          42 03 0E 00 08  10 1E F0 FF FF 7F 1D 53     B...........S
0730: 80 23 1D 54 80 1C 55 80  02 06 10 02 80 01 4A 07  .#.T..U.......J.
0740: 1D 56 80 23 01 7B 08 01  4E 07 1D 57 80 23 1D 58  .V.#.{..N..W.#.X
0750: 80 23 B3 06 00 80 B3 05  00 00 01 00 02 00 03 00  .#..............
0760: 04 00 05 00 06 00 07 00  02 00 00 07 80 00 75 07  ..............u.
0770: 1D 3B 80 23 1B 02 02 00  02 80 01 89 07 03 03 10  .;.#............
0780: 06 00 1D 59 80 23 01 9D  07 02 0E 00 02 80 00 94  ...Y.#..........
0790: 07 01 9D 07 03 03 10 0E  00 1D 59 80 23 24 5A 80  ..........Y.#$Z.
07A0: 02 80 02 80 25 02 00 10  02 80 00 B0 07 01 B3 07  ....%...........
07B0: 01 7B 08 03 02 10 5B 80  1D 5C 80 23 24 5D 80 10  .{....[..\.#$]..
07C0: 80 02 80 25 02 00 10 10  80 00 D2 07 01 7B 08 01  ...%.........{..
07D0: E2 07 02 00 10 02 80 00  E2 07 03 01 10 5E 80 01  .............^..
07E0: E2 07 43 00 43 01 02 07  10 02 80 80 57 08 B3 03  ..C.C.......W...
07F0: 00 80 B3 05 00 00 01 00  02 00 03 00 04 00 05 00  ................
0800: 06 00 07 00 02 00 00 07  80 00 13 08 1D 5F 80 23  ............._.#
0810: 01 7B 08 B3 07 00 80 B3  05 00 00 01 00 02 00 03  .{..............
0820: 00 04 00 05 00 06 00 07  00 02 00 00 07 80 00 38  ...............8
0830: 08 1D 60 80 23 01 7B 08  03 01 10 61 80 43 00 43  ..`.#.{....a.C.C
0840: 01 02 07 10 02 80 00 50  08 1D 62 80 23 01 54 08  .......P..b.#.T.
0850: 1D 60 80 23 01 7B 08 02  07 10 07 80 80 69 08 1D  .`.#.{.......i..
0860: 5F 80 23 01 7B 08 01 7B  08 02 07 10 63 80 80 7B  _.#.{..{....c..{
0870: 08 1D 64 80 23 01 7B 08  01 7B 08 21 00           ..d.#.{..{.!.   
```

## Opcodes

```
  0: 0x0723 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0724 [0x03] ExtData[1]->WorkLocal[14] = Work_Zone[8]
  2: 0x0729 [0x1E] EventEntity looks at LocalPlayer and starts talking
  3: 0x072E [0x1D] PRINT_EVENT_MESSAGE(message_id=7629*)
    → "So you would like to participate in Fish Ranking, would you? Let me examine this fish. Please wait a moment.\u007F1\u0000\u0007"
  4: 0x0731 [0x23] WAIT_FOR_DIALOG_INTERACTION
  5: 0x0732 [0x1D] PRINT_EVENT_MESSAGE(message_id=7630*)
    → "...\u0000\u0007"
  6: 0x0735 [0x1C] WAIT(120* ticks)
  7: 0x0738 [0x02] IF !(Work_Zone[6] == 0*) GOTO 0x074A
  8: 0x0740 [0x1D] PRINT_EVENT_MESSAGE(message_id=7631*)
    → "I'm terribly sorry, but this fish doesn't meet the requirements for entry. Please try again!\u007F1\u0000\u0007"
  9: 0x0743 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x0744 [0x01] GOTO 0x087B

SUBROUTINE_087B:
 11: 0x087B [0x21] END_EVENT
 12: 0x087C [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0747 [0x01] GOTO 0x074E
     0x0755 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 1459/0x000005B3))
     0x075A [0x01] GOTO 0x0200
     0x075D [0x00] END_REQSTACK()
     0x075E [0x03] 0x0400 = 0x0500
     0x0763 [0x00] END_REQSTACK()
     0x0764 [0x06] 0x0700 = 0
     0x0767 [0x00] END_REQSTACK()
     0x0768 [0x02] IF !(ExtData[1]->WorkLocal[0] == 4294967295*) GOTO 0x0775
     0x0770 [0x1D] PRINT_EVENT_MESSAGE(message_id=7663*)
    → "I must apologize. I was unable to access the ranking board.\u007F1\u0000\u0007"
     0x0773 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0774 [0x1B] RETURN
     0x0775 [0x02] IF !(ExtData[1]->WorkLocal[2] == 0*) GOTO 0x0789
     0x077D [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[6]
     0x0782 [0x1D] PRINT_EVENT_MESSAGE(message_id=7627*)
    → "Overwrite your current high score of 
\u0001 \u007F\u0012\u0001[point/points]?\u007F1\u0000\u0007"
     0x0785 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0786 [0x01] GOTO 0x079D
     0x0789 [0x02] IF !(ExtData[1]->WorkLocal[14] == 0*) GOTO 0x0794
     0x0791 [0x01] GOTO 0x079D
     0x0794 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[14]
     0x0799 [0x1D] PRINT_EVENT_MESSAGE(message_id=7627*)
    → "Overwrite your current high score of 
\u0001 \u007F\u0012\u0001[point/points]?\u007F1\u0000\u0007"
     0x079C [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x079D [0x24] CREATE_DIALOG(message_id=7628*, default_option=0*, option_flags=0*)
    → "Register your new high score?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
     0x07A4 [0x25] WAIT_DIALOG_SELECT()
     0x07A5 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x07B0
     0x07AD [0x01] GOTO 0x07B3
     0x07B0 [0x01] GOTO 0x087B
     0x07B3 [0x03] Work_Zone[2] = 500*
     0x07B8 [0x1D] PRINT_EVENT_MESSAGE(message_id=7633*)
    → "There is a registration fee of 
\u0000 gil.\u007F1\u0000\u0007"
     0x07BB [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x07BC [0x24] CREATE_DIALOG(message_id=7634*, default_option=1*, option_flags=0*)
    → "Pay up?\u0007\u000BSure.\u0007No, thanks.\u007F1\u0000\u0007"
     0x07C3 [0x25] WAIT_DIALOG_SELECT()
     0x07C4 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x07D2
     0x07CC [0x01] GOTO 0x087B
     0x07CF [0x01] GOTO 0x07E2
     0x07D2 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x07E2
     0x07DA [0x03] Work_Zone[1] = 144*
     0x07DF [0x01] GOTO 0x07E2
     0x07E2 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
     0x07E4 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
     0x07E6 [0x02] IF !(Work_Zone[7] == 0*) GOTO 0x0857
     0x07EE [0xB3] RANKINGS_BOARD_HANDLER(case_type=0x03)
     0x07F0 [0x00] END_REQSTACK()
     0x07F1 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 1459/0x000005B3))
     0x07F6 [0x01] GOTO 0x0200
     0x07F9 [0x00] END_REQSTACK()
     0x07FA [0x03] 0x0400 = 0x0500
     0x07FF [0x00] END_REQSTACK()
     0x0800 [0x06] 0x0700 = 0
     0x0803 [0x00] END_REQSTACK()
     0x0804 [0x02] IF !(ExtData[1]->WorkLocal[0] == 4294967295*) GOTO 0x0813
     0x080C [0x1D] PRINT_EVENT_MESSAGE(message_id=7636*)
    → "I'm terribly sorry, but it seems that there was an error registering your entry. I'll have to return it to you.\u007F1\u0000\u0007"
     0x080F [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0810 [0x01] GOTO 0x087B
     0x0813 [0xB3] RANKINGS_BOARD_HANDLER(case_type=0x07)
     0x0815 [0x00] END_REQSTACK()
     0x0816 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 1459/0x000005B3))
     0x081B [0x01] GOTO 0x0200
     0x081E [0x00] END_REQSTACK()
     0x081F [0x03] 0x0400 = 0x0500
     0x0824 [0x00] END_REQSTACK()
     0x0825 [0x06] 0x0700 = 0
     0x0828 [0x00] END_REQSTACK()
     0x0829 [0x02] IF !(ExtData[1]->WorkLocal[0] == 4294967295*) GOTO 0x0838
     0x0831 [0x1D] PRINT_EVENT_MESSAGE(message_id=7637*)
    → "I have registered your entry, but could not complete a final confirmation.\u0007Please wait a while before choosing to confirm your entry.\u007F1\u0000\u0007"
     0x0834 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0835 [0x01] GOTO 0x087B
     0x0838 [0x03] Work_Zone[1] = 145*
     0x083D [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
     0x083F [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
     0x0841 [0x02] IF !(Work_Zone[7] == 0*) GOTO 0x0850
     0x0849 [0x1D] PRINT_EVENT_MESSAGE(message_id=7639*)
    → "Registration complete! I'll label your entry and return it to you now.\u007F1\u0000\u0007"
     0x084C [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x084D [0x01] GOTO 0x0854
     0x0850 [0x1D] PRINT_EVENT_MESSAGE(message_id=7637*)
    → "I have registered your entry, but could not complete a final confirmation.\u0007Please wait a while before choosing to confirm your entry.\u007F1\u0000\u0007"
     0x0853 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0854 [0x01] GOTO 0x087B
     0x0857 [0x02] IF !(Work_Zone[7] == 4294967295*) GOTO 0x0869
     0x085F [0x1D] PRINT_EVENT_MESSAGE(message_id=7636*)
    → "I'm terribly sorry, but it seems that there was an error registering your entry. I'll have to return it to you.\u007F1\u0000\u0007"
     0x0862 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0863 [0x01] GOTO 0x087B
     0x0866 [0x01] GOTO 0x087B
     0x0869 [0x02] IF !(Work_Zone[7] == 4294967294*) GOTO 0x087B
     0x0871 [0x1D] PRINT_EVENT_MESSAGE(message_id=7638*)
    → "You don't seem to have enough gil...\u007F1\u0000\u0007"
     0x0874 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x0875 [0x01] GOTO 0x087B
     0x0878 [0x01] GOTO 0x087B
```