# Event 10037

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/5       |
| Offset          | 0x0001    |
| Data Size       | 434 bytes |
| Calculated Size | 434 bytes |
| Instructions    | 89        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 03 07 00 02 10 03  04 00 03 10 03 0B 00 06   B..............
0010: 10 03 0E 00 07 10 03 0F  00 08 10 05 08 00 02 08  ................
0020: 00 00 80 00 44 01 03 02  00 01 80 03 03 00 01 80  ....D...........
0030: 03 01 00 01 80 03 02 10  0F 00 24 02 80 01 80 07  ..........$.....
0040: 00 25 02 00 10 00 80 00  52 00 03 02 00 00 80 01  .%......R.......
0050: A4 00 02 00 10 03 80 00  62 00 03 02 00 03 80 01  ........b.......
0060: A4 00 02 00 10 04 80 00  72 00 03 02 00 04 80 01  ........r.......
0070: A4 00 02 00 10 05 80 00  82 00 03 02 00 05 80 01  ................
0080: A4 00 02 00 10 06 80 00  9D 00 03 01 10 01 80 40  ...............@
0090: 07 80 08 80 01 10 00 80  21 00 01 A4 00 03 01 10  ........!.......
00A0: 09 80 21 00 03 02 17 04  00 03 03 17 04 00 03 04  ..!.............
00B0: 17 04 00 03 05 17 04 00  07 02 17 0A 80 07 03 17  ................
00C0: 0B 80 07 04 17 0C 80 07  05 17 01 80 02 03 00 01  ................
00D0: 80 00 31 01 24 0D 80 01  80 01 80 25 02 00 10 00  ..1.$......%....
00E0: 80 00 EC 00 03 03 00 00  80 01 31 01 02 00 10 03  ..........1.....
00F0: 80 00 FC 00 03 03 00 03  80 01 31 01 02 00 10 04  ..........1.....
0100: 80 00 0C 01 03 03 00 04  80 01 31 01 02 00 10 05  ..........1.....
0110: 80 00 1C 01 03 03 00 05  80 01 31 01 02 00 10 0C  ..........1.....
0120: 80 00 2C 01 03 03 00 0C  80 01 31 01 03 02 00 01  ..,.......1.....
0130: 80 03 01 00 02 00 02 02  00 01 80 01 41 01 06 08  ............A...
0140: 00 01 1E 00 03 06 10 0B  00 48 0E 80 03 02 10 01  .........H......
0150: 00 03 04 10 03 00 48 0F  80 23 03 03 10 01 80 24  ......H..#.....$
0160: 10 80 01 80 01 80 25 02  00 10 01 80 00 98 01 03  ......%.........
0170: 01 10 01 80 40 01 80 11  80 01 10 01 00 40 12 80  ....@........@..
0180: 06 80 01 10 03 00 43 00  43 01 02 09 10 01 80 01  ......C.C.......
0190: 95 01 01 44 01 01 B1 01  03 02 10 01 00 03 03 10  ...D............
01A0: 01 80 03 04 10 03 00 48  13 80 03 01 10 09 80 21  .......H.......!
01B0: 00 21 00                                          .!.             
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[2]
  2: 0x0007 [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[3]
  3: 0x000C [0x03] ExtData[1]->WorkLocal[11] = Work_Zone[6]
  4: 0x0011 [0x03] ExtData[1]->WorkLocal[14] = Work_Zone[7]
  5: 0x0016 [0x03] ExtData[1]->WorkLocal[15] = Work_Zone[8]
  6: 0x001B [0x05] ExtData[1]->WorkLocal[8] = 1
  7: 0x001E [0x02] IF !(ExtData[1]->WorkLocal[8] == 1*) GOTO 0x0144
  8: 0x0026 [0x03] ExtData[1]->WorkLocal[2] = 0*
  9: 0x002B [0x03] ExtData[1]->WorkLocal[3] = 0*
 10: 0x0030 [0x03] ExtData[1]->WorkLocal[1] = 0*
 11: 0x0035 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[15]
 12: 0x003A [0x24] CREATE_DIALOG(message_id=8073*, default_option=0*, option_flags=ExtData[1]->WorkLocal[7])
    → "Attempt which? (Auto-transport: \u000C\u0005[off/on])\u0007\u000BNone.\u0007\u0001\u001AA Stygian Pact.\u0007\u0001\u001AChampion of the Dawn.\u0007\u0001\u001ADivine Interference.\u0007\u0001\u001AMaiden of the Dusk.\u0007.\u0007.\u0007.\u0007.\u0007.\u0007.\u0007.\u0007.\u0007.\u0007.\u0007.\u0007Toggle auto-transport.\u007F1\u0000\u0007"
 13: 0x0041 [0x25] WAIT_DIALOG_SELECT()
 14: 0x0042 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0052
 15: 0x004A [0x03] ExtData[1]->WorkLocal[2] = 1*
 16: 0x004F [0x01] GOTO 0x00A4
 17: 0x0052 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0062
 18: 0x005A [0x03] ExtData[1]->WorkLocal[2] = 2*
 19: 0x005F [0x01] GOTO 0x00A4
 20: 0x0062 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0072
 21: 0x006A [0x03] ExtData[1]->WorkLocal[2] = 3*
 22: 0x006F [0x01] GOTO 0x00A4
 23: 0x0072 [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x0082
 24: 0x007A [0x03] ExtData[1]->WorkLocal[2] = 4*
 25: 0x007F [0x01] GOTO 0x00A4
 26: 0x0082 [0x02] IF !(Work_Zone[0] == 16*) GOTO 0x009D
 27: 0x008A [0x03] Work_Zone[1] = 0*
 28: 0x008F [0x40] SET_BIT_WORK_RANGE(start_bit=24*, end_bit=31*, target=Work_Zone[1], source=1*)
 29: 0x0098 [0x21] END_EVENT
 30: 0x0099 [0x00] END_REQSTACK()

SUBROUTINE_00A4:
 31: 0x00A4 [0x03] Work_Zone_1700[2] = ExtData[1]->WorkLocal[4]
 32: 0x00A9 [0x03] Work_Zone_1700[3] = ExtData[1]->WorkLocal[4]
 33: 0x00AE [0x03] Work_Zone_1700[4] = ExtData[1]->WorkLocal[4]
 34: 0x00B3 [0x03] Work_Zone_1700[5] = ExtData[1]->WorkLocal[4]
 35: 0x00B8 [0x07] Work_Zone_1700[2] += 15*
 36: 0x00BD [0x07] Work_Zone_1700[3] += 10*
 37: 0x00C2 [0x07] Work_Zone_1700[4] += 5*
 38: 0x00C7 [0x07] Work_Zone_1700[5] += 0*
 39: 0x00CC [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x0131
 40: 0x00D4 [0x24] CREATE_DIALOG(message_id=8038*, default_option=0*, option_flags=0*)
    → "Select a difficulty.\u0007\u000BBack.\u0007Very difficult. (Level: ???)\u0007Difficult. (Level: 

)\u0007Normal. (Level: 
\u000B)\u0007Easy. (Level: 
\u000C)\u0007Very easy. (Level: 
)\u007F1\u0000\u0007"
 41: 0x00DB [0x25] WAIT_DIALOG_SELECT()
 42: 0x00DC [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00EC
 43: 0x00E4 [0x03] ExtData[1]->WorkLocal[3] = 1*
 44: 0x00E9 [0x01] GOTO 0x0131
 45: 0x00EC [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x00FC
 46: 0x00F4 [0x03] ExtData[1]->WorkLocal[3] = 2*
 47: 0x00F9 [0x01] GOTO 0x0131
 48: 0x00FC [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x010C
 49: 0x0104 [0x03] ExtData[1]->WorkLocal[3] = 3*
 50: 0x0109 [0x01] GOTO 0x0131
 51: 0x010C [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x011C
 52: 0x0114 [0x03] ExtData[1]->WorkLocal[3] = 4*
 53: 0x0119 [0x01] GOTO 0x0131
 54: 0x011C [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x012C
 55: 0x0124 [0x03] ExtData[1]->WorkLocal[3] = 5*
 56: 0x0129 [0x01] GOTO 0x0131
 57: 0x012C [0x03] ExtData[1]->WorkLocal[2] = 0*

SUBROUTINE_0131:
 58: 0x0131 [0x03] ExtData[1]->WorkLocal[1] = ExtData[1]->WorkLocal[2]
 59: 0x0136 [0x02] IF !(ExtData[1]->WorkLocal[2] == 0*) GOTO 0x0141
 60: 0x013E [0x06] ExtData[1]->WorkLocal[8] = 0
 61: 0x0141 [0x01] GOTO 0x001E

SUBROUTINE_0144:
 62: 0x0144 [0x03] Work_Zone[6] = ExtData[1]->WorkLocal[11]
 63: 0x0149 [0x48] [System] [8050*]:
    → "You will be able to call forth up to 
\u0004 alter ego\u007F\u0012\u0004[/s] given the current number of players in your party.\u007F1\u0000\u0007"
 64: 0x014C [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[1]
 65: 0x0151 [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[3]
 66: 0x0156 [0x48] [System] [8079*]:
    → "Applying to enter \u000C\u0000[/\u0001\u001AA Stygian Pact/\u0001\u001AChampion of the Dawn/\u0001\u001ADivine Interference/\u0001\u001AMaiden of the Dusk]\u000C\u0002[/: Very Difficult/: Difficult/: Normal/: Easy/: Very Easy]. You will be unable to participate if you add any more party members. Are you sure?\u007F1\u0000\u0007"
 67: 0x0159 [0x23] WAIT_FOR_DIALOG_INTERACTION
 68: 0x015A [0x03] Work_Zone[3] = 0*
 69: 0x015F [0x24] CREATE_DIALOG(message_id=8039*, default_option=0*, option_flags=0*)
    → "\u000C\u0001[Apply to proceed/Proceed]?\u0007\u000BDefinitely!\u0007Not yet.\u007F1\u0000\u0007"
 70: 0x0166 [0x25] WAIT_DIALOG_SELECT()
 71: 0x0167 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0198
 72: 0x016F [0x03] Work_Zone[1] = 0*
 73: 0x0174 [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=11*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[1])
 74: 0x017D [0x40] SET_BIT_WORK_RANGE(start_bit=14*, end_bit=16*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[3])
 75: 0x0186 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 76: 0x0188 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 77: 0x018A [0x02] IF !(Work_Zone[9] == 0*) GOTO 0x0195
 78: 0x0192 [0x01] GOTO 0x0144
 79: 0x0195 [0x01] GOTO 0x01B1
 80: 0x0198 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[1]
 81: 0x019D [0x03] Work_Zone[3] = 0*
 82: 0x01A2 [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[3]
 83: 0x01A7 [0x48] [System] [8076*]:
    → "You have chosen not to \u000C\u0001[apply to/enter] \u000C\u0000[/\u0001\u001AA Stygian Pact/\u0001\u001AChampion of the Dawn/\u0001\u001ADivine Interference/\u0001\u001AMaiden of the Dusk]\u000C\u0002[/: Very Difficult/: Difficult/: Normal/: Easy/: Very Easy].\u0000\u0007"
 84: 0x01AA [0x03] Work_Zone[1] = 1073741824*
 85: 0x01AF [0x21] END_EVENT
 86: 0x01B0 [0x00] END_REQSTACK()

SUBROUTINE_01B1:
 87: 0x01B1 [0x21] END_EVENT
 88: 0x01B2 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x009A [0x01] GOTO 0x00A4
```