# Event 31

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 11/11     |
| Offset          | 0x2A84    |
| Data Size       | 614 bytes |
| Calculated Size | 614 bytes |
| Instructions    | 77        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
2A80:             42 03 03 00  02 10 03 01 00 03 10 03      B...........
2A90: 02 00 04 10 45 02 80 F0  FF FF 7F F0 FF FF 7F 66  ....E..........f
2AA0: 64 6F 31 00 80 55 02 80  F0 FF FF 7F F0 FF FF 7F  do1..U..........
2AB0: 66 64 6F 31 46 01 38 03  80 2F 00 58 62 0B 01 4E  fdo1F.8../.Xb..N
2AC0: 00 58 62 0B 01 4E 00 F0  FF FF 7F 22 00 92 01 58  .Xb..N....."...X
2AD0: 62 0B 01 92 01 9E 62 0B  01 94 01 58 62 0B 01 94  b.....b....Xb...
2AE0: 01 F0 FF FF 7F 94 01 9E  62 0B 01 02 01 00 1E 80  ........b.......
2AF0: 00 FA 2A 29 05 58 62 0B  01 90 BA 58 62 0B 01 F6  ..*).Xb....Xb...
2B00: 80 F7 80 06 80 F8 80 BA  F0 FF FF 7F F9 80 FA 80  ................
2B10: 06 80 FB 80 80 58 62 0B  01 80 F0 FF FF 7F 80 9E  .....Xb.........
2B20: 62 0B 01 4A F0 FF FF 7F  58 62 0B 01 4A 58 62 0B  b..J....Xb..JXb.
2B30: 01 F0 FF FF 7F 1C 0B 80  45 2A 80 F8 FF FF 7F F8  ........E*......
2B40: FF FF 7F 73 31 30 34 00  80 1C 0E 80 45 02 80 F0  ...s104.....E...
2B50: FF FF 7F F0 FF FF 7F 66  64 69 31 00 80 5B C9 80  .......fdi1..[..
2B60: 58 62 0B 01 58 62 0B 01  70 6E 74 30 02 03 00 00  Xb..Xb..pnt0....
2B70: 80 00 7C 2B 2B 58 62 0B  01 FC 80 23 2B 58 62 0B  ..|++Xb....#+Xb.
2B80: 01 FD 80 23 5B C9 80 58  62 0B 01 58 62 0B 01 70  ...#[..Xb..Xb..p
2B90: 6E 74 31 03 02 10 00 80  24 FE 80 1E 80 00 80 25  nt1.....$......%
2BA0: 02 00 10 00 80 00 17 2C  27 05 F0 FF FF 7F 5D 52  .......,'.....]R
2BB0: 2A 80 F8 FF FF 7F F8 FF  FF 7F 73 31 30 34 45 2A  *.........s104E*
2BC0: 80 F8 FF FF 7F F8 FF FF  7F 73 31 30 36 00 80 4A  .........s106..J
2BD0: 58 62 0B 01 9E 62 0B 01  1C 10 80 CD FF 80 58 62  Xb...b........Xb
2BE0: 0B 01 58 62 0B 01 6D 61  69 6E 00 80 2A 05 F0 FF  ..Xb..main..*...
2BF0: FF 7F CD FF 80 F0 FF FF  7F F0 FF FF 7F 6D 61 69  .............mai
2C00: 6E 00 80 1C 4E 80 92 01  F0 FF FF 7F 1C 0C 80 03  n...N...........
2C10: 01 10 1E 80 01 5E 2C 02  00 10 1E 80 00 5E 2C 52  .....^,......^,R
2C20: 2A 80 F8 FF FF 7F F8 FF  FF 7F 73 31 30 34 45 2A  *.........s104E*
2C30: 80 F8 FF FF 7F F8 FF FF  7F 73 31 30 35 00 80 5B  .........s105..[
2C40: C9 80 58 62 0B 01 58 62  0B 01 70 6E 74 30 2B 58  ..Xb..Xb..pnt0+X
2C50: 62 0B 01 00 81 23 03 02  00 1E 80 01 5E 2C 45 02  b....#......^,E.
2C60: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 00 80 55  .........fdo1..U
2C70: 02 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 31 52 2A  ..........fdo1R*
2C80: 80 F8 FF FF 7F F8 FF FF  7F 73 31 30 35 52 2A 80  .........s105R*.
2C90: F8 FF FF 7F F8 FF FF 7F  73 31 30 36 6A 00 80 1E  ........s106j...
2CA0: 80 1E 80 CD 01 81 F0 FF  FF 7F F0 FF FF 7F 6D 61  ..............ma
2CB0: 69 6E 00 80 02 01 00 1E  80 00 C3 2C 29 05 58 62  in.........,).Xb
2CC0: 0B 01 91 1C 4E 80 6A 02  81 1E 80 1E 80 46 00 02  ....N.j......F..
2CD0: 02 00 1E 80 00 E8 2C 45  02 80 F0 FF FF 7F F0 FF  ......,E........
2CE0: FF 7F 66 64 69 32 00 80  21 00                    ..fdi2..!.      
```

## Opcodes

```
  0: 0x2A84 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x2A85 [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[2]
  2: 0x2A8A [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[3]
  3: 0x2A8F [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[4]
  4: 0x2A94 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  5: 0x2AA5 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
  6: 0x2AB4 [0x46] CAMERA_CONTROL: Disable user control
  7: 0x2AB6 [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  8: 0x2AB9 [0x2F] Cait Sith (ID: 17523288/0x010B6258)->Render.Flags0 &= ~0x80000 // Bit 19
  9: 0x2ABF [0x4E] SET_ENTITY_HIDE_FLAG: Show Cait Sith (ID: 17523288/0x010B6258)
 10: 0x2AC5 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 11: 0x2ACB [0x22] ENTITY_HIDE_FLAG(enabled=0x00)
 12: 0x2ACD [0x92] Cait Sith (ID: 17523288/0x010B6258)->Render.Flags3 ^= 0x01
 13: 0x2AD3 [0x92] ??? (ID: 17523358/0x010B629E)->Render.Flags3 ^= 0x01
 14: 0x2AD9 [0x94] Cait Sith (ID: 17523288/0x010B6258)->Render.Flags3 ^= 0x01
 15: 0x2ADF [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 16: 0x2AE5 [0x94] ??? (ID: 17523358/0x010B629E)->Render.Flags3 ^= 0x01
 17: 0x2AEB [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x2AFA
 18: 0x2AF3 [0x29] REQ_SET_WAIT(priority=0x05, entity_id=Cait Sith (ID: 17523288/0x010B6258), tag_num=0x90)
 19: 0x2AFA [0xBA] SET_ENTITY_POSITION(entity_id=Cait Sith (ID: 17523288/0x010B6258), pos_x=-639.424*, pos_z=-421.708*, pos_y=0.399*, direction=206.5°*)
 20: 0x2B07 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-641.935*, pos_z=-420.597*, pos_y=0.399*, direction=21.5°*)
 21: 0x2B14 [0x80] LOAD_WAIT(entity=Cait Sith (ID: 17523288/0x010B6258))
 22: 0x2B19 [0x80] LOAD_WAIT(entity=LocalPlayer)
 23: 0x2B1E [0x80] LOAD_WAIT(entity=??? (ID: 17523358/0x010B629E))
 24: 0x2B23 [0x4A] LocalPlayer looks at Cait Sith (ID: 17523288/0x010B6258)
 25: 0x2B2C [0x4A] Cait Sith (ID: 17523288/0x010B6258) looks at LocalPlayer
 26: 0x2B35 [0x1C] WAIT(30* ticks)
 27: 0x2B38 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s104" with entities [EventEntity, EventEntity], work=[770*, 0*]
 28: 0x2B49 [0x1C] WAIT(15* ticks)
 29: 0x2B4C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 30: 0x2B5D [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "pnt0" with entities [Cait Sith (ID: 17523288/0x010B6258), Cait Sith (ID: 17523288/0x010B6258)], work=1312*
 31: 0x2B6C [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x2B7C
 32: 0x2B74 [0x2B] Cait Sith (ID: 17523288/0x010B6258) [8343*]:
    → "A glutton for punishment, then? There's a whole buffet waiting for you just beyond.\u007F1\u0000\u0007"
 33: 0x2B7B [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x2B7C [0x2B] Cait Sith (ID: 17523288/0x010B6258) [8344*]:
    → "Forks and knives at the ready?\u007F1\u0000\u0007"
 35: 0x2B83 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x2B84 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "pnt1" with entities [Cait Sith (ID: 17523288/0x010B6258), Cait Sith (ID: 17523288/0x010B6258)], work=1312*
 37: 0x2B93 [0x03] Work_Zone[2] = 0*
 38: 0x2B98 [0x24] CREATE_DIALOG(message_id=7983*, default_option=1*, option_flags=0*)
    → "Warp to \u000C\u0000[???/Provenance/Walk of Echoes/Pashhow Marshlands]?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 39: 0x2B9F [0x25] WAIT_DIALOG_SELECT()
 40: 0x2BA0 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x2C17
 41: 0x2BA8 [0x27] REQ_SET(priority=0x05, entity_id=LocalPlayer, tag_num=0x5D)
 42: 0x2BAF [0x52] END_LOAD_SCHEDULER: End scheduler "s104" with entities [EventEntity, EventEntity], work=770*
 43: 0x2BBE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s106" with entities [EventEntity, EventEntity], work=[770*, 0*]
 44: 0x2BCF [0x4A] Cait Sith (ID: 17523288/0x010B6258) looks at ??? (ID: 17523358/0x010B629E)
 45: 0x2BD8 [0x1C] WAIT(60* ticks)
 46: 0x2BDB [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "main" with entities [Cait Sith (ID: 17523288/0x010B6258), Cait Sith (ID: 17523288/0x010B6258)], work=[124*, 0*]
 47: 0x2BEC [0x2A] GET_REQ_LEVEL(level=5, entity_id=LocalPlayer)
 48: 0x2BF2 [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[124*, 0*]
 49: 0x2C03 [0x1C] WAIT(150* ticks)
 50: 0x2C06 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
 51: 0x2C0C [0x1C] WAIT(40* ticks)
 52: 0x2C0F [0x03] Work_Zone[1] = 1*
 53: 0x2C14 [0x01] GOTO 0x2C5E
 54: 0x2C17 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x2C5E
 55: 0x2C1F [0x52] END_LOAD_SCHEDULER: End scheduler "s104" with entities [EventEntity, EventEntity], work=770*
 56: 0x2C2E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s105" with entities [EventEntity, EventEntity], work=[770*, 0*]
 57: 0x2C3F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "pnt0" with entities [Cait Sith (ID: 17523288/0x010B6258), Cait Sith (ID: 17523288/0x010B6258)], work=1312*
 58: 0x2C4E [0x2B] Cait Sith (ID: 17523288/0x010B6258) [8345*]:
    → "Perhaps that's for the best. Lack of forethought can only lead to failure. End in travesty.\u007F1\u0000\u0007"
 59: 0x2C55 [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x2C56 [0x03] ExtData[1]->WorkLocal[2] = 1*
 61: 0x2C5B [0x01] GOTO 0x2C5E

SUBROUTINE_2C5E:
 62: 0x2C5E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 63: 0x2C6F [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 64: 0x2C7E [0x52] END_LOAD_SCHEDULER: End scheduler "s105" with entities [EventEntity, EventEntity], work=770*
 65: 0x2C8D [0x52] END_LOAD_SCHEDULER: End scheduler "s106" with entities [EventEntity, EventEntity], work=770*
 66: 0x2C9C [0x6A] CHANGE_SOUND_VOLUME: Set (Effects)* volume to 0*, fade_time=1*
 67: 0x2CA3 [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[125*, 0*]
 68: 0x2CB4 [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x2CC3
 69: 0x2CBC [0x29] REQ_SET_WAIT(priority=0x05, entity_id=Cait Sith (ID: 17523288/0x010B6258), tag_num=0x91)
 70: 0x2CC3 [0x1C] WAIT(150* ticks)
 71: 0x2CC6 [0x6A] CHANGE_SOUND_VOLUME: Set (Effects)* volume to 999*, fade_time=1*
 72: 0x2CCD [0x46] CAMERA_CONTROL: Restore default settings
 73: 0x2CCF [0x02] IF !(ExtData[1]->WorkLocal[2] == 1*) GOTO 0x2CE8
 74: 0x2CD7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 75: 0x2CE8 [0x21] END_EVENT
 76: 0x2CE9 [0x00] END_REQSTACK()
```
