# Event 32005

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 17/95     |
| Offset          | 0x1D5A    |
| Data Size       | 468 bytes |
| Calculated Size | 468 bytes |
| Instructions    | 39        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1D50:                                83 25 00 03 26 00            .%..&.
1D60: 06 10 07 26 00 25 00 42  1A 73 2F 20 01 46 01 06  ...&.%.B.s/ .F..
1D70: 23 00 03 21 00 02 10 03  22 00 03 10 03 1E 00 04  #..!....".......
1D80: 10 1A 04 1E 24 33 80 05  80 01 80 25 02 00 10 01  ....$3.....%....
1D90: 80 00 FB 1D 02 26 00 25  00 02 A5 1D 1C 02 80 83  .....&.%........
1DA0: 25 00 01 94 1D 02 1E 00  05 80 80 C0 1D 5C 00 35  %............\.5
1DB0: 80 5C 01 35 80 5C 02 35  80 5C 03 35 80 01 C0 1D  .\.5.\.5.\.5....
1DC0: 03 01 10 01 80 45 37 80  F0 FF FF 7F F0 FF FF 7F  .....E7.........
1DD0: 77 68 69 31 01 80 45 00  80 F0 FF FF 7F F0 FF FF  whi1..E.........
1DE0: 7F 62 6C 6F 66 01 80 45  00 80 F0 FF FF 7F F0 FF  .blof..E........
1DF0: FF 7F 66 64 69 32 01 80  01 00 1E 03 01 10 05 80  ..fdi2..........
1E00: 46 00 21 00 02 23 00 01  80 00 18 1E 47 00 16 80  F.!..#......G...
1E10: 17 80 18 80 19 80 47 01  1B 02 23 00 01 80 00 99  ......G...#.....
1E20: 1E 02 22 00 01 80 80 35  1E 37 C7 80 C8 80 C9 80  .."....5.7......
1E30: CA 80 01 99 1E 02 22 00  05 80 80 49 1E 37 CB 80  ......"....I.7..
1E40: CC 80 CD 80 CE 80 01 99  1E 02 22 00 0D 80 80 5D  .........."....]
1E50: 1E 37 CF 80 D0 80 C9 80  D1 80 01 99 1E 02 22 00  .7............".
1E60: 0E 80 80 71 1E 37 D2 80  D3 80 CD 80 D4 80 01 99  ...q.7..........
1E70: 1E 02 22 00 0F 80 80 85  1E 37 D5 80 D6 80 CD 80  .."......7......
1E80: D7 80 01 99 1E 02 22 00  0C 80 80 99 1E 37 D8 80  ......"......7..
1E90: D9 80 CD 80 DA 80 01 99  1E 1B 03 28 00 27 00 02  ...........(.'..
1EA0: 28 00 0C 80 05 AF 1E 08  28 00 05 80 01 B4 1E 08  (.......(.......
1EB0: 28 00 0D 80 14 28 00 21  80 07 28 00 14 80 1B 03  (....(.!..(.....
1EC0: 28 00 27 00 02 28 00 0C  80 05 D4 1E 08 28 00 05  (.'..(.......(..
1ED0: 80 01 D9 1E 08 28 00 0D  80 14 28 00 21 80 07 28  .....(....(.!..(
1EE0: 00 9D 80 1B 03 28 00 27  00 02 28 00 0C 80 05 F9  .....(.'..(.....
1EF0: 1E 08 28 00 05 80 01 FE  1E 08 28 00 0D 80 14 28  ..(.......(....(
1F00: 00 21 80 07 28 00 DB 80  1B 03 28 00 27 00 02 28  .!..(.....(.'..(
1F10: 00 0C 80 05 1E 1F 08 28  00 05 80 01 23 1F 08 28  .......(....#..(
1F20: 00 0D 80 14 28 00 21 80  07 28 00 DC 80 1B        ....(.!..(....  
```

## Opcodes

```
  0: 0x1D5A [0x83] ExtData[1]->WorkLocal[37] = GetGameTime()
  1: 0x1D5D [0x03] ExtData[1]->WorkLocal[38] = Work_Zone[6]
  2: 0x1D62 [0x07] ExtData[1]->WorkLocal[38] += ExtData[1]->WorkLocal[37]
  3: 0x1D67 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  4: 0x1D68 [0x1A] CALL_SUBROUTINE(address=0x2F73)
  5: 0x1D6B [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  6: 0x1D6D [0x46] CAMERA_CONTROL: Disable user control
  7: 0x1D6F [0x06] ExtData[1]->WorkLocal[35] = 0
  8: 0x1D72 [0x03] ExtData[1]->WorkLocal[33] = Work_Zone[2]
  9: 0x1D77 [0x03] ExtData[1]->WorkLocal[34] = Work_Zone[3]
 10: 0x1D7C [0x03] ExtData[1]->WorkLocal[30] = Work_Zone[4]
 11: 0x1D81 [0x1A] CALL_SUBROUTINE(address=0x1E04)
 12: 0x1D84 [0x24] CREATE_DIALOG(message_id=7647*, default_option=1*, option_flags=0*)
    → "Skip the event?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 13: 0x1D8B [0x25] WAIT_DIALOG_SELECT()
 14: 0x1D8C [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x1DFB
 15: 0x1D94 [0x02] IF !(ExtData[1]->WorkLocal[38] <= ExtData[1]->WorkLocal[37]) GOTO 0x1DA5
 16: 0x1D9C [0x1C] WAIT(60* ticks)
 17: 0x1D9F [0x83] ExtData[1]->WorkLocal[37] = GetGameTime()
 18: 0x1DA2 [0x01] GOTO 0x1D94

SUBROUTINE_1DA5:
 19: 0x1DA5 [0x02] IF !(ExtData[1]->WorkLocal[30] == 1*) GOTO 0x1DC0
 20: 0x1DAD [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 46*
 21: 0x1DB1 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 46*
 22: 0x1DB5 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 46*
 23: 0x1DB9 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 46*
 24: 0x1DBD [0x01] GOTO 0x1DC0

SUBROUTINE_1DC0:
 25: 0x1DC0 [0x03] Work_Zone[1] = 0*
 26: 0x1DC5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 27: 0x1DD6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 28: 0x1DE7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 29: 0x1DF8 [0x01] GOTO 0x1E00

SUBROUTINE_1DFB:
 30: 0x1DFB [0x03] Work_Zone[1] = 1*
 31: 0x1E00 [0x46] CAMERA_CONTROL: Restore default settings
 32: 0x1E02 [0x21] END_EVENT
 33: 0x1E03 [0x00] END_REQSTACK()

SUBROUTINE_1E04:
 34: 0x1E04 [0x02] IF !(ExtData[1]->WorkLocal[35] == 0*) GOTO 0x1E18
 35: 0x1E0C [0x47] UPDATE_PLAYER_POS(-700.000*, -180.000*, -18.000*, yaw=270.0°*)
 36: 0x1E16 [0x47] WAIT_PLAYER_POS_UPDATE
 37: 0x1E18 [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x1E19 (277 bytes)
     0x1E19: 02 23 00 01 80 00 99 1E 02 22 00 01 80 80 35 1E
     0x1E29: 37 C7 80 C8 80 C9 80 CA 80 01 99 1E 02 22 00 05
     0x1E39: 80 80 49 1E 37 CB 80 CC 80 CD 80 CE 80 01 99 1E
     0x1E49: 02 22 00 0D 80 80 5D 1E 37 CF 80 D0 80 C9 80 D1
     0x1E59: 80 01 99 1E 02 22 00 0E 80 80 71 1E 37 D2 80 D3
     0x1E69: 80 CD 80 D4 80 01 99 1E 02 22 00 0F 80 80 85 1E
     0x1E79: 37 D5 80 D6 80 CD 80 D7 80 01 99 1E 02 22 00 0C
     0x1E89: 80 80 99 1E 37 D8 80 D9 80 CD 80 DA 80 01 99 1E
     0x1E99: 1B 03 28 00 27 00 02 28 00 0C 80 05 AF 1E 08 28
     0x1EA9: 00 05 80 01 B4 1E 08 28 00 0D 80 14 28 00 21 80
     0x1EB9: 07 28 00 14 80 1B 03 28 00 27 00 02 28 00 0C 80
     0x1EC9: 05 D4 1E 08 28 00 05 80 01 D9 1E 08 28 00 0D 80
     0x1ED9: 14 28 00 21 80 07 28 00 9D 80 1B 03 28 00 27 00
     0x1EE9: 02 28 00 0C 80 05 F9 1E 08 28 00 05 80 01 FE 1E
     0x1EF9: 08 28 00 0D 80 14 28 00 21 80 07 28 00 DB 80 1B
     0x1F09: 03 28 00 27 00 02 28 00 0C 80 05 1E 1F 08 28 00
     0x1F19: 05 80 01 23 1F 08 28 00 0D 80 14 28 00 21 80 07
     0x1F29: 28 00 DC 80 1B
```