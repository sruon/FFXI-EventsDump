# Event 0

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 505 bytes |
| Calculated Size | 505 bytes |
| Instructions    | 91        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    20 01 42 6C F8 FF FF  7F 00 80 01 80 1C 01 80    .Bl...........
0010: 22 00 80 F8 FF FF 7F 6C  F8 FF FF 7F 02 80 03 80  "......l........
0020: 1C 04 80 1E F0 FF FF 7F  4A F0 FF FF 7F 8B 62 0B  ........J.....b.
0030: 01 03 00 00 04 80 02 02  10 05 80 01 45 00 3D 00  ............E.=.
0040: 00 01 80 01 80 02 03 10  05 80 01 54 00 3D 00 00  ...........T.=..
0050: 06 80 01 80 02 04 10 05  80 01 63 00 3D 00 00 07  ..........c.=...
0060: 80 01 80 02 05 10 05 80  01 72 00 3D 00 00 08 80  .........r.=....
0070: 01 80 03 09 10 09 80 1D  0A 80 23 02 00 00 0B 80  ..........#.....
0080: 00 86 00 01 B7 00 02 00  00 0C 80 00 91 00 01 FB  ................
0090: 00 02 00 00 0D 80 00 9C  00 01 3F 01 02 00 00 0E  ..........?.....
00A0: 80 00 A7 00 01 83 01 24  0F 80 00 80 00 00 25 02  .......$......%.
00B0: 00 10 01 80 00 F3 00 24  10 80 00 80 02 10 25 02  .......$......%.
00C0: 00 10 00 80 00 E6 00 03  01 10 11 80 9F 12 80 F8  ................
00D0: FF FF 7F F8 FF FF 7F 6D  61 69 6E 00 80 1D 13 80  .......main.....
00E0: 23 21 00 01 F0 00 03 01  10 00 80 0E 01 10 00 10  #!..............
00F0: 01 DB 01 02 00 10 06 80  00 37 01 24 14 80 00 80  .........7.$....
0100: 03 10 25 02 00 10 00 80  00 2A 01 03 01 10 11 80  ..%......*......
0110: 9F 12 80 F8 FF FF 7F F8  FF FF 7F 6D 61 69 6E 00  ...........main.
0120: 80 1D 13 80 23 21 00 01  34 01 03 01 10 15 80 0E  ....#!..4.......
0130: 01 10 00 10 01 DB 01 02  00 10 07 80 00 7B 01 24  .............{.$
0140: 16 80 00 80 04 10 25 02  00 10 00 80 00 6E 01 03  ......%......n..
0150: 01 10 11 80 9F 12 80 F8  FF FF 7F F8 FF FF 7F 6D  ...............m
0160: 61 69 6E 00 80 1D 13 80  23 21 00 01 78 01 03 01  ain.....#!..x...
0170: 10 02 80 0E 01 10 00 10  01 DB 01 02 00 10 08 80  ................
0180: 00 BF 01 24 17 80 00 80  05 10 25 02 00 10 00 80  ...$......%.....
0190: 00 B2 01 03 01 10 11 80  9F 12 80 F8 FF FF 7F F8  ................
01A0: FF FF 7F 6D 61 69 6E 00  80 1D 13 80 23 21 00 01  ...main.....#!..
01B0: BC 01 03 01 10 18 80 0E  01 10 00 10 01 DB 01 03  ................
01C0: 01 10 11 80 9F 12 80 F8  FF FF 7F F8 FF FF 7F 6D  ...............m
01D0: 61 69 6E 00 80 1D 13 80  23 21 00 1D 19 80 23 43  ain.....#!....#C
01E0: 00 43 01 45 1A 80 F8 FF  FF 7F F8 FF FF 7F 66 64  .C.E..........fd
01F0: 6F 31 00 80 1C 1B 80 30  21 00                    o1.....0!.      
```

## Opcodes

```
  0: 0x0001 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0003 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0004 [0x6C] FADE_ENTITY_COLOR(entity_id=EventEntity, end_alpha=0*, fade_time=1*)
  3: 0x000D [0x1C] WAIT(1* ticks)
  4: 0x0010 [0x22] ENTITY_HIDE_FLAG(enabled=0x00)
  5: 0x0012 [0x80] LOAD_WAIT(entity=EventEntity)
  6: 0x0017 [0x6C] FADE_ENTITY_COLOR(entity_id=EventEntity, end_alpha=64*, fade_time=90*)
  7: 0x0020 [0x1C] WAIT(30* ticks)
  8: 0x0023 [0x1E] EventEntity looks at LocalPlayer and starts talking
  9: 0x0028 [0x4A] LocalPlayer looks at Grumblix (ID: 17523339/0x010B628B)
 10: 0x0031 [0x03] ExtData[1]->WorkLocal[0] = 30*
 11: 0x0036 [0x02] IF !(Work_Zone[2] == 4294967294*) GOTO 0x0045
 12: 0x003E [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8001, condition_work_offset=0x8001)
 13: 0x0045 [0x02] IF !(Work_Zone[3] == 4294967294*) GOTO 0x0054
 14: 0x004D [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8006, condition_work_offset=0x8001)
 15: 0x0054 [0x02] IF !(Work_Zone[4] == 4294967294*) GOTO 0x0063
 16: 0x005C [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8007, condition_work_offset=0x8001)
 17: 0x0063 [0x02] IF !(Work_Zone[5] == 4294967294*) GOTO 0x0072
 18: 0x006B [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8008, condition_work_offset=0x8001)
 19: 0x0072 [0x03] Work_Zone[9] = 1126*
 20: 0x0077 [0x1D] PRINT_EVENT_MESSAGE(message_id=7802*)
    → "I travel......hear lots...\u0007Hear...stories... Can tell...if...\u007F1\u0000\u0007"
 21: 0x007A [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x007B [0x02] IF !(ExtData[1]->WorkLocal[0] == 28*) GOTO 0x0086
 23: 0x0083 [0x01] GOTO 0x00B7
 24: 0x0086 [0x02] IF !(ExtData[1]->WorkLocal[0] == 26*) GOTO 0x0091
 25: 0x008E [0x01] GOTO 0x00FB
 26: 0x0091 [0x02] IF !(ExtData[1]->WorkLocal[0] == 22*) GOTO 0x009C
 27: 0x0099 [0x01] GOTO 0x013F
 28: 0x009C [0x02] IF !(ExtData[1]->WorkLocal[0] == 14*) GOTO 0x00A7
 29: 0x00A4 [0x01] GOTO 0x0183
 30: 0x00A7 [0x24] CREATE_DIALOG(message_id=7805*, default_option=0*, option_flags=0x00)
    → "Do you want to hear a story?\u0007\u000BNo, thank you.\u0007Let's hear one.\u0007Let's hear some more!\u007F1\u0000\u0007"
 31: 0x00AE [0x25] WAIT_DIALOG_SELECT()
 32: 0x00AF [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00F3

SUBROUTINE_00B7:
 33: 0x00B7 [0x24] CREATE_DIALOG(message_id=7806*, default_option=0*, option_flags=0x1002)
    → "What story would you like to be told?\u0007\u000BOn second thought, maybe later.\u0007When Wills Collide.\u0007Whispers of Dawn.\u0007Fork in the Road.\u0007Maiden of the Dusk(pt.1).\u0007Maiden of the Dusk(pt.2).\u0007Maiden of the Dusk(pt.3).\u0007Where It All Began(pt.1).\u0007Where It All Began(pt.2).\u0007Where It All Began(pt.3).\u0007Brace for the Unknown(pt.1).\u0007Brace for the Unknown(pt.2).\u0007Ad Infinitum.\u0007Champion of the Dawn(pt.1).\u0007Champion of the Dawn(pt.2).\u0007Champion of the Dawn(pt.3).\u0007Champion of the Dawn(pt.4).\u0007The Dawn Also Rises(pt.1).\u0007The Dawn Also Rises(pt.2).\u0007The Dawn Also Rises(pt.3).\u0007A Forbidden Reunion(pt.1).\u0007A Forbidden Reunion(pt.2).\u0007A Forbidden Reunion(pt.3).\u0007A Forbidden Reunion(pt.4).\u0007A Forbidden Reunion(pt.5).\u0007A Forbidden Reunion(pt.6).\u0007Sacrifice.\u0007Somber Dreams(pt.1).\u0007Somber Dreams(pt.2).\u0007Of Light and Darkness(pt.1).\u0007Of Light and Darkness(pt.2).\u0007Of Light and Darkness(pt.3).\u0007Of Light and Darkness(pt.4).\u007F1\u0000\u0007"
 34: 0x00BE [0x25] WAIT_DIALOG_SELECT()
 35: 0x00BF [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00E6
 36: 0x00C7 [0x03] Work_Zone[1] = 1073741824*
 37: 0x00CC [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[230*, 0*]
 38: 0x00DD [0x1D] PRINT_EVENT_MESSAGE(message_id=7804*)
    → "Oh......\u0007...outta here.........\u007F1\u0000\u0007"
 39: 0x00E0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x00E1 [0x21] END_EVENT
 41: 0x00E2 [0x00] END_REQSTACK()

SUBROUTINE_00F0:
 42: 0x00F0 [0x01] GOTO 0x01DB
 43: 0x00F3 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0137

SUBROUTINE_00FB:
 44: 0x00FB [0x24] CREATE_DIALOG(message_id=7807*, default_option=0*, option_flags=0x1003)
    → "What story would you like to be told?\u0007\u000BOn second thought, maybe later.\u0007What Remains of Hope(pt.1).\u0007What Remains of Hope(pt.2).\u0007What Remains of Hope(pt.3).\u007F1\u0000\u0007"
 45: 0x0102 [0x25] WAIT_DIALOG_SELECT()
 46: 0x0103 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x012A
 47: 0x010B [0x03] Work_Zone[1] = 1073741824*
 48: 0x0110 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[230*, 0*]
 49: 0x0121 [0x1D] PRINT_EVENT_MESSAGE(message_id=7804*)
    → "Oh......\u0007...outta here.........\u007F1\u0000\u0007"
 50: 0x0124 [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x0125 [0x21] END_EVENT
 52: 0x0126 [0x00] END_REQSTACK()

SUBROUTINE_0134:
 53: 0x0134 [0x01] GOTO 0x01DB
 54: 0x0137 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x017B

SUBROUTINE_013F:
 55: 0x013F [0x24] CREATE_DIALOG(message_id=7808*, default_option=0*, option_flags=0x1004)
    → "\u007F1\u0000\u0007"
 56: 0x0146 [0x25] WAIT_DIALOG_SELECT()
 57: 0x0147 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x016E
 58: 0x014F [0x03] Work_Zone[1] = 1073741824*
 59: 0x0154 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[230*, 0*]
 60: 0x0165 [0x1D] PRINT_EVENT_MESSAGE(message_id=7804*)
    → "Oh......\u0007...outta here.........\u007F1\u0000\u0007"
 61: 0x0168 [0x23] WAIT_FOR_DIALOG_INTERACTION
 62: 0x0169 [0x21] END_EVENT
 63: 0x016A [0x00] END_REQSTACK()

SUBROUTINE_0178:
 64: 0x0178 [0x01] GOTO 0x01DB
 65: 0x017B [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x01BF

SUBROUTINE_0183:
 66: 0x0183 [0x24] CREATE_DIALOG(message_id=7809*, default_option=0*, option_flags=0x1005)
    → "\u007F1\u0000\u0007"
 67: 0x018A [0x25] WAIT_DIALOG_SELECT()
 68: 0x018B [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x01B2
 69: 0x0193 [0x03] Work_Zone[1] = 1073741824*
 70: 0x0198 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[230*, 0*]
 71: 0x01A9 [0x1D] PRINT_EVENT_MESSAGE(message_id=7804*)
    → "Oh......\u0007...outta here.........\u007F1\u0000\u0007"
 72: 0x01AC [0x23] WAIT_FOR_DIALOG_INTERACTION
 73: 0x01AD [0x21] END_EVENT
 74: 0x01AE [0x00] END_REQSTACK()

SUBROUTINE_01BC:
 75: 0x01BC [0x01] GOTO 0x01DB
 76: 0x01BF [0x03] Work_Zone[1] = 1073741824*
 77: 0x01C4 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[230*, 0*]
 78: 0x01D5 [0x1D] PRINT_EVENT_MESSAGE(message_id=7804*)
    → "Oh......\u0007...outta here.........\u007F1\u0000\u0007"
 79: 0x01D8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 80: 0x01D9 [0x21] END_EVENT
 81: 0x01DA [0x00] END_REQSTACK()

SUBROUTINE_01DB:
 82: 0x01DB [0x1D] PRINT_EVENT_MESSAGE(message_id=7803*)
    → ".........listen......\u007F1\u0000\u0007"
 83: 0x01DE [0x23] WAIT_FOR_DIALOG_INTERACTION
 84: 0x01DF [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 85: 0x01E1 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 86: 0x01E3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 87: 0x01F4 [0x1C] WAIT(60* ticks)
 88: 0x01F7 [0x30] SET_UCOFF_CONTINUE_ZERO()
 89: 0x01F8 [0x21] END_EVENT
 90: 0x01F9 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x00E3 [0x01] GOTO 0x00F0
# Dead code (unreachable instructions):
     0x0127 [0x01] GOTO 0x0134
# Dead code (unreachable instructions):
     0x016B [0x01] GOTO 0x0178
# Dead code (unreachable instructions):
     0x01AF [0x01] GOTO 0x01BC
```