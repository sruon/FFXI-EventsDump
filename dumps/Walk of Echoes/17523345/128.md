# Event 128

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 9/9       |
| Offset          | 0x343D    |
| Data Size       | 421 bytes |
| Calculated Size | 421 bytes |
| Instructions    | 57        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
3430:                                         42 46 01               BF.
3440: 45 00 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 31 01  E..........fdo1.
3450: 80 55 00 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 31  .U..........fdo1
3460: 38 02 80 2F 00 58 62 0B  01 4E 00 58 62 0B 01 4E  8../.Xb..N.Xb..N
3470: 00 79 62 0B 01 80 58 62  0B 01 80 79 62 0B 01 92  .yb...Xb...yb...
3480: 01 79 62 0B 01 92 01 58  62 0B 01 29 08 F0 FF FF  .yb....Xb..)....
3490: 7F 49 29 08 58 62 0B 01  3B 4A 58 62 0B 01 F0 FF  .I).Xb..;JXb....
34A0: FF 7F 4A F0 FF FF 7F 58  62 0B 01 6F 76 F0 FF FF  ..J....Xb..ov...
34B0: 7F 6F 76 58 62 0B 01 29  08 58 62 0B 01 43 BB 7B  .ovXb..).Xb..C.{
34C0: 80 58 62 0B 01 58 62 0B  01 73 74 30 32 01 80 45  .Xb..Xb..st02..E
34D0: 6F 80 F0 FF FF 7F F0 FF  FF 7F 73 30 30 30 01 80  o.........s000..
34E0: 45 00 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 31 01  E..........fdi1.
34F0: 80 55 00 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 31  .U..........fdi1
3500: 1C 00 80 52 6F 80 F0 FF  FF 7F F0 FF FF 7F 73 30  ...Ro.........s0
3510: 30 30 45 6F 80 F0 FF FF  7F F0 FF FF 7F 73 30 30  00Eo.........s00
3520: 31 01 80 29 08 58 62 0B  01 85 2B 58 62 0B 01 C0  1..).Xb...+Xb...
3530: 80 23 29 08 58 62 0B 01  86 29 08 58 62 0B 01 87  .#).Xb...).Xb...
3540: 2B 58 62 0B 01 C2 80 23  29 08 58 62 0B 01 88 52  +Xb....#).Xb...R
3550: 6F 80 F0 FF FF 7F F0 FF  FF 7F 73 30 30 31 45 6F  o.........s001Eo
3560: 80 F0 FF FF 7F F0 FF FF  7F 73 30 30 32 01 80 29  .........s002..)
3570: 08 58 62 0B 01 69 2B 58  62 0B 01 C3 80 23 6E F0  .Xb..i+Xb....#n.
3580: FF FF 7F 1B 80 99 F0 FF  FF 7F 1C 41 80 45 00 80  ...........A.E..
3590: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 01 80 55 00  ........fdo1..U.
35A0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 1C 07 80  .........fdo1...
35B0: 52 6F 80 F0 FF FF 7F F0  FF FF 7F 73 30 30 31 1C  Ro.........s001.
35C0: 42 80 AB 11 01 80 1C 0D  80 AB 0A 46 00 45 00 80  B..........F.E..
35D0: F0 FF FF 7F F0 FF FF 7F  66 64 69 32 01 80 20 00  ........fdi2.. .
35E0: 21 00                                             !.              
```

## Opcodes

```
  0: 0x343D [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x343E [0x46] CAMERA_CONTROL: Disable user control
  2: 0x3440 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
  3: 0x3451 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
  4: 0x3460 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x3463 [0x2F] Cait Sith (ID: 17523288/0x010B6258)->Render.Flags0 &= ~0x80000 // Bit 19
  6: 0x3469 [0x4E] SET_ENTITY_HIDE_FLAG: Show Cait Sith (ID: 17523288/0x010B6258)
  7: 0x346F [0x4E] SET_ENTITY_HIDE_FLAG: Show Regal Pawprints (ID: 17523321/0x010B6279)
  8: 0x3475 [0x80] LOAD_WAIT(entity=Cait Sith (ID: 17523288/0x010B6258))
  9: 0x347A [0x80] LOAD_WAIT(entity=Regal Pawprints (ID: 17523321/0x010B6279))
 10: 0x347F [0x92] Regal Pawprints (ID: 17523321/0x010B6279)->Render.Flags3 ^= 0x01
 11: 0x3485 [0x92] Cait Sith (ID: 17523288/0x010B6258)->Render.Flags3 ^= 0x01
 12: 0x348B [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x49)
 13: 0x3492 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Cait Sith (ID: 17523288/0x010B6258), tag_num=0x3B)
 14: 0x3499 [0x4A] Cait Sith (ID: 17523288/0x010B6258) looks at LocalPlayer
 15: 0x34A2 [0x4A] LocalPlayer looks at Cait Sith (ID: 17523288/0x010B6258)
 16: 0x34AB [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 17: 0x34AC [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 18: 0x34B1 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 19: 0x34B2 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Cait Sith (ID: 17523288/0x010B6258) Render.Flags0 and Render.Flags3 conditions are met
 20: 0x34B7 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Cait Sith (ID: 17523288/0x010B6258), tag_num=0x43)
 21: 0x34BE [0xBB] LOAD_EVENT_SCHEDULER_ALT: Load scheduler "st02" with entities [Cait Sith (ID: 17523288/0x010B6258), Cait Sith (ID: 17523288/0x010B6258)], work=[155*, 0*]
 22: 0x34CF [0x45] LOAD_SCHEDULED_TASK(work_offset1=698*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s000", work_offset2=0*)
 23: 0x34E0 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 24: 0x34F1 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1")
 25: 0x3500 [0x1C] WAIT(200* ticks)
 26: 0x3503 [0x52] END_LOAD_SCHEDULER: End scheduler "s000" with entities [LocalPlayer, LocalPlayer], work=698*
 27: 0x3512 [0x45] LOAD_SCHEDULED_TASK(work_offset1=698*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s001", work_offset2=0*)
 28: 0x3523 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Cait Sith (ID: 17523288/0x010B6258), tag_num=0x85)
 29: 0x352A [0x2B] Cait Sith (ID: 17523288/0x010B6258) [8249*]:
    → "The bonds between you are unseverable. Of that I can be certain.\u007F1\u0000\u0007"
 30: 0x3531 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x3532 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Cait Sith (ID: 17523288/0x010B6258), tag_num=0x86)
 32: 0x3539 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Cait Sith (ID: 17523288/0x010B6258), tag_num=0x87)
 33: 0x3540 [0x2B] Cait Sith (ID: 17523288/0x010B6258) [8251*]:
    → "No matter the physical distance between you, you'll always serve as the Goddess's wings, your hearts and thoughts united as one.\u007F1\u0000\u0007"
 34: 0x3547 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x3548 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Cait Sith (ID: 17523288/0x010B6258), tag_num=0x88)
 36: 0x354F [0x52] END_LOAD_SCHEDULER: End scheduler "s001" with entities [LocalPlayer, LocalPlayer], work=698*
 37: 0x355E [0x45] LOAD_SCHEDULED_TASK(work_offset1=698*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s002", work_offset2=0*)
 38: 0x356F [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Cait Sith (ID: 17523288/0x010B6258), tag_num=0x69)
 39: 0x3576 [0x2B] Cait Sith (ID: 17523288/0x010B6258) [8252*]:
    → "Never forget that.\u0007Ever.\u007F1\u0000\u0007"
 40: 0x357D [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x357E [0x6E] LocalPlayer uses emote 7*
 42: 0x3585 [0x99] Wait for LocalPlayer animation to complete
 43: 0x358A [0x1C] WAIT(120* ticks)
 44: 0x358D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 45: 0x359E [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
 46: 0x35AD [0x1C] WAIT(30* ticks)
 47: 0x35B0 [0x52] END_LOAD_SCHEDULER: End scheduler "s001" with entities [LocalPlayer, LocalPlayer], work=698*
 48: 0x35BF [0x1C] WAIT(15* ticks)
 49: 0x35C2 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 50: 0x35C6 [0x1C] WAIT(1* ticks)
 51: 0x35C9 [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 52: 0x35CB [0x46] CAMERA_CONTROL: Restore default settings
 53: 0x35CD [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 54: 0x35DE [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 55: 0x35E0 [0x21] END_EVENT
 56: 0x35E1 [0x00] END_REQSTACK()
```
