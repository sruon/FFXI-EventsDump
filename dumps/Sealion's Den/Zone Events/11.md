# Event 11

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 10/33     |
| Offset          | 0x1D6D    |
| Data Size       | 500 bytes |
| Calculated Size | 500 bytes |
| Instructions    | 38        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1D60:                                         1A F6 1D               ...
1D70: 21 00 45 0E 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  !.E..........fdi
1D80: 30 00 80 55 0E 80 F0 FF  FF 7F F0 FF FF 7F 66 64  0..U..........fd
1D90: 69 30 1B 45 0E 80 F0 FF  FF 7F F0 FF FF 7F 66 64  i0.E..........fd
1DA0: 6F 30 00 80 55 0E 80 F0  FF FF 7F F0 FF FF 7F 66  o0..U..........f
1DB0: 64 6F 30 1B 45 0E 80 F0  FF FF 7F F0 FF FF 7F 66  do0.E..........f
1DC0: 64 69 31 00 80 55 0E 80  F0 FF FF 7F F0 FF FF 7F  di1..U..........
1DD0: 66 64 69 31 1B 45 0E 80  F0 FF FF 7F F0 FF FF 7F  fdi1.E..........
1DE0: 66 64 6F 31 00 80 55 0E  80 F0 FF FF 7F F0 FF FF  fdo1..U.........
1DF0: 7F 66 64 6F 31 1B 03 2B  00 02 10 20 01 42 94 01  .fdo1..+... .B..
1E00: F0 FF FF 7F 38 05 80 1C  60 80 62 05 80 F0 FF FF  ....8...`.b.....
1E10: 7F F0 FF FF 7F 6D 61 69  6E 00 80 1C BD 80 45 0E  .....main.....E.
1E20: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 32 00 80 55  .........fdo2..U
1E30: 0E 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 32 02 2B  ..........fdo2.+
1E40: 00 05 80 80 7C 1E 2D F8  FF FF 7F F8 FF FF 7F 30  ....|.-........0
1E50: 31 6F 6E 2D F8 FF FF 7F  F8 FF FF 7F 32 65 6E 64  1on-........2end
1E60: 2D F8 FF FF 7F F8 FF FF  7F 33 65 6E 64 47 00 A5  -........3endG..
1E70: 80 A6 80 A7 80 A8 80 47  01 01 F8 1E 02 2B 00 09  .......G.....+..
1E80: 80 80 BA 1E 2D F8 FF FF  7F F8 FF FF 7F 31 65 6E  ....-........1en
1E90: 64 2D F8 FF FF 7F F8 FF  FF 7F 30 32 6F 6E 2D F8  d-........02on-.
1EA0: FF FF 7F F8 FF FF 7F 33  65 6E 64 47 00 A9 80 AA  .......3endG....
1EB0: 80 AB 80 A8 80 47 01 01  F8 1E 02 2B 00 0A 80 80  .....G.....+....
1EC0: F8 1E 2D F8 FF FF 7F F8  FF FF 7F 31 65 6E 64 2D  ..-........1end-
1ED0: F8 FF FF 7F F8 FF FF 7F  32 65 6E 64 2D F8 FF FF  ........2end-...
1EE0: 7F F8 FF FF 7F 30 33 6F  6E 47 00 AC 80 AD 80 AE  .....03onG......
1EF0: 80 A8 80 47 01 01 F8 1E  62 09 80 F0 FF FF 7F F0  ...G....b.......
1F00: FF FF 7F 6D 61 69 6E 00  80 46 00 45 0E 80 F0 FF  ...main..F.E....
1F10: FF 7F F0 FF FF 7F 66 64  69 32 00 80 1B 3B F8 FF  ......fdi2...;..
1F20: FF 7F 2D 00 2E 00 2F 00  3A F8 FF FF 7F 30 00 17  ..-.../.:....0..
1F30: 31 00 30 00 2C 00 16 32  00 30 00 2C 00 07 2D 00  1.0.,..2.0.,..-.
1F40: 31 00 07 2E 00 32 00 1B  17 31 00 30 00 2C 00 16  1....2...1.0.,..
1F50: 32 00 30 00 2C 00 07 2D  00 31 00 07 2E 00 32 00  2.0.,..-.1....2.
1F60: 1B                                                .               
```

## Opcodes

```
  0: 0x1D6D [0x1A] CALL_SUBROUTINE(address=0x1DF6)
  1: 0x1D70 [0x21] END_EVENT
  2: 0x1D71 [0x00] END_REQSTACK()

SUBROUTINE_1DF6:
  3: 0x1DF6 [0x03] ExtData[1]->WorkLocal[43] = Work_Zone[2]
  4: 0x1DFB [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  5: 0x1DFD [0x42] SET_CLI_EVENT_CANCEL_DATA()
  6: 0x1DFE [0x94] LocalPlayer->Render.Flags3 ^= 0x01
  7: 0x1E04 [0x38] SET_CLIENT_EVENT_MODE(mode=1*)
  8: 0x1E07 [0x1C] WAIT(300* ticks)
  9: 0x1E0A [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[1*, 0*]
 10: 0x1E1B [0x1C] WAIT(120* ticks)
 11: 0x1E1E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 12: 0x1E2F [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=200*
 13: 0x1E3E [0x02] IF !(ExtData[1]->WorkLocal[43] == 1*) GOTO 0x1E7C
 14: 0x1E46 [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "01on" with entities [EventEntity, EventEntity]
 15: 0x1E53 [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "2end" with entities [EventEntity, EventEntity]
 16: 0x1E60 [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "3end" with entities [EventEntity, EventEntity]
 17: 0x1E6D [0x47] UPDATE_PLAYER_POS(-780.010*, -86.327*, -103.347*, yaw=270.0°*)
 18: 0x1E77 [0x47] WAIT_PLAYER_POS_UPDATE
 19: 0x1E79 [0x01] GOTO 0x1EF8
 20: 0x1E7C [0x02] IF !(ExtData[1]->WorkLocal[43] == 2*) GOTO 0x1EBA
 21: 0x1E84 [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "1end" with entities [EventEntity, EventEntity]
 22: 0x1E91 [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "02on" with entities [EventEntity, EventEntity]
 23: 0x1E9E [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "3end" with entities [EventEntity, EventEntity]
 24: 0x1EAB [0x47] UPDATE_PLAYER_POS(-140.029*, -446.376*, -23.347*, yaw=270.0°*)
 25: 0x1EB5 [0x47] WAIT_PLAYER_POS_UPDATE
 26: 0x1EB7 [0x01] GOTO 0x1EF8
 27: 0x1EBA [0x02] IF !(ExtData[1]->WorkLocal[43] == 3*) GOTO 0x1EF8
 28: 0x1EC2 [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "1end" with entities [EventEntity, EventEntity]
 29: 0x1ECF [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "2end" with entities [EventEntity, EventEntity]
 30: 0x1EDC [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "03on" with entities [EventEntity, EventEntity]
 31: 0x1EE9 [0x47] UPDATE_PLAYER_POS(499.947*, -806.300*, 56.652*, yaw=270.0°*)
 32: 0x1EF3 [0x47] WAIT_PLAYER_POS_UPDATE
 33: 0x1EF5 [0x01] GOTO 0x1EF8

SUBROUTINE_1EF8:
 34: 0x1EF8 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[2*, 0*]
 35: 0x1F09 [0x46] CAMERA_CONTROL: Restore default settings
 36: 0x1F0B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 37: 0x1F1C [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x1D72 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1D83 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x1D92 [0x1B] RETURN
     0x1D93 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1DA4 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x1DB3 [0x1B] RETURN
     0x1DB4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1DC5 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x1DD4 [0x1B] RETURN
     0x1DD5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1DE6 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x1DF5 [0x1B] RETURN
# Dead code (unreachable instructions):
     0x1F1D [0x3B] GET_ENTITY_POSITION(entity=EventEntity, x_destination=ExtData[1]->WorkLocal[45], y_destination=ExtData[1]->WorkLocal[46], z_destination=ExtData[1]->WorkLocal[47])
     0x1F28 [0x3A] CONVERT_YAW_TO_BYTE(entity=EventEntity, result_destination=ExtData[1]->WorkLocal[48])
     0x1F2F [0x17] ExtData[1]->WorkLocal[49] = cos(ExtData[1]->WorkLocal[48]) * ExtData[1]->WorkLocal[44]
     0x1F36 [0x16] ExtData[1]->WorkLocal[50] = sin(ExtData[1]->WorkLocal[48]) * ExtData[1]->WorkLocal[44]
     0x1F3D [0x07] ExtData[1]->WorkLocal[45] += ExtData[1]->WorkLocal[49]
     0x1F42 [0x07] ExtData[1]->WorkLocal[46] += ExtData[1]->WorkLocal[50]
     0x1F47 [0x1B] RETURN
     0x1F48 [0x17] ExtData[1]->WorkLocal[49] = cos(ExtData[1]->WorkLocal[48]) * ExtData[1]->WorkLocal[44]
     0x1F4F [0x16] ExtData[1]->WorkLocal[50] = sin(ExtData[1]->WorkLocal[48]) * ExtData[1]->WorkLocal[44]
     0x1F56 [0x07] ExtData[1]->WorkLocal[45] += ExtData[1]->WorkLocal[49]
     0x1F5B [0x07] ExtData[1]->WorkLocal[46] += ExtData[1]->WorkLocal[50]
     0x1F60 [0x1B] RETURN
```