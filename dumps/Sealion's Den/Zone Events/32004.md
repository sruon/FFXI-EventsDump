# Event 32004

## Metadata

| Field           | Value      |
|-----------------|------------|
| Event Index     | 7/33       |
| Offset          | 0x1086     |
| Data Size       | 1047 bytes |
| Calculated Size | 1047 bytes |
| Instructions    | 128        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1080:                   03 22  00 02 10 03 23 00 03 10        ."....#...
1090: 03 1F 00 04 10 03 24 00  05 10 02 1F 00 0A 80 80  ......$.........
10A0: AF 10 1A 93 1D 1A CC 12  1A F5 11 21 01 AF 10 21  ...........!...!
10B0: 00 20 01 46 01 42 94 01  F0 FF FF 7F 38 0F 80 5C  . .F.B......8..\
10C0: 00 33 80 5C 01 33 80 1A  62 31 37 90 80 91 80 92  .3.\.3..b17.....
10D0: 80 93 80 4E 00 9E 00 02  01 29 10 9E 00 02 01 02  ...N.....)......
10E0: 80 9E 00 02 01 1A A8 31  45 94 80 F0 FF FF 7F F0  .......1E.......
10F0: FF FF 7F 73 30 36 31 00  80 29 03 9E 00 02 01 03  ...s061..)......
1100: 27 03 9E 00 02 01 04 1C  05 80 45 0E 80 F0 FF FF  '.........E.....
1110: 7F F0 FF FF 7F 62 6C 6F  6E 00 80 45 95 80 F0 FF  .....blon..E....
1120: FF 7F F0 FF FF 7F 7A 30  30 33 00 80 45 0E 80 F0  ......z003..E...
1130: FF FF 7F F0 FF FF 7F 66  64 69 31 00 80 55 95 80  .......fdi1..U..
1140: F0 FF FF 7F F0 FF FF 7F  7A 30 30 33 45 94 80 F0  ........z003E...
1150: FF FF 7F F0 FF FF 7F 73  30 36 36 00 80 45 03 80  .......s066..E..
1160: F0 FF FF 7F F0 FF FF 7F  76 62 6F 6E 00 80 2A 03  ........vbon..*.
1170: 9E 00 02 01 1C 2E 80 45  03 80 F0 FF FF 7F F0 FF  .......E........
1180: FF 7F 76 62 6F 66 00 80  45 0E 80 F0 FF FF 7F F0  ..vbof..E.......
1190: FF FF 7F 66 64 6F 32 00  80 55 0E 80 F0 FF FF 7F  ...fdo2..U......
11A0: F0 FF FF 7F 66 64 6F 32  52 95 80 F0 FF FF 7F F0  ....fdo2R.......
11B0: FF FF 7F 7A 30 36 36 45  0E 80 F0 FF FF 7F F0 FF  ...z066E........
11C0: FF 7F 62 6C 6F 66 00 80  1A A8 31 02 33 00 05 80  ..blof....1.3...
11D0: 00 DB 11 5C 00 36 80 5C  01 36 80 4E 01 9E 00 02  ...\.6.\.6.N....
11E0: 01 46 00 45 0E 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .F.E..........fd
11F0: 69 32 00 80 1B 20 01 46  01 42 38 0F 80 4E 00 9D  i2... .F.B8..N..
1200: 00 02 01 29 10 9D 00 02  01 02 80 9D 00 02 01 33  ...)...........3
1210: 01 6B 69 64 6C 30 9D 00  02 01 45 96 80 F0 FF FF  .kidl0....E.....
1220: 7F F0 FF FF 7F 76 30 31  37 00 80 45 0E 80 F0 FF  .....v017..E....
1230: FF 7F F0 FF FF 7F 66 64  69 31 00 80 55 0E 80 F0  ......fdi1..U...
1240: FF FF 7F F0 FF FF 7F 66  64 69 31 45 0E 80 F0 FF  .......fdi1E....
1250: FF 7F F0 FF FF 7F 62 6C  6F 6E 00 80 1C 97 80 45  ......blon.....E
1260: 0E 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 32 00 80  ..........fdo2..
1270: 55 0E 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 32 52  U..........fdo2R
1280: 96 80 F0 FF FF 7F F0 FF  FF 7F 76 30 31 37 45 0E  ..........v017E.
1290: 80 F0 FF FF 7F F0 FF FF  7F 62 6C 6F 66 00 80 1A  .........blof...
12A0: A8 31 02 33 00 05 80 00  B2 12 5C 00 36 80 5C 01  .1.3......\.6.\.
12B0: 36 80 4E 01 9D 00 02 01  46 00 45 0E 80 F0 FF FF  6.N.....F.E.....
12C0: 7F F0 FF FF 7F 66 64 69  32 00 80 1B 02 24 00 00  .....fdi2....$..
12D0: 80 00 9C 14 03 03 00 1F  00 03 00 00 22 00 1A B3  ............"...
12E0: 1B 03 25 00 09 00 03 26  00 0B 00 03 27 00 0A 00  ..%....&....'...
12F0: 03 28 00 0C 00 02 22 00  05 80 80 7E 13 02 23 00  .(...."....~..#.
1300: 00 80 80 12 13 07 25 00  00 80 07 27 00 00 80 01  ......%....'....
1310: 7B 13 02 23 00 05 80 80  27 13 07 25 00 98 80 07  {..#....'..%....
1320: 27 00 00 80 01 7B 13 02  23 00 09 80 80 3C 13 07  '....{..#....<..
1330: 25 00 99 80 07 27 00 00  80 01 7B 13 02 23 00 0A  %....'....{..#..
1340: 80 80 51 13 07 25 00 99  80 07 27 00 00 80 01 7B  ..Q..%....'....{
1350: 13 02 23 00 0B 80 80 66  13 07 25 00 99 80 07 27  ..#....f..%....'
1360: 00 98 80 01 7B 13 02 23  00 08 80 80 7B 13 07 25  ....{..#....{..%
1370: 00 99 80 07 27 00 99 80  01 7B 13 01 90 14 02 22  ....'....{....."
1380: 00 09 80 80 07 14 02 23  00 00 80 80 9B 13 07 25  .......#.......%
1390: 00 00 80 07 27 00 00 80  01 04 14 02 23 00 05 80  ....'.......#...
13A0: 80 B0 13 07 25 00 98 80  07 27 00 00 80 01 04 14  ....%....'......
13B0: 02 23 00 09 80 80 C5 13  07 25 00 99 80 07 27 00  .#.......%....'.
13C0: 00 80 01 04 14 02 23 00  0A 80 80 DA 13 07 25 00  ......#.......%.
13D0: 99 80 07 27 00 00 80 01  04 14 02 23 00 0B 80 80  ...'.......#....
13E0: EF 13 07 25 00 99 80 07  27 00 98 80 01 04 14 02  ...%....'.......
13F0: 23 00 08 80 80 04 14 07  25 00 99 80 07 27 00 99  #.......%....'..
1400: 80 01 04 14 01 90 14 02  22 00 0A 80 80 90 14 02  ........".......
1410: 23 00 00 80 80 24 14 07  25 00 00 80 07 27 00 00  #....$..%....'..
1420: 80 01 8D 14 02 23 00 05  80 80 39 14 07 25 00 98  .....#....9..%..
1430: 80 07 27 00 00 80 01 8D  14 02 23 00 09 80 80 4E  ..'.......#....N
1440: 14 07 25 00 99 80 07 27  00 00 80 01 8D 14 02 23  ..%....'.......#
1450: 00 0A 80 80 63 14 07 25  00 99 80 07 27 00 00 80  ....c..%....'...
1460: 01 8D 14 02 23 00 0B 80  80 78 14 07 25 00 99 80  ....#....x..%...
1470: 07 27 00 98 80 01 8D 14  02 23 00 08 80 80 8D 14  .'.......#......
1480: 07 25 00 99 80 07 27 00  99 80 01 8D 14 01 90 14  .%....'.........
1490: 47 00 25 00 27 00 26 00  28 00 47 01 1B           G.%.'.&.(.G..   
```

## Opcodes

```
  0: 0x1086 [0x03] ExtData[1]->WorkLocal[34] = Work_Zone[2]
  1: 0x108B [0x03] ExtData[1]->WorkLocal[35] = Work_Zone[3]
  2: 0x1090 [0x03] ExtData[1]->WorkLocal[31] = Work_Zone[4]
  3: 0x1095 [0x03] ExtData[1]->WorkLocal[36] = Work_Zone[5]
  4: 0x109A [0x02] IF !(ExtData[1]->WorkLocal[31] == 3*) GOTO 0x10AF
  5: 0x10A2 [0x1A] CALL_SUBROUTINE(address=0x1D93)
  6: 0x10A5 [0x1A] CALL_SUBROUTINE(address=0x12CC)
  7: 0x10A8 [0x1A] CALL_SUBROUTINE(address=0x11F5)
  8: 0x10AB [0x21] END_EVENT

SUBROUTINE_10AF:
  9: 0x10AF [0x21] END_EVENT
 10: 0x10B0 [0x00] END_REQSTACK()

 11: 0x11F5 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
 12: 0x11F7 [0x46] CAMERA_CONTROL: Disable user control
 13: 0x11F9 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 14: 0x11FA [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 15: 0x11FD [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 16908445/0x0102009D)
 16: 0x1203 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 16908445/0x0102009D), tag_num=0x02)
 17: 0x120A [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 16908445/0x0102009D))
 18: 0x120F [0x33] EventEntity->Render.Flags0 |= 0x200000 // Bit 21 (flag=0x01)
 19: 0x1211 [0x6B] STOP_AND_IDLE: Unnamed NPC (ID: 16908445/0x0102009D) stops current action and resets to idle (animation="idl0")
 20: 0x121A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "v017" with entities [LocalPlayer, LocalPlayer], work=[72*, 0*]
 21: 0x122B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 22: 0x123C [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
 23: 0x124B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 24: 0x125C [0x1C] WAIT(150* ticks)
 25: 0x125F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 26: 0x1270 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=200*
 27: 0x127F [0x52] END_LOAD_SCHEDULER: End scheduler "v017" with entities [LocalPlayer, LocalPlayer], work=72*
 28: 0x128E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 29: 0x129F [0x1A] CALL_SUBROUTINE(address=0x31A8)
 30: 0x12A2 [0x02] IF !(ExtData[1]->WorkLocal[51] == 1*) GOTO 0x12B2
 31: 0x12AA [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 245*
 32: 0x12AE [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 245*
 33: 0x12B2 [0x4E] SET_ENTITY_HIDE_FLAG: Hide Unnamed NPC (ID: 16908445/0x0102009D)
 34: 0x12B8 [0x46] CAMERA_CONTROL: Restore default settings
 35: 0x12BA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 36: 0x12CB [0x1B] RETURN

SUBROUTINE_12CC:
 37: 0x12CC [0x02] IF !(ExtData[1]->WorkLocal[36] == 0*) GOTO 0x149C
 38: 0x12D4 [0x03] ExtData[1]->WorkLocal[3] = ExtData[1]->WorkLocal[31]
 39: 0x12D9 [0x03] ExtData[1]->WorkLocal[0] = ExtData[1]->WorkLocal[34]
 40: 0x12DE [0x1A] CALL_SUBROUTINE(address=0x1BB3)
 41: 0x12E1 [0x03] ExtData[1]->WorkLocal[37] = ExtData[1]->WorkLocal[9]
 42: 0x12E6 [0x03] ExtData[1]->WorkLocal[38] = ExtData[1]->WorkLocal[11]
 43: 0x12EB [0x03] ExtData[1]->WorkLocal[39] = ExtData[1]->WorkLocal[10]
 44: 0x12F0 [0x03] ExtData[1]->WorkLocal[40] = ExtData[1]->WorkLocal[12]
 45: 0x12F5 [0x02] IF !(ExtData[1]->WorkLocal[34] == 1*) GOTO 0x137E
 46: 0x12FD [0x02] IF !(ExtData[1]->WorkLocal[35] == 0*) GOTO 0x1312
 47: 0x1305 [0x07] ExtData[1]->WorkLocal[37] += 0*
 48: 0x130A [0x07] ExtData[1]->WorkLocal[39] += 0*
 49: 0x130F [0x01] GOTO 0x137B

SUBROUTINE_1312:
 50: 0x1312 [0x02] IF !(ExtData[1]->WorkLocal[35] == 1*) GOTO 0x1327
 51: 0x131A [0x07] ExtData[1]->WorkLocal[37] += 1000*
 52: 0x131F [0x07] ExtData[1]->WorkLocal[39] += 0*
 53: 0x1324 [0x01] GOTO 0x137B

SUBROUTINE_1327:
 54: 0x1327 [0x02] IF !(ExtData[1]->WorkLocal[35] == 2*) GOTO 0x133C
 55: 0x132F [0x07] ExtData[1]->WorkLocal[37] += 4294966296*
 56: 0x1334 [0x07] ExtData[1]->WorkLocal[39] += 0*
 57: 0x1339 [0x01] GOTO 0x137B

SUBROUTINE_133C:
 58: 0x133C [0x02] IF !(ExtData[1]->WorkLocal[35] == 3*) GOTO 0x1351
 59: 0x1344 [0x07] ExtData[1]->WorkLocal[37] += 4294966296*
 60: 0x1349 [0x07] ExtData[1]->WorkLocal[39] += 0*
 61: 0x134E [0x01] GOTO 0x137B

SUBROUTINE_1351:
 62: 0x1351 [0x02] IF !(ExtData[1]->WorkLocal[35] == 4*) GOTO 0x1366
 63: 0x1359 [0x07] ExtData[1]->WorkLocal[37] += 4294966296*
 64: 0x135E [0x07] ExtData[1]->WorkLocal[39] += 1000*
 65: 0x1363 [0x01] GOTO 0x137B

SUBROUTINE_1366:
 66: 0x1366 [0x02] IF !(ExtData[1]->WorkLocal[35] == 5*) GOTO 0x137B
 67: 0x136E [0x07] ExtData[1]->WorkLocal[37] += 4294966296*
 68: 0x1373 [0x07] ExtData[1]->WorkLocal[39] += 4294966296*
 69: 0x1378 [0x01] GOTO 0x137B

SUBROUTINE_137B:
 70: 0x137B [0x01] GOTO 0x1490

SUBROUTINE_137E:
 71: 0x137E [0x02] IF !(ExtData[1]->WorkLocal[34] == 2*) GOTO 0x1407
 72: 0x1386 [0x02] IF !(ExtData[1]->WorkLocal[35] == 0*) GOTO 0x139B
 73: 0x138E [0x07] ExtData[1]->WorkLocal[37] += 0*
 74: 0x1393 [0x07] ExtData[1]->WorkLocal[39] += 0*
 75: 0x1398 [0x01] GOTO 0x1404

SUBROUTINE_139B:
 76: 0x139B [0x02] IF !(ExtData[1]->WorkLocal[35] == 1*) GOTO 0x13B0
 77: 0x13A3 [0x07] ExtData[1]->WorkLocal[37] += 1000*
 78: 0x13A8 [0x07] ExtData[1]->WorkLocal[39] += 0*
 79: 0x13AD [0x01] GOTO 0x1404

SUBROUTINE_13B0:
 80: 0x13B0 [0x02] IF !(ExtData[1]->WorkLocal[35] == 2*) GOTO 0x13C5
 81: 0x13B8 [0x07] ExtData[1]->WorkLocal[37] += 4294966296*
 82: 0x13BD [0x07] ExtData[1]->WorkLocal[39] += 0*
 83: 0x13C2 [0x01] GOTO 0x1404

SUBROUTINE_13C5:
 84: 0x13C5 [0x02] IF !(ExtData[1]->WorkLocal[35] == 3*) GOTO 0x13DA
 85: 0x13CD [0x07] ExtData[1]->WorkLocal[37] += 4294966296*
 86: 0x13D2 [0x07] ExtData[1]->WorkLocal[39] += 0*
 87: 0x13D7 [0x01] GOTO 0x1404

SUBROUTINE_13DA:
 88: 0x13DA [0x02] IF !(ExtData[1]->WorkLocal[35] == 4*) GOTO 0x13EF
 89: 0x13E2 [0x07] ExtData[1]->WorkLocal[37] += 4294966296*
 90: 0x13E7 [0x07] ExtData[1]->WorkLocal[39] += 1000*
 91: 0x13EC [0x01] GOTO 0x1404

SUBROUTINE_13EF:
 92: 0x13EF [0x02] IF !(ExtData[1]->WorkLocal[35] == 5*) GOTO 0x1404
 93: 0x13F7 [0x07] ExtData[1]->WorkLocal[37] += 4294966296*
 94: 0x13FC [0x07] ExtData[1]->WorkLocal[39] += 4294966296*
 95: 0x1401 [0x01] GOTO 0x1404

SUBROUTINE_1404:
 96: 0x1404 [0x01] GOTO 0x1490

SUBROUTINE_1407:
 97: 0x1407 [0x02] IF !(ExtData[1]->WorkLocal[34] == 3*) GOTO 0x1490
 98: 0x140F [0x02] IF !(ExtData[1]->WorkLocal[35] == 0*) GOTO 0x1424
 99: 0x1417 [0x07] ExtData[1]->WorkLocal[37] += 0*
100: 0x141C [0x07] ExtData[1]->WorkLocal[39] += 0*
101: 0x1421 [0x01] GOTO 0x148D

SUBROUTINE_1424:
102: 0x1424 [0x02] IF !(ExtData[1]->WorkLocal[35] == 1*) GOTO 0x1439
103: 0x142C [0x07] ExtData[1]->WorkLocal[37] += 1000*
104: 0x1431 [0x07] ExtData[1]->WorkLocal[39] += 0*
105: 0x1436 [0x01] GOTO 0x148D

SUBROUTINE_1439:
106: 0x1439 [0x02] IF !(ExtData[1]->WorkLocal[35] == 2*) GOTO 0x144E
107: 0x1441 [0x07] ExtData[1]->WorkLocal[37] += 4294966296*
108: 0x1446 [0x07] ExtData[1]->WorkLocal[39] += 0*
109: 0x144B [0x01] GOTO 0x148D

SUBROUTINE_144E:
110: 0x144E [0x02] IF !(ExtData[1]->WorkLocal[35] == 3*) GOTO 0x1463
111: 0x1456 [0x07] ExtData[1]->WorkLocal[37] += 4294966296*
112: 0x145B [0x07] ExtData[1]->WorkLocal[39] += 0*
113: 0x1460 [0x01] GOTO 0x148D

SUBROUTINE_1463:
114: 0x1463 [0x02] IF !(ExtData[1]->WorkLocal[35] == 4*) GOTO 0x1478
115: 0x146B [0x07] ExtData[1]->WorkLocal[37] += 4294966296*
116: 0x1470 [0x07] ExtData[1]->WorkLocal[39] += 1000*
117: 0x1475 [0x01] GOTO 0x148D

SUBROUTINE_1478:
118: 0x1478 [0x02] IF !(ExtData[1]->WorkLocal[35] == 5*) GOTO 0x148D
119: 0x1480 [0x07] ExtData[1]->WorkLocal[37] += 4294966296*
120: 0x1485 [0x07] ExtData[1]->WorkLocal[39] += 4294966296*
121: 0x148A [0x01] GOTO 0x148D

SUBROUTINE_148D:
122: 0x148D [0x01] GOTO 0x1490

SUBROUTINE_1490:
123: 0x1490 [0x47] UPDATE_PLAYER_POS(ExtData[1]->WorkLocal[37], ExtData[1]->WorkLocal[39], ExtData[1]->WorkLocal[38], yaw=ExtData[1]->WorkLocal[40])
124: 0x149A [0x47] WAIT_PLAYER_POS_UPDATE
125: 0x149C [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x10AC [0x01] GOTO 0x10AF
# Data Section: 0x10B1 (324 bytes)
     0x10B1: 20 01 46 01 42 94 01 F0 FF FF 7F 38 0F 80 5C 00
     0x10C1: 33 80 5C 01 33 80 1A 62 31 37 90 80 91 80 92 80
     0x10D1: 93 80 4E 00 9E 00 02 01 29 10 9E 00 02 01 02 80
     0x10E1: 9E 00 02 01 1A A8 31 45 94 80 F0 FF FF 7F F0 FF
     0x10F1: FF 7F 73 30 36 31 00 80 29 03 9E 00 02 01 03 27
     0x1101: 03 9E 00 02 01 04 1C 05 80 45 0E 80 F0 FF FF 7F
     0x1111: F0 FF FF 7F 62 6C 6F 6E 00 80 45 95 80 F0 FF FF
     0x1121: 7F F0 FF FF 7F 7A 30 30 33 00 80 45 0E 80 F0 FF
     0x1131: FF 7F F0 FF FF 7F 66 64 69 31 00 80 55 95 80 F0
     0x1141: FF FF 7F F0 FF FF 7F 7A 30 30 33 45 94 80 F0 FF
     0x1151: FF 7F F0 FF FF 7F 73 30 36 36 00 80 45 03 80 F0
     0x1161: FF FF 7F F0 FF FF 7F 76 62 6F 6E 00 80 2A 03 9E
     0x1171: 00 02 01 1C 2E 80 45 03 80 F0 FF FF 7F F0 FF FF
     0x1181: 7F 76 62 6F 66 00 80 45 0E 80 F0 FF FF 7F F0 FF
     0x1191: FF 7F 66 64 6F 32 00 80 55 0E 80 F0 FF FF 7F F0
     0x11A1: FF FF 7F 66 64 6F 32 52 95 80 F0 FF FF 7F F0 FF
     0x11B1: FF 7F 7A 30 36 36 45 0E 80 F0 FF FF 7F F0 FF FF
     0x11C1: 7F 62 6C 6F 66 00 80 1A A8 31 02 33 00 05 80 00
     0x11D1: DB 11 5C 00 36 80 5C 01 36 80 4E 01 9E 00 02 01
     0x11E1: 46 00 45 0E 80 F0 FF FF 7F F0 FF FF 7F 66 64 69
     0x11F1: 32 00 80 1B
```