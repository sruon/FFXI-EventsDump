# Event 12

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/16      |
| Offset          | 0x00F9    |
| Data Size       | 627 bytes |
| Calculated Size | 627 bytes |
| Instructions    | 74        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00F0:                             20 01 03 00 00 03 10            ......
0100: 02 00 00 03 80 00 0B 01  01 2D 01 1E F0 FF FF 7F  .........-......
0110: 6F 70 1D 09 80 23 1D 0C  80 23 06 01 10 24 0D 80  op...#...#...$..
0120: 03 80 01 80 25 02 00 10  01 80 00 6A 03 42 46 01  ....%......j.BF.
0130: 5C 00 0E 80 5C 01 0E 80  45 00 80 F0 FF FF 7F F0  \...\...E.......
0140: FF FF 7F 66 64 6F 31 01  80 55 00 80 F0 FF FF 7F  ...fdo1..U......
0150: F0 FF FF 7F 66 64 6F 31  38 02 80 94 01 F0 FF FF  ....fdo18.......
0160: 7F 4E 01 F0 FF FF 7F 77  0F 80 03 80 4E 00 9F 00  .N.....w....N...
0170: 02 01 1C 10 80 29 03 9F  00 02 01 0F 27 03 9F 00  .....)......'...
0180: 02 01 14 97 01 80 03 80  2D F8 FF FF 7F F8 FF FF  ........-.......
0190: 7F 30 34 6F 6E 45 11 80  F0 FF FF 7F F0 FF FF 7F  .04onE..........
01A0: 72 30 30 30 01 80 1C 12  80 45 00 80 F0 FF FF 7F  r000.....E......
01B0: F0 FF FF 7F 66 64 69 31  01 80 55 00 80 F0 FF FF  ....fdi1..U.....
01C0: 7F F0 FF FF 7F 66 64 69  31 1C 13 80 45 00 80 F0  .....fdi1...E...
01D0: FF FF 7F F0 FF FF 7F 66  64 6F 31 01 80 55 00 80  .......fdo1..U..
01E0: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 1C 12 80 52  ........fdo1...R
01F0: 11 80 F0 FF FF 7F F0 FF  FF 7F 72 30 30 30 2D F8  ..........r000-.
0200: FF FF 7F F8 FF FF 7F 6C  77 6F 6E 2D F8 FF FF 7F  .......lwon-....
0210: F8 FF FF 7F 6C 6F 6F 70  45 14 80 F8 FF FF 7F F8  ....loopE.......
0220: FF FF 7F 73 65 33 38 01  80 45 11 80 F0 FF FF 7F  ...se38..E......
0230: F0 FF FF 7F 72 30 30 32  01 80 1C 10 80 45 00 80  ....r002.....E..
0240: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 01 80 55 00  ........fdi1..U.
0250: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 1C 15 80  .........fdi1...
0260: 45 00 80 F0 FF FF 7F F0  FF FF 7F 62 6C 6F 6E 01  E..........blon.
0270: 80 55 11 80 F0 FF FF 7F  F0 FF FF 7F 72 30 30 32  .U..........r002
0280: 45 00 80 A9 00 02 01 A9  00 02 01 6F 76 6C 31 01  E..........ovl1.
0290: 80 45 11 80 F0 FF FF 7F  F0 FF FF 7F 72 30 30 31  .E..........r001
02A0: 01 80 1C 16 80 45 17 80  F0 FF FF 7F F0 FF FF 7F  .....E..........
02B0: 77 68 6F 33 01 80 45 17  80 F0 FF FF 7F F0 FF FF  who3..E.........
02C0: 7F 62 61 73 68 01 80 55  17 80 F0 FF FF 7F F0 FF  .bash..U........
02D0: FF 7F 77 68 6F 33 52 11  80 F0 FF FF 7F F0 FF FF  ..who3R.........
02E0: 7F 72 30 30 31 45 00 80  F0 FF FF 7F F0 FF FF 7F  .r001E..........
02F0: 62 6C 6F 66 01 80 2D F8  FF FF 7F F8 FF FF 7F 34  blof..-........4
0300: 65 6E 64 45 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  endE..........fd
0310: 6F 31 01 80 55 00 80 F0  FF FF 7F F0 FF FF 7F 66  o1..U..........f
0320: 64 6F 31 02 00 00 03 80  00 50 03 29 03 9F 00 02  do1......P.)....
0330: 01 15 46 00 5C 00 18 80  5C 01 18 80 45 00 80 F0  ..F.\...\...E...
0340: FF FF 7F F0 FF FF 7F 66  64 69 32 01 80 01 56 03  .......fdi2...V.
0350: 03 01 10 03 80 30 45 19  80 F0 FF FF 7F F0 FF FF  .....0E.........
0360: 7F 77 68 69 31 01 80 01  6A 03 21 00              .whi1...j.!.    
```

## Opcodes

```
  0: 0x00F9 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x00FB [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[3]
  2: 0x0100 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x010B
  3: 0x0108 [0x01] GOTO 0x012D
  4: 0x010B [0x1E] EventEntity looks at LocalPlayer and starts talking
  5: 0x0110 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  6: 0x0111 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  7: 0x0112 [0x1D] PRINT_EVENT_MESSAGE(message_id=7920*)
    → "That ship of yours made its way back here of its own accord.\u0007Must be that \u00072autopilot\u00073 thing that Prishe was talking about.\u007F1\u0000\u0007"
  8: 0x0115 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x0116 [0x1D] PRINT_EVENT_MESSAGE(message_id=7922*)
    → "I've resupplied the airship, so you can take off at any time.\u0007Are you ready to go?\u007F1\u0000\u0007"
 10: 0x0119 [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x011A [0x06] Work_Zone[1] = 0
 12: 0x011D [0x24] CREATE_DIALOG(message_id=7923*, default_option=1*, option_flags=0*)
    → "Take the airship to Al'Taieu?\u0007\u000BLet's go!\u0007Not just yet.\u007F1\u0000\u0007"
 13: 0x0124 [0x25] WAIT_DIALOG_SELECT()
 14: 0x0125 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x036A

SUBROUTINE_012D:
 15: 0x012D [0x42] SET_CLI_EVENT_CANCEL_DATA()
 16: 0x012E [0x46] CAMERA_CONTROL: Disable user control
 17: 0x0130 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 170*
 18: 0x0134 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 170*
 19: 0x0138 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 20: 0x0149 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 21: 0x0158 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 22: 0x015B [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 23: 0x0161 [0x4E] SET_ENTITY_HIDE_FLAG: Hide LocalPlayer
 24: 0x0167 [0x77] SET_EVENT_TIME_WEATHER(hour=255*, weather=1*)
 25: 0x016C [0x4E] SET_ENTITY_HIDE_FLAG: Show ship (ID: 16908447/0x0102009F)
 26: 0x0172 [0x1C] WAIT(10* ticks)
 27: 0x0175 [0x29] REQ_SET_WAIT(priority=0x03, entity_id=ship (ID: 16908447/0x0102009F), tag_num=0x0F)
 28: 0x017C [0x27] REQ_SET(priority=0x03, entity_id=ship (ID: 16908447/0x0102009F), tag_num=0x14)
 29: 0x0183 [0x97] SAVE_SET_WIND_VALUES(wind_base=0x8001, wind_width=0x8003)
 30: 0x0188 [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "04on" with entities [EventEntity, EventEntity]
 31: 0x0195 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "r000" with entities [LocalPlayer, LocalPlayer], work=[72*, 0*]
 32: 0x01A6 [0x1C] WAIT(60* ticks)
 33: 0x01A9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 34: 0x01BA [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
 35: 0x01C9 [0x1C] WAIT(600* ticks)
 36: 0x01CC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 37: 0x01DD [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 38: 0x01EC [0x1C] WAIT(60* ticks)
 39: 0x01EF [0x52] END_LOAD_SCHEDULER: End scheduler "r000" with entities [LocalPlayer, LocalPlayer], work=72*
 40: 0x01FE [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "lwon" with entities [EventEntity, EventEntity]
 41: 0x020B [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "loop" with entities [EventEntity, EventEntity]
 42: 0x0218 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "se38" with entities [EventEntity, EventEntity], work=[171*, 0*]
 43: 0x0229 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "r002" with entities [LocalPlayer, LocalPlayer], work=[72*, 0*]
 44: 0x023A [0x1C] WAIT(10* ticks)
 45: 0x023D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 46: 0x024E [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
 47: 0x025D [0x1C] WAIT(30* ticks)
 48: 0x0260 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 49: 0x0271 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "r002" with entities [LocalPlayer, LocalPlayer], work=72*
 50: 0x0280 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [Sueleen (ID: 16908457/0x010200A9), Sueleen (ID: 16908457/0x010200A9)], work=[200*, 0*]
 51: 0x0291 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "r001" with entities [LocalPlayer, LocalPlayer], work=[72*, 0*]
 52: 0x02A2 [0x1C] WAIT(220* ticks)
 53: 0x02A5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who3" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
 54: 0x02B6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "bash" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
 55: 0x02C7 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who3" with entities [LocalPlayer, LocalPlayer], work=108*
 56: 0x02D6 [0x52] END_LOAD_SCHEDULER: End scheduler "r001" with entities [LocalPlayer, LocalPlayer], work=72*
 57: 0x02E5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 58: 0x02F6 [0x2D] CREATE_ZONE_SCHEDULER_TASK: Create scheduler "4end" with entities [EventEntity, EventEntity]
 59: 0x0303 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 60: 0x0314 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 61: 0x0323 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x0350
 62: 0x032B [0x29] REQ_SET_WAIT(priority=0x03, entity_id=ship (ID: 16908447/0x0102009F), tag_num=0x15)
 63: 0x0332 [0x46] CAMERA_CONTROL: Restore default settings
 64: 0x0334 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 245*
 65: 0x0338 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 245*
 66: 0x033C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 67: 0x034D [0x01] GOTO 0x0356
 68: 0x0350 [0x03] Work_Zone[1] = 1*
 69: 0x0355 [0x30] SET_UCOFF_CONTINUE_ZERO()

SUBROUTINE_0356:
 70: 0x0356 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 71: 0x0367 [0x01] GOTO 0x036A

SUBROUTINE_036A:
 72: 0x036A [0x21] END_EVENT
 73: 0x036B [0x00] END_REQSTACK()
```
