# Event 31

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/4       |
| Offset          | 0x0001    |
| Data Size       | 552 bytes |
| Calculated Size | 552 bytes |
| Instructions    | 63        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 45 00 80 F8 FF FF  7F F8 FF FF 7F 66 64 6F   BE..........fdo
0010: 31 01 80 55 00 80 F8 FF  FF 7F F8 FF FF 7F 66 64  1..U..........fd
0020: 6F 31 46 01 38 02 80 2F  00 2A 61 05 01 2F 00 2B  o1F.8../.*a../.+
0030: 61 05 01 4E 00 2A 61 05  01 4E 00 2B 61 05 01 BA  a..N.*a..N.+a...
0040: 2A 61 05 01 03 80 04 80  05 80 06 80 BA F0 FF FF  *a..............
0050: 7F 07 80 08 80 09 80 0A  80 BA 2B 61 05 01 0B 80  ..........+a....
0060: 0C 80 0D 80 0E 80 80 2A  61 05 01 80 F0 FF FF 7F  .......*a.......
0070: 80 2B 61 05 01 27 05 2A  61 05 01 03 45 0F 80 F0  .+a..'.*a...E...
0080: FF FF 7F F0 FF FF 7F 73  31 36 32 01 80 1C 10 80  .......s162.....
0090: 45 00 80 F8 FF FF 7F F8  FF FF 7F 66 64 69 31 01  E..........fdi1.
00A0: 80 1C 11 80 48 12 80 23  23 52 0F 80 F0 FF FF 7F  ....H..##R......
00B0: F0 FF FF 7F 73 31 36 32  45 0F 80 F0 FF FF 7F F0  ....s162E.......
00C0: FF FF 7F 73 31 36 33 01  80 27 05 2A 61 05 01 04  ...s163..'.*a...
00D0: 03 02 10 13 80 2B 2A 61  05 01 14 80 23 2A 05 2A  .....+*a....#*.*
00E0: 61 05 01 52 0F 80 F0 FF  FF 7F F0 FF FF 7F 73 31  a..R..........s1
00F0: 36 33 45 0F 80 F0 FF FF  7F F0 FF FF 7F 73 31 36  63E..........s16
0100: 34 01 80 62 15 80 2B 61  05 01 2B 61 05 01 6D 61  4..b..+a..+a..ma
0110: 69 6E 01 80 1C 16 80 27  05 2A 61 05 01 02 79 00  in.....'.*a...y.
0120: F0 FF FF 7F 2A 61 05 01  03 02 10 17 80 2B 2A 61  ....*a.......+*a
0130: 05 01 18 80 23 2A 05 2A  61 05 01 52 0F 80 F0 FF  ....#*.*a..R....
0140: FF 7F F0 FF FF 7F 73 31  36 34 45 0F 80 F0 FF FF  ......s164E.....
0150: 7F F0 FF FF 7F 73 31 36  35 01 80 5B 19 80 2A 61  .....s165..[..*a
0160: 05 01 2A 61 05 01 75 64  65 30 2B 2A 61 05 01 1A  ..*a..ude0+*a...
0170: 80 23 5B 19 80 2A 61 05  01 2A 61 05 01 75 64 65  .#[..*a..*a..ude
0180: 31 52 0F 80 F0 FF FF 7F  F0 FF FF 7F 73 31 36 35  1R..........s165
0190: 45 0F 80 F0 FF FF 7F F0  FF FF 7F 73 31 36 36 01  E..........s166.
01A0: 80 5B 19 80 2A 61 05 01  2A 61 05 01 74 6C 61 30  .[..*a..*a..tla0
01B0: 03 02 10 17 80 2B 2A 61  05 01 1B 80 23 52 0F 80  .....+*a....#R..
01C0: F0 FF FF 7F F0 FF FF 7F  73 31 36 36 45 0F 80 F0  ........s166E...
01D0: FF FF 7F F0 FF FF 7F 73  31 36 37 01 80 2B 2A 61  .......s167..+*a
01E0: 05 01 1C 80 23 45 00 80  F8 FF FF 7F F8 FF FF 7F  ....#E..........
01F0: 66 64 6F 31 01 80 55 00  80 F8 FF FF 7F F8 FF FF  fdo1..U.........
0200: 7F 66 64 6F 31 52 0F 80  F0 FF FF 7F F0 FF FF 7F  .fdo1R..........
0210: 73 31 36 37 46 00 45 00  80 F0 FF FF 7F F0 FF FF  s167F.E.........
0220: 7F 66 64 69 32 01 80 21  00                       .fdi2..!.       
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  2: 0x0013 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
  3: 0x0022 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x0024 [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  5: 0x0027 [0x2F] Cait Sith Naoi (ID: 17129770/0x0105612A)->Render.Flags0 &= ~0x80000 // Bit 19
  6: 0x002D [0x2F] Unnamed NPC (ID: 17129771/0x0105612B)->Render.Flags0 &= ~0x80000 // Bit 19
  7: 0x0033 [0x4E] SET_ENTITY_HIDE_FLAG: Show Cait Sith Naoi (ID: 17129770/0x0105612A)
  8: 0x0039 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17129771/0x0105612B)
  9: 0x003F [0xBA] SET_ENTITY_POSITION(entity_id=Cait Sith Naoi (ID: 17129770/0x0105612A), pos_x=300.710*, pos_z=-5.336*, pos_y=11.403*, direction=277.2°*)
 10: 0x004C [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=299.286*, pos_z=-5.195*, pos_y=11.140*, direction=277.3°*)
 11: 0x0059 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17129771/0x0105612B), pos_x=301.296*, pos_z=-2.645*, pos_y=10.214*, direction=22.2°*)
 12: 0x0066 [0x80] LOAD_WAIT(entity=Cait Sith Naoi (ID: 17129770/0x0105612A))
 13: 0x006B [0x80] LOAD_WAIT(entity=LocalPlayer)
 14: 0x0070 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17129771/0x0105612B))
 15: 0x0075 [0x27] REQ_SET(priority=0x05, entity_id=Cait Sith Naoi (ID: 17129770/0x0105612A), tag_num=0x03)
 16: 0x007C [0x45] LOAD_SCHEDULED_TASK(work_offset1=402*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s162", work_offset2=0*)
 17: 0x008D [0x1C] WAIT(15* ticks)
 18: 0x0090 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 19: 0x00A1 [0x1C] WAIT(60* ticks)
 20: 0x00A4 [0x48] [System] [7406*]:
    → "An extremely sturdy wall of rock blocks your path...\u007F1\u0000\u0007"
 21: 0x00A7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x00A8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x00A9 [0x52] END_LOAD_SCHEDULER: End scheduler "s162" with entities [LocalPlayer, LocalPlayer], work=402*
 24: 0x00B8 [0x45] LOAD_SCHEDULED_TASK(work_offset1=402*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s163", work_offset2=0*)
 25: 0x00C9 [0x27] REQ_SET(priority=0x05, entity_id=Cait Sith Naoi (ID: 17129770/0x0105612A), tag_num=0x04)
 26: 0x00D0 [0x03] Work_Zone[2] = 2760*
 27: 0x00D5 [0x2B] Cait Sith Naoi (ID: 17129770/0x0105612A) [7407*]:
    → "Ack! Just when it seemed nothing would stop us!\u0007Even a dozen \u0001\u0005%\u0002\u0000\u0000\u0000 detonated in unison wouldn't so much as leave a soot stain on the surface. Barely cause a scratch.\u007F1\u0000\u0007"
 28: 0x00DC [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x00DD [0x2A] GET_REQ_LEVEL(level=5, entity_id=Cait Sith Naoi (ID: 17129770/0x0105612A))
 30: 0x00E3 [0x52] END_LOAD_SCHEDULER: End scheduler "s163" with entities [LocalPlayer, LocalPlayer], work=402*
 31: 0x00F2 [0x45] LOAD_SCHEDULED_TASK(work_offset1=402*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s164", work_offset2=0*)
 32: 0x0103 [0x62] LOAD_EVENT_SCHEDULER (arg=5012): Load scheduler "main" with entities [Unnamed NPC (ID: 17129771/0x0105612B), Unnamed NPC (ID: 17129771/0x0105612B)], work=[3*, 0*]
 33: 0x0114 [0x1C] WAIT(90* ticks)
 34: 0x0117 [0x27] REQ_SET(priority=0x05, entity_id=Cait Sith Naoi (ID: 17129770/0x0105612A), tag_num=0x02)
 35: 0x011E [0x79] LocalPlayer looks at Cait Sith Naoi (ID: 17129770/0x0105612A) (Basic look)
 36: 0x0128 [0x03] Work_Zone[2] = 947*
 37: 0x012D [0x2B] Cait Sith Naoi (ID: 17129770/0x0105612A) [7408*]:
    → "But, hrmmm? What have we here?\u0007Looks to be some kind of contraption for housing...\u0001\u0005%\u0002\u0000\u0000\u0000?\u007F1\u0000\u0007"
 38: 0x0134 [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x0135 [0x2A] GET_REQ_LEVEL(level=5, entity_id=Cait Sith Naoi (ID: 17129770/0x0105612A))
 40: 0x013B [0x52] END_LOAD_SCHEDULER: End scheduler "s164" with entities [LocalPlayer, LocalPlayer], work=402*
 41: 0x014A [0x45] LOAD_SCHEDULED_TASK(work_offset1=402*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s165", work_offset2=0*)
 42: 0x015B [0x5B] LOAD_EXT_SCHEDULER(work_offset=1412*, entity1=Cait Sith Naoi (ID: 17129770/0x0105612A), entity2=Cait Sith Naoi (ID: 17129770/0x0105612A), action="ude0")
 43: 0x016A [0x2B] Cait Sith Naoi (ID: 17129770/0x0105612A) [7409*]:
    → "Ah! A memory returns to me! A recollection!\u0007Tales of abandoned quarries brimming with Goblin mining technology of ages past! I shan't bother you with the details, though it would make for good telling at a campfire.\u007F1\u0000\u0007"
 44: 0x0171 [0x23] WAIT_FOR_DIALOG_INTERACTION
 45: 0x0172 [0x5B] LOAD_EXT_SCHEDULER(work_offset=1412*, entity1=Cait Sith Naoi (ID: 17129770/0x0105612A), entity2=Cait Sith Naoi (ID: 17129770/0x0105612A), action="ude1")
 46: 0x0181 [0x52] END_LOAD_SCHEDULER: End scheduler "s165" with entities [LocalPlayer, LocalPlayer], work=402*
 47: 0x0190 [0x45] LOAD_SCHEDULED_TASK(work_offset1=402*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s166", work_offset2=0*)
 48: 0x01A1 [0x5B] LOAD_EXT_SCHEDULER(work_offset=1412*, entity1=Cait Sith Naoi (ID: 17129770/0x0105612A), entity2=Cait Sith Naoi (ID: 17129770/0x0105612A), action="tla0")
 49: 0x01B0 [0x03] Work_Zone[2] = 947*
 50: 0x01B5 [0x2B] Cait Sith Naoi (ID: 17129770/0x0105612A) [7410*]:
    → "Hmmm, a fuse extends from the contraption to a place beyond the wall.\u0007What would happen, I wonder, if we were to place \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000 in it. Set us up a bomb.\u007F1\u0000\u0007"
 51: 0x01BC [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x01BD [0x52] END_LOAD_SCHEDULER: End scheduler "s166" with entities [LocalPlayer, LocalPlayer], work=402*
 53: 0x01CC [0x45] LOAD_SCHEDULED_TASK(work_offset1=402*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s167", work_offset2=0*)
 54: 0x01DD [0x2B] Cait Sith Naoi (ID: 17129770/0x0105612A) [7411*]:
    → "Could it be that the fuse is connected to yet another detonation switch somewhere over yonder...?\u007F1\u0000\u0007"
 55: 0x01E4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 56: 0x01E5 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 57: 0x01F6 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
 58: 0x0205 [0x52] END_LOAD_SCHEDULER: End scheduler "s167" with entities [LocalPlayer, LocalPlayer], work=402*
 59: 0x0214 [0x46] CAMERA_CONTROL: Restore default settings
 60: 0x0216 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 61: 0x0227 [0x21] END_EVENT
 62: 0x0228 [0x00] END_REQSTACK()
```
