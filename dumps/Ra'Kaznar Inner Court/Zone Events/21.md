# Event 21

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 18/54     |
| Offset          | 0x00ED    |
| Data Size       | 147 bytes |
| Calculated Size | 147 bytes |
| Instructions    | 22        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00E0:                                         1A 00 01               ...
00F0: 47 00 1E 80 1D 80 1F 80  01 80 47 01 1A 45 01 00  G.........G..E..
0100: 20 01 42 CD 20 80 F8 FF  FF 7F F0 FF FF 7F 73 30   .B. .........s0
0110: 30 30 01 80 1C 21 80 92  01 F0 FF FF 7F 1C 22 80  00...!........".
0120: 45 23 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 31 01  E#.........fdo1.
0130: 80 55 23 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 31  .U#.........fdo1
0140: 43 00 43 01 1B 45 23 80  F0 FF FF 7F F0 FF FF 7F  C.C..E#.........
0150: 66 64 69 31 01 80 55 23  80 F0 FF FF 7F F0 FF FF  fdi1..U#........
0160: 7F 66 64 69 31 CD 24 80  F8 FF FF 7F F0 FF FF 7F  .fdi1.$.........
0170: 73 30 30 30 01 80 92 00  F0 FF FF 7F 20 00 21 1B  s000........ .!.
```

## Opcodes

```
  0: 0x00ED [0x1A] CALL_SUBROUTINE(address=0x0100)
  1: 0x00F0 [0x47] UPDATE_PLAYER_POS(-286.000*, -60.000*, -470.350*, yaw=0.0Â°*)
  2: 0x00FA [0x47] WAIT_PLAYER_POS_UPDATE
  3: 0x00FC [0x1A] CALL_SUBROUTINE(address=0x0145)
  4: 0x00FF [0x00] END_REQSTACK()

SUBROUTINE_0100:
  5: 0x0100 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  6: 0x0102 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  7: 0x0103 [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "s000" with entities [EventEntity, LocalPlayer], work=[254*, 0*]
  8: 0x0114 [0x1C] WAIT(14* ticks)
  9: 0x0117 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
 10: 0x011D [0x1C] WAIT(20* ticks)
 11: 0x0120 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 12: 0x0131 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 13: 0x0140 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 14: 0x0142 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 15: 0x0144 [0x1B] RETURN

SUBROUTINE_0145:
 16: 0x0145 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 17: 0x0156 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
 18: 0x0165 [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "s000" with entities [EventEntity, LocalPlayer], work=[255*, 0*]
 19: 0x0176 [0x92] LocalPlayer->Render.Flags3 = Flags3  // No change (flag=0)
 20: 0x017C [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 21: 0x017E [0x21] END_EVENT
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x017F [0x1B] RETURN
```