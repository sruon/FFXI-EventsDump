# Event 42

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/4       |
| Offset          | 0x08C0    |
| Data Size       | 280 bytes |
| Calculated Size | 280 bytes |
| Instructions    | 64        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
08C0: 4A F0 FF FF 7F E7 C1 0C  01 48 32 80 23 03 00 10  J........H2.#...
08D0: 01 80 02 00 10 33 80 01  D6 09 24 34 80 00 10 01  .....3....$4....
08E0: 80 25 02 00 10 01 80 00  15 09 42 1A 64 00 1C 35  .%........B.d..5
08F0: 80 BB 00 80 F8 FF FF 7F  F8 FF FF 7F 62 61 74 31  ............bat1
0900: 01 80 48 36 80 1C 23 80  1C 23 80 1C 23 80 1A 43  ..H6..#..#..#..C
0910: 00 2E 01 D3 09 02 00 10  03 80 00 9A 09 42 1A 64  .............B.d
0920: 00 22 00 37 37 80 38 80  01 80 39 80 B6 00 3A 80  .".77.8...9...:.
0930: 80 F8 FF FF 7F 5C 02 01  80 5C 03 01 80 9A 29 10  .....\...\....).
0940: F0 FF FF 7F 16 1C 35 80  C4 01 01 80 F0 FF FF 7F  ......5.........
0950: F8 FF FF 7F 1C 3B 80 BB  00 80 F8 FF FF 7F F8 FF  .....;..........
0960: FF 7F 62 61 74 31 01 80  48 3C 80 23 29 10 F0 FF  ..bat1..H<.#)...
0970: FF 7F 17 5C 02 3D 80 5C  03 3E 80 9A B6 00 3F 80  ...\.=.\.>....?.
0980: 80 F8 FF FF 7F 37 01 80  01 80 01 80 01 80 22 01  .....7........".
0990: 1C 23 80 1A 43 00 2E 01  D3 09 02 00 10 05 80 00  .#..C...........
09A0: C8 09 42 1A 64 00 1C 35  80 9F 40 80 F0 FF FF 7F  ..B.d..5..@.....
09B0: F0 FF FF 7F 6D 61 69 6E  01 80 48 41 80 23 1C 23  ....main..HA.#.#
09C0: 80 1A 43 00 2E 01 D3 09  02 00 10 33 80 00 D3 09  ..C........3....
09D0: 01 D3 09 01 D2 08 21 00                           ......!.        
```

## Opcodes

```
  0: 0x08C0 [0x4A] LocalPlayer looks at Talos (ID: 17613287/0x010CC1E7)
  1: 0x08C9 [0x48] [System] [10853*]:
    → "There is a doll preventing you from opening the door.\u007F1\u0000\u0007"
  2: 0x08CC [0x23] WAIT_FOR_DIALOG_INTERACTION
  3: 0x08CD [0x03] Work_Zone[0] = 0*
  4: 0x08D2 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x09D6
  5: 0x08DA [0x24] CREATE_DIALOG(message_id=10854*, default_option=Work_Zone[0], option_flags=0*)
    → "What will you do?\u0007\u000BTry to move it.\u0007Attack it.\u0007Examine it.\u0007Nothing.\u007F1\u0000\u0007"
  6: 0x08E1 [0x25] WAIT_DIALOG_SELECT()
  7: 0x08E2 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0915
  8: 0x08EA [0x42] SET_CLI_EVENT_CANCEL_DATA()
  9: 0x08EB [0x1A] CALL_SUBROUTINE(address=0x0064)
 10: 0x08EE [0x1C] WAIT(120* ticks)
 11: 0x08F1 [0xBB] LOAD_EVENT_SCHEDULER_ALT: Load scheduler "bat1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 12: 0x0902 [0x48] [System] [10855*]:
    → "It is too heavy to move.\u0000\u0007"
 13: 0x0905 [0x1C] WAIT(60* ticks)
 14: 0x0908 [0x1C] WAIT(60* ticks)
 15: 0x090B [0x1C] WAIT(60* ticks)
 16: 0x090E [0x1A] CALL_SUBROUTINE(address=0x0043)
 17: 0x0911 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
 18: 0x0912 [0x01] GOTO 0x09D3
 19: 0x0915 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x099A
 20: 0x091D [0x42] SET_CLI_EVENT_CANCEL_DATA()
 21: 0x091E [0x1A] CALL_SUBROUTINE(address=0x0064)
 22: 0x0921 [0x22] ENTITY_HIDE_FLAG(enabled=0x00)
 23: 0x0923 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=10.200*, z=137.000*, y=0.000*, direction=377476120.5°*
 24: 0x092C [0xB6] ENTITY_APPEARANCE_HANDLER(case=Hair style, value=304*)
 25: 0x0930 [0x80] LOAD_WAIT(entity=EventEntity)
 26: 0x0935 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 0*
 27: 0x0939 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 0*
 28: 0x093D [0x9A] WAIT_MUSIC_SERVER()
 29: 0x093E [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x16)
 30: 0x0945 [0x1C] WAIT(120* ticks)
 31: 0x0948 [0xC4] SCHEDULE_MAGIC_CASTING_ALT (arg=17): LocalPlayer casts magic 0* on EventEntity
 32: 0x0954 [0x1C] WAIT(180* ticks)
 33: 0x0957 [0xBB] LOAD_EVENT_SCHEDULER_ALT: Load scheduler "bat1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 34: 0x0968 [0x48] [System] [10856*]:
    → "It is too hard to break.\u0000\u0007"
 35: 0x096B [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x096C [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x17)
 37: 0x0973 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 115*
 38: 0x0977 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 102*
 39: 0x097B [0x9A] WAIT_MUSIC_SERVER()
 40: 0x097C [0xB6] ENTITY_APPEARANCE_HANDLER(case=Hair style, value=52*)
 41: 0x0980 [0x80] LOAD_WAIT(entity=EventEntity)
 42: 0x0985 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=0.000*, z=0.000*, y=0.000*, direction=0.0°*
 43: 0x098E [0x22] ENTITY_HIDE_FLAG(enabled=0x01)
 44: 0x0990 [0x1C] WAIT(60* ticks)
 45: 0x0993 [0x1A] CALL_SUBROUTINE(address=0x0043)
 46: 0x0996 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
 47: 0x0997 [0x01] GOTO 0x09D3
 48: 0x099A [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x09C8
 49: 0x09A2 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 50: 0x09A3 [0x1A] CALL_SUBROUTINE(address=0x0064)
 51: 0x09A6 [0x1C] WAIT(120* ticks)
 52: 0x09A9 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[250*, 0*]
 53: 0x09BA [0x48] [System] [10857*]:
    → "You examine the doll.\u0007It might move again if you can find a way to power it...\u0000\u0007"
 54: 0x09BD [0x23] WAIT_FOR_DIALOG_INTERACTION
 55: 0x09BE [0x1C] WAIT(60* ticks)
 56: 0x09C1 [0x1A] CALL_SUBROUTINE(address=0x0043)
 57: 0x09C4 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
 58: 0x09C5 [0x01] GOTO 0x09D3
 59: 0x09C8 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x09D3
 60: 0x09D0 [0x01] GOTO 0x09D3

SUBROUTINE_09D3:
 61: 0x09D3 [0x01] GOTO 0x08D2
 62: 0x09D6 [0x21] END_EVENT
 63: 0x09D7 [0x00] END_REQSTACK()
```
