# Event 14

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 18/25     |
| Offset          | 0x02A8    |
| Data Size       | 554 bytes |
| Calculated Size | 554 bytes |
| Instructions    | 77        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
02A0:                          20 01 42 46 01 5D 02 80           .BF.]..
02B0: 03 80 45 03 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..E..........fdo
02C0: 31 02 80 1C 04 80 38 05  80 5C 00 06 80 5C 01 06  1.....8..\...\..
02D0: 80 5D 07 80 08 80 29 0B  F0 FF FF 7F 0C 1C 09 80  .]....).........
02E0: 02 03 10 08 80 00 26 03  45 0A 80 F0 FF FF 7F F0  ......&.E.......
02F0: FF FF 7F 73 30 30 34 02  80 29 0B F0 FF FF 7F 0D  ...s004..)......
0300: 29 0B B8 C1 0C 01 0A 1E  F0 FF FF 7F 6F 70 45 03  )...........opE.
0310: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 02 80 1D  .........fdi1...
0320: 1C 80 23 01 19 04 45 0A  80 F0 FF FF 7F F0 FF FF  ..#...E.........
0330: 7F 73 30 30 30 02 80 45  03 80 F0 FF FF 7F F0 FF  .s000..E........
0340: FF 7F 66 64 69 31 02 80  1C 0B 80 1E F0 FF FF 7F  ..fdi1..........
0350: 27 0B F0 FF FF 7F 0E 1C  0C 80 6F 70 27 0B B8 C1  '.........op'...
0360: 0C 01 0B 55 0A 80 F0 FF  FF 7F F0 FF FF 7F 73 30  ...U..........s0
0370: 30 30 45 03 80 F0 FF FF  7F F0 FF FF 7F 6F 76 6C  00E..........ovl
0380: 31 02 80 45 0A 80 F0 FF  FF 7F F0 FF FF 7F 73 30  1..E..........s0
0390: 30 31 02 80 4E 01 F0 FF  FF 7F 2A 0B F0 FF FF 7F  01..N.....*.....
03A0: 2A 0B B8 C1 0C 01 1E F0  FF FF 7F 29 0B B8 C1 0C  *..........)....
03B0: 01 0E 45 03 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..E..........fdo
03C0: 31 02 80 1C 0B 80 45 0A  80 F0 FF FF 7F F0 FF FF  1.....E.........
03D0: 7F 73 30 30 32 02 80 4E  00 F0 FF FF 7F 45 03 80  .s002..N.....E..
03E0: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 02 80 29 0B  ........fdi1..).
03F0: B8 C1 0C 01 12 52 0A 80  F0 FF FF 7F F0 FF FF 7F  .....R..........
0400: 73 30 30 32 45 0A 80 F0  FF FF 7F F0 FF FF 7F 73  s002E..........s
0410: 30 30 34 02 80 1D 1D 80  23 45 0A 80 F0 FF FF 7F  004.....#E......
0420: F0 FF FF 7F 73 30 30 33  02 80 27 0B B8 C1 0C 01  ....s003..'.....
0430: 0C 29 0B B9 C1 0C 01 04  2A 0B B8 C1 0C 01 52 0A  .)......*.....R.
0440: 80 F0 FF FF 7F F0 FF FF  7F 73 30 30 33 27 0B F0  .........s003'..
0450: FF FF 7F 0F 1C 04 80 4A  B8 C1 0C 01 F0 FF FF 7F  .......J........
0460: 6F 70 29 0B B8 C1 0C 01  0D 29 0B B8 C1 0C 01 13  op)......)......
0470: 45 0A 80 F0 FF FF 7F F0  FF FF 7F 73 30 30 31 02  E..........s001.
0480: 80 2A 0B F0 FF FF 7F 4A  F0 FF FF 7F B8 C1 0C 01  .*.....J........
0490: 29 0B B8 C1 0C 01 14 45  03 80 F0 FF FF 7F F0 FF  )......E........
04A0: FF 7F 66 64 6F 31 02 80  1C 04 80 5C 00 02 80 5C  ..fdo1.....\...\
04B0: 01 02 80 5D 07 80 08 80  1C 09 80 46 00 45 03 80  ...].......F.E..
04C0: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 02 80 20 01  ........fdi1.. .
04D0: 21 00                                             !.              
```

## Opcodes

```
  0: 0x02A8 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x02AA [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x02AB [0x46] CAMERA_CONTROL: Disable user control
  3: 0x02AD [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=200*)
  4: 0x02B2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  5: 0x02C3 [0x1C] WAIT(60* ticks)
  6: 0x02C6 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  7: 0x02C9 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 164*
  8: 0x02CD [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 164*
  9: 0x02D1 [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 10: 0x02D6 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x0C)
 11: 0x02DD [0x1C] WAIT(300* ticks)
 12: 0x02E0 [0x02] IF !(Work_Zone[3] == 1*) GOTO 0x0326
 13: 0x02E8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s004" with entities [LocalPlayer, LocalPlayer], work=[15*, 0*]
 14: 0x02F9 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x0D)
 15: 0x0300 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Rukususu (ID: 17613240/0x010CC1B8), tag_num=0x0A)
 16: 0x0307 [0x1E] EventEntity looks at LocalPlayer and starts talking
 17: 0x030C [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 18: 0x030D [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 19: 0x030E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 20: 0x031F [0x1D] PRINT_EVENT_MESSAGE(message_id=7356*)
    → "Ah! You've succeeded! C'est magnifique!\u0007Finally, you have brought moi ze magique completely intactaru.\u0007Merci!\u007F1\u0000\u0007"
 21: 0x0322 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x0323 [0x01] GOTO 0x0419

SUBROUTINE_0326:
 23: 0x0326 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s000" with entities [LocalPlayer, LocalPlayer], work=[15*, 0*]
 24: 0x0337 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 25: 0x0348 [0x1C] WAIT(100* ticks)
 26: 0x034B [0x1E] EventEntity looks at LocalPlayer and starts talking
 27: 0x0350 [0x27] REQ_SET(priority=0x0B, entity_id=LocalPlayer, tag_num=0x0E)
 28: 0x0357 [0x1C] WAIT(120* ticks)
 29: 0x035A [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 30: 0x035B [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 31: 0x035C [0x27] REQ_SET(priority=0x0B, entity_id=Rukususu (ID: 17613240/0x010CC1B8), tag_num=0x0B)
 32: 0x0363 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "s000" with entities [LocalPlayer, LocalPlayer], work=15*
 33: 0x0372 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 34: 0x0383 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s001" with entities [LocalPlayer, LocalPlayer], work=[15*, 0*]
 35: 0x0394 [0x4E] SET_ENTITY_HIDE_FLAG: Hide LocalPlayer
 36: 0x039A [0x2A] GET_REQ_LEVEL(level=11, entity_id=LocalPlayer)
 37: 0x03A0 [0x2A] GET_REQ_LEVEL(level=11, entity_id=Rukususu (ID: 17613240/0x010CC1B8))
 38: 0x03A6 [0x1E] EventEntity looks at LocalPlayer and starts talking
 39: 0x03AB [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Rukususu (ID: 17613240/0x010CC1B8), tag_num=0x0E)
 40: 0x03B2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 41: 0x03C3 [0x1C] WAIT(100* ticks)
 42: 0x03C6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s002" with entities [LocalPlayer, LocalPlayer], work=[15*, 0*]
 43: 0x03D7 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 44: 0x03DD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 45: 0x03EE [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Rukususu (ID: 17613240/0x010CC1B8), tag_num=0x12)
 46: 0x03F5 [0x52] END_LOAD_SCHEDULER: End scheduler "s002" with entities [LocalPlayer, LocalPlayer], work=15*
 47: 0x0404 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s004" with entities [LocalPlayer, LocalPlayer], work=[15*, 0*]
 48: 0x0415 [0x1D] PRINT_EVENT_MESSAGE(message_id=7355*)
    → "Ah! You've succeeded! C'est magnifique!\u0007We've had all sorts of bother-wother trying to get Doctor Shantotto's magique here intact.\u007F1\u0000\u0007"
 49: 0x0418 [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x0419 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s003" with entities [LocalPlayer, LocalPlayer], work=[15*, 0*]
 51: 0x042A [0x27] REQ_SET(priority=0x0B, entity_id=Rukususu (ID: 17613240/0x010CC1B8), tag_num=0x0C)
 52: 0x0431 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Unnamed NPC (ID: 17613241/0x010CC1B9), tag_num=0x04)
 53: 0x0438 [0x2A] GET_REQ_LEVEL(level=11, entity_id=Rukususu (ID: 17613240/0x010CC1B8))
 54: 0x043E [0x52] END_LOAD_SCHEDULER: End scheduler "s003" with entities [LocalPlayer, LocalPlayer], work=15*
 55: 0x044D [0x27] REQ_SET(priority=0x0B, entity_id=LocalPlayer, tag_num=0x0F)
 56: 0x0454 [0x1C] WAIT(60* ticks)
 57: 0x0457 [0x4A] Rukususu (ID: 17613240/0x010CC1B8) looks at LocalPlayer
 58: 0x0460 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 59: 0x0461 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 60: 0x0462 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Rukususu (ID: 17613240/0x010CC1B8), tag_num=0x0D)
 61: 0x0469 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Rukususu (ID: 17613240/0x010CC1B8), tag_num=0x13)
 62: 0x0470 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s001" with entities [LocalPlayer, LocalPlayer], work=[15*, 0*]
 63: 0x0481 [0x2A] GET_REQ_LEVEL(level=11, entity_id=LocalPlayer)
 64: 0x0487 [0x4A] LocalPlayer looks at Rukususu (ID: 17613240/0x010CC1B8)
 65: 0x0490 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Rukususu (ID: 17613240/0x010CC1B8), tag_num=0x14)
 66: 0x0497 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 67: 0x04A8 [0x1C] WAIT(60* ticks)
 68: 0x04AB [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 69: 0x04AF [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 70: 0x04B3 [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 71: 0x04B8 [0x1C] WAIT(300* ticks)
 72: 0x04BB [0x46] CAMERA_CONTROL: Restore default settings
 73: 0x04BD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 74: 0x04CE [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
 75: 0x04D0 [0x21] END_EVENT
 76: 0x04D1 [0x00] END_REQSTACK()
```
