# Event 301

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/10      |
| Offset          | 0x00FB    |
| Data Size       | 442 bytes |
| Calculated Size | 442 bytes |
| Instructions    | 104       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00F0:                                   03 01 10 00 80             .....
0100: 02 02 10 00 80 80 10 01  03 01 00 01 80 01 40 01  ..............@.
0110: 02 02 10 02 80 80 20 01  03 01 00 01 80 01 40 01  ...... .......@.
0120: 02 02 10 03 80 80 30 01  03 01 00 01 80 01 40 01  ......0.......@.
0130: 02 02 10 04 80 80 40 01  03 01 00 01 80 01 40 01  ......@.......@.
0140: 03 02 00 03 10 03 03 00  04 10 41 00 80 13 80 05  ..........A.....
0150: 10 09 00 41 14 80 15 80  05 10 0A 00 07 0A 00 16  ...A............
0160: 80 41 00 80 17 80 06 10  0D 00 41 18 80 19 80 06  .A........A.....
0170: 10 12 00 03 21 00 07 10  41 00 80 13 80 08 10 0B  ....!...A.......
0180: 00 41 14 80 15 80 08 10  0C 00 07 0C 00 16 80 05  .A..............
0190: 04 00 1E F0 FF FF 7F 1D  05 80 23 02 04 00 00 80  ..........#.....
01A0: 01 B3 02 24 1A 80 00 80  00 80 25 02 00 10 00 80  ...$......%.....
01B0: 00 EB 01 03 02 10 0B 00  03 03 10 0C 00 1D 1B 80  ................
01C0: 23 24 1C 80 02 80 00 80  25 02 00 10 00 80 00 DD  #$......%.......
01D0: 01 42 03 01 10 02 80 06  04 00 01 E8 01 02 00 10  .B..............
01E0: 02 80 00 E8 01 01 E8 01  01 B0 02 02 00 10 02 80  ................
01F0: 00 2A 02 3E 09 10 02 80  01 02 1D 1D 80 23 01 27  .*.>.........#.'
0200: 02 03 02 10 09 00 03 03  10 0A 00 03 04 10 0D 00  ................
0210: 03 05 10 12 00 3E 09 10  04 80 23 02 1D 1E 80 23  .....>....#....#
0220: 01 27 02 1D 1F 80 23 01  B0 02 02 00 10 03 80 00  .'....#.........
0230: 3E 02 03 02 10 21 00 1D  20 80 23 01 B0 02 02 00  >....!.. .#.....
0240: 10 04 80 00 5A 02 1D 09  80 23 1D 0A 80 23 03 04  ....Z....#...#..
0250: 10 03 00 1D 0B 80 23 01  B0 02 02 00 10 21 80 00  ......#......!..
0260: A2 02 02 02 00 00 80 80  75 02 1D 0C 80 23 1D 0D  ........u....#..
0270: 80 23 01 9F 02 02 02 00  02 80 80 8C 02 1D 0E 80  .#..............
0280: 23 1D 0F 80 23 1D 10 80  23 01 9F 02 02 02 00 03  #...#...#.......
0290: 80 80 9F 02 1D 11 80 23  1D 12 80 23 01 9F 02 01  .......#...#....
02A0: B0 02 02 00 10 13 80 00  B0 02 06 04 00 01 B0 02  ................
02B0: 01 9B 01 21 00                                    ...!.           
```

## Opcodes

```
  0: 0x00FB [0x03] Work_Zone[1] = 0*
  1: 0x0100 [0x02] IF !(Work_Zone[2] == 0*) GOTO 0x0110
  2: 0x0108 [0x03] ExtData[1]->WorkLocal[1] = 2500*
  3: 0x010D [0x01] GOTO 0x0140
  4: 0x0110 [0x02] IF !(Work_Zone[2] == 1*) GOTO 0x0120
  5: 0x0118 [0x03] ExtData[1]->WorkLocal[1] = 2500*
  6: 0x011D [0x01] GOTO 0x0140
  7: 0x0120 [0x02] IF !(Work_Zone[2] == 2*) GOTO 0x0130
  8: 0x0128 [0x03] ExtData[1]->WorkLocal[1] = 2500*
  9: 0x012D [0x01] GOTO 0x0140
 10: 0x0130 [0x02] IF !(Work_Zone[2] == 3*) GOTO 0x0140
 11: 0x0138 [0x03] ExtData[1]->WorkLocal[1] = 2500*
 12: 0x013D [0x01] GOTO 0x0140

SUBROUTINE_0140:
 13: 0x0140 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[3]
 14: 0x0145 [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[4]
 15: 0x014A [0x41] ExtData[1]->WorkLocal[9] = Work_Zone[5] (bits 0*-5*)
 16: 0x0153 [0x41] ExtData[1]->WorkLocal[10] = Work_Zone[5] (bits 6*-11*)
 17: 0x015C [0x07] ExtData[1]->WorkLocal[10] += 64*
 18: 0x0161 [0x41] ExtData[1]->WorkLocal[13] = Work_Zone[6] (bits 0*-15*)
 19: 0x016A [0x41] ExtData[1]->WorkLocal[18] = Work_Zone[6] (bits 16*-31*)
 20: 0x0173 [0x03] ExtData[1]->WorkLocal[33] = Work_Zone[7]
 21: 0x0178 [0x41] ExtData[1]->WorkLocal[11] = Work_Zone[8] (bits 0*-5*)
 22: 0x0181 [0x41] ExtData[1]->WorkLocal[12] = Work_Zone[8] (bits 6*-11*)
 23: 0x018A [0x07] ExtData[1]->WorkLocal[12] += 64*
 24: 0x018F [0x05] ExtData[1]->WorkLocal[4] = 1
 25: 0x0192 [0x1E] EventEntity looks at LocalPlayer and starts talking
 26: 0x0197 [0x1D] PRINT_EVENT_MESSAGE(message_id=11522*)
    → "Welcome to the Pit. If you have any questions regarding Pankration, I'm the one to ask.\u007F1\u0000\u0007"
 27: 0x019A [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x019B [0x02] IF !(ExtData[1]->WorkLocal[4] == 0*) GOTO 0x02B3
 29: 0x01A3 [0x24] CREATE_DIALOG(message_id=11536*, default_option=0*, option_flags=0*)
    → "May I help you?\u0007\u000BI'd like to cancel my application.\u0007I'd like to confirm my opponent.\u0007I'd like to confirm the match time.\u0007I'd like information on Pankration.\u0007I'd like a rule refresher.\u0007No, but thank you for asking.\u007F1\u0000\u0007"
 30: 0x01AA [0x25] WAIT_DIALOG_SELECT()
 31: 0x01AB [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x01EB
 32: 0x01B3 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[11]
 33: 0x01B8 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[12]
 34: 0x01BD [0x1D] PRINT_EVENT_MESSAGE(message_id=11540*)
    → "\u0001	\u0002\u0002\u0000\u0000\u0000\u0002\u0001\u0000\u0000 is currently registered for an upcoming match. Do you really want to cancel its entry?\u007F1\u0000\u0007"
 35: 0x01C0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x01C1 [0x24] CREATE_DIALOG(message_id=11541*, default_option=1*, option_flags=0*)
    → "Final answer...\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 37: 0x01C8 [0x25] WAIT_DIALOG_SELECT()
 38: 0x01C9 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x01DD
 39: 0x01D1 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 40: 0x01D2 [0x03] Work_Zone[1] = 1*
 41: 0x01D7 [0x06] ExtData[1]->WorkLocal[4] = 0
 42: 0x01DA [0x01] GOTO 0x01E8
 43: 0x01DD [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x01E8
 44: 0x01E5 [0x01] GOTO 0x01E8

SUBROUTINE_01E8:
 45: 0x01E8 [0x01] GOTO 0x02B0
 46: 0x01EB [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x022A
 47: 0x01F3 [0x3E] IF !(Work_Zone[9] bit 1*) GOTO 0x0201
 48: 0x01FA [0x1D] PRINT_EVENT_MESSAGE(message_id=11547*)
    → "I'm sorry. It seems your opponent has yet to complete the registration process.\u007F1\u0000\u0007"
 49: 0x01FD [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x01FE [0x01] GOTO 0x0227
 51: 0x0201 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[9]
 52: 0x0206 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[10]
 53: 0x020B [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[13]
 54: 0x0210 [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[18]
 55: 0x0215 [0x3E] IF !(Work_Zone[9] bit 3*) GOTO 0x0223
 56: 0x021C [0x1D] PRINT_EVENT_MESSAGE(message_id=11548*)
    → "\u0001`Opponent Data\u0001`\u0007Name: \u0001	\u0002\u0002\u0000\u0000\u0000\u0002\u0001\u0000\u0000\u0007Family: \u007F\u0000\u0001\u0001\u0005\u0015\u0002\u0002\u0000\u0000\u0007Level: Approximately 
\u0003\u007F1\u0000\u0007"
 57: 0x021F [0x23] WAIT_FOR_DIALOG_INTERACTION
 58: 0x0220 [0x01] GOTO 0x0227
 59: 0x0223 [0x1D] PRINT_EVENT_MESSAGE(message_id=11545*)
    → "\u0001`Opponent Data\u0001`\u0007Name: \u0001	\u0002\u0002\u0000\u0000\u0000\u0002\u0001\u0000\u0000\u0007Family: \u007F\u0000\u0001\u0001\u0005\u0015\u0002\u0002\u0000\u0000\u0007Level: 
\u0003\u007F1\u0000\u0007"
 60: 0x0226 [0x23] WAIT_FOR_DIALOG_INTERACTION
 61: 0x0227 [0x01] GOTO 0x02B0
 62: 0x022A [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x023E
 63: 0x0232 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[33]
 64: 0x0237 [0x1D] PRINT_EVENT_MESSAGE(message_id=11549*)
    → "Your match is scheduled to begin at \u007F,\u0000 (\u007F+\u0000 Earth Time).\u007F1\u0000\u0007"
 65: 0x023A [0x23] WAIT_FOR_DIALOG_INTERACTION
 66: 0x023B [0x01] GOTO 0x02B0
 67: 0x023E [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x025A
 68: 0x0246 [0x1D] PRINT_EVENT_MESSAGE(message_id=11526*)
    → "Pankration (pan-krat-ee-on) is a battle venue in which you can \u00072pit\u00073 your very own monsters against the monsters of others.\u007F1\u0000\u0007"
 69: 0x0249 [0x23] WAIT_FOR_DIALOG_INTERACTION
 70: 0x024A [0x1D] PRINT_EVENT_MESSAGE(message_id=11527*)
    → "By participating in these battles, your monster will gain experience points and become stronger, just as you do when fighting fiends.\u007F1\u0000\u0007"
 71: 0x024D [0x23] WAIT_FOR_DIALOG_INTERACTION
 72: 0x024E [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[3]
 73: 0x0253 [0x1D] PRINT_EVENT_MESSAGE(message_id=11528*)
    → "After each battle, you must speak with a registration official in order to reflect the results of the previous match. Battle results will only be saved for 
\u0002 \u007F\u0012\u0002[day/days] (Earth time), after which they will become void, so it is recommended that you complete this task immediately after a match has ended.\u007F1\u0000\u0007"
 74: 0x0256 [0x23] WAIT_FOR_DIALOG_INTERACTION
 75: 0x0257 [0x01] GOTO 0x02B0
 76: 0x025A [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x02A2
 77: 0x0262 [0x02] IF !(ExtData[1]->WorkLocal[2] == 0*) GOTO 0x0275
 78: 0x026A [0x1D] PRINT_EVENT_MESSAGE(message_id=11529*)
    → "Currently, we are holding a Pankration tournament.\u007F1\u0000\u0007"
 79: 0x026D [0x23] WAIT_FOR_DIALOG_INTERACTION
 80: 0x026E [0x1D] PRINT_EVENT_MESSAGE(message_id=11530*)
    → "The rules are simple--only the winners of their respective battles advance to the next fight, with the final monster standing declared the victor.\u007F1\u0000\u0007"
 81: 0x0271 [0x23] WAIT_FOR_DIALOG_INTERACTION
 82: 0x0272 [0x01] GOTO 0x029F
 83: 0x0275 [0x02] IF !(ExtData[1]->WorkLocal[2] == 1*) GOTO 0x028C
 84: 0x027D [0x1D] PRINT_EVENT_MESSAGE(message_id=11531*)
    → "Currently, we are conducting versus battles.\u007F1\u0000\u0007"
 85: 0x0280 [0x23] WAIT_FOR_DIALOG_INTERACTION
 86: 0x0281 [0x1D] PRINT_EVENT_MESSAGE(message_id=11532*)
    → "These are basic matches pitting one monster against another, with the winner taking all.\u007F1\u0000\u0007"
 87: 0x0284 [0x23] WAIT_FOR_DIALOG_INTERACTION
 88: 0x0285 [0x1D] PRINT_EVENT_MESSAGE(message_id=11533*)
    → "If you apply as a two-person party, you will be able to reserve a registration slot for him or her, ensuring that your monster will be pit against that of your party member.\u007F1\u0000\u0007"
 89: 0x0288 [0x23] WAIT_FOR_DIALOG_INTERACTION
 90: 0x0289 [0x01] GOTO 0x029F
 91: 0x028C [0x02] IF !(ExtData[1]->WorkLocal[2] == 2*) GOTO 0x029F
 92: 0x0294 [0x1D] PRINT_EVENT_MESSAGE(message_id=11534*)
    → "Currently, we are conducting group battles.\u007F1\u0000\u0007"
 93: 0x0297 [0x23] WAIT_FOR_DIALOG_INTERACTION
 94: 0x0298 [0x1D] PRINT_EVENT_MESSAGE(message_id=11535*)
    → "Group battles are three-on-three melees which require adventurers to register small parties of monsters to fight in the Pit.\u007F1\u0000\u0007"
 95: 0x029B [0x23] WAIT_FOR_DIALOG_INTERACTION
 96: 0x029C [0x01] GOTO 0x029F

SUBROUTINE_029F:
 97: 0x029F [0x01] GOTO 0x02B0
 98: 0x02A2 [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x02B0
 99: 0x02AA [0x06] ExtData[1]->WorkLocal[4] = 0
100: 0x02AD [0x01] GOTO 0x02B0

SUBROUTINE_02B0:
101: 0x02B0 [0x01] GOTO 0x019B
102: 0x02B3 [0x21] END_EVENT
103: 0x02B4 [0x00] END_REQSTACK()
```
