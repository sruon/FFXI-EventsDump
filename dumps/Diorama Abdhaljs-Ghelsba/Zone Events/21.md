# Event 21

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/7       |
| Offset          | 0x00D0    |
| Data Size       | 206 bytes |
| Calculated Size | 206 bytes |
| Instructions    | 24        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00D0: 20 01 46 01 42 45 00 80  F0 FF FF 7F F0 FF FF 7F   .F.BE..........
00E0: 66 64 6F 30 01 80 55 00  80 F0 FF FF 7F F0 FF FF  fdo0..U.........
00F0: 7F 66 64 6F 30 94 01 F0  FF FF 7F 38 02 80 47 00  .fdo0......8..G.
0100: 0F 80 10 80 11 80 12 80  47 01 37 13 80 14 80 15  ........G.7.....
0110: 80 16 80 92 01 F0 FF FF  7F 45 0B 80 F0 FF FF 7F  .........E......
0120: F0 FF FF 7F 62 61 63 6B  01 80 1C 0C 80 45 00 80  ....back.....E..
0130: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 01 80 62 02  ........fdi1..b.
0140: 80 F0 FF FF 7F F0 FF FF  7F 6D 61 69 6E 01 80 1C  .........main...
0150: 0D 80 45 00 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..E..........fdo
0160: 32 01 80 55 00 80 F0 FF  FF 7F F0 FF FF 7F 66 64  2..U..........fd
0170: 6F 32 92 00 F0 FF FF 7F  46 00 45 00 80 F0 FF FF  o2......F.E.....
0180: 7F F0 FF FF 7F 66 64 69  32 01 80 62 0E 80 F0 FF  .....fdi2..b....
0190: FF 7F F0 FF FF 7F 6D 61  69 6E 01 80 21 00        ......main..!.  
```

## Opcodes

```
  0: 0x00D0 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x00D2 [0x46] CAMERA_CONTROL: Disable user control
  2: 0x00D4 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  3: 0x00D5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  4: 0x00E6 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=200*
  5: 0x00F5 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
  6: 0x00FB [0x38] SET_CLIENT_EVENT_MODE(mode=1*)
  7: 0x00FE [0x47] UPDATE_PLAYER_POS(-158.045*, 79.501*, -10.000*, yaw=347.4°*)
  8: 0x0108 [0x47] WAIT_PLAYER_POS_UPDATE
  9: 0x010A [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-187.628*, z=65.889*, y=-10.176*, direction=292.1°*
 10: 0x0113 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
 11: 0x0119 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
 12: 0x012A [0x1C] WAIT(10* ticks)
 13: 0x012D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 14: 0x013E [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[1*, 0*]
 15: 0x014F [0x1C] WAIT(60* ticks)
 16: 0x0152 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 17: 0x0163 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=200*
 18: 0x0172 [0x92] LocalPlayer->Render.Flags3 = Flags3  // No change (flag=0)
 19: 0x0178 [0x46] CAMERA_CONTROL: Restore default settings
 20: 0x017A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 21: 0x018B [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[2*, 0*]
 22: 0x019C [0x21] END_EVENT
 23: 0x019D [0x00] END_REQSTACK()
```
