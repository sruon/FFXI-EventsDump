# Event 15

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/6       |
| Offset          | 0x0001    |
| Data Size       | 213 bytes |
| Calculated Size | 213 bytes |
| Instructions    | 53        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    06 01 10 41 00 80 01  80 02 10 2A 00 41 02 80   ...A......*.A..
0010: 03 80 02 10 1D 00 03 29  00 03 10 03 30 00 04 10  .......)....0...
0020: 03 32 00 05 10 03 00 00  06 10 03 1B 00 07 10 03  .2..............
0030: 1C 00 08 10 20 01 1E F0  FF FF 7F 6F 70 03 02 10  .... ......op...
0040: 00 00 1D 04 80 23 02 09  10 05 80 80 51 00 01 D4  .....#......Q...
0050: 00 02 09 10 06 80 80 60  00 1D 07 80 23 01 D4 00  .......`....#...
0060: 02 29 00 08 80 00 79 00  03 02 10 2A 00 03 03 10  .)....y....*....
0070: 00 80 1D 09 80 23 01 D4  00 02 30 00 08 80 00 8D  .....#....0.....
0080: 00 03 02 10 2A 00 1D 0A  80 23 01 D4 00 02 32 00  ....*....#....2.
0090: 08 80 00 9C 00 1D 0B 80  23 01 D4 00 03 02 10 1B  ........#.......
00A0: 00 03 03 10 1C 00 1D 0C  80 23 02 1D 00 00 80 00  .........#......
00B0: B6 00 1D 0D 80 23 03 02  10 2A 00 24 0E 80 08 80  .....#...*.$....
00C0: 00 80 25 02 00 10 00 80  00 D4 00 42 03 01 10 08  ..%........B....
00D0: 80 01 D4 00 21 00                                 ....!.          
```

## Opcodes

```
  0: 0x0001 [0x06] Work_Zone[1] = 0
  1: 0x0004 [0x41] ExtData[1]->WorkLocal[42] = Work_Zone[2] (bits 0*-15*)
  2: 0x000D [0x41] ExtData[1]->WorkLocal[29] = Work_Zone[2] (bits 16*-31*)
  3: 0x0016 [0x03] ExtData[1]->WorkLocal[41] = Work_Zone[3]
  4: 0x001B [0x03] ExtData[1]->WorkLocal[48] = Work_Zone[4]
  5: 0x0020 [0x03] ExtData[1]->WorkLocal[50] = Work_Zone[5]
  6: 0x0025 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[6]
  7: 0x002A [0x03] ExtData[1]->WorkLocal[27] = Work_Zone[7]
  8: 0x002F [0x03] ExtData[1]->WorkLocal[28] = Work_Zone[8]
  9: 0x0034 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
 10: 0x0036 [0x1E] EventEntity looks at LocalPlayer and starts talking
 11: 0x003B [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 12: 0x003C [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 13: 0x003D [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[0]
 14: 0x0042 [0x1D] PRINT_EVENT_MESSAGE(message_id=7928*)
    → "The Ballista Royale is underway!\u0007\u000C\u0000[ /Currently, match rules are being set/Currently, I am accepting match entries/Currently, we are in the briefing period for the next match/Currently, a match is in progress/The next match has been cancelled due to a lack of participants/Currently, a match has just ended].\u007F1\u0000\u0007"
 15: 0x0045 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x0046 [0x02] IF !(Work_Zone[9] == 4294967294*) GOTO 0x0051
 17: 0x004E [0x01] GOTO 0x00D4
 18: 0x0051 [0x02] IF !(Work_Zone[9] == 4294967295*) GOTO 0x0060
 19: 0x0059 [0x1D] PRINT_EVENT_MESSAGE(message_id=7819*)
    → "I am not accepting entries for either team at this time.\u007F1\u0000\u0007"
 20: 0x005C [0x23] WAIT_FOR_DIALOG_INTERACTION
 21: 0x005D [0x01] GOTO 0x00D4
 22: 0x0060 [0x02] IF !(ExtData[1]->WorkLocal[41] == 1*) GOTO 0x0079
 23: 0x0068 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[42]
 24: 0x006D [0x03] Work_Zone[3] = 0*
 25: 0x0072 [0x1D] PRINT_EVENT_MESSAGE(message_id=7814*)
    → "You are already a\u000C\u0001[ / temporary ]member of the \u000C\u0000[Wyverns/Griffons].\u007F1\u0000\u0007"
 26: 0x0075 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x0076 [0x01] GOTO 0x00D4
 28: 0x0079 [0x02] IF !(ExtData[1]->WorkLocal[48] == 1*) GOTO 0x008D
 29: 0x0081 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[42]
 30: 0x0086 [0x1D] PRINT_EVENT_MESSAGE(message_id=7817*)
    → "The \u000C\u0000[Wyverns/Griffons] are currently not accepting any more entries at this time.\u007F1\u0000\u0007"
 31: 0x0089 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x008A [0x01] GOTO 0x00D4
 33: 0x008D [0x02] IF !(ExtData[1]->WorkLocal[50] == 1*) GOTO 0x009C
 34: 0x0095 [0x1D] PRINT_EVENT_MESSAGE(message_id=7818*)
    → "Someone with the same main job as you has already joined that side. I'm sorry, but the current rules do not allow multiple players with the same job to serve in the same forces.\u007F1\u0000\u0007"
 35: 0x0098 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x0099 [0x01] GOTO 0x00D4
 37: 0x009C [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[27]
 38: 0x00A1 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[28]
 39: 0x00A6 [0x1D] PRINT_EVENT_MESSAGE(message_id=7929*)
    → "We have been waiting for you, \u0008.\u0007Let us begin the entry application process.\u007F1\u0000\u0007"
 40: 0x00A9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x00AA [0x02] IF !(ExtData[1]->WorkLocal[29] == 0*) GOTO 0x00B6
 42: 0x00B2 [0x1D] PRINT_EVENT_MESSAGE(message_id=7930*)
    → "Your match will begin on \u007F+\u0000 and end on \u007F+\u0001.\u007F1\u0000\u0007"
 43: 0x00B5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x00B6 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[42]
 45: 0x00BB [0x24] CREATE_DIALOG(message_id=7931*, default_option=1*, option_flags=0*)
    → "Join the \u000C\u0000[Wyverns/Griffons]?\u0007\u000BRight away.\u0007Not yet.\u007F1\u0000\u0007"
 46: 0x00C2 [0x25] WAIT_DIALOG_SELECT()
 47: 0x00C3 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00D4
 48: 0x00CB [0x42] SET_CLI_EVENT_CANCEL_DATA()
 49: 0x00CC [0x03] Work_Zone[1] = 1*
 50: 0x00D1 [0x01] GOTO 0x00D4

SUBROUTINE_00D4:
 51: 0x00D4 [0x21] END_EVENT
 52: 0x00D5 [0x00] END_REQSTACK()
```
