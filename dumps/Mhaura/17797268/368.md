# Event 368

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/4       |
| Offset          | 0x0001    |
| Data Size       | 640 bytes |
| Calculated Size | 640 bytes |
| Instructions    | 85        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 45 00 80 F8 FF FF  7F F8 FF FF 7F 66 64 6F   BE..........fdo
0010: 31 01 80 55 00 80 F8 FF  FF 7F F8 FF FF 7F 66 64  1..U..........fd
0020: 6F 31 03 01 10 02 80 43  00 43 01 03 00 00 09 10  o1.....C.C......
0030: 46 01 38 03 80 75 00 04  80 75 01 2F 00 95 90 0F  F.8..u...u./....
0040: 01 4E 00 95 90 0F 01 4E  00 F0 FF FF 7F 92 01 93  .N.....N........
0050: 90 0F 01 92 01 95 90 0F  01 92 01 96 90 0F 01 92  ................
0060: 01 02 90 0F 01 94 01 93  90 0F 01 94 01 95 90 0F  ................
0070: 01 94 01 96 90 0F 01 94  01 F0 FF FF 7F 94 01 02  ................
0080: 90 0F 01 BA 95 90 0F 01  05 80 06 80 07 80 08 80  ................
0090: BA 96 90 0F 01 09 80 0A  80 0B 80 0C 80 BA F0 FF  ................
00A0: FF 7F 0D 80 0E 80 0F 80  10 80 BA 93 90 0F 01 11  ................
00B0: 80 12 80 0F 80 13 80 80  95 90 0F 01 80 F0 FF FF  ................
00C0: 7F 80 96 90 0F 01 80 93  90 0F 01 80 02 90 0F 01  ................
00D0: 5C 00 14 80 5C 01 14 80  9A 27 05 33 90 0F 01 05  \...\....'.3....
00E0: 27 05 96 90 0F 01 02 45  15 80 F8 FF FF 7F F8 FF  '......E........
00F0: FF 7F 73 30 30 30 01 80  1C 16 80 45 00 80 F8 FF  ..s000.....E....
0100: FF 7F F8 FF FF 7F 66 64  69 31 01 80 55 00 80 F8  ......fdi1..U...
0110: FF FF 7F F8 FF FF 7F 66  64 69 31 27 05 95 90 0F  .......fdi1'....
0120: 01 02 1C 17 80 52 15 80  F8 FF FF 7F F8 FF FF 7F  .....R..........
0130: 73 30 30 30 45 15 80 F8  FF FF 7F F8 FF FF 7F 73  s000E..........s
0140: 30 30 31 01 80 1C 16 80  7A 00 95 90 0F 01 7A 00  001.....z.....z.
0150: 96 90 0F 01 BA 95 90 0F  01 18 80 19 80 1A 80 1B  ................
0160: 80 BA 96 90 0F 01 1C 80  1D 80 1A 80 1B 80 27 05  ..............'.
0170: 95 90 0F 01 03 1C 16 80  27 05 96 90 0F 01 03 1C  ........'.......
0180: 17 80 27 05 F0 FF FF 7F  2A 1C 1E 80 52 15 80 F8  ..'.....*...R...
0190: FF FF 7F F8 FF FF 7F 73  30 30 31 45 15 80 F8 FF  .......s001E....
01A0: FF 7F F8 FF FF 7F 73 30  30 32 01 80 1C 1F 80 27  ......s002.....'
01B0: 05 93 90 0F 01 03 1C 1E  80 52 15 80 F8 FF FF 7F  .........R......
01C0: F8 FF FF 7F 73 30 30 32  45 15 80 F8 FF FF 7F F8  ....s002E.......
01D0: FF FF 7F 73 30 30 33 01  80 02 00 00 01 80 00 09  ...s003.........
01E0: 02 2B 93 90 0F 01 20 80  23 2A 05 93 90 0F 01 66  .+.... .#*.....f
01F0: 21 80 93 90 0F 01 93 90  0F 01 74 6C 6B 30 2B 93  !.........tlk0+.
0200: 90 0F 01 22 80 23 01 3D  02 2A 05 93 90 0F 01 66  ...".#.=.*.....f
0210: 21 80 93 90 0F 01 93 90  0F 01 74 68 6B 31 2B 93  !.........thk1+.
0220: 90 0F 01 23 80 23 66 21  80 93 90 0F 01 93 90 0F  ...#.#f!........
0230: 01 74 68 6B 32 2B 93 90  0F 01 24 80 23 45 00 80  .thk2+....$.#E..
0240: F8 FF FF 7F F8 FF FF 7F  66 64 6F 31 01 80 55 00  ........fdo1..U.
0250: 80 F8 FF FF 7F F8 FF FF  7F 66 64 6F 31 52 15 80  .........fdo1R..
0260: F8 FF FF 7F F8 FF FF 7F  73 30 30 33 46 00 45 00  ........s003F.E.
0270: 80 F8 FF FF 7F F8 FF FF  7F 66 64 69 32 01 80 21  .........fdi2..!
0280: 00                                                .               
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  2: 0x0013 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
  3: 0x0022 [0x03] Work_Zone[1] = 1*
  4: 0x0027 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
  5: 0x0029 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
  6: 0x002B [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[9]
  7: 0x0030 [0x46] CAMERA_CONTROL: Disable user control
  8: 0x0032 [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  9: 0x0035 [0x75] LOAD_ROOM(Load indoor room, room=487*)
 10: 0x0039 [0x75] LOAD_ROOM(No action)
 11: 0x003B [0x2F] Gilgamesh (ID: 17797269/0x010F9095)->Render.Flags0 &= ~0x80000 // Bit 19
 12: 0x0041 [0x4E] SET_ENTITY_HIDE_FLAG: Show Gilgamesh (ID: 17797269/0x010F9095)
 13: 0x0047 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 14: 0x004D [0x92] Marilionne (ID: 17797267/0x010F9093)->Render.Flags3 ^= 0x01
 15: 0x0053 [0x92] Gilgamesh (ID: 17797269/0x010F9095)->Render.Flags3 ^= 0x01
 16: 0x0059 [0x92] Tonasav (ID: 17797270/0x010F9096)->Render.Flags3 ^= 0x01
 17: 0x005F [0x92] Hyria (ID: 17797122/0x010F9002)->Render.Flags3 ^= 0x01
 18: 0x0065 [0x94] Marilionne (ID: 17797267/0x010F9093)->Render.Flags3 ^= 0x01
 19: 0x006B [0x94] Gilgamesh (ID: 17797269/0x010F9095)->Render.Flags3 ^= 0x01
 20: 0x0071 [0x94] Tonasav (ID: 17797270/0x010F9096)->Render.Flags3 ^= 0x01
 21: 0x0077 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 22: 0x007D [0x94] Hyria (ID: 17797122/0x010F9002)->Render.Flags3 ^= 0x01
 23: 0x0083 [0xBA] SET_ENTITY_POSITION(entity_id=Gilgamesh (ID: 17797269/0x010F9095), pos_x=-70.420*, pos_z=31.881*, pos_y=-24.000*, direction=357.5°*)
 24: 0x0090 [0xBA] SET_ENTITY_POSITION(entity_id=Tonasav (ID: 17797270/0x010F9096), pos_x=-74.064*, pos_z=31.659*, pos_y=-23.999*, direction=6.9°*)
 25: 0x009D [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-0.077*, pos_z=115.647*, pos_y=-4.000*, direction=88.8°*)
 26: 0x00AA [0xBA] SET_ENTITY_POSITION(entity_id=Marilionne (ID: 17797267/0x010F9093), pos_x=-2.636*, pos_z=106.223*, pos_y=-4.000*, direction=308.2°*)
 27: 0x00B7 [0x80] LOAD_WAIT(entity=Gilgamesh (ID: 17797269/0x010F9095))
 28: 0x00BC [0x80] LOAD_WAIT(entity=LocalPlayer)
 29: 0x00C1 [0x80] LOAD_WAIT(entity=Tonasav (ID: 17797270/0x010F9096))
 30: 0x00C6 [0x80] LOAD_WAIT(entity=Marilionne (ID: 17797267/0x010F9093))
 31: 0x00CB [0x80] LOAD_WAIT(entity=Hyria (ID: 17797122/0x010F9002))
 32: 0x00D0 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 105*
 33: 0x00D4 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 105*
 34: 0x00D8 [0x9A] WAIT_MUSIC_SERVER()
 35: 0x00D9 [0x27] REQ_SET(priority=0x05, entity_id=Door:Governor's House (ID: 17797171/0x010F9033), tag_num=0x05)
 36: 0x00E0 [0x27] REQ_SET(priority=0x05, entity_id=Tonasav (ID: 17797270/0x010F9096), tag_num=0x02)
 37: 0x00E7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s000" with entities [EventEntity, EventEntity], work=[760*, 0*]
 38: 0x00F8 [0x1C] WAIT(15* ticks)
 39: 0x00FB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 40: 0x010C [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [EventEntity, EventEntity], work=200*
 41: 0x011B [0x27] REQ_SET(priority=0x05, entity_id=Gilgamesh (ID: 17797269/0x010F9095), tag_num=0x02)
 42: 0x0122 [0x1C] WAIT(180* ticks)
 43: 0x0125 [0x52] END_LOAD_SCHEDULER: End scheduler "s000" with entities [EventEntity, EventEntity], work=760*
 44: 0x0134 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s001" with entities [EventEntity, EventEntity], work=[760*, 0*]
 45: 0x0145 [0x1C] WAIT(15* ticks)
 46: 0x0148 [0x7A] VM_CONTROL: Reset VM for Gilgamesh (ID: 17797269/0x010F9095)
 47: 0x014E [0x7A] VM_CONTROL: Reset VM for Tonasav (ID: 17797270/0x010F9096)
 48: 0x0154 [0xBA] SET_ENTITY_POSITION(entity_id=Gilgamesh (ID: 17797269/0x010F9095), pos_x=-38.156*, pos_z=52.942*, pos_y=-16.000*, direction=120.8°*)
 49: 0x0161 [0xBA] SET_ENTITY_POSITION(entity_id=Tonasav (ID: 17797270/0x010F9096), pos_x=-37.587*, pos_z=53.316*, pos_y=-16.000*, direction=120.8°*)
 50: 0x016E [0x27] REQ_SET(priority=0x05, entity_id=Gilgamesh (ID: 17797269/0x010F9095), tag_num=0x03)
 51: 0x0175 [0x1C] WAIT(15* ticks)
 52: 0x0178 [0x27] REQ_SET(priority=0x05, entity_id=Tonasav (ID: 17797270/0x010F9096), tag_num=0x03)
 53: 0x017F [0x1C] WAIT(180* ticks)
 54: 0x0182 [0x27] REQ_SET(priority=0x05, entity_id=LocalPlayer, tag_num=0x2A)
 55: 0x0189 [0x1C] WAIT(30* ticks)
 56: 0x018C [0x52] END_LOAD_SCHEDULER: End scheduler "s001" with entities [EventEntity, EventEntity], work=760*
 57: 0x019B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s002" with entities [EventEntity, EventEntity], work=[760*, 0*]
 58: 0x01AC [0x1C] WAIT(120* ticks)
 59: 0x01AF [0x27] REQ_SET(priority=0x05, entity_id=Marilionne (ID: 17797267/0x010F9093), tag_num=0x03)
 60: 0x01B6 [0x1C] WAIT(30* ticks)
 61: 0x01B9 [0x52] END_LOAD_SCHEDULER: End scheduler "s002" with entities [EventEntity, EventEntity], work=760*
 62: 0x01C8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s003" with entities [EventEntity, EventEntity], work=[760*, 0*]
 63: 0x01D9 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x0209
 64: 0x01E1 [0x2B] Marilionne (ID: 17797267/0x010F9093) [8037*]:
    → "An adventurer, are you not? Perhaps it would behoove you to speak to our esteemed governor.\u007F1\u0000\u0007"
 65: 0x01E8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 66: 0x01E9 [0x2A] GET_REQ_LEVEL(level=5, entity_id=Marilionne (ID: 17797267/0x010F9093))
 67: 0x01EF [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [Marilionne (ID: 17797267/0x010F9093), Marilionne (ID: 17797267/0x010F9093)], work=39*
 68: 0x01FE [0x2B] Marilionne (ID: 17797267/0x010F9093) [8038*]:
    → "There is doubtless a mountain of work around here that needs a steady hand. Somo Aatsula can show you the way.\u007F1\u0000\u0007"
 69: 0x0205 [0x23] WAIT_FOR_DIALOG_INTERACTION
 70: 0x0206 [0x01] GOTO 0x023D
 71: 0x0209 [0x2A] GET_REQ_LEVEL(level=5, entity_id=Marilionne (ID: 17797267/0x010F9093))
 72: 0x020F [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [Marilionne (ID: 17797267/0x010F9093), Marilionne (ID: 17797267/0x010F9093)], work=39*
 73: 0x021E [0x2B] Marilionne (ID: 17797267/0x010F9093) [8039*]:
    → "Ah, you must be the adventurer the governor was looking for!\u007F1\u0000\u0007"
 74: 0x0225 [0x23] WAIT_FOR_DIALOG_INTERACTION
 75: 0x0226 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [Marilionne (ID: 17797267/0x010F9093), Marilionne (ID: 17797267/0x010F9093)], work=39*
 76: 0x0235 [0x2B] Marilionne (ID: 17797267/0x010F9093) [8040*]:
    → "She has been putting out a call for days now--see if you can lend her a hand.\u007F1\u0000\u0007"
 77: 0x023C [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_023D:
 78: 0x023D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 79: 0x024E [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
 80: 0x025D [0x52] END_LOAD_SCHEDULER: End scheduler "s003" with entities [EventEntity, EventEntity], work=760*
 81: 0x026C [0x46] CAMERA_CONTROL: Restore default settings
 82: 0x026E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [EventEntity, EventEntity], work=[200*, 0*]
 83: 0x027F [0x21] END_EVENT
 84: 0x0280 [0x00] END_REQSTACK()
```
