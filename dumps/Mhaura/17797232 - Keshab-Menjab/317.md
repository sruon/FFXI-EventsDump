# Event 317

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 6/6       |
| Offset          | 0x00C7    |
| Data Size       | 810 bytes |
| Calculated Size | 810 bytes |
| Instructions    | 90        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00C0:                      42  1E F0 FF FF 7F 6F 70 6E         B.....opn
00D0: F8 FF FF 7F 13 80 99 F8  FF FF 7F 1D 14 80 23 66  ..............#f
00E0: 00 80 F8 FF FF 7F F8 FF  FF 7F 74 68 6B 31 1D 15  ..........thk1..
00F0: 80 23 1D 16 80 23 53 F8  FF FF 7F F8 FF FF 7F 74  .#...#S........t
0100: 68 6B 31 66 00 80 F8 FF  FF 7F F8 FF FF 7F 74 68  hk1f..........th
0110: 6B 32 53 F8 FF FF 7F F8  FF FF 7F 74 68 6B 32 4A  k2S........thk2J
0120: F0 FF FF 7F F8 FF FF 7F  6F 76 F0 FF FF 7F 02 02  ........ov......
0130: 10 06 80 80 78 01 66 17  80 F0 FF FF 7F F0 FF FF  ....x.f.........
0140: 7F 74 6C 6B 30 49 F0 FF  FF 7F 18 80 53 F0 FF FF  .tlk0I......S...
0150: 7F F0 FF FF 7F 74 6C 6B  30 66 17 80 F0 FF FF 7F  .....tlk0f......
0160: F0 FF FF 7F 74 6C 6B 31  53 F0 FF FF 7F F0 FF FF  ....tlk1S.......
0170: 7F 74 6B 6C 31 01 7E 03  02 02 10 19 80 80 C2 01  .tkl1.~.........
0180: 66 1A 80 F0 FF FF 7F F0  FF FF 7F 74 6C 6B 30 49  f..........tlk0I
0190: F8 FF FF 7F 18 80 53 F0  FF FF 7F F0 FF FF 7F 74  ......S........t
01A0: 6C 6B 30 66 1A 80 F0 FF  FF 7F F0 FF FF 7F 74 6C  lk0f..........tl
01B0: 6B 31 53 F0 FF FF 7F F0  FF FF 7F 74 6B 6C 31 01  k1S........tkl1.
01C0: 7E 03 02 02 10 1B 80 80  0C 02 66 1C 80 F0 FF FF  ~.........f.....
01D0: 7F F0 FF FF 7F 74 6C 6B  30 49 F8 FF FF 7F 18 80  .....tlk0I......
01E0: 53 F0 FF FF 7F F0 FF FF  7F 74 6C 6B 30 66 1C 80  S........tlk0f..
01F0: F0 FF FF 7F F0 FF FF 7F  74 6C 6B 31 53 F0 FF FF  ........tlk1S...
0200: 7F F0 FF FF 7F 74 6B 6C  31 01 7E 03 02 02 10 1D  .....tkl1.~.....
0210: 80 80 56 02 66 1E 80 F0  FF FF 7F F0 FF FF 7F 74  ..V.f..........t
0220: 6C 6B 30 49 F8 FF FF 7F  18 80 53 F0 FF FF 7F F0  lk0I......S.....
0230: FF FF 7F 74 6C 6B 30 66  1E 80 F0 FF FF 7F F0 FF  ...tlk0f........
0240: FF 7F 74 6C 6B 31 53 F0  FF FF 7F F0 FF FF 7F 74  ..tlk1S........t
0250: 6B 6C 31 01 7E 03 02 02  10 1F 80 80 A0 02 66 20  kl1.~.........f 
0260: 80 F0 FF FF 7F F0 FF FF  7F 74 6C 6B 30 49 F8 FF  .........tlk0I..
0270: FF 7F 18 80 53 F0 FF FF  7F F0 FF FF 7F 74 6C 6B  ....S........tlk
0280: 30 66 20 80 F0 FF FF 7F  F0 FF FF 7F 74 6C 6B 31  0f .........tlk1
0290: 53 F0 FF FF 7F F0 FF FF  7F 74 6B 6C 31 01 7E 03  S........tkl1.~.
02A0: 02 02 10 11 80 80 EA 02  66 20 80 F0 FF FF 7F F0  ........f ......
02B0: FF FF 7F 74 6C 6B 30 49  F8 FF FF 7F 18 80 53 F0  ...tlk0I......S.
02C0: FF FF 7F F0 FF FF 7F 74  6C 6B 30 66 20 80 F0 FF  .......tlk0f ...
02D0: FF 7F F0 FF FF 7F 74 6C  6B 31 53 F0 FF FF 7F F0  ......tlk1S.....
02E0: FF FF 7F 74 6B 6C 31 01  7E 03 02 02 10 13 80 80  ...tkl1.~.......
02F0: 34 03 66 21 80 F0 FF FF  7F F0 FF FF 7F 74 6C 6B  4.f!.........tlk
0300: 30 49 F8 FF FF 7F 18 80  53 F0 FF FF 7F F0 FF FF  0I......S.......
0310: 7F 74 6C 6B 30 66 21 80  F0 FF FF 7F F0 FF FF 7F  .tlk0f!.........
0320: 74 6C 6B 31 53 F0 FF FF  7F F0 FF FF 7F 74 6B 6C  tlk1S........tkl
0330: 31 01 7E 03 02 02 10 22  80 80 7E 03 66 23 80 F0  1.~...."..~.f#..
0340: FF FF 7F F0 FF FF 7F 74  6C 6B 30 49 F8 FF FF 7F  .......tlk0I....
0350: 18 80 53 F0 FF FF 7F F0  FF FF 7F 74 6C 6B 30 66  ..S........tlk0f
0360: 23 80 F0 FF FF 7F F0 FF  FF 7F 74 6C 6B 31 53 F0  #.........tlk1S.
0370: FF FF 7F F0 FF FF 7F 74  6B 6C 31 01 7E 03 66 00  .......tkl1.~.f.
0380: 80 F8 FF FF 7F F8 FF FF  7F 74 68 6B 31 53 F8 FF  .........thk1S..
0390: FF 7F F8 FF FF 7F 74 68  6B 31 1D 24 80 23 66 00  ......thk1.$.#f.
03A0: 80 F8 FF FF 7F F8 FF FF  7F 74 68 6B 32 53 F8 FF  .........thk2S..
03B0: FF 7F F8 FF FF 7F 74 68  6B 32 1D 25 80 23 66 00  ......thk2.%.#f.
03C0: 80 F8 FF FF 7F F8 FF FF  7F 70 6F 69 30 1D 26 80  .........poi0.&.
03D0: 23 53 F8 FF FF 7F F8 FF  FF 7F 70 6F 69 30 45 27  #S........poi0E'
03E0: 80 F8 FF FF 7F F8 FF FF  7F 71 73 74 63 07 80 21  .........qstc..!
03F0: 00                                                .               
```

## Opcodes

```
  0: 0x00C7 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x00C8 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x00CD [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x00CE [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x00CF [0x6E] EventEntity uses emote 7*
  5: 0x00D6 [0x99] Wait for EventEntity animation to complete
  6: 0x00DB [0x1D] PRINT_EVENT_MESSAGE(message_id=7592*)
    → "Oh! What a clean break! Even I can fix this guy!\u007F1\u0000\u0007"
  7: 0x00DE [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x00DF [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=40*, entity1=EventEntity, entity2=EventEntity, action="thk1")
  9: 0x00EE [0x1D] PRINT_EVENT_MESSAGE(message_id=7593*)
    → "Hm?\u0007Huh?\u0007What?\u007F1\u0000\u0007"
 10: 0x00F1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x00F2 [0x1D] PRINT_EVENT_MESSAGE(message_id=7594*)
    → "It looks like some-biddy-body's put a little crickity-crack in this rod to make it easier to brickity-break.\u0007You didn't do this, did you?\u007F1\u0000\u0007"
 12: 0x00F5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x00F6 [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="thk1")
 14: 0x0103 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=40*, entity1=EventEntity, entity2=EventEntity, action="thk2")
 15: 0x0112 [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="thk2")
 16: 0x011F [0x4A] LocalPlayer looks at EventEntity
 17: 0x0128 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 18: 0x0129 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 19: 0x012E [0x02] IF !(Work_Zone[2] == 1*) GOTO 0x0178
 20: 0x0136 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=9*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk0")
 21: 0x0145 [0x49] LocalPlayer (No speaker name) [7595*]:
 22: 0x014C [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tlk0")
 23: 0x0159 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=9*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk1")
 24: 0x0168 [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tkl1")
 25: 0x0175 [0x01] GOTO 0x037E

SUBROUTINE_0178:
 26: 0x0178 [0x02] IF !(Work_Zone[2] == 2*) GOTO 0x01C2
 27: 0x0180 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=19*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk0")
 28: 0x018F [0x49] EventEntity (No speaker name) [7595*]:
 29: 0x0196 [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tlk0")
 30: 0x01A3 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=19*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk1")
 31: 0x01B2 [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tkl1")
 32: 0x01BF [0x01] GOTO 0x037E

SUBROUTINE_01C2:
 33: 0x01C2 [0x02] IF !(Work_Zone[2] == 3*) GOTO 0x020C
 34: 0x01CA [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=29*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk0")
 35: 0x01D9 [0x49] EventEntity (No speaker name) [7595*]:
 36: 0x01E0 [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tlk0")
 37: 0x01ED [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=29*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk1")
 38: 0x01FC [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tkl1")
 39: 0x0209 [0x01] GOTO 0x037E

SUBROUTINE_020C:
 40: 0x020C [0x02] IF !(Work_Zone[2] == 4*) GOTO 0x0256
 41: 0x0214 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=39*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk0")
 42: 0x0223 [0x49] EventEntity (No speaker name) [7595*]:
 43: 0x022A [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tlk0")
 44: 0x0237 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=39*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk1")
 45: 0x0246 [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tkl1")
 46: 0x0253 [0x01] GOTO 0x037E

SUBROUTINE_0256:
 47: 0x0256 [0x02] IF !(Work_Zone[2] == 5*) GOTO 0x02A0
 48: 0x025E [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk0")
 49: 0x026D [0x49] EventEntity (No speaker name) [7595*]:
 50: 0x0274 [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tlk0")
 51: 0x0281 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk1")
 52: 0x0290 [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tkl1")
 53: 0x029D [0x01] GOTO 0x037E

SUBROUTINE_02A0:
 54: 0x02A0 [0x02] IF !(Work_Zone[2] == 6*) GOTO 0x02EA
 55: 0x02A8 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk0")
 56: 0x02B7 [0x49] EventEntity (No speaker name) [7595*]:
 57: 0x02BE [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tlk0")
 58: 0x02CB [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk1")
 59: 0x02DA [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tkl1")
 60: 0x02E7 [0x01] GOTO 0x037E

SUBROUTINE_02EA:
 61: 0x02EA [0x02] IF !(Work_Zone[2] == 7*) GOTO 0x0334
 62: 0x02F2 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=59*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk0")
 63: 0x0301 [0x49] EventEntity (No speaker name) [7595*]:
 64: 0x0308 [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tlk0")
 65: 0x0315 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=59*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk1")
 66: 0x0324 [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tkl1")
 67: 0x0331 [0x01] GOTO 0x037E

SUBROUTINE_0334:
 68: 0x0334 [0x02] IF !(Work_Zone[2] == 8*) GOTO 0x037E
 69: 0x033C [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=69*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk0")
 70: 0x034B [0x49] EventEntity (No speaker name) [7595*]:
 71: 0x0352 [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tlk0")
 72: 0x035F [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=69*, entity1=LocalPlayer, entity2=LocalPlayer, action="tlk1")
 73: 0x036E [0x53] WAIT_SCHEDULER_TASK(entity1=LocalPlayer, entity2=LocalPlayer, action_id="tkl1")
 74: 0x037B [0x01] GOTO 0x037E

SUBROUTINE_037E:
 75: 0x037E [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=40*, entity1=EventEntity, entity2=EventEntity, action="thk1")
 76: 0x038D [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="thk1")
 77: 0x039A [0x1D] PRINT_EVENT_MESSAGE(message_id=7596*)
    → "You found it on Purgonorgo Isle? Hmmm... This is not good...\u007F1\u0000\u0007"
 78: 0x039D [0x23] WAIT_FOR_DIALOG_INTERACTION
 79: 0x039E [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=40*, entity1=EventEntity, entity2=EventEntity, action="thk2")
 80: 0x03AD [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="thk2")
 81: 0x03BA [0x1D] PRINT_EVENT_MESSAGE(message_id=7597*)
    → "If somebody's trying to pull a fast one on the Flubby-Fishermen's Guild's verily-valued customers, our guildmaster's going to have a cat fit. Heads will roll, let me tell you!\u007F1\u0000\u0007"
 82: 0x03BD [0x23] WAIT_FOR_DIALOG_INTERACTION
 83: 0x03BE [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=40*, entity1=EventEntity, entity2=EventEntity, action="poi0")
 84: 0x03CD [0x1D] PRINT_EVENT_MESSAGE(message_id=7598*)
    → "Anyway, thanks for bringing back the rod. Here's your reward.\u0007I'll report the dittily-details of this matter to the guild.\u007F1\u0000\u0007"
 85: 0x03D0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 86: 0x03D1 [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="poi0")
 87: 0x03DE [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=EventEntity, entity2=EventEntity, scheduler_id="qstc", work_offset2=0*)
 88: 0x03EF [0x21] END_EVENT
 89: 0x03F0 [0x00] END_REQSTACK()
```
