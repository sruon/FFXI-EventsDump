# Event 328

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 5/14      |
| Offset          | 0x00D2    |
| Data Size       | 620 bytes |
| Calculated Size | 620 bytes |
| Instructions    | 69        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00D0:       42 46 01 45 10 80  F0 FF FF 7F F0 FF FF 7F    BF.E..........
00E0: 66 64 6F 31 06 80 55 10  80 F0 FF FF 7F F0 FF FF  fdo1..U.........
00F0: 7F 66 64 6F 31 29 0A F0  FF FF 7F 29 45 11 80 F0  .fdo1).....)E...
0100: FF FF 7F F0 FF FF 7F 73  30 34 32 06 80 38 12 80  .......s042..8..
0110: 4E 00 7F 90 0F 01 45 10  80 F0 FF FF 7F F0 FF FF  N.....E.........
0120: 7F 66 64 69 31 06 80 03  01 10 02 10 1E F0 FF FF  .fdi1...........
0130: 7F 1D 13 80 1C 14 80 79  00 F0 FF FF 7F 7F 90 0F  .......y........
0140: 01 79 00 7F 90 0F 01 7E  90 0F 01 27 0A 7F 90 0F  .y.....~...'....
0150: 01 02 1E 7F 90 0F 01 23  2B 7F 90 0F 01 15 80 23  .......#+......#
0160: 2A 0A 7F 90 0F 01 79 00  7F 90 0F 01 F0 FF FF 7F  *.....y.........
0170: 52 11 80 F0 FF FF 7F F0  FF FF 7F 73 30 34 32 45  R..........s042E
0180: 11 80 F0 FF FF 7F F0 FF  FF 7F 73 30 34 33 06 80  ..........s043..
0190: 2B 7F 90 0F 01 16 80 23  45 10 80 F0 FF FF 7F F0  +......#E.......
01A0: FF FF 7F 66 64 6F 32 06  80 55 10 80 F0 FF FF 7F  ...fdo2..U......
01B0: F0 FF FF 7F 66 64 6F 32  66 17 80 7F 90 0F 01 7F  ....fdo2f.......
01C0: 90 0F 01 74 68 6B 31 1C  18 80 52 11 80 F0 FF FF  ...thk1...R.....
01D0: 7F F0 FF FF 7F 73 30 34  33 45 11 80 F0 FF FF 7F  .....s043E......
01E0: F0 FF FF 7F 73 30 34 34  06 80 45 10 80 F0 FF FF  ....s044..E.....
01F0: 7F F0 FF FF 7F 66 64 69  32 06 80 2B 7F 90 0F 01  .....fdi2..+....
0200: 19 80 23 66 17 80 7F 90  0F 01 7F 90 0F 01 74 68  ..#f..........th
0210: 6B 32 2B 7F 90 0F 01 1A  80 23 45 10 80 F8 FF FF  k2+......#E.....
0220: 7F F8 FF FF 7F 6F 76 6C  31 06 80 52 11 80 F0 FF  .....ovl1..R....
0230: FF 7F F0 FF FF 7F 73 30  34 34 45 11 80 F0 FF FF  ......s044E.....
0240: 7F F0 FF FF 7F 73 30 34  35 06 80 2B 7F 90 0F 01  .....s045..+....
0250: 1B 80 23 4B 7F 90 0F 01  1C 80 2B 7F 90 0F 01 1D  ..#K......+.....
0260: 80 23 27 0A 7F 90 0F 01  03 45 10 80 F0 FF FF 7F  .#'......E......
0270: F0 FF FF 7F 66 64 6F 32  06 80 55 10 80 F0 FF FF  ....fdo2..U.....
0280: 7F F0 FF FF 7F 66 64 6F  32 1E F0 FF FF 7F 4E 01  .....fdo2.....N.
0290: 7F 90 0F 01 79 00 F0 FF  FF 7F 7E 90 0F 01 52 11  ....y.....~...R.
02A0: 80 F0 FF FF 7F F0 FF FF  7F 73 30 34 35 45 11 80  .........s045E..
02B0: F0 FF FF 7F F0 FF FF 7F  73 30 34 36 06 80 45 10  ........s046..E.
02C0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 06 80 1C  .........fdi1...
02D0: 18 80 5B 01 80 F8 FF FF  7F F8 FF FF 7F 70 61 73  ..[..........pas
02E0: 30 1D 1E 80 23 1D 1F 80  23 45 10 80 F0 FF FF 7F  0...#...#E......
02F0: F0 FF FF 7F 66 64 6F 32  06 80 55 10 80 F0 FF FF  ....fdo2..U.....
0300: 7F F0 FF FF 7F 66 64 6F  32 52 11 80 F0 FF FF 7F  .....fdo2R......
0310: F0 FF FF 7F 73 30 34 36  46 00 45 20 80 F8 FF FF  ....s046F.E ....
0320: 7F F8 FF FF 7F 71 73 74  63 06 80 45 10 80 F0 FF  .....qstc..E....
0330: FF 7F F0 FF FF 7F 66 64  69 31 06 80 21 00        ......fdi1..!.  
```

## Opcodes

```
  0: 0x00D2 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x00D3 [0x46] CAMERA_CONTROL: Disable user control
  2: 0x00D5 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
  3: 0x00E6 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
  4: 0x00F5 [0x29] REQ_SET_WAIT(priority=0x0A, entity_id=LocalPlayer, tag_num=0x29)
  5: 0x00FC [0x45] LOAD_SCHEDULED_TASK(work_offset1=2*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s042", work_offset2=0*)
  6: 0x010D [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  7: 0x0110 [0x4E] SET_ENTITY_HIDE_FLAG: Show Kamaal (ID: 17797247/0x010F907F)
  8: 0x0116 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
  9: 0x0127 [0x03] Work_Zone[1] = Work_Zone[2]
 10: 0x012C [0x1E] EventEntity looks at LocalPlayer and starts talking
 11: 0x0131 [0x1D] PRINT_EVENT_MESSAGE(message_id=7749*)
    → "Th-this is undeniably a fragment of the legendary Ultima! Kamaal! You must see this, Kamaal!\u007F1\u0000\u0007"
 12: 0x0134 [0x1C] WAIT(90* ticks)
 13: 0x0137 [0x79] LocalPlayer looks at Kamaal (ID: 17797247/0x010F907F) (Basic look)
 14: 0x0141 [0x79] Kamaal (ID: 17797247/0x010F907F) looks at Wilhelm (ID: 17797246/0x010F907E) (Basic look)
 15: 0x014B [0x27] REQ_SET(priority=0x0A, entity_id=Kamaal (ID: 17797247/0x010F907F), tag_num=0x02)
 16: 0x0152 [0x1E] EventEntity looks at Kamaal (ID: 17797247/0x010F907F) and starts talking
 17: 0x0157 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x0158 [0x2B] Kamaal (ID: 17797247/0x010F907F) [7750*]:
    → "You fool! I only need to be called once. I do have ears!\u007F1\u0000\u0007"
 19: 0x015F [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x0160 [0x2A] GET_REQ_LEVEL(level=10, entity_id=Kamaal (ID: 17797247/0x010F907F))
 21: 0x0166 [0x79] Kamaal (ID: 17797247/0x010F907F) looks at LocalPlayer (Basic look)
 22: 0x0170 [0x52] END_LOAD_SCHEDULER: End scheduler "s042" with entities [LocalPlayer, LocalPlayer], work=2*
 23: 0x017F [0x45] LOAD_SCHEDULED_TASK(work_offset1=2*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s043", work_offset2=0*)
 24: 0x0190 [0x2B] Kamaal (ID: 17797247/0x010F907F) [7751*]:
    → "Show it to me.\u007F1\u0000\u0007"
 25: 0x0197 [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x0198 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo2", work_offset2=0*)
 27: 0x01A9 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo2")
 28: 0x01B8 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=9*, entity1=Kamaal (ID: 17797247/0x010F907F), entity2=Kamaal (ID: 17797247/0x010F907F), action="thk1")
 29: 0x01C7 [0x1C] WAIT(30* ticks)
 30: 0x01CA [0x52] END_LOAD_SCHEDULER: End scheduler "s043" with entities [LocalPlayer, LocalPlayer], work=2*
 31: 0x01D9 [0x45] LOAD_SCHEDULED_TASK(work_offset1=2*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s044", work_offset2=0*)
 32: 0x01EA [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 33: 0x01FB [0x2B] Kamaal (ID: 17797247/0x010F907F) [7752*]:
    → "Th-this is...artificial skin!? And an artificial frame, too... This is a segment taken from Ultima, without question.\u007F1\u0000\u0007"
 34: 0x0202 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x0203 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=9*, entity1=Kamaal (ID: 17797247/0x010F907F), entity2=Kamaal (ID: 17797247/0x010F907F), action="thk2")
 36: 0x0212 [0x2B] Kamaal (ID: 17797247/0x010F907F) [7753*]:
    → "Adventurer, you have my gratitude.\u0007The restoration project in my homeland will be able to move into new research now, thanks to you.\u007F1\u0000\u0007"
 37: 0x0219 [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x021A [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="ovl1", work_offset2=0*)
 39: 0x022B [0x52] END_LOAD_SCHEDULER: End scheduler "s044" with entities [LocalPlayer, LocalPlayer], work=2*
 40: 0x023A [0x45] LOAD_SCHEDULED_TASK(work_offset1=2*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s045", work_offset2=0*)
 41: 0x024B [0x2B] Kamaal (ID: 17797247/0x010F907F) [7754*]:
    → "In the near future, our nation may need the help of distinguished adventurers such as yourself. I hope to see you again in my homeland, then.\u007F1\u0000\u0007"
 42: 0x0252 [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x0253 [0x4B] UPDATE_ENTITY_YAW(entity=Kamaal (ID: 17797247/0x010F907F), yaw=16.96°*)
 44: 0x025A [0x2B] Kamaal (ID: 17797247/0x010F907F) [7755*]:
    → "Rifaqat. Give this \u007F\u0005[gentleman his/lady her] reward. I think \u007F\u0005[he/she] will be most pleased.\u007F1\u0000\u0007"
 45: 0x0261 [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x0262 [0x27] REQ_SET(priority=0x0A, entity_id=Kamaal (ID: 17797247/0x010F907F), tag_num=0x03)
 47: 0x0269 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo2", work_offset2=0*)
 48: 0x027A [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo2")
 49: 0x0289 [0x1E] EventEntity looks at LocalPlayer and starts talking
 50: 0x028E [0x4E] SET_ENTITY_HIDE_FLAG: Hide Kamaal (ID: 17797247/0x010F907F)
 51: 0x0294 [0x79] LocalPlayer looks at Wilhelm (ID: 17797246/0x010F907E) (Basic look)
 52: 0x029E [0x52] END_LOAD_SCHEDULER: End scheduler "s045" with entities [LocalPlayer, LocalPlayer], work=2*
 53: 0x02AD [0x45] LOAD_SCHEDULED_TASK(work_offset1=2*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s046", work_offset2=0*)
 54: 0x02BE [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 55: 0x02CF [0x1C] WAIT(30* ticks)
 56: 0x02D2 [0x5B] LOAD_EXT_SCHEDULER(work_offset=65*, entity1=EventEntity, entity2=EventEntity, action="pas0")
 57: 0x02E1 [0x1D] PRINT_EVENT_MESSAGE(message_id=7756*)
    → "The most skilled clothcrafters in Aht Urhgan weaved this over a span of ten years. It is a gift of utmost quality...and I humbly present it to you.\u007F1\u0000\u0007"
 58: 0x02E4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0x02E5 [0x1D] PRINT_EVENT_MESSAGE(message_id=7757*)
    → "If you acquire any more segments of Ultima, I would greatly appreciate it if you could bring them to me.\u007F1\u0000\u0007"
 60: 0x02E8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 61: 0x02E9 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo2", work_offset2=0*)
 62: 0x02FA [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo2")
 63: 0x0309 [0x52] END_LOAD_SCHEDULER: End scheduler "s046" with entities [LocalPlayer, LocalPlayer], work=2*
 64: 0x0318 [0x46] CAMERA_CONTROL: Restore default settings
 65: 0x031A [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=EventEntity, entity2=EventEntity, scheduler_id="qstc", work_offset2=0*)
 66: 0x032B [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 67: 0x033C [0x21] END_EVENT
 68: 0x033D [0x00] END_REQSTACK()
```
