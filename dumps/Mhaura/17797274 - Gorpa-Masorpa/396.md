# Event 396

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 10/15     |
| Offset          | 0x4510    |
| Data Size       | 413 bytes |
| Calculated Size | 413 bytes |
| Instructions    | 77        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
4510: 42 1E F0 FF FF 7F 1C 00  80 03 1E 00 23 80 1D F3  B...........#...
4520: 80 23 66 0B 80 F8 FF FF  7F F8 FF FF 7F 67 68 6E  .#f..........ghn
4530: 31 1D EF 80 23 53 F8 FF  FF 7F F8 FF FF 7F 67 68  1...#S........gh
4540: 6E 31 66 01 80 F8 FF FF  7F F8 FF FF 7F 74 6C 6B  n1f..........tlk
4550: 30 1D F0 80 23 1D F1 80  23 53 F8 FF FF 7F F8 FF  0...#...#S......
4560: FF 7F 74 6C 6B 30 66 01  80 F8 FF FF 7F F8 FF FF  ..tlk0f.........
4570: 7F 74 6C 6B 31 53 F8 FF  FF 7F F8 FF FF 7F 74 6C  .tlk1S........tl
4580: 6B 31 66 01 80 F8 FF FF  7F F8 FF FF 7F 70 61 73  k1f..........pas
4590: 30 53 F8 FF FF 7F F8 FF  FF 7F 70 61 73 30 13 1E  0S........pas0..
45A0: 00 45 80 02 1E 00 35 80  05 2B 46 48 56 80 23 48  .E....5..+FHV.#H
45B0: 77 80 23 13 1E 00 45 80  02 1E 00 58 80 05 EF 45  w.#...E....X...E
45C0: 48 78 80 23 13 1E 00 45  80 02 1E 00 58 80 05 EF  Hx.#...E....X...
45D0: 45 03 02 10 5A 80 48 79  80 23 13 1E 00 45 80 02  E...Z.Hy.#...E..
45E0: 1E 00 58 80 05 EF 45 48  7A 80 23 48 56 80 23 66  ..X...EHz.#HV.#f
45F0: 01 80 F8 FF FF 7F F8 FF  FF 7F 7A 69 74 30 1D 5D  ..........zit0.]
4600: 80 23 53 F8 FF FF 7F F8  FF FF 7F 7A 69 74 30 66  .#S........zit0f
4610: 01 80 F8 FF FF 7F F8 FF  FF 7F 70 61 73 30 53 F8  ..........pas0S.
4620: FF FF 7F F8 FF FF 7F 70  61 73 30 48 56 80 23 48  .......pas0HV.#H
4630: 7B 80 23 03 02 10 2B 80  48 7C 80 23 03 02 10 7D  {.#...+.H|.#...}
4640: 80 48 7E 80 23 03 02 10  2B 80 03 03 10 7D 80 03  .H~.#...+....}..
4650: 04 10 3A 80 03 05 10 7F  80 03 06 10 3D 80 48 75  ..:.........=.Hu
4660: 80 23 03 02 10 2B 80 48  76 80 23 48 56 80 23 66  .#...+.Hv.#HV.#f
4670: 01 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D F2  ..........tlk0..
4680: 80 23 53 F8 FF FF 7F F8  FF FF 7F 74 6C 6B 30 66  .#S........tlk0f
4690: 01 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 31 53 F8  ..........tlk1S.
46A0: FF FF 7F F8 FF FF 7F 74  6C 6B 31 21 00           .......tlk1!.   
```

## Opcodes

```
  0: 0x4510 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x4511 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x4516 [0x1C] WAIT(1* ticks)
  3: 0x4519 [0x03] ExtData[1]->WorkLocal[30] = 0*
  4: 0x451E [0x1D] PRINT_EVENT_MESSAGE(message_id=8250*)
    → "Everyday's a grand surprise when you take part in an Ambuscade!\u007F1\u0000\u0007"
  5: 0x4521 [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x4522 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "ghn1" with entities [EventEntity, EventEntity], work=41*
  7: 0x4531 [0x1D] PRINT_EVENT_MESSAGE(message_id=8237*)
    → "Um, you see...\u007F1\u0000\u0007"
  8: 0x4534 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x4535 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "ghn1" with entities [EventEntity, EventEntity]
 10: 0x4542 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=40*
 11: 0x4551 [0x1D] PRINT_EVENT_MESSAGE(message_id=8238*)
    → "This letter comes from the greataru mage Abdhaljs himself.\u007F1\u0000\u0007"
 12: 0x4554 [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x4555 [0x1D] PRINT_EVENT_MESSAGE(message_id=8239*)
    → "Here, you may feel free to give it a read-wead.\u007F1\u0000\u0007"
 14: 0x4558 [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x4559 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk0" with entities [EventEntity, EventEntity]
 16: 0x4566 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=40*
 17: 0x4575 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [EventEntity, EventEntity]
 18: 0x4582 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "pas0" with entities [EventEntity, EventEntity], work=40*
 19: 0x4591 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "pas0" with entities [EventEntity, EventEntity]
 20: 0x459E [0x13] ExtData[1]->WorkLocal[30] = rand() % 99*
 21: 0x45A3 [0x02] IF !(ExtData[1]->WorkLocal[30] > 4*) GOTO 0x462B
 22: 0x45AB [0x48] [System] [8216*]:
    → "\u007F6\u0001\u007F1\u0000\u0007"
 23: 0x45AE [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x45AF [0x48] [System] [8254*]:
    → "\u00072Mommy Dearest,\u0007How have you been? I am doing well.\u007F1\u0000\u0007"
 25: 0x45B2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x45B3 [0x13] ExtData[1]->WorkLocal[30] = rand() % 99*
 27: 0x45B8 [0x02] IF !(ExtData[1]->WorkLocal[30] > 49*) GOTO 0x45EF
 28: 0x45C0 [0x48] [System] [8255*]:
    → "\u00072I've heard some scary tales of pirates boarding innocent vessels that leave here from Mhaura. And you know what's even scarier? That this pleases the adventurers to no end!\u007F1\u0000\u0007"
 29: 0x45C3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x45C4 [0x13] ExtData[1]->WorkLocal[30] = rand() % 99*
 31: 0x45C9 [0x02] IF !(ExtData[1]->WorkLocal[30] > 49*) GOTO 0x45EF
 32: 0x45D1 [0x03] Work_Zone[2] = 5189*
 33: 0x45D6 [0x48] [System] [8256*]:
    → "\u00072Of course, this has profoundly affected what remains of my sanity, so I asked A.M.A.N. for a mental health leave. However, they denied my request, saying that hard work is the best medicine.\u007F1\u0000\u0007"
 34: 0x45D9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x45DA [0x13] ExtData[1]->WorkLocal[30] = rand() % 99*
 36: 0x45DF [0x02] IF !(ExtData[1]->WorkLocal[30] > 49*) GOTO 0x45EF
 37: 0x45E7 [0x48] [System] [8257*]:
    → "\u00072P.S.\u0007Please send cookies. They may be the only thing that gets me through the dark days ahead.\u00073\u007F1\u0000\u0007"
 38: 0x45EA [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x45EB [0x48] [System] [8216*]:
    → "\u007F6\u0001\u007F1\u0000\u0007"
 40: 0x45EE [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x45EF [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "zit0" with entities [EventEntity, EventEntity], work=40*
 42: 0x45FE [0x1D] PRINT_EVENT_MESSAGE(message_id=8215*)
    → "Wh-wh-what!? G-give that back!\u007F6\u0001\u0007Here! Here's the right one!\u007F1\u0000\u0007"
 43: 0x4601 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x4602 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "zit0" with entities [EventEntity, EventEntity]
 45: 0x460F [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "pas0" with entities [EventEntity, EventEntity], work=40*
 46: 0x461E [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "pas0" with entities [EventEntity, EventEntity]
 47: 0x462B [0x48] [System] [8216*]:
    → "\u007F6\u0001\u007F1\u0000\u0007"
 48: 0x462E [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0x462F [0x48] [System] [8251*]:
    → "\u00072Dearest Adventurer,\u0007Thanks to your most steadfast efforts, I have accumulated a veritable treasure trove of data that will surely prove useful in my studies.\u007F1\u0000\u0007"
 50: 0x4632 [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x4633 [0x03] Work_Zone[2] = 9271*
 52: 0x4638 [0x48] [System] [8252*]:
    → "\u00072But lest you think my words hollow, I have prepared an even greater set of rewards in the form of \u0001\u0005%\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 53: 0x463B [0x23] WAIT_FOR_DIALOG_INTERACTION
 54: 0x463C [0x03] Work_Zone[2] = 25940*
 55: 0x4641 [0x48] [System] [8253*]:
    → "\u00072These amazing materials can be used to augment equipment such as \u0001\u0005%\u0002\u0000\u0000\u0000. It should come as no surprise that you will need multiples of this fine new bounty in order to augment your attire.\u007F1\u0000\u0007"
 56: 0x4644 [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x4645 [0x03] Work_Zone[2] = 9271*
 58: 0x464A [0x03] Work_Zone[3] = 25940*
 59: 0x464F [0x03] Work_Zone[4] = 5*
 60: 0x4654 [0x03] Work_Zone[5] = 25941*
 61: 0x4659 [0x03] Work_Zone[6] = 10*
 62: 0x465E [0x48] [System] [8244*]:
    → "\u00072I have left the details with my representative at the A.M.A.N. Please check with him for more information.\u007F1\u0000\u0007"
 63: 0x4661 [0x23] WAIT_FOR_DIALOG_INTERACTION
 64: 0x4662 [0x03] Work_Zone[2] = 9271*
 65: 0x4667 [0x48] [System] [8245*]:
    → "\u00072Simply give the \u0001\u0005%\u0002\u0000\u0000\u0000 and the item you wish to upgrade to my compatriot at the A.M.A.N. and he will bring out the very best in your equipment. I hope you will give it a try when you get a chance.\u00073\u007F1\u0000\u0007"
 66: 0x466A [0x23] WAIT_FOR_DIALOG_INTERACTION
 67: 0x466B [0x48] [System] [8216*]:
    → "\u007F6\u0001\u007F1\u0000\u0007"
 68: 0x466E [0x23] WAIT_FOR_DIALOG_INTERACTION
 69: 0x466F [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=40*
 70: 0x467E [0x1D] PRINT_EVENT_MESSAGE(message_id=8240*)
    → "I look forward to helping you with all of your equipment needs!\u007F1\u0000\u0007"
 71: 0x4681 [0x23] WAIT_FOR_DIALOG_INTERACTION
 72: 0x4682 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk0" with entities [EventEntity, EventEntity]
 73: 0x468F [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=40*
 74: 0x469E [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [EventEntity, EventEntity]
 75: 0x46AB [0x21] END_EVENT
 76: 0x46AC [0x00] END_REQSTACK()
```
