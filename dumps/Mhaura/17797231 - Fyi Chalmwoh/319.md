# Event 319

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 11/13     |
| Offset          | 0x039C    |
| Data Size       | 386 bytes |
| Calculated Size | 386 bytes |
| Instructions    | 89        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0390:                                      42 1E F0 FF              B...
03A0: FF 7F 02 02 10 20 80 00  04 05 03 02 00 03 10 02  ..... ..........
03B0: 06 10 01 80 00 BE 03 1D  33 80 23 01 C2 03 1D 34  ........3.#....4
03C0: 80 23 24 35 80 2B 80 01  80 25 02 00 10 01 80 00  .#$5.+...%......
03D0: ED 04 1D 21 80 23 03 02  10 22 80 03 03 10 23 80  ...!.#..."....#.
03E0: 03 04 10 24 80 03 05 10  25 80 03 06 10 26 80 03  ...$....%....&..
03F0: 07 10 27 80 03 08 10 28  80 03 09 10 29 80 24 2A  ..'....(....).$*
0400: 80 01 80 02 00 25 02 00  10 01 80 00 1E 04 03 00  .....%..........
0410: 00 22 80 1A E5 08 03 01  10 2B 80 01 DF 04 02 00  .".......+......
0420: 10 2B 80 00 36 04 03 00  00 23 80 1A E5 08 03 01  .+..6....#......
0430: 10 20 80 01 DF 04 02 00  10 20 80 00 4E 04 03 00  . ....... ..N...
0440: 00 24 80 1A E5 08 03 01  10 03 80 01 DF 04 02 00  .$..............
0450: 10 03 80 00 66 04 03 00  00 25 80 1A E5 08 03 01  ....f....%......
0460: 10 2C 80 01 DF 04 02 00  10 2C 80 00 7E 04 03 00  .,.......,..~...
0470: 00 26 80 1A E5 08 03 01  10 2D 80 01 DF 04 02 00  .&.......-......
0480: 10 2D 80 00 96 04 03 00  00 27 80 1A E5 08 03 01  .-.......'......
0490: 10 2E 80 01 DF 04 02 00  10 2E 80 00 AE 04 03 00  ................
04A0: 00 28 80 1A E5 08 03 01  10 2F 80 01 DF 04 02 00  .(......./......
04B0: 10 2F 80 00 C6 04 03 00  00 29 80 1A E5 08 03 01  ./.......)......
04C0: 10 30 80 01 DF 04 02 00  10 30 80 00 DF 04 1D 31  .0.......0.....1
04D0: 80 23 03 01 10 01 80 03  00 00 01 80 01 DF 04 02  .#..............
04E0: 00 00 01 80 01 EA 04 01  FE 03 01 01 05 02 00 10  ................
04F0: 2B 80 00 01 05 1D 31 80  23 03 01 10 01 80 01 01  +.....1.#.......
0500: 05 01 1C 05 02 06 10 01  80 00 13 05 1D 36 80 23  .............6.#
0510: 01 17 05 1D 37 80 23 03  01 10 01 80 21 00        ....7.#.....!.  
```

## Opcodes

```
  0: 0x039C [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x039D [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x03A2 [0x02] IF !(Work_Zone[2] == 2*) GOTO 0x0504
  3: 0x03AA [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[3]
  4: 0x03AF [0x02] IF !(Work_Zone[6] == 0*) GOTO 0x03BE
  5: 0x03B7 [0x1D] PRINT_EVENT_MESSAGE(message_id=7614*)
    → "Hmmm... It's still in prrretty good condition. For 
\u0003 gil, you can exchange it for a new mannequin.\u007F1\u0000\u0007"
  6: 0x03BA [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x03BB [0x01] GOTO 0x03C2
  8: 0x03BE [0x1D] PRINT_EVENT_MESSAGE(message_id=7633*)
    → "Trrrading in your old mannequin for a new one? Rrremember, I'll need a 
\u0003-gil fee.\u007F1\u0000\u0007"
  9: 0x03C1 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_03C2:
 10: 0x03C2 [0x24] CREATE_DIALOG(message_id=7615*, default_option=1*, option_flags=0*)
    → "What do you say?\u0007\u000BLet's do it.\u0007Forget it.\u007F1\u0000\u0007"
 11: 0x03C9 [0x25] WAIT_DIALOG_SELECT()
 12: 0x03CA [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x04ED
 13: 0x03D2 [0x1D] PRINT_EVENT_MESSAGE(message_id=7605*)
    → "And which type of mannequin would you like?\u007F1\u0000\u0007"
 14: 0x03D5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x03D6 [0x03] Work_Zone[2] = 256*
 16: 0x03DB [0x03] Work_Zone[3] = 257*
 17: 0x03E0 [0x03] Work_Zone[4] = 258*
 18: 0x03E5 [0x03] Work_Zone[5] = 259*
 19: 0x03EA [0x03] Work_Zone[6] = 260*
 20: 0x03EF [0x03] Work_Zone[7] = 261*
 21: 0x03F4 [0x03] Work_Zone[8] = 262*
 22: 0x03F9 [0x03] Work_Zone[9] = 263*

SUBROUTINE_03FE:
 23: 0x03FE [0x24] CREATE_DIALOG(message_id=7606*, default_option=0*, option_flags=0x02)
    → "Well...?\u0007\u000B\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0003\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0004\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0005\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0006\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0007\u0000\u0000.\u0007Never mind.\u007F1\u0000\u0007"
 24: 0x0405 [0x25] WAIT_DIALOG_SELECT()
 25: 0x0406 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x041E
 26: 0x040E [0x03] ExtData[1]->WorkLocal[0] = 256*
 27: 0x0413 [0x1A] CALL_SUBROUTINE(address=0x08E5)
 28: 0x0416 [0x03] Work_Zone[1] = 1*
 29: 0x041B [0x01] GOTO 0x04DF
 30: 0x041E [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0436
 31: 0x0426 [0x03] ExtData[1]->WorkLocal[0] = 257*
 32: 0x042B [0x1A] CALL_SUBROUTINE(address=0x08E5)
 33: 0x042E [0x03] Work_Zone[1] = 2*
 34: 0x0433 [0x01] GOTO 0x04DF
 35: 0x0436 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x044E
 36: 0x043E [0x03] ExtData[1]->WorkLocal[0] = 258*
 37: 0x0443 [0x1A] CALL_SUBROUTINE(address=0x08E5)
 38: 0x0446 [0x03] Work_Zone[1] = 3*
 39: 0x044B [0x01] GOTO 0x04DF
 40: 0x044E [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0466
 41: 0x0456 [0x03] ExtData[1]->WorkLocal[0] = 259*
 42: 0x045B [0x1A] CALL_SUBROUTINE(address=0x08E5)
 43: 0x045E [0x03] Work_Zone[1] = 4*
 44: 0x0463 [0x01] GOTO 0x04DF
 45: 0x0466 [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x047E
 46: 0x046E [0x03] ExtData[1]->WorkLocal[0] = 260*
 47: 0x0473 [0x1A] CALL_SUBROUTINE(address=0x08E5)
 48: 0x0476 [0x03] Work_Zone[1] = 5*
 49: 0x047B [0x01] GOTO 0x04DF
 50: 0x047E [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x0496
 51: 0x0486 [0x03] ExtData[1]->WorkLocal[0] = 261*
 52: 0x048B [0x1A] CALL_SUBROUTINE(address=0x08E5)
 53: 0x048E [0x03] Work_Zone[1] = 6*
 54: 0x0493 [0x01] GOTO 0x04DF
 55: 0x0496 [0x02] IF !(Work_Zone[0] == 6*) GOTO 0x04AE
 56: 0x049E [0x03] ExtData[1]->WorkLocal[0] = 262*
 57: 0x04A3 [0x1A] CALL_SUBROUTINE(address=0x08E5)
 58: 0x04A6 [0x03] Work_Zone[1] = 7*
 59: 0x04AB [0x01] GOTO 0x04DF
 60: 0x04AE [0x02] IF !(Work_Zone[0] == 7*) GOTO 0x04C6
 61: 0x04B6 [0x03] ExtData[1]->WorkLocal[0] = 263*
 62: 0x04BB [0x1A] CALL_SUBROUTINE(address=0x08E5)
 63: 0x04BE [0x03] Work_Zone[1] = 8*
 64: 0x04C3 [0x01] GOTO 0x04DF
 65: 0x04C6 [0x02] IF !(Work_Zone[0] == 8*) GOTO 0x04DF
 66: 0x04CE [0x1D] PRINT_EVENT_MESSAGE(message_id=7611*)
    → "Okay. Well, if you change your mind, you know where I'll be!\u007F1\u0000\u0007"
 67: 0x04D1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 68: 0x04D2 [0x03] Work_Zone[1] = 0*
 69: 0x04D7 [0x03] ExtData[1]->WorkLocal[0] = 0*
 70: 0x04DC [0x01] GOTO 0x04DF

SUBROUTINE_04DF:
 71: 0x04DF [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x04EA
 72: 0x04E7 [0x01] GOTO 0x03FE
 73: 0x04EA [0x01] GOTO 0x0501
 74: 0x04ED [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0501
 75: 0x04F5 [0x1D] PRINT_EVENT_MESSAGE(message_id=7611*)
    → "Okay. Well, if you change your mind, you know where I'll be!\u007F1\u0000\u0007"
 76: 0x04F8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 77: 0x04F9 [0x03] Work_Zone[1] = 0*
 78: 0x04FE [0x01] GOTO 0x0501

SUBROUTINE_0501:
 79: 0x0501 [0x01] GOTO 0x051C
 80: 0x0504 [0x02] IF !(Work_Zone[6] == 0*) GOTO 0x0513
 81: 0x050C [0x1D] PRINT_EVENT_MESSAGE(message_id=7613*)
    → "Hmmm... It's still in prrretty good condition. I'd have no problem exchanging this for a new mannequin...if you had the 
\u0003 gil I was asking for.\u007F1\u0000\u0007"
 82: 0x050F [0x23] WAIT_FOR_DIALOG_INTERACTION
 83: 0x0510 [0x01] GOTO 0x0517
 84: 0x0513 [0x1D] PRINT_EVENT_MESSAGE(message_id=7632*)
    → "I can only accept your trrrade-in after you've paid the 
\u0003-gil difference. Don't worry, I'll be waiting rrright here for you!\u007F1\u0000\u0007"
 85: 0x0516 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_0517:
 86: 0x0517 [0x03] Work_Zone[1] = 0*

SUBROUTINE_051C:
 87: 0x051C [0x21] END_EVENT
 88: 0x051D [0x00] END_REQSTACK()
```
