# Event 318

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 10/13     |
| Offset          | 0x0224    |
| Data Size       | 376 bytes |
| Calculated Size | 376 bytes |
| Instructions    | 91        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0220:             1E F0 FF FF  7F 1D 19 80 23 1D 1A 80      ........#...
0230: 23 1D 1B 80 23 1D 1C 80  23 1D 1D 80 23 1D 1E 80  #...#...#...#...
0240: 23 24 1F 80 20 80 01 80  25 02 00 10 01 80 00 72  #$.. ...%......r
0250: 03 42 1D 21 80 23 03 02  00 03 10 03 02 10 22 80  .B.!.#........".
0260: 03 03 10 23 80 03 04 10  24 80 03 05 10 25 80 03  ...#....$....%..
0270: 06 10 26 80 03 07 10 27  80 03 08 10 28 80 03 09  ..&....'....(...
0280: 10 29 80 24 2A 80 01 80  02 00 25 02 00 10 01 80  .).$*.....%.....
0290: 00 A3 02 03 00 00 22 80  03 01 00 2B 80 1A 91 08  ......"....+....
02A0: 01 64 03 02 00 10 2B 80  00 BB 02 03 00 00 23 80  .d....+.......#.
02B0: 03 01 00 20 80 1A 91 08  01 64 03 02 00 10 20 80  ... .....d.... .
02C0: 00 D3 02 03 00 00 24 80  03 01 00 03 80 1A 91 08  ......$.........
02D0: 01 64 03 02 00 10 03 80  00 EB 02 03 00 00 25 80  .d............%.
02E0: 03 01 00 2C 80 1A 91 08  01 64 03 02 00 10 2C 80  ...,.....d....,.
02F0: 00 03 03 03 00 00 26 80  03 01 00 2D 80 1A 91 08  ......&....-....
0300: 01 64 03 02 00 10 2D 80  00 1B 03 03 00 00 27 80  .d....-.......'.
0310: 03 01 00 2E 80 1A 91 08  01 64 03 02 00 10 2E 80  .........d......
0320: 00 33 03 03 00 00 28 80  03 01 00 2F 80 1A 91 08  .3....(..../....
0330: 01 64 03 02 00 10 2F 80  00 4B 03 03 00 00 29 80  .d..../..K....).
0340: 03 01 00 30 80 1A 91 08  01 64 03 02 00 10 30 80  ...0.....d....0.
0350: 00 64 03 1D 31 80 23 03  01 10 01 80 03 00 00 01  .d..1.#.........
0360: 80 01 64 03 02 00 00 01  80 01 6F 03 01 83 02 01  ..d.......o.....
0370: 9A 03 02 00 10 2B 80 00  86 03 1D 32 80 23 03 01  .....+.....2.#..
0380: 10 01 80 01 9A 03 02 00  10 20 80 00 9A 03 1D 31  ......... .....1
0390: 80 23 03 01 10 01 80 01  9A 03 21 00              .#........!.    
```

## Opcodes

```
  0: 0x0224 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0229 [0x1D] PRINT_EVENT_MESSAGE(message_id=7577*)
    → "So, how's my mannequin holding up? \u007F\u0005[He/She] looks prrretty good, doesn't \u007F\u0005[he/she]?\u007F1\u0000\u0007"
  2: 0x022C [0x23] WAIT_FOR_DIALOG_INTERACTION
  3: 0x022D [0x1D] PRINT_EVENT_MESSAGE(message_id=7599*)
    → "Thanks to the hard work of you adventurers, my workshop has been overrrflowing with mannequin parts. Unfortunately, as you can see, I don't have much in the way of storage space here. That's why I've decided to start putting the pieces together and sell the finished prrroducts!\u007F1\u0000\u0007"
  4: 0x0230 [0x23] WAIT_FOR_DIALOG_INTERACTION
  5: 0x0231 [0x1D] PRINT_EVENT_MESSAGE(message_id=7600*)
    → "I was thinking about asking 
\u0002 gil a mannequin. Quite a barrrgain, if you ask me.\u007F1\u0000\u0007"
  6: 0x0234 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x0235 [0x1D] PRINT_EVENT_MESSAGE(message_id=7601*)
    → "What? A few yalms over your head?\u0007Well, you could always exchange your old one for one of my brand-spankin'-new masterrrpieces.\u007F1\u0000\u0007"
  8: 0x0238 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x0239 [0x1D] PRINT_EVENT_MESSAGE(message_id=7602*)
    → "I'd still have to charrrge you 
\u0003 gil, though.\u0007Hey! How do you expect a lady to make a living?\u007F1\u0000\u0007"
 10: 0x023C [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x023D [0x1D] PRINT_EVENT_MESSAGE(message_id=7603*)
    → "Well, what do you say?\u007F1\u0000\u0007"
 12: 0x0240 [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x0241 [0x24] CREATE_DIALOG(message_id=7604*, default_option=2*, option_flags=0*)
    → "Well...?\u0007\u000BBuy (
\u0002 gil).\u0007Exchange.\u0007Forget it.\u007F1\u0000\u0007"
 14: 0x0248 [0x25] WAIT_DIALOG_SELECT()
 15: 0x0249 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0372
 16: 0x0251 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 17: 0x0252 [0x1D] PRINT_EVENT_MESSAGE(message_id=7605*)
    → "And which type of mannequin would you like?\u007F1\u0000\u0007"
 18: 0x0255 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x0256 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[3]
 20: 0x025B [0x03] Work_Zone[2] = 256*
 21: 0x0260 [0x03] Work_Zone[3] = 257*
 22: 0x0265 [0x03] Work_Zone[4] = 258*
 23: 0x026A [0x03] Work_Zone[5] = 259*
 24: 0x026F [0x03] Work_Zone[6] = 260*
 25: 0x0274 [0x03] Work_Zone[7] = 261*
 26: 0x0279 [0x03] Work_Zone[8] = 262*
 27: 0x027E [0x03] Work_Zone[9] = 263*
 28: 0x0283 [0x24] CREATE_DIALOG(message_id=7606*, default_option=0*, option_flags=ExtData[1]->WorkLocal[2])
    → "Well...?\u0007\u000B\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0003\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0004\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0005\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0006\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0007\u0000\u0000.\u0007Never mind.\u007F1\u0000\u0007"
 29: 0x028A [0x25] WAIT_DIALOG_SELECT()
 30: 0x028B [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x02A3
 31: 0x0293 [0x03] ExtData[1]->WorkLocal[0] = 256*
 32: 0x0298 [0x03] ExtData[1]->WorkLocal[1] = 1*
 33: 0x029D [0x1A] CALL_SUBROUTINE(address=0x0891)
 34: 0x02A0 [0x01] GOTO 0x0364
 35: 0x02A3 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x02BB
 36: 0x02AB [0x03] ExtData[1]->WorkLocal[0] = 257*
 37: 0x02B0 [0x03] ExtData[1]->WorkLocal[1] = 2*
 38: 0x02B5 [0x1A] CALL_SUBROUTINE(address=0x0891)
 39: 0x02B8 [0x01] GOTO 0x0364
 40: 0x02BB [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x02D3
 41: 0x02C3 [0x03] ExtData[1]->WorkLocal[0] = 258*
 42: 0x02C8 [0x03] ExtData[1]->WorkLocal[1] = 3*
 43: 0x02CD [0x1A] CALL_SUBROUTINE(address=0x0891)
 44: 0x02D0 [0x01] GOTO 0x0364
 45: 0x02D3 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x02EB
 46: 0x02DB [0x03] ExtData[1]->WorkLocal[0] = 259*
 47: 0x02E0 [0x03] ExtData[1]->WorkLocal[1] = 4*
 48: 0x02E5 [0x1A] CALL_SUBROUTINE(address=0x0891)
 49: 0x02E8 [0x01] GOTO 0x0364
 50: 0x02EB [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x0303
 51: 0x02F3 [0x03] ExtData[1]->WorkLocal[0] = 260*
 52: 0x02F8 [0x03] ExtData[1]->WorkLocal[1] = 5*
 53: 0x02FD [0x1A] CALL_SUBROUTINE(address=0x0891)
 54: 0x0300 [0x01] GOTO 0x0364
 55: 0x0303 [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x031B
 56: 0x030B [0x03] ExtData[1]->WorkLocal[0] = 261*
 57: 0x0310 [0x03] ExtData[1]->WorkLocal[1] = 6*
 58: 0x0315 [0x1A] CALL_SUBROUTINE(address=0x0891)
 59: 0x0318 [0x01] GOTO 0x0364
 60: 0x031B [0x02] IF !(Work_Zone[0] == 6*) GOTO 0x0333
 61: 0x0323 [0x03] ExtData[1]->WorkLocal[0] = 262*
 62: 0x0328 [0x03] ExtData[1]->WorkLocal[1] = 7*
 63: 0x032D [0x1A] CALL_SUBROUTINE(address=0x0891)
 64: 0x0330 [0x01] GOTO 0x0364
 65: 0x0333 [0x02] IF !(Work_Zone[0] == 7*) GOTO 0x034B
 66: 0x033B [0x03] ExtData[1]->WorkLocal[0] = 263*
 67: 0x0340 [0x03] ExtData[1]->WorkLocal[1] = 8*
 68: 0x0345 [0x1A] CALL_SUBROUTINE(address=0x0891)
 69: 0x0348 [0x01] GOTO 0x0364
 70: 0x034B [0x02] IF !(Work_Zone[0] == 8*) GOTO 0x0364
 71: 0x0353 [0x1D] PRINT_EVENT_MESSAGE(message_id=7611*)
    → "Okay. Well, if you change your mind, you know where I'll be!\u007F1\u0000\u0007"
 72: 0x0356 [0x23] WAIT_FOR_DIALOG_INTERACTION
 73: 0x0357 [0x03] Work_Zone[1] = 0*
 74: 0x035C [0x03] ExtData[1]->WorkLocal[0] = 0*
 75: 0x0361 [0x01] GOTO 0x0364

SUBROUTINE_0364:
 76: 0x0364 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x036F
 77: 0x036C [0x01] GOTO 0x0283
 78: 0x036F [0x01] GOTO 0x039A
 79: 0x0372 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0386
 80: 0x037A [0x1D] PRINT_EVENT_MESSAGE(message_id=7612*)
    → "Trrrade me the goods and I'll see if it's worth exchanging. Oh, and don't forget to have your 
\u0003 gil rrready to pay the difference.\u007F1\u0000\u0007"
 81: 0x037D [0x23] WAIT_FOR_DIALOG_INTERACTION
 82: 0x037E [0x03] Work_Zone[1] = 0*
 83: 0x0383 [0x01] GOTO 0x039A
 84: 0x0386 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x039A
 85: 0x038E [0x1D] PRINT_EVENT_MESSAGE(message_id=7611*)
    → "Okay. Well, if you change your mind, you know where I'll be!\u007F1\u0000\u0007"
 86: 0x0391 [0x23] WAIT_FOR_DIALOG_INTERACTION
 87: 0x0392 [0x03] Work_Zone[1] = 0*
 88: 0x0397 [0x01] GOTO 0x039A

SUBROUTINE_039A:
 89: 0x039A [0x21] END_EVENT
 90: 0x039B [0x00] END_REQSTACK()
```
