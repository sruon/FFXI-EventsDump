# Event 131

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/9       |
| Offset          | 0x0039    |
| Data Size       | 144 bytes |
| Calculated Size | 144 bytes |
| Instructions    | 40        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0030:                             1E F0 FF FF 7F 6F 70           .....op
0040: 1D 02 80 23 1D 03 80 23  24 04 80 05 80 05 80 25  ...#...#$......%
0050: 02 00 10 05 80 00 B7 00  1D 06 80 23 03 02 10 07  ...........#....
0060: 80 1D 08 80 23 24 09 80  0A 80 05 80 25 02 00 10  ....#$......%...
0070: 05 80 00 9E 00 42 5B 00  80 F8 FF FF 7F F8 FF FF  .....B[.........
0080: 7F 74 6C 6B 30 1D 0B 80  23 53 F8 FF FF 7F F8 FF  .tlk0...#S......
0090: FF 7F 74 6C 6B 30 03 01  10 0C 80 01 B2 00 02 00  ..tlk0..........
00A0: 10 0A 80 00 B2 00 1D 0D  80 23 03 01 10 0E 80 01  .........#......
00B0: B2 00 21 00 01 C8 00 02  00 10 0A 80 00 C8 00 1D  ..!.............
00C0: 0F 80 23 21 00 01 C8 00  00                       ..#!.....       
```

## Opcodes

```
  0: 0x0039 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x003E [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x003F [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0040 [0x1D] PRINT_EVENT_MESSAGE(message_id=7039*)
    → "Eh? Another fledgling adventurer? There seem to be more and more of you people these days.\u007F1\u0000\u0007"
  4: 0x0043 [0x23] WAIT_FOR_DIALOG_INTERACTION
  5: 0x0044 [0x1D] PRINT_EVENT_MESSAGE(message_id=7040*)
    → "I may be able to teach you a thing or two... Interested?\u007F1\u0000\u0007"
  6: 0x0047 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x0048 [0x24] CREATE_DIALOG(message_id=7025*, default_option=0*, option_flags=0*)
    → "Interested?\u0007\u000BWhat is it?\u0007I'm too busy.\u007F1\u0000\u0007"
  8: 0x004F [0x25] WAIT_DIALOG_SELECT()
  9: 0x0050 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00B7
 10: 0x0058 [0x1D] PRINT_EVENT_MESSAGE(message_id=7041*)
    → "I'm glad you are. But I won't talk for free. Why don't you bring me \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000 for starters, eh?\u007F1\u0000\u0007"
 11: 0x005B [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x005C [0x03] Work_Zone[2] = 2825*
 13: 0x0061 [0x1D] PRINT_EVENT_MESSAGE(message_id=7042*)
    → "Not that I'd be terribly upset with \u0001\u00056\u0002\u0000\u0000\u0000, provided you could get your hands on one.\u007F1\u0000\u0007"
 14: 0x0064 [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x0065 [0x24] CREATE_DIALOG(message_id=7043*, default_option=1*, option_flags=0*)
    → "Bring her what she wants?\u0007\u000BSure.\u0007Maybe later.\u007F1\u0000\u0007"
 16: 0x006C [0x25] WAIT_DIALOG_SELECT()
 17: 0x006D [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x009E
 18: 0x0075 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 19: 0x0076 [0x5B] LOAD_EXT_SCHEDULER(work_offset=60*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 20: 0x0085 [0x1D] PRINT_EVENT_MESSAGE(message_id=7044*)
    → "Good. I'll be waiting here.\u007F1\u0000\u0007"
 21: 0x0088 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x0089 [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="tlk0")
 23: 0x0096 [0x03] Work_Zone[1] = 40*
 24: 0x009B [0x01] GOTO 0x00B2

SUBROUTINE_009E:
 25: 0x009E [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00B2
 26: 0x00A6 [0x1D] PRINT_EVENT_MESSAGE(message_id=7045*)
    → "Oh? It's for your own good, you know...\u007F1\u0000\u0007"
 27: 0x00A9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x00AA [0x03] Work_Zone[1] = 1073741824*
 29: 0x00AF [0x01] GOTO 0x00B2

SUBROUTINE_00B2:
 30: 0x00B2 [0x21] END_EVENT
 31: 0x00B3 [0x00] END_REQSTACK()

SUBROUTINE_00B7:
 32: 0x00B7 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00C8
 33: 0x00BF [0x1D] PRINT_EVENT_MESSAGE(message_id=7046*)
    → "Oh? Your loss, then.\u0007It's something you really should know...\u007F1\u0000\u0007"
 34: 0x00C2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x00C3 [0x21] END_EVENT
 36: 0x00C4 [0x00] END_REQSTACK()

SUBROUTINE_00C8:
 37: 0x00C8 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x00B4 [0x01] GOTO 0x00C8
# Dead code (unreachable instructions):
     0x00C5 [0x01] GOTO 0x00C8
```