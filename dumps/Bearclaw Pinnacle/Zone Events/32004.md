# Event 32004

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/40      |
| Offset          | 0x1038    |
| Data Size       | 996 bytes |
| Calculated Size | 996 bytes |
| Instructions    | 2         |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1030:                          21 00 24 0C 80 05 80 00          !.$.....
1040: 80 25 02 00 10 00 80 00  50 10 05 01 00 01 50 10  .%......P.....P.
1050: 1B 79 00 F0 FF FF 7F F0  FF FF 7F 42 46 01 02 03  .y.........BF...
1060: 00 00 80 80 70 10 29 0F  75 60 00 01 02 01 73 10  ....p.).u`....s.
1070: 1A 35 11 45 0E 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .5.E..........fd
1080: 6F 32 00 80 55 0E 80 F0  FF FF 7F F0 FF FF 7F 66  o2..U..........f
1090: 64 6F 32 78 02 00 00 05  80 80 A8 10 37 97 80 98  do2x........7...
10A0: 80 99 80 9A 80 01 E4 10  02 00 00 09 80 80 BC 10  ................
10B0: 37 9B 80 9C 80 9D 80 9E  80 01 E4 10 02 00 00 0A  7...............
10C0: 80 80 D0 10 37 9F 80 A0  80 A1 80 A2 80 01 E4 10  ....7...........
10D0: 02 00 00 0B 80 80 E4 10  37 00 80 00 80 00 80 00  ........7.......
10E0: 80 01 E4 10 45 A3 80 F0  FF FF 7F F0 FF FF 7F 62  ....E..........b
10F0: 61 63 6B 00 80 92 01 F0  FF FF 7F 1C 1B 80 45 0E  ack...........E.
1100: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 00 80 55  .........fdi1..U
1110: 0E 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 31 9F A4  ..........fdi1..
1120: 80 F8 FF FF 7F F8 FF FF  7F 6D 61 69 6E 00 80 1C  .........main...
1130: A5 80 46 00 1B 92 01 F0  FF FF 7F 37 A6 80 A7 80  ..F........7....
1140: A8 80 A9 80 45 A3 80 F0  FF FF 7F F0 FF FF 7F 62  ....E..........b
1150: 61 63 6B 00 80 1C 1B 80  45 0E 80 F0 FF FF 7F F0  ack.....E.......
1160: FF FF 7F 66 64 69 31 00  80 9F AA 80 F8 FF FF 7F  ...fdi1.........
1170: F8 FF FF 7F 6D 61 69 6E  00 80 1C 2E 80 45 0E 80  ....main.....E..
1180: F0 FF FF 7F F0 FF FF 7F  66 64 6F 32 00 80 55 0E  ........fdo2..U.
1190: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 32 92 00 F0  .........fdo2...
11A0: FF FF 7F 1B 46 01 02 19  00 00 80 80 B8 11 29 0F  ....F.........).
11B0: 75 60 00 01 04 01 C3 11  02 19 00 05 80 80 C3 11  u`..............
11C0: 01 C3 11 45 0E 80 F0 FF  FF 7F F0 FF FF 7F 66 64  ...E..........fd
11D0: 6F 32 00 80 55 0E 80 F0  FF FF 7F F0 FF FF 7F 66  o2..U..........f
11E0: 64 6F 32 92 01 F0 FF FF  7F 37 79 80 7A 80 7B 80  do2......7y.z.{.
11F0: 7C 80 45 A3 80 F0 FF FF  7F F0 FF FF 7F 62 61 63  |.E..........bac
1200: 6B 00 80 6C F0 FF FF 7F  00 80 00 80 1C 1B 80 45  k..l...........E
1210: 0E 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 31 00 80  ..........fdi1..
1220: 55 0E 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 31 9F  U..........fdi1.
1230: A4 80 F8 FF FF 7F F8 FF  FF 7F 6D 61 69 6E 00 80  ..........main..
1240: 1C A5 80 46 00 1B 24 AB  80 05 80 00 80 25 02 00  ...F..$......%..
1250: 10 00 80 00 5C 12 05 1D  00 01 5C 12 1B 05 1E 00  ....\.....\.....
1260: 1B 46 01 37 AC 80 AD 80  AE 80 AF 80 45 A3 80 F0  .F.7........E...
1270: FF FF 7F F0 FF FF 7F 62  61 63 6B 00 80 1C 1B 80  .......back.....
1280: 45 0E 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 31 00  E..........fdi1.
1290: 80 55 0E 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 31  .U..........fdi1
12A0: 9F AA 80 F8 FF FF 7F F8  FF FF 7F 6D 61 69 6E 00  ...........main.
12B0: 80 1C 2E 80 45 0E 80 F0  FF FF 7F F0 FF FF 7F 66  ....E..........f
12C0: 64 6F 32 00 80 55 0E 80  F0 FF FF 7F F0 FF FF 7F  do2..U..........
12D0: 66 64 6F 32 92 01 F0 FF  FF 7F 37 4F 80 50 80 51  fdo2......7O.P.Q
12E0: 80 52 80 45 A3 80 F0 FF  FF 7F F0 FF FF 7F 62 61  .R.E..........ba
12F0: 63 6B 00 80 1C 1B 80 45  0E 80 F0 FF FF 7F F0 FF  ck.....E........
1300: FF 7F 66 64 69 31 00 80  55 0E 80 F0 FF FF 7F F0  ..fdi1..U.......
1310: FF FF 7F 66 64 69 31 9F  A4 80 F8 FF FF 7F F8 FF  ...fdi1.........
1320: FF 7F 6D 61 69 6E 00 80  1C A5 80 46 00 1B 6C F0  ..main.....F..l.
1330: FF FF 7F 00 80 00 80 46  01 92 01 F0 FF FF 7F 37  .......F.......7
1340: 4F 80 50 80 51 80 52 80  45 A3 80 F0 FF FF 7F F0  O.P.Q.R.E.......
1350: FF FF 7F 62 61 63 6B 00  80 1C 1B 80 45 0E 80 F0  ...back.....E...
1360: FF FF 7F F0 FF FF 7F 66  64 69 31 00 80 55 0E 80  .......fdi1..U..
1370: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 9F A4 80 F8  ........fdi1....
1380: FF FF 7F F8 FF FF 7F 6D  61 69 6E 00 80 1C A5 80  .......main.....
1390: 46 00 1B 02 03 00 00 80  80 9E 13 01 9E 13 1B 02  F...............
13A0: 00 00 05 80 80 BE 13 03  09 00 97 80 03 0A 00 98  ................
13B0: 80 03 0B 00 99 80 03 0C  00 9A 80 01 1B 14 02 00  ................
13C0: 00 09 80 80 DD 13 03 09  00 9B 80 03 0A 00 9C 80  ................
13D0: 03 0B 00 9D 80 03 0C 00  9E 80 01 1B 14 02 00 00  ................
13E0: 0A 80 80 FC 13 03 09 00  9F 80 03 0A 00 A0 80 03  ................
13F0: 0B 00 A1 80 03 0C 00 A2  80 01 1B 14 02 00 00 0B  ................
1400: 80 80 1B 14 03 09 00 00  80 03 0A 00 00 80 03 0B  ................
1410: 00 00 80 03 0C 00 00 80  01 1B 14 1B              ............    
```

## Opcodes

```
  0: 0x1038 [0x21] END_EVENT
  1: 0x1039 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x103A [0x24] CREATE_DIALOG(message_id=7068*, default_option=1*, option_flags=0*)
    → "Enter the battlefield?\u0007\u000BEnter.\u0007Decline.\u007F1\u0000\u0007"
     0x1041 [0x25] WAIT_DIALOG_SELECT()
     0x1042 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x1050
     0x104A [0x05] ExtData[1]->WorkLocal[1] = 1
     0x104D [0x01] GOTO 0x1050
     0x1050 [0x1B] RETURN
     0x1051 [0x79] LocalPlayer looks at LocalPlayer (Basic look)
     0x105B [0x42] SET_CLI_EVENT_CANCEL_DATA()
     0x105C [0x46] CAMERA_CONTROL: Disable user control
     0x105E [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x1070
     0x1066 [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=??? (ID: 16801909/0x01006075), tag_num=0x02)
     0x106D [0x01] GOTO 0x1073
     0x1070 [0x1A] CALL_SUBROUTINE(address=0x1135)
     0x1073 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1084 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=200*
     0x1093 [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
     0x1094 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x10A8
     0x109C [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-440.113*, z=836.137*, y=-0.193*, direction=152.6°*
     0x10A5 [0x01] GOTO 0x10E4
     0x10A8 [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x10BC
     0x10B0 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-199.231*, z=432.078*, y=-0.421*, direction=177.8°*
     0x10B9 [0x01] GOTO 0x10E4
     0x10BC [0x02] IF !(ExtData[1]->WorkLocal[0] == 3*) GOTO 0x10D0
     0x10C4 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-599.563*, z=152.405*, y=-0.442*, direction=170.0°*
     0x10CD [0x01] GOTO 0x10E4
     0x10D0 [0x02] IF !(ExtData[1]->WorkLocal[0] == 4*) GOTO 0x10E4
     0x10D8 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=0.000*, z=0.000*, y=0.000*, direction=0.0°*
     0x10E1 [0x01] GOTO 0x10E4
     0x10E4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
     0x10F5 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
     0x10FB [0x1C] WAIT(10* ticks)
     0x10FE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x110F [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x111E [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[78*, 0*]
     0x112F [0x1C] WAIT(120* ticks)
     0x1132 [0x46] CAMERA_CONTROL: Restore default settings
     0x1134 [0x1B] RETURN
     0x1135 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
     0x113B [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-716.789*, z=-441.514*, y=8.492*, direction=216.9°*
     0x1144 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
     0x1155 [0x1C] WAIT(10* ticks)
     0x1158 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1169 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[77*, 0*]
     0x117A [0x1C] WAIT(60* ticks)
     0x117D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x118E [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=200*
     0x119D [0x92] LocalPlayer->Render.Flags3 = Flags3  // No change (flag=0)
     0x11A3 [0x1B] RETURN
     0x11A4 [0x46] CAMERA_CONTROL: Disable user control
     0x11A6 [0x02] IF !(ExtData[1]->WorkLocal[25] == 0*) GOTO 0x11B8
     0x11AE [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=??? (ID: 16801909/0x01006075), tag_num=0x04)
     0x11B5 [0x01] GOTO 0x11C3
     0x11B8 [0x02] IF !(ExtData[1]->WorkLocal[25] == 1*) GOTO 0x11C3
     0x11C0 [0x01] GOTO 0x11C3
     0x11C3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x11D4 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=200*
     0x11E3 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
     0x11E9 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-179.493*, z=-28.820*, y=-118.031*, direction=102.0°*
     0x11F2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
     0x1203 [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=0*, fade_time=0*)
     0x120C [0x1C] WAIT(10* ticks)
     0x120F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1220 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x122F [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[78*, 0*]
     0x1240 [0x1C] WAIT(120* ticks)
     0x1243 [0x46] CAMERA_CONTROL: Restore default settings
     0x1245 [0x1B] RETURN
     0x1246 [0x24] CREATE_DIALOG(message_id=7069*, default_option=1*, option_flags=0*)
    → "Leave the battlefield?\u0007\u000BRun away.\u0007Stay.\u007F1\u0000\u0007"
     0x124D [0x25] WAIT_DIALOG_SELECT()
     0x124E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x125C
     0x1256 [0x05] ExtData[1]->WorkLocal[29] = 1
     0x1259 [0x01] GOTO 0x125C
     0x125C [0x1B] RETURN
     0x125D [0x05] ExtData[1]->WorkLocal[30] = 1
     0x1260 [0x1B] RETURN
     0x1261 [0x46] CAMERA_CONTROL: Disable user control
     0x1263 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-436.683*, z=834.382*, y=-0.169*, direction=337.8°*
     0x126C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
     0x127D [0x1C] WAIT(10* ticks)
     0x1280 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1291 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x12A0 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[77*, 0*]
     0x12B1 [0x1C] WAIT(60* ticks)
     0x12B4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x12C5 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=200*
     0x12D4 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
     0x12DA [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-709.245*, z=-452.165*, y=5.170*, direction=44.5°*
     0x12E3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
     0x12F4 [0x1C] WAIT(10* ticks)
     0x12F7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1308 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x1317 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[78*, 0*]
     0x1328 [0x1C] WAIT(120* ticks)
     0x132B [0x46] CAMERA_CONTROL: Restore default settings
     0x132D [0x1B] RETURN
     0x132E [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=0*, fade_time=0*)
     0x1337 [0x46] CAMERA_CONTROL: Disable user control
     0x1339 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
     0x133F [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-709.245*, z=-452.165*, y=5.170*, direction=44.5°*
     0x1348 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
     0x1359 [0x1C] WAIT(10* ticks)
     0x135C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x136D [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x137C [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[78*, 0*]
     0x138D [0x1C] WAIT(120* ticks)
     0x1390 [0x46] CAMERA_CONTROL: Restore default settings
     0x1392 [0x1B] RETURN
     0x1393 [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x139E
     0x139B [0x01] GOTO 0x139E
     0x139E [0x1B] RETURN
     0x139F [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x13BE
     0x13A7 [0x03] ExtData[1]->WorkLocal[9] = 4294527183*
     0x13AC [0x03] ExtData[1]->WorkLocal[10] = 836137*
     0x13B1 [0x03] ExtData[1]->WorkLocal[11] = 4294967103*
     0x13B6 [0x03] ExtData[1]->WorkLocal[12] = 1736*
     0x13BB [0x01] GOTO 0x141B
     0x13BE [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x13DD
     0x13C6 [0x03] ExtData[1]->WorkLocal[9] = 4294768065*
     0x13CB [0x03] ExtData[1]->WorkLocal[10] = 432078*
     0x13D0 [0x03] ExtData[1]->WorkLocal[11] = 4294966875*
     0x13D5 [0x03] ExtData[1]->WorkLocal[12] = 2023*
     0x13DA [0x01] GOTO 0x141B
     0x13DD [0x02] IF !(ExtData[1]->WorkLocal[0] == 3*) GOTO 0x13FC
     0x13E5 [0x03] ExtData[1]->WorkLocal[9] = 4294367733*
     0x13EA [0x03] ExtData[1]->WorkLocal[10] = 152405*
     0x13EF [0x03] ExtData[1]->WorkLocal[11] = 4294966854*
     0x13F4 [0x03] ExtData[1]->WorkLocal[12] = 1934*
     0x13F9 [0x01] GOTO 0x141B
     0x13FC [0x02] IF !(ExtData[1]->WorkLocal[0] == 4*) GOTO 0x141B
     0x1404 [0x03] ExtData[1]->WorkLocal[9] = 0*
     0x1409 [0x03] ExtData[1]->WorkLocal[10] = 0*
     0x140E [0x03] ExtData[1]->WorkLocal[11] = 0*
     0x1413 [0x03] ExtData[1]->WorkLocal[12] = 0*
     0x1418 [0x01] GOTO 0x141B
     0x141B [0x1B] RETURN
```