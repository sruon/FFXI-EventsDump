# Event 32004

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/48      |
| Offset          | 0x100B    |
| Data Size       | 195 bytes |
| Calculated Size | 195 bytes |
| Instructions    | 39        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1000:                                   03 22 00 02 10             ."...
1010: 03 23 00 03 10 03 1F 00  04 10 03 24 00 05 10 20  .#.........$... 
1020: 01 46 01 42 79 00 F0 FF  FF 7F F0 FF FF 7F 02 24  .F.By..........$
1030: 00 00 80 00 39 10 1C 5F  80 02 1F 00 00 80 80 44  ....9.._.......D
1040: 10 01 A1 10 02 1F 00 05  80 80 A1 10 20 01 42 46  ............ .BF
1050: 01 45 0E 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 31  .E..........fdo1
1060: 00 80 1C 31 80 1A 14 2A  29 0E A7 A0 0A 01 06 02  ...1...*).......
1070: 24 00 00 80 00 9E 10 38  18 80 1A D4 2B 02 22 00  $......8....+.".
1080: 05 80 80 88 10 01 9E 10  02 22 00 09 80 80 93 10  ........."......
1090: 01 9E 10 02 22 00 0A 80  80 9E 10 01 9E 10 01 A1  ...."...........
10A0: 10 45 0E 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 32  .E..........fdi2
10B0: 00 80 02 24 00 05 80 00  CA 10 5C 00 00 80 5C 01  ...$......\...\.
10C0: 00 80 5C 02 33 80 5C 03  33 80 46 00 21 00        ..\.3.\.3.F.!.  
```

## Opcodes

```
  0: 0x100B [0x03] ExtData[1]->WorkLocal[34] = Work_Zone[2]
  1: 0x1010 [0x03] ExtData[1]->WorkLocal[35] = Work_Zone[3]
  2: 0x1015 [0x03] ExtData[1]->WorkLocal[31] = Work_Zone[4]
  3: 0x101A [0x03] ExtData[1]->WorkLocal[36] = Work_Zone[5]
  4: 0x101F [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  5: 0x1021 [0x46] CAMERA_CONTROL: Disable user control
  6: 0x1023 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  7: 0x1024 [0x79] LocalPlayer looks at LocalPlayer (Basic look)
  8: 0x102E [0x02] IF !(ExtData[1]->WorkLocal[36] == 0*) GOTO 0x1039
  9: 0x1036 [0x1C] WAIT(300* ticks)
 10: 0x1039 [0x02] IF !(ExtData[1]->WorkLocal[31] == 0*) GOTO 0x1044
 11: 0x1041 [0x01] GOTO 0x10A1
 12: 0x1044 [0x02] IF !(ExtData[1]->WorkLocal[31] == 1*) GOTO 0x10A1
 13: 0x104C [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
 14: 0x104E [0x42] SET_CLI_EVENT_CANCEL_DATA()
 15: 0x104F [0x46] CAMERA_CONTROL: Disable user control
 16: 0x1051 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 17: 0x1062 [0x1C] WAIT(100* ticks)
 18: 0x1065 [0x1A] CALL_SUBROUTINE(address=0x2A14)
 19: 0x1068 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=DIRECTOR (ID: 17473703/0x010AA0A7), tag_num=0x06)
 20: 0x106F [0x02] IF !(ExtData[1]->WorkLocal[36] == 0*) GOTO 0x109E
 21: 0x1077 [0x38] SET_CLIENT_EVENT_MODE(mode=6*)
 22: 0x107A [0x1A] CALL_SUBROUTINE(address=0x2BD4)
 23: 0x107D [0x02] IF !(ExtData[1]->WorkLocal[34] == 1*) GOTO 0x1088
 24: 0x1085 [0x01] GOTO 0x109E
 25: 0x1088 [0x02] IF !(ExtData[1]->WorkLocal[34] == 2*) GOTO 0x1093
 26: 0x1090 [0x01] GOTO 0x109E
 27: 0x1093 [0x02] IF !(ExtData[1]->WorkLocal[34] == 3*) GOTO 0x109E
 28: 0x109B [0x01] GOTO 0x109E

SUBROUTINE_109E:
 29: 0x109E [0x01] GOTO 0x10A1

SUBROUTINE_10A1:
 30: 0x10A1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 31: 0x10B2 [0x02] IF !(ExtData[1]->WorkLocal[36] == 1*) GOTO 0x10CA
 32: 0x10BA [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 33: 0x10BE [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 34: 0x10C2 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 193*
 35: 0x10C6 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 193*
 36: 0x10CA [0x46] CAMERA_CONTROL: Restore default settings
 37: 0x10CC [0x21] END_EVENT
 38: 0x10CD [0x00] END_REQSTACK()
```
