# Event 280

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 52/85     |
| Offset          | 0x03CB    |
| Data Size       | 494 bytes |
| Calculated Size | 494 bytes |
| Instructions    | 78        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
03C0:                                   20 01 42 46 01              .BF.
03D0: 5D 31 80 32 80 45 33 80  F8 FF FF 7F F8 FF FF 7F  ]1.2.E3.........
03E0: 66 64 6F 31 31 80 1C 34  80 75 00 35 80 75 01 38  fdo11..4.u.5.u.8
03F0: 36 80 29 08 F0 FF FF 7F  0A 29 0B F0 FF FF 7F 35  6.)......).....5
0400: 4A 12 00 0F 01 F0 FF FF  7F 5C 00 37 80 5C 01 37  J........\.7.\.7
0410: 80 5D 38 80 39 80 1C 32  80 02 09 10 3A 80 00 35  .]8.9..2....:..5
0420: 04 45 3B 80 F0 FF FF 7F  F0 FF FF 7F 73 31 30 33  .E;.........s103
0430: 31 80 01 46 04 45 3B 80  F0 FF FF 7F F0 FF FF 7F  1..F.E;.........
0440: 73 30 36 34 31 80 29 08  11 00 0F 01 1A 45 33 80  s0641.)......E3.
0450: F8 FF FF 7F F8 FF FF 7F  66 64 69 31 31 80 1E F0  ........fdi11...
0460: FF FF 7F 6F 70 29 0B 11  00 0F 01 55 29 0B 12 00  ...op).....U)...
0470: 0F 01 34 02 07 10 31 80  00 85 04 29 0B 12 00 0F  ..4...1....)....
0480: 01 35 01 8C 04 29 0B 12  00 0F 01 36 29 08 11 00  .5...).....6)...
0490: 0F 01 1B 45 3B 80 F0 FF  FF 7F F0 FF FF 7F 73 30  ...E;.........s0
04A0: 39 35 31 80 4A 11 00 0F  01 12 00 0F 01 1C 01 80  951.J...........
04B0: 79 00 F0 FF FF 7F 11 00  0F 01 02 07 10 31 80 00  y............1..
04C0: CC 04 29 0B 11 00 0F 01  56 01 D3 04 29 0B 11 00  ..).....V...)...
04D0: 0F 01 57 4A 12 00 0F 01  11 00 0F 01 1C 01 80 29  ..WJ...........)
04E0: 0B 12 00 0F 01 37 02 07  10 31 80 00 F8 04 29 0B  .....7...1....).
04F0: 11 00 0F 01 58 01 FF 04  29 0B 11 00 0F 01 59 4A  ....X...).....YJ
0500: 11 00 0F 01 F0 FF FF 7F  1C 01 80 45 3B 80 F8 FF  ...........E;...
0510: FF 7F F8 FF FF 7F 73 30  38 35 31 80 4E 01 F0 FF  ......s0851.N...
0520: FF 7F 29 08 11 00 0F 01  14 02 07 10 31 80 00 3B  ..).........1..;
0530: 05 29 0B 11 00 0F 01 5A  01 42 05 29 0B 11 00 0F  .).....Z.B.)....
0540: 01 5B 4A 12 00 0F 01 F0  FF FF 7F 1C 01 80 29 0B  .[J...........).
0550: 12 00 0F 01 38 5D 31 80  32 80 1C 34 80 45 33 80  ....8]1.2..4.E3.
0560: F8 FF FF 7F F8 FF FF 7F  66 64 6F 31 31 80 1C 34  ........fdo11..4
0570: 80 02 07 10 31 80 00 81  05 03 01 10 39 80 01 86  ....1.......9...
0580: 05 03 01 10 3C 80 29 08  11 00 0F 01 15 7B F0 FF  ....<.)......{..
0590: FF 7F 5C 00 3D 80 5C 01  3D 80 5D 38 80 39 80 1C  ..\.=.\.=.]8.9..
05A0: 33 80 46 00 45 33 80 F8  FF FF 7F F8 FF FF 7F 66  3.F.E3.........f
05B0: 64 69 31 31 80 20 00 21  00                       di11. .!.       
```

## Opcodes

```
  0: 0x03CB [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x03CD [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x03CE [0x46] CAMERA_CONTROL: Disable user control
  3: 0x03D0 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=100*)
  4: 0x03D5 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  5: 0x03E6 [0x1C] WAIT(60* ticks)
  6: 0x03E9 [0x75] LOAD_ROOM(Load indoor room, room=411*)
  7: 0x03ED [0x75] LOAD_ROOM(No action)
  8: 0x03EF [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  9: 0x03F2 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x0A)
 10: 0x03F9 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x35)
 11: 0x0400 [0x4A] Kuroido-Moido (ID: 17760274/0x010F0012) looks at LocalPlayer
 12: 0x0409 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 163*
 13: 0x040D [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 163*
 14: 0x0411 [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 15: 0x0416 [0x1C] WAIT(100* ticks)
 16: 0x0419 [0x02] IF !(Work_Zone[9] == 8*) GOTO 0x0435
 17: 0x0421 [0x45] LOAD_SCHEDULED_TASK(work_offset1=140*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s103", work_offset2=0*)
 18: 0x0432 [0x01] GOTO 0x0446

SUBROUTINE_0435:
 19: 0x0435 [0x45] LOAD_SCHEDULED_TASK(work_offset1=140*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s064", work_offset2=0*)
 20: 0x0446 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x1A)
 21: 0x044D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 22: 0x045E [0x1E] EventEntity looks at LocalPlayer and starts talking
 23: 0x0463 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 24: 0x0464 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 25: 0x0465 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x55)
 26: 0x046C [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Kuroido-Moido (ID: 17760274/0x010F0012), tag_num=0x34)
 27: 0x0473 [0x02] IF !(Work_Zone[7] == 0*) GOTO 0x0485
 28: 0x047B [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Kuroido-Moido (ID: 17760274/0x010F0012), tag_num=0x35)
 29: 0x0482 [0x01] GOTO 0x048C

SUBROUTINE_0485:
 30: 0x0485 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Kuroido-Moido (ID: 17760274/0x010F0012), tag_num=0x36)
 31: 0x048C [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x1B)
 32: 0x0493 [0x45] LOAD_SCHEDULED_TASK(work_offset1=140*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s095", work_offset2=0*)
 33: 0x04A4 [0x4A] Hakkuru-Rinkuru (ID: 17760273/0x010F0011) looks at Kuroido-Moido (ID: 17760274/0x010F0012)
 34: 0x04AD [0x1C] WAIT(30* ticks)
 35: 0x04B0 [0x79] LocalPlayer looks at Hakkuru-Rinkuru (ID: 17760273/0x010F0011) (Basic look)
 36: 0x04BA [0x02] IF !(Work_Zone[7] == 0*) GOTO 0x04CC
 37: 0x04C2 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x56)
 38: 0x04C9 [0x01] GOTO 0x04D3

SUBROUTINE_04CC:
 39: 0x04CC [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x57)
 40: 0x04D3 [0x4A] Kuroido-Moido (ID: 17760274/0x010F0012) looks at Hakkuru-Rinkuru (ID: 17760273/0x010F0011)
 41: 0x04DC [0x1C] WAIT(30* ticks)
 42: 0x04DF [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Kuroido-Moido (ID: 17760274/0x010F0012), tag_num=0x37)
 43: 0x04E6 [0x02] IF !(Work_Zone[7] == 0*) GOTO 0x04F8
 44: 0x04EE [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x58)
 45: 0x04F5 [0x01] GOTO 0x04FF

SUBROUTINE_04F8:
 46: 0x04F8 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x59)
 47: 0x04FF [0x4A] Hakkuru-Rinkuru (ID: 17760273/0x010F0011) looks at LocalPlayer
 48: 0x0508 [0x1C] WAIT(30* ticks)
 49: 0x050B [0x45] LOAD_SCHEDULED_TASK(work_offset1=140*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s085", work_offset2=0*)
 50: 0x051C [0x4E] SET_ENTITY_HIDE_FLAG: Hide LocalPlayer
 51: 0x0522 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x14)
 52: 0x0529 [0x02] IF !(Work_Zone[7] == 0*) GOTO 0x053B
 53: 0x0531 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x5A)
 54: 0x0538 [0x01] GOTO 0x0542

SUBROUTINE_053B:
 55: 0x053B [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x5B)
 56: 0x0542 [0x4A] Kuroido-Moido (ID: 17760274/0x010F0012) looks at LocalPlayer
 57: 0x054B [0x1C] WAIT(30* ticks)
 58: 0x054E [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Kuroido-Moido (ID: 17760274/0x010F0012), tag_num=0x38)
 59: 0x0555 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=100*)
 60: 0x055A [0x1C] WAIT(60* ticks)
 61: 0x055D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 62: 0x056E [0x1C] WAIT(60* ticks)
 63: 0x0571 [0x02] IF !(Work_Zone[7] == 0*) GOTO 0x0581
 64: 0x0579 [0x03] Work_Zone[1] = 1*
 65: 0x057E [0x01] GOTO 0x0586

SUBROUTINE_0581:
 66: 0x0581 [0x03] Work_Zone[1] = 2*
 67: 0x0586 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x15)
 68: 0x058D [0x7B] LocalPlayer stops talking
 69: 0x0592 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 151*
 70: 0x0596 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 151*
 71: 0x059A [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 72: 0x059F [0x1C] WAIT(200* ticks)
 73: 0x05A2 [0x46] CAMERA_CONTROL: Restore default settings
 74: 0x05A4 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 75: 0x05B5 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 76: 0x05B7 [0x21] END_EVENT
 77: 0x05B8 [0x00] END_REQSTACK()
```
