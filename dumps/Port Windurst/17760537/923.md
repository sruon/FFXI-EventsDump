# Event 923

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 10/20     |
| Offset          | 0x3489    |
| Data Size       | 224 bytes |
| Calculated Size | 224 bytes |
| Instructions    | 42        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
3480:                             02 02 10 BC 80 00 92           .......
3490: 34 42 4A 58 00 0F 01 F0  FF FF 7F 6F 76 58 00 0F  4BJX.......ovX..
34A0: 01 4A F0 FF FF 7F 58 00  0F 01 02 02 10 BC 80 00  .J....X.........
34B0: 36 35 1A 64 00 2F 00 1A  01 0F 01 4E 01 58 00 0F  65.d./.....N.X..
34C0: 01 4E 00 1A 01 0F 01 4A  1A 01 0F 01 F0 FF FF 7F  .N.....J........
34D0: 29 0B 1A 01 0F 01 02 2C  1A 01 0F 01 1A 01 0F 01  )......,........
34E0: 77 6F 6E 34 53 1A 01 0F  01 1A 01 0F 01 77 6F 6E  won4S........won
34F0: 34 6F 76 1A 01 0F 01 80  1A 01 0F 01 29 0B 1A 01  4ov.........)...
3500: 0F 01 03 1A 43 00 2B 58  00 0F 01 D7 80 23 2B 58  ....C.+X.....#+X
3510: 00 0F 01 D8 80 23 1A 64  00 4E 00 58 00 0F 01 80  .....#.d.N.X....
3520: 58 00 0F 01 4E 01 1A 01  0F 01 2F 01 1A 01 0F 01  X...N...../.....
3530: 1A 43 00 01 67 35 02 02  10 BF 80 00 67 35 02 03  .C..g5......g5..
3540: 10 03 80 00 58 35 29 0B  58 00 0F 01 0E 2B 58 00  ....X5).X....+X.
3550: 0F 01 D9 80 23 01 67 35  29 0B 58 00 0F 01 03 2B  ....#.g5).X....+
3560: 58 00 0F 01 DA 80 23 21  00                       X.....#!.       
```

## Opcodes

```
  0: 0x3489 [0x02] IF !(Work_Zone[2] == 172*) GOTO 0x3492
  1: 0x3491 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x3492 [0x4A] Shanruru (ID: 17760344/0x010F0058) looks at LocalPlayer
  3: 0x349B [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x349C [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Shanruru (ID: 17760344/0x010F0058) Render.Flags0 and Render.Flags3 conditions are met
  5: 0x34A1 [0x4A] LocalPlayer looks at Shanruru (ID: 17760344/0x010F0058)
  6: 0x34AA [0x02] IF !(Work_Zone[2] == 172*) GOTO 0x3536
  7: 0x34B2 [0x1A] CALL_SUBROUTINE(address=0x0064)
  8: 0x34B5 [0x2F] Shanruru (ID: 17760538/0x010F011A)->Render.Flags0 &= ~0x80000 // Bit 19
  9: 0x34BB [0x4E] SET_ENTITY_HIDE_FLAG: Hide Shanruru (ID: 17760344/0x010F0058)
 10: 0x34C1 [0x4E] SET_ENTITY_HIDE_FLAG: Show Shanruru (ID: 17760538/0x010F011A)
 11: 0x34C7 [0x4A] Shanruru (ID: 17760538/0x010F011A) looks at LocalPlayer
 12: 0x34D0 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Shanruru (ID: 17760538/0x010F011A), tag_num=0x02)
 13: 0x34D7 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "won4" with entities [Shanruru (ID: 17760538/0x010F011A), Shanruru (ID: 17760538/0x010F011A)]
 14: 0x34E4 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "won4" with entities [Shanruru (ID: 17760538/0x010F011A), Shanruru (ID: 17760538/0x010F011A)]
 15: 0x34F1 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 16: 0x34F2 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Shanruru (ID: 17760538/0x010F011A) Render.Flags0 and Render.Flags3 conditions are met
 17: 0x34F7 [0x80] LOAD_WAIT(entity=Shanruru (ID: 17760538/0x010F011A))
 18: 0x34FC [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Shanruru (ID: 17760538/0x010F011A), tag_num=0x03)
 19: 0x3503 [0x1A] CALL_SUBROUTINE(address=0x0043)
 20: 0x3506 [0x2B] Shanruru (ID: 17760344/0x010F0058) [16630*]:
    → "Thank you so much for finding my doll.\u007F1\u0000\u0007"
 21: 0x350D [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x350E [0x2B] Shanruru (ID: 17760344/0x010F0058) [16631*]:
    → "Don't worry. I'll never let you out of my sight again!\u007F1\u0000\u0007"
 23: 0x3515 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x3516 [0x1A] CALL_SUBROUTINE(address=0x0064)
 25: 0x3519 [0x4E] SET_ENTITY_HIDE_FLAG: Show Shanruru (ID: 17760344/0x010F0058)
 26: 0x351F [0x80] LOAD_WAIT(entity=Shanruru (ID: 17760344/0x010F0058))
 27: 0x3524 [0x4E] SET_ENTITY_HIDE_FLAG: Hide Shanruru (ID: 17760538/0x010F011A)
 28: 0x352A [0x2F] Shanruru (ID: 17760538/0x010F011A)->Render.Flags0 |= 0x80000 // Bit 19
 29: 0x3530 [0x1A] CALL_SUBROUTINE(address=0x0043)
 30: 0x3533 [0x01] GOTO 0x3567

SUBROUTINE_3536:
 31: 0x3536 [0x02] IF !(Work_Zone[2] == 174*) GOTO 0x3567
 32: 0x353E [0x02] IF !(Work_Zone[3] == 1*) GOTO 0x3558
 33: 0x3546 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Shanruru (ID: 17760344/0x010F0058), tag_num=0x0E)
 34: 0x354D [0x2B] Shanruru (ID: 17760344/0x010F0058) [16709*]:
    → "I may not look like much, but I'm a really good spy!\u007F1\u0000\u0007"
 35: 0x3554 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x3555 [0x01] GOTO 0x3567

SUBROUTINE_3558:
 37: 0x3558 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Shanruru (ID: 17760344/0x010F0058), tag_num=0x03)
 38: 0x355F [0x2B] Shanruru (ID: 17760344/0x010F0058) [16710*]:
    → "I won't be left here to rot while everyone else goes out and has all the fun!\u007F1\u0000\u0007"
 39: 0x3566 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x3567 [0x21] END_EVENT
 41: 0x3568 [0x00] END_REQSTACK()
```
