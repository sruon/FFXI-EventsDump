# Event 277

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 82/114    |
| Offset          | 0x131D    |
| Data Size       | 117 bytes |
| Calculated Size | 117 bytes |
| Instructions    | 28        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1310:                                         20 01 42                .B
1320: 1E F0 FF FF 7F 6F 70 02  07 10 07 80 00 56 13 29  .....op......V.)
1330: 08 11 00 0F 01 01 1D 65  80 23 29 08 11 00 0F 01  .......e.#).....
1340: 02 29 08 11 00 0F 01 07  1D 66 80 23 29 08 11 00  .).......f.#)...
1350: 0F 01 08 01 7A 13 29 08  11 00 0F 01 01 1D 67 80  ....z.).......g.
1360: 23 29 08 11 00 0F 01 02  29 08 11 00 0F 01 07 1D  #)......).......
1370: 68 80 23 29 08 11 00 0F  01 08 45 19 80 F0 FF FF  h.#)......E.....
1380: 7F F0 FF FF 7F 71 73 74  63 07 80 48 69 80 20 00  .....qstc..Hi. .
1390: 21 00                                             !.              
```

## Opcodes

```
  0: 0x131D [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x131F [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x1320 [0x1E] EventEntity looks at LocalPlayer and starts talking
  3: 0x1325 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x1326 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  5: 0x1327 [0x02] IF !(Work_Zone[7] == 0*) GOTO 0x1356
  6: 0x132F [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x01)
  7: 0x1336 [0x1D] PRINT_EVENT_MESSAGE(message_id=3775*)
    → "Whoa! Heebee jeebees! You're just in time! We just heard word that the minister is on his way back now.\u007F1\u0000\u0007"
  8: 0x1339 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x133A [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x02)
 10: 0x1341 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x07)
 11: 0x1348 [0x1D] PRINT_EVENT_MESSAGE(message_id=3776*)
    → "Thanks. You're the bee's knees!\u0007Here's your handsome ransom, in lieu of hush money. Now I've got to hurry and fix this wand!\u007F1\u0000\u0007"
 12: 0x134B [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x134C [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x08)
 14: 0x1353 [0x01] GOTO 0x137A
 15: 0x1356 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x01)
 16: 0x135D [0x1D] PRINT_EVENT_MESSAGE(message_id=12375*)
    → "Thank you so much!\u0007I was so worried, my tummy-wummy was doing somersaults.\u007F1\u0000\u0007"
 17: 0x1360 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x1361 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x02)
 19: 0x1368 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x07)
 20: 0x136F [0x1D] PRINT_EVENT_MESSAGE(message_id=12376*)
    → "Take this with my thanks.\u0007Now I have to get this wand fixed!\u007F1\u0000\u0007"
 21: 0x1372 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x1373 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hakkuru-Rinkuru (ID: 17760273/0x010F0011), tag_num=0x08)

SUBROUTINE_137A:
 23: 0x137A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 24: 0x138B [0x48] [System] [10976*]:
    → "Obtained 
\u0000 gil.\u0000\u0007"
 25: 0x138E [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 26: 0x1390 [0x21] END_EVENT
 27: 0x1391 [0x00] END_REQSTACK()
```
