# Event 66

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 34/39     |
| Offset          | 0x07F1    |
| Data Size       | 421 bytes |
| Calculated Size | 421 bytes |
| Instructions    | 58        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
07F0:    46 01 42 1E F0 FF FF  7F 6F 70 5D 00 80 06 80   F.B.....op]....
0800: 45 06 80 F8 FF FF 7F F8  FF FF 7F 66 64 6F 31 00  E..........fdo1.
0810: 80 1C 0C 80 75 00 07 80  75 01 38 08 80 29 08 F0  ....u...u.8..)..
0820: FF FF 7F 0A 29 0B F0 FF  FF 7F 31 1E F0 FF FF 7F  ....).....1.....
0830: 6F 70 5C 00 09 80 5C 01  09 80 5D 0A 80 0B 80 1C  op\...\...].....
0840: 0C 80 4A F0 FF FF 7F 29  00 0F 01 02 09 10 0E 80  ..J....)........
0850: 00 67 08 45 0D 80 F0 FF  FF 7F F0 FF FF 7F 73 31  .g.E..........s1
0860: 30 32 00 80 01 78 08 45  0D 80 F0 FF FF 7F F0 FF  02...x.E........
0870: FF 7F 73 30 31 34 00 80  45 06 80 F8 FF FF 7F F8  ..s014..E.......
0880: FF FF 7F 66 64 69 31 00  80 29 0B 29 00 0F 01 22  ...fdi1..).)..."
0890: 4A 2A 00 0F 01 29 00 0F  01 45 0D 80 F0 FF FF 7F  J*...)...E......
08A0: F0 FF FF 7F 73 30 38 39  00 80 29 0B 29 00 0F 01  ....s089..).)...
08B0: 23 45 06 80 F8 FF FF 7F  F8 FF FF 7F 66 64 6F 32  #E..........fdo2
08C0: 00 80 1C 06 80 02 09 10  0E 80 00 E1 08 45 0D 80  .............E..
08D0: F0 FF FF 7F F0 FF FF 7F  73 31 30 32 00 80 01 F2  ........s102....
08E0: 08 45 0D 80 F0 FF FF 7F  F0 FF FF 7F 73 30 31 34  .E..........s014
08F0: 00 80 45 06 80 F8 FF FF  7F F8 FF FF 7F 66 64 69  ..E..........fdi
0900: 32 00 80 1C 0C 80 29 0B  29 00 0F 01 24 45 0D 80  2.....).)...$E..
0910: F0 FF FF 7F F0 FF FF 7F  73 30 31 31 00 80 29 08  ........s011..).
0920: 29 00 0F 01 01 29 0B 29  00 0F 01 25 5D 00 80 06  )....).)...%]...
0930: 80 45 06 80 F8 FF FF 7F  F8 FF FF 7F 66 64 6F 31  .E..........fdo1
0940: 00 80 1C 0C 80 29 08 29  00 0F 01 02 45 0D 80 F0  .....).)....E...
0950: FF FF 7F F0 FF FF 7F 73  30 31 35 00 80 5C 00 0F  .......s015..\..
0960: 80 5C 01 0F 80 5D 0A 80  0B 80 1C 0C 80 46 00 2E  .\...].......F..
0970: 45 06 80 F8 FF FF 7F F8  FF FF 7F 66 64 69 31 00  E..........fdi1.
0980: 80 45 1D 80 F0 FF FF 7F  F0 FF FF 7F 71 73 74 63  .E..........qstc
0990: 00 80 20 00 21 00                                 .. .!.          
```

## Opcodes

```
  0: 0x07F1 [0x46] CAMERA_CONTROL: Disable user control
  1: 0x07F3 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x07F4 [0x1E] EventEntity looks at LocalPlayer and starts talking
  3: 0x07F9 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x07FA [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  5: 0x07FB [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=200*)
  6: 0x0800 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  7: 0x0811 [0x1C] WAIT(120* ticks)
  8: 0x0814 [0x75] LOAD_ROOM(Load indoor room, room=410*)
  9: 0x0818 [0x75] LOAD_ROOM(No action)
 10: 0x081A [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
 11: 0x081D [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x0A)
 12: 0x0824 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x31)
 13: 0x082B [0x1E] EventEntity looks at LocalPlayer and starts talking
 14: 0x0830 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 15: 0x0831 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 16: 0x0832 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 154*
 17: 0x0836 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 154*
 18: 0x083A [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 19: 0x083F [0x1C] WAIT(120* ticks)
 20: 0x0842 [0x4A] LocalPlayer looks at Melek (ID: 17760297/0x010F0029)
 21: 0x084B [0x02] IF !(Work_Zone[9] == 8*) GOTO 0x0867
 22: 0x0853 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s102" with entities [LocalPlayer, LocalPlayer], work=[140*, 0*]
 23: 0x0864 [0x01] GOTO 0x0878

SUBROUTINE_0867:
 24: 0x0867 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s014" with entities [LocalPlayer, LocalPlayer], work=[140*, 0*]
 25: 0x0878 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 26: 0x0889 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Melek (ID: 17760297/0x010F0029), tag_num=0x22)
 27: 0x0890 [0x4A] Gold Skull (ID: 17760298/0x010F002A) looks at Melek (ID: 17760297/0x010F0029)
 28: 0x0899 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s089" with entities [LocalPlayer, LocalPlayer], work=[140*, 0*]
 29: 0x08AA [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Melek (ID: 17760297/0x010F0029), tag_num=0x23)
 30: 0x08B1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [EventEntity, EventEntity], work=[200*, 0*]
 31: 0x08C2 [0x1C] WAIT(200* ticks)
 32: 0x08C5 [0x02] IF !(Work_Zone[9] == 8*) GOTO 0x08E1
 33: 0x08CD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s102" with entities [LocalPlayer, LocalPlayer], work=[140*, 0*]
 34: 0x08DE [0x01] GOTO 0x08F2

SUBROUTINE_08E1:
 35: 0x08E1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s014" with entities [LocalPlayer, LocalPlayer], work=[140*, 0*]
 36: 0x08F2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [EventEntity, EventEntity], work=[200*, 0*]
 37: 0x0903 [0x1C] WAIT(120* ticks)
 38: 0x0906 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Melek (ID: 17760297/0x010F0029), tag_num=0x24)
 39: 0x090D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s011" with entities [LocalPlayer, LocalPlayer], work=[140*, 0*]
 40: 0x091E [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Melek (ID: 17760297/0x010F0029), tag_num=0x01)
 41: 0x0925 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Melek (ID: 17760297/0x010F0029), tag_num=0x25)
 42: 0x092C [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=200*)
 43: 0x0931 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 44: 0x0942 [0x1C] WAIT(120* ticks)
 45: 0x0945 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Melek (ID: 17760297/0x010F0029), tag_num=0x02)
 46: 0x094C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s015" with entities [LocalPlayer, LocalPlayer], work=[140*, 0*]
 47: 0x095D [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 151*
 48: 0x0961 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 151*
 49: 0x0965 [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 50: 0x096A [0x1C] WAIT(120* ticks)
 51: 0x096D [0x46] CAMERA_CONTROL: Restore default settings
 52: 0x096F [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
 53: 0x0970 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 54: 0x0981 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 55: 0x0992 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 56: 0x0994 [0x21] END_EVENT
 57: 0x0995 [0x00] END_REQSTACK()
```
