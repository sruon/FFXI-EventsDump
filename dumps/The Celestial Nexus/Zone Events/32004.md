# Event 32004

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/18      |
| Offset          | 0x106A    |
| Data Size       | 150 bytes |
| Calculated Size | 150 bytes |
| Instructions    | 32        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1060:                                03 22 00 02 10 03            ."....
1070: 23 00 03 10 03 1F 00 04  10 03 24 00 05 10 20 01  #.........$... .
1080: 46 01 42 38 0F 80 79 00  F0 FF FF 7F F0 FF FF 7F  F.B8..y.........
1090: 02 24 00 00 80 00 9B 10  1C 92 80 02 1F 00 00 80  .$..............
10A0: 80 B7 10 1A 36 39 02 24  00 00 80 00 B4 10 38 18  ....69.$......8.
10B0: 80 1A 30 37 01 D3 10 02  1F 00 05 80 80 D3 10 1A  ..07............
10C0: F4 3A 02 24 00 00 80 00  D0 10 38 18 80 1A 30 37  .:.$......8...07
10D0: 01 D3 10 46 00 45 0E 80  F0 FF FF 7F F0 FF FF 7F  ...F.E..........
10E0: 66 64 69 32 00 80 02 24  00 05 80 00 FE 10 5C 00  fdi2...$......\.
10F0: 00 80 5C 01 00 80 5C 02  33 80 5C 03 33 80 21 00  ..\...\.3.\.3.!.
```

## Opcodes

```
  0: 0x106A [0x03] ExtData[1]->WorkLocal[34] = Work_Zone[2]
  1: 0x106F [0x03] ExtData[1]->WorkLocal[35] = Work_Zone[3]
  2: 0x1074 [0x03] ExtData[1]->WorkLocal[31] = Work_Zone[4]
  3: 0x1079 [0x03] ExtData[1]->WorkLocal[36] = Work_Zone[5]
  4: 0x107E [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  5: 0x1080 [0x46] CAMERA_CONTROL: Disable user control
  6: 0x1082 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  7: 0x1083 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  8: 0x1086 [0x79] LocalPlayer looks at LocalPlayer (Basic look)
  9: 0x1090 [0x02] IF !(ExtData[1]->WorkLocal[36] == 0*) GOTO 0x109B
 10: 0x1098 [0x1C] WAIT(120* ticks)
 11: 0x109B [0x02] IF !(ExtData[1]->WorkLocal[31] == 0*) GOTO 0x10B7
 12: 0x10A3 [0x1A] CALL_SUBROUTINE(address=0x3936)
 13: 0x10A6 [0x02] IF !(ExtData[1]->WorkLocal[36] == 0*) GOTO 0x10B4
 14: 0x10AE [0x38] SET_CLIENT_EVENT_MODE(mode=6*)
 15: 0x10B1 [0x1A] CALL_SUBROUTINE(address=0x3730)
 16: 0x10B4 [0x01] GOTO 0x10D3
 17: 0x10B7 [0x02] IF !(ExtData[1]->WorkLocal[31] == 1*) GOTO 0x10D3
 18: 0x10BF [0x1A] CALL_SUBROUTINE(address=0x3AF4)
 19: 0x10C2 [0x02] IF !(ExtData[1]->WorkLocal[36] == 0*) GOTO 0x10D0
 20: 0x10CA [0x38] SET_CLIENT_EVENT_MODE(mode=6*)
 21: 0x10CD [0x1A] CALL_SUBROUTINE(address=0x3730)
 22: 0x10D0 [0x01] GOTO 0x10D3

SUBROUTINE_10D3:
 23: 0x10D3 [0x46] CAMERA_CONTROL: Restore default settings
 24: 0x10D5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 25: 0x10E6 [0x02] IF !(ExtData[1]->WorkLocal[36] == 1*) GOTO 0x10FE
 26: 0x10EE [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 0*
 27: 0x10F2 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 0*
 28: 0x10F6 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 198*
 29: 0x10FA [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 198*
 30: 0x10FE [0x21] END_EVENT
 31: 0x10FF [0x00] END_REQSTACK()
```
