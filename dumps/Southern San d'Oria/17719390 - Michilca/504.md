# Event 504

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/7       |
| Offset          | 0x0063    |
| Data Size       | 133 bytes |
| Calculated Size | 133 bytes |
| Instructions    | 39        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0060:          03 00 00 08 10  1D 0D 80 23 24 0E 80 03     ........#$...
0070: 80 03 80 25 02 00 10 03  80 00 AB 00 1D 0F 80 23  ...%...........#
0080: 39 10 80 1C 11 80 1E F0  FF FF 7F 02 00 00 12 80  9...............
0090: 00 9F 00 1D 13 80 23 03  01 10 03 80 01 A8 00 1D  ......#.........
00A0: 14 80 23 03 01 10 12 80  01 E2 00 02 00 10 12 80  ..#.............
00B0: 00 E2 00 1D 0F 80 23 39  10 80 1C 11 80 1E F0 FF  ......#9........
00C0: FF 7F 02 00 00 03 80 00  D6 00 1D 15 80 23 03 01  .............#..
00D0: 10 03 80 01 DF 00 1D 16  80 23 03 01 10 12 80 01  .........#......
00E0: E2 00 1D 17 80 23 21 00                           .....#!.        
```

## Opcodes

```
  0: 0x0063 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[8]
  1: 0x0068 [0x1D] PRINT_EVENT_MESSAGE(message_id=7825*)
    → "So who is this envelope for? Prince Trion? Or Prince Pieuje?\u007F1\u0000\u0007"
  2: 0x006B [0x23] WAIT_FOR_DIALOG_INTERACTION
  3: 0x006C [0x24] CREATE_DIALOG(message_id=7826*, default_option=0*, option_flags=0*)
    → "Who is it for?\u0007\u000BPrince Trion.\u0007Prince Pieuje.\u007F1\u0000\u0007"
  4: 0x0073 [0x25] WAIT_DIALOG_SELECT()
  5: 0x0074 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00AB
  6: 0x007C [0x1D] PRINT_EVENT_MESSAGE(message_id=7827*)
    → "All right, I'll deliver it for you. We can't let you in looking like that! Wait here.\u007F1\u0000\u0007"
  7: 0x007F [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x0080 [0x39] SET_ENTITY_DIRECTION(direction=19.4°*)
  9: 0x0083 [0x1C] WAIT(180* ticks)
 10: 0x0086 [0x1E] EventEntity looks at LocalPlayer and starts talking
 11: 0x008B [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x009F
 12: 0x0093 [0x1D] PRINT_EVENT_MESSAGE(message_id=7828*)
    → "I've delivered the envelope to Prince Trion. You're dismissed.\u007F1\u0000\u0007"
 13: 0x0096 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0097 [0x03] Work_Zone[1] = 0*
 15: 0x009C [0x01] GOTO 0x00A8

SUBROUTINE_009F:
 16: 0x009F [0x1D] PRINT_EVENT_MESSAGE(message_id=7831*)
    → "Imbecile! That envelope was for Prince Pieuje, not Prince Trion! Such idiocy... Get out of here!\u007F1\u0000\u0007"
 17: 0x00A2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x00A3 [0x03] Work_Zone[1] = 1*
 19: 0x00A8 [0x01] GOTO 0x00E2

SUBROUTINE_00AB:
 20: 0x00AB [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00E2
 21: 0x00B3 [0x1D] PRINT_EVENT_MESSAGE(message_id=7827*)
    → "All right, I'll deliver it for you. We can't let you in looking like that! Wait here.\u007F1\u0000\u0007"
 22: 0x00B6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x00B7 [0x39] SET_ENTITY_DIRECTION(direction=19.4°*)
 24: 0x00BA [0x1C] WAIT(180* ticks)
 25: 0x00BD [0x1E] EventEntity looks at LocalPlayer and starts talking
 26: 0x00C2 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x00D6
 27: 0x00CA [0x1D] PRINT_EVENT_MESSAGE(message_id=7829*)
    → "I've delivered the envelope to Prince Pieuje. You're dismissed.\u007F1\u0000\u0007"
 28: 0x00CD [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x00CE [0x03] Work_Zone[1] = 0*
 30: 0x00D3 [0x01] GOTO 0x00DF

SUBROUTINE_00D6:
 31: 0x00D6 [0x1D] PRINT_EVENT_MESSAGE(message_id=7830*)
    → "Imbecile! That envelope was for Prince Trion, not Prince Pieuje! Such idiocy... Get out of here!\u007F1\u0000\u0007"
 32: 0x00D9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x00DA [0x03] Work_Zone[1] = 1*
 34: 0x00DF [0x01] GOTO 0x00E2

SUBROUTINE_00E2:
 35: 0x00E2 [0x1D] PRINT_EVENT_MESSAGE(message_id=7832*)
    → "Oh, and tell that tailor to send someone respectable next time!\u007F1\u0000\u0007"
 36: 0x00E5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x00E6 [0x21] END_EVENT
 38: 0x00E7 [0x00] END_REQSTACK()
```
