# 17719361 - Ancolain

## Common Data

| Field            | Value                         |
|------------------|-------------------------------|
| Zone             | Southern San d'Oria (ID: 230) |
| Block Size       | 328 bytes                     |
| Total Events     | 9                             |
| References Count | 18                            |

## List of Events

| Event ID                 | Entrypoint   |   Size |   Instructions |
|--------------------------|--------------|--------|----------------|
| [65535](#event-65535)    | 0x0000       |      1 |              1 |
| [63](#event-63)          | 0x0001       |     20 |              3 |
| [65535.1](#event-655351) | 0x0015       |     43 |             10 |
| [65535.2](#event-655352) | 0x0040       |     29 |              9 |
| [65535.3](#event-655353) | 0x005D       |     19 |              3 |
| [65535.4](#event-655354) | 0x0070       |      9 |              3 |
| [65535.5](#event-655355) | 0x0079       |     19 |              3 |
| [65535.6](#event-655356) | 0x008C       |     32 |              4 |
| [65535.7](#event-655357) | 0x00AC       |     29 |              3 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0xFFFEC406  |  4294886406 |
|       1 | 0xFFFFB04F  |  4294946895 |
|       2 | 0xFFFFE31A  |  4294959898 |
|       3 | 0x09FA      |        2554 |
|       4 | 0x000D      |          13 |
|       5 | 0xFFFEAF99  |  4294881177 |
|       6 | 0xFFFFBDD7  |  4294950359 |
|       7 | 0xFFFFE31B  |  4294959899 |
|       8 | 0x09FB      |        2555 |
|       9 | 0x003C      |          60 |
|      10 | 0xFFFEA798  |  4294879128 |
|      11 | 0xFFFFC5C6  |  4294952390 |
|      12 | 0xFFFFE664  |  4294960740 |
|      13 | 0xFFFE9F87  |  4294877063 |
|      14 | 0xFFFFD40C  |  4294956044 |
|      15 | 0xFFFFE7C9  |  4294961097 |
|      16 | 0x0014      |          20 |
|      17 | 0x0015      |          21 |

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 63

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 20 bytes |
| Instructions | 3        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    37 00 80 01 80 02 80  03 80 79 00 F8 FF FF 7F   7........y.....
0010: 3F 60 0E 01 00                                    ?`...           
```

#### Opcodes

```
  0: 0x0001 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-80.890*, z=-20.401*, y=-7.398*, direction=224.5°*
  1: 0x000A [0x79] EventEntity looks at Balasiel (ID: 17719359/0x010E603F) (Basic look)
  2: 0x0014 [0x00] END_REQSTACK()
```

### Event 65535.1

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0015   |
| Data Size    | 43 bytes |
| Instructions | 10       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0010:                32 04 80  27 04 3F 60 0E 01 1F 1F       2..'.?`....
0020: 00 05 80 06 80 07 80 1F  01 6F 2A 04 3F 60 0E 01  .........o*.?`..
0030: 4A 3F 60 0E 01 F8 FF FF  7F 39 08 80 1C 09 80 00  J?`......9......
```

#### Opcodes

```
  0: 0x0015 [0x32] ExtData[1]->MainSpeed = 13* * 0.1
  1: 0x0018 [0x27] REQ_SET(priority=0x04, entity_id=Balasiel (ID: 17719359/0x010E603F), tag_num=0x1F)
  2: 0x001F [0x1F] MOVE_ENTITY: EventEntity moves to X=-86.119*, Z=-16.937*, Y=-7.397*
  3: 0x0027 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  4: 0x0029 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  5: 0x002A [0x2A] GET_REQ_LEVEL(level=4, entity_id=Balasiel (ID: 17719359/0x010E603F))
  6: 0x0030 [0x4A] Balasiel (ID: 17719359/0x010E603F) looks at EventEntity
  7: 0x0039 [0x39] SET_ENTITY_DIRECTION(direction=14.0°*)
  8: 0x003C [0x1C] WAIT(60* ticks)
  9: 0x003F [0x00] END_REQSTACK()
```

### Event 65535.2

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0040   |
| Data Size    | 29 bytes |
| Instructions | 9        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0040: 32 04 80 33 01 5A 00 0A  80 0B 80 0C 80 5A 01 33  2..3.Z.......Z.3
0050: 00 1F 00 0D 80 0E 80 0F  80 1F 01 6F 00           ...........o.   
```

#### Opcodes

```
  0: 0x0040 [0x32] ExtData[1]->MainSpeed = 13* * 0.1
  1: 0x0043 [0x33] EventEntity->Render.Flags0 |= 0x200000 // Bit 21 (flag=0x01)
  2: 0x0045 [0x5A] UPDATE_EVENT_POSITION: Set EventEntity MovePosition to X=-88.168*, Z=-14.906*, Y=-6.556*
  3: 0x004D [0x5A] UPDATE_EVENT_POSITION: Move EventEntity incrementally towards MovePosition
  4: 0x004F [0x33] EventEntity->Render.Flags0 &= ~ 0x200000 // Bit 21 (flag=0x00)
  5: 0x0051 [0x1F] MOVE_ENTITY: EventEntity moves to X=-90.233*, Z=-11.252*, Y=-6.199*
  6: 0x0059 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  7: 0x005B [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  8: 0x005C [0x00] END_REQSTACK()
```

### Event 65535.3

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x005D   |
| Data Size    | 19 bytes |
| Instructions | 3        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0050:                                         66 10 80               f..
0060: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 1C 09 80 00  ........tlk0....
```

#### Opcodes

```
  0: 0x005D [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
  1: 0x006C [0x1C] WAIT(60* ticks)
  2: 0x006F [0x00] END_REQSTACK()
```

### Event 65535.4

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0070  |
| Data Size    | 9 bytes |
| Instructions | 3       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0070: 5E 69 64 6C 30 1C 09 80  00                       ^idl0....       
```

#### Opcodes

```
  0: 0x0070 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
  1: 0x0075 [0x1C] WAIT(60* ticks)
  2: 0x0078 [0x00] END_REQSTACK()
```

### Event 65535.5

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0079   |
| Data Size    | 19 bytes |
| Instructions | 3        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0070:                             66 10 80 F8 FF FF 7F           f......
0080: F8 FF FF 7F 74 68 6B 31  1C 09 80 00              ....thk1....    
```

#### Opcodes

```
  0: 0x0079 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [EventEntity, EventEntity], work=20*
  1: 0x0088 [0x1C] WAIT(60* ticks)
  2: 0x008B [0x00] END_REQSTACK()
```

### Event 65535.6

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x008C   |
| Data Size    | 32 bytes |
| Instructions | 4        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0080:                                      53 F8 FF FF              S...
0090: 7F F8 FF FF 7F 74 68 6B  31 66 10 80 F8 FF FF 7F  .....thk1f......
00A0: F8 FF FF 7F 74 68 6B 32  1C 09 80 00              ....thk2....    
```

#### Opcodes

```
  0: 0x008C [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk1" with entities [EventEntity, EventEntity]
  1: 0x0099 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [EventEntity, EventEntity], work=20*
  2: 0x00A8 [0x1C] WAIT(60* ticks)
  3: 0x00AB [0x00] END_REQSTACK()
```

### Event 65535.7

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00AC   |
| Data Size    | 29 bytes |
| Instructions | 3        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00A0:                                      66 11 80 F8              f...
00B0: FF FF 7F F8 FF FF 7F 73  6C 30 30 53 F8 FF FF 7F  .......sl00S....
00C0: F8 FF FF 7F 73 6C 30 30  00                       ....sl00.       
```

#### Opcodes

```
  0: 0x00AC [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "sl00" with entities [EventEntity, EventEntity], work=21*
  1: 0x00BB [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "sl00" with entities [EventEntity, EventEntity]
  2: 0x00C8 [0x00] END_REQSTACK()
```
