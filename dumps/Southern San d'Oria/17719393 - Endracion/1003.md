# Event 1003

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 11/98     |
| Offset          | 0x097C    |
| Data Size       | 885 bytes |
| Calculated Size | 885 bytes |
| Instructions    | 32        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0970:                                      42 46 01 45              BF.E
0980: 0E 80 F8 FF FF 7F F8 FF  FF 7F 66 64 6F 31 0F 80  ..........fdo1..
0990: 1C 10 80 38 11 80 29 64  F0 FF FF 7F 18 29 08 F0  ...8..)d.....)..
09A0: FF FF 7F 39 45 15 80 F0  FF FF 7F F0 FF FF 7F 73  ...9E..........s
09B0: 30 31 38 0F 80 45 0E 80  F8 FF FF 7F F8 FF FF 7F  018..E..........
09C0: 66 64 69 31 0F 80 02 06  10 22 80 00 E9 09 03 05  fdi1....."......
09D0: 10 48 80 66 0B 80 F8 FF  FF 7F F8 FF FF 7F 74 6C  .H.f..........tl
09E0: 6B 30 1D 25 80 23 01 16  0A 66 0B 80 F8 FF FF 7F  k0.%.#...f......
09F0: F8 FF FF 7F 74 6C 6B 30  1D 4B 80 23 45 15 80 F0  ....tlk0.K.#E...
0A00: FF FF 7F F0 FF FF 7F 73  30 31 34 0F 80 03 05 10  .......s014.....
0A10: 48 80 1D 4C 80 23 45 0E  80 F8 FF FF 7F F8 FF FF  H..L.#E.........
0A20: 7F 66 64 6F 31 0F 80 1C  10 80 5E 69 64 6C 30 46  .fdo1.....^idl0F
0A30: 00 45 0E 80 F8 FF FF 7F  F8 FF FF 7F 66 64 69 31  .E..........fdi1
0A40: 0F 80 45 28 80 F0 FF FF  7F F0 FF FF 7F 71 73 74  ..E(.........qst
0A50: 63 0F 80 20 00 21 00 45  0E 80 F0 FF FF 7F F0 FF  c.. .!.E........
0A60: FF 7F 6F 76 6C 31 0F 80  45 12 80 F8 FF FF 7F F8  ..ovl1..E.......
0A70: FF FF 7F 73 30 34 32 0F  80 66 0B 80 F8 FF FF 7F  ...s042..f......
0A80: F8 FF FF 7F 74 6C 6B 30  1D 4D 80 23 5E 69 64 6C  ....tlk0.M.#^idl
0A90: 30 1D 4E 80 23 52 12 80  F8 FF FF 7F F8 FF FF 7F  0.N.#R..........
0AA0: 73 30 34 32 45 12 80 F8  FF FF 7F F8 FF FF 7F 73  s042E..........s
0AB0: 30 38 31 0F 80 66 0B 80  F8 FF FF 7F F8 FF FF 7F  081..f..........
0AC0: 74 68 6B 31 1D 4F 80 23  1D 50 80 23 1D 51 80 23  thk1.O.#.P.#.Q.#
0AD0: 52 12 80 F8 FF FF 7F F8  FF FF 7F 73 30 38 31 45  R..........s081E
0AE0: 12 80 F8 FF FF 7F F8 FF  FF 7F 73 30 34 32 0F 80  ..........s042..
0AF0: 1D 52 80 23 66 0B 80 F8  FF FF 7F F8 FF FF 7F 74  .R.#f..........t
0B00: 68 6B 32 53 F8 FF FF 7F  F8 FF FF 7F 74 68 6B 32  hk2S........thk2
0B10: 1C 0D 80 52 12 80 F8 FF  FF 7F F8 FF FF 7F 73 30  ...R..........s0
0B20: 34 32 45 0E 80 F0 FF FF  7F F0 FF FF 7F 6F 76 6C  42E..........ovl
0B30: 31 0F 80 45 15 80 F0 FF  FF 7F F0 FF FF 7F 73 30  1..E..........s0
0B40: 31 34 0F 80 66 0B 80 F8  FF FF 7F F8 FF FF 7F 70  14..f..........p
0B50: 6F 69 31 1D 53 80 23 66  0B 80 F8 FF FF 7F F8 FF  oi1.S.#f........
0B60: FF 7F 70 6F 69 32 53 F8  FF FF 7F F8 FF FF 7F 70  ..poi2S........p
0B70: 6F 69 32 1C 0D 80 66 0B  80 F8 FF FF 7F F8 FF FF  oi2...f.........
0B80: 7F 74 6C 6B 30 1D 54 80  23 5E 69 64 6C 30 24 19  .tlk0.T.#^idl0$.
0B90: 80 0F 80 0F 80 25 02 00  10 0F 80 00 A1 0C 45 12  .....%........E.
0BA0: 80 F8 FF FF 7F F8 FF FF  7F 73 30 39 30 0F 80 66  .........s090..f
0BB0: 0B 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D 55  ..........tlk0.U
0BC0: 80 23 1D 56 80 23 52 12  80 F8 FF FF 7F F8 FF FF  .#.V.#R.........
0BD0: 7F 73 30 39 30 45 0E 80  F0 FF FF 7F F0 FF FF 7F  .s090E..........
0BE0: 6F 76 6C 31 0F 80 02 09  10 1D 80 00 02 0C 45 12  ovl1..........E.
0BF0: 80 F8 FF FF 7F F8 FF FF  7F 73 30 39 31 0F 80 01  .........s091...
0C00: 2F 0C 02 09 10 1E 80 00  1E 0C 45 12 80 F8 FF FF  /.........E.....
0C10: 7F F8 FF FF 7F 73 30 39  31 0F 80 01 2F 0C 45 15  .....s091.../.E.
0C20: 80 F0 FF FF 7F F0 FF FF  7F 73 30 31 37 0F 80 1D  .........s017...
0C30: 57 80 23 1D 1F 80 23 5E  69 64 6C 30 24 20 80 0F  W.#...#^idl0$ ..
0C40: 80 0F 80 25 02 00 10 0F  80 00 80 0C 45 12 80 F8  ...%........E...
0C50: FF FF 7F F8 FF FF 7F 73  30 38 38 0F 80 66 0B 80  .......s088..f..
0C60: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 1D 58 80 23  ........tlk0.X.#
0C70: 5E 69 64 6C 30 1C 0D 80  03 01 10 23 80 01 9E 0C  ^idl0......#....
0C80: 02 00 10 22 80 00 8E 0C  01 9E 0B 01 9E 0C 02 00  ..."............
0C90: 10 23 80 00 9E 0C 03 01  10 24 80 01 9E 0C 01 B1  .#.......$......
0CA0: 0C 02 00 10 22 80 00 B1  0C 03 01 10 24 80 01 B1  ....".......$...
0CB0: 0C 45 0E 80 F8 FF FF 7F  F8 FF FF 7F 66 64 6F 31  .E..........fdo1
0CC0: 0F 80 1C 10 80 52 12 80  F8 FF FF 7F F8 FF FF 7F  .....R..........
0CD0: 73 30 38 38 46 00 45 0E  80 F8 FF FF 7F F8 FF FF  s088F.E.........
0CE0: 7F 66 64 69 31 0F 80 21  00 29 0F 61 60 0E 01 46  .fdi1..!.).a`..F
0CF0: 00                                                .               
```

## Opcodes

```
  0: 0x097C [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x097D [0x46] CAMERA_CONTROL: Disable user control
  2: 0x097F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  3: 0x0990 [0x1C] WAIT(60* ticks)
  4: 0x0993 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  5: 0x0996 [0x29] REQ_SET_WAIT(priority=0x64, entity_id=LocalPlayer, tag_num=0x18)
  6: 0x099D [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x39)
  7: 0x09A4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s018" with entities [LocalPlayer, LocalPlayer], work=[130*, 0*]
  8: 0x09B5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  9: 0x09C6 [0x02] IF !(Work_Zone[6] == 1*) GOTO 0x09E9
 10: 0x09CE [0x03] Work_Zone[5] = 891*
 11: 0x09D3 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 12: 0x09E2 [0x1D] PRINT_EVENT_MESSAGE(message_id=9213*)
    → "I knew you'd return safely, and with the \u0001\u0005#\u0002\u0003\u0000\u0000. Mission completed!\u007F1\u0000\u0007"
 13: 0x09E5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x09E6 [0x01] GOTO 0x0A16

SUBROUTINE_09E9:
 15: 0x09E9 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 16: 0x09F8 [0x1D] PRINT_EVENT_MESSAGE(message_id=7256*)
    → "Ah, you've returned! I was afraid that Goblins got you.\u007F1\u0000\u0007"
 17: 0x09FB [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x09FC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s014" with entities [LocalPlayer, LocalPlayer], work=[130*, 0*]
 19: 0x0A0D [0x03] Work_Zone[5] = 891*
 20: 0x0A12 [0x1D] PRINT_EVENT_MESSAGE(message_id=7257*)
    → "That's one \u0001\u0005#\u0002\u0003\u0000\u0000 for the gatehouse, then. Mission complete. Not bad for a new recruit.\u007F1\u0000\u0007"
 21: 0x0A15 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x0A16 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 23: 0x0A27 [0x1C] WAIT(60* ticks)
 24: 0x0A2A [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 25: 0x0A2F [0x46] CAMERA_CONTROL: Restore default settings
 26: 0x0A31 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 27: 0x0A42 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 28: 0x0A53 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 29: 0x0A55 [0x21] END_EVENT
 30: 0x0A56 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Data Section: 0x0A57 (666 bytes)
     0x0A57: 45 0E 80 F0 FF FF 7F F0 FF FF 7F 6F 76 6C 31 0F
     0x0A67: 80 45 12 80 F8 FF FF 7F F8 FF FF 7F 73 30 34 32
     0x0A77: 0F 80 66 0B 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x0A87: 30 1D 4D 80 23 5E 69 64 6C 30 1D 4E 80 23 52 12
     0x0A97: 80 F8 FF FF 7F F8 FF FF 7F 73 30 34 32 45 12 80
     0x0AA7: F8 FF FF 7F F8 FF FF 7F 73 30 38 31 0F 80 66 0B
     0x0AB7: 80 F8 FF FF 7F F8 FF FF 7F 74 68 6B 31 1D 4F 80
     0x0AC7: 23 1D 50 80 23 1D 51 80 23 52 12 80 F8 FF FF 7F
     0x0AD7: F8 FF FF 7F 73 30 38 31 45 12 80 F8 FF FF 7F F8
     0x0AE7: FF FF 7F 73 30 34 32 0F 80 1D 52 80 23 66 0B 80
     0x0AF7: F8 FF FF 7F F8 FF FF 7F 74 68 6B 32 53 F8 FF FF
     0x0B07: 7F F8 FF FF 7F 74 68 6B 32 1C 0D 80 52 12 80 F8
     0x0B17: FF FF 7F F8 FF FF 7F 73 30 34 32 45 0E 80 F0 FF
     0x0B27: FF 7F F0 FF FF 7F 6F 76 6C 31 0F 80 45 15 80 F0
     0x0B37: FF FF 7F F0 FF FF 7F 73 30 31 34 0F 80 66 0B 80
     0x0B47: F8 FF FF 7F F8 FF FF 7F 70 6F 69 31 1D 53 80 23
     0x0B57: 66 0B 80 F8 FF FF 7F F8 FF FF 7F 70 6F 69 32 53
     0x0B67: F8 FF FF 7F F8 FF FF 7F 70 6F 69 32 1C 0D 80 66
     0x0B77: 0B 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1D 54
     0x0B87: 80 23 5E 69 64 6C 30 24 19 80 0F 80 0F 80 25 02
     0x0B97: 00 10 0F 80 00 A1 0C 45 12 80 F8 FF FF 7F F8 FF
     0x0BA7: FF 7F 73 30 39 30 0F 80 66 0B 80 F8 FF FF 7F F8
     0x0BB7: FF FF 7F 74 6C 6B 30 1D 55 80 23 1D 56 80 23 52
     0x0BC7: 12 80 F8 FF FF 7F F8 FF FF 7F 73 30 39 30 45 0E
     0x0BD7: 80 F0 FF FF 7F F0 FF FF 7F 6F 76 6C 31 0F 80 02
     0x0BE7: 09 10 1D 80 00 02 0C 45 12 80 F8 FF FF 7F F8 FF
     0x0BF7: FF 7F 73 30 39 31 0F 80 01 2F 0C 02 09 10 1E 80
     0x0C07: 00 1E 0C 45 12 80 F8 FF FF 7F F8 FF FF 7F 73 30
     0x0C17: 39 31 0F 80 01 2F 0C 45 15 80 F0 FF FF 7F F0 FF
     0x0C27: FF 7F 73 30 31 37 0F 80 1D 57 80 23 1D 1F 80 23
     0x0C37: 5E 69 64 6C 30 24 20 80 0F 80 0F 80 25 02 00 10
     0x0C47: 0F 80 00 80 0C 45 12 80 F8 FF FF 7F F8 FF FF 7F
     0x0C57: 73 30 38 38 0F 80 66 0B 80 F8 FF FF 7F F8 FF FF
     0x0C67: 7F 74 6C 6B 30 1D 58 80 23 5E 69 64 6C 30 1C 0D
     0x0C77: 80 03 01 10 23 80 01 9E 0C 02 00 10 22 80 00 8E
     0x0C87: 0C 01 9E 0B 01 9E 0C 02 00 10 23 80 00 9E 0C 03
     0x0C97: 01 10 24 80 01 9E 0C 01 B1 0C 02 00 10 22 80 00
     0x0CA7: B1 0C 03 01 10 24 80 01 B1 0C 45 0E 80 F8 FF FF
     0x0CB7: 7F F8 FF FF 7F 66 64 6F 31 0F 80 1C 10 80 52 12
     0x0CC7: 80 F8 FF FF 7F F8 FF FF 7F 73 30 38 38 46 00 45
     0x0CD7: 0E 80 F8 FF FF 7F F8 FF FF 7F 66 64 69 31 0F 80
     0x0CE7: 21 00 29 0F 61 60 0E 01 46 00
```