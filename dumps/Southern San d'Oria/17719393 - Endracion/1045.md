# Event 1045

## Metadata

| Field           | Value      |
|-----------------|------------|
| Event Index     | 27/98      |
| Offset          | 0x1E6C     |
| Data Size       | 1109 bytes |
| Calculated Size | 1109 bytes |
| Instructions    | 18         |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1E60:                                      01 13 21 00              ..!.
1E70: 45 0E 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 32 0F  E..........fdo2.
1E80: 80 55 0E 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 32  .U..........fdo2
1E90: 46 00 45 0E 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  F.E..........fdi
1EA0: 32 0F 80 1B 1A 3D 22 1D  9C 80 23 1D 9D 80 23 1A  2....="...#...#.
1EB0: 4D 22 24 43 80 0F 80 0F  80 25 02 00 10 0F 80 00  M"$C.....%......
1EC0: D1 1E 1A 3D 22 1D 9E 80  23 03 01 10 37 80 01 E8  ...="...#...7...
1ED0: 1E 02 00 10 22 80 00 E8  1E 1A 3D 22 1D 9F 80 23  ....".....="...#
1EE0: 03 01 10 24 80 01 E8 1E  1A 4D 22 45 0E 80 F0 FF  ...$.....M"E....
1EF0: FF 7F F0 FF FF 7F 66 64  6F 32 0F 80 55 0E 80 F0  ......fdo2..U...
1F00: FF FF 7F F0 FF FF 7F 66  64 6F 32 46 00 45 0E 80  .......fdo2F.E..
1F10: F0 FF FF 7F F0 FF FF 7F  66 64 69 32 0F 80 21 00  ........fdi2..!.
1F20: 1A 3D 22 1D A0 80 23 1A  4D 22 24 43 80 0F 80 0F  .="...#.M"$C....
1F30: 80 25 02 00 10 0F 80 00  49 1F 1A 3D 22 1D A1 80  .%......I..="...
1F40: 23 03 01 10 38 80 01 60  1F 02 00 10 22 80 00 60  #...8..`...."..`
1F50: 1F 1A 3D 22 1D A2 80 23  03 01 10 24 80 01 60 1F  ..="...#...$..`.
1F60: 1A 4D 22 1A 70 1E 21 00  1A 73 22 1A 3D 22 1D A3  .M".p.!..s".="..
1F70: 80 23 1A 4D 22 1A 70 1E  21 00 1E F0 FF FF 7F 6F  .#.M".p.!......o
1F80: 70 1A 3D 22 03 02 10 A4  80 1D A5 80 23 1A 4D 22  p.="........#.M"
1F90: 21 00 1E F0 FF FF 7F 6F  70 1A 3D 22 03 02 10 A4  !......op.="....
1FA0: 80 1D A6 80 23 1A 4D 22  21 00 1A 73 22 1A 3D 22  ....#.M"!..s".="
1FB0: 1D A7 80 23 1D A8 80 23  1A 4D 22 7D A9 80 45 28  ...#...#.M"}..E(
1FC0: 80 F0 FF FF 7F F0 FF FF  7F 71 73 74 63 0F 80 1C  .........qstc...
1FD0: 0E 80 1A 70 1E 21 00 1A  3D 22 1D AA 80 23 1A 4D  ...p.!..="...#.M
1FE0: 22 24 43 80 0F 80 0F 80  25 02 00 10 0F 80 00 00  "$C.....%.......
1FF0: 20 1A 3D 22 1D AB 80 23  03 01 10 39 80 01 17 20   .="...#...9... 
2000: 02 00 10 22 80 00 17 20  1A 3D 22 1D AC 80 23 03  ..."... .="...#.
2010: 01 10 24 80 01 17 20 1A  4D 22 1A 70 1E 21 00 1A  ..$... .M".p.!..
2020: 73 22 1A 3D 22 1D AD 80  23 1D AE 80 23 1D AF 80  s".="...#...#...
2030: 23 1A 4D 22 1A 70 1E 21  00 1A 3D 22 1D B0 80 23  #.M".p.!..="...#
2040: 1D B1 80 23 1D B2 80 23  1D B3 80 23 1A 4D 22 24  ...#...#...#.M"$
2050: 43 80 0F 80 0F 80 25 02  00 10 0F 80 00 6E 20 1A  C.....%......n .
2060: 3D 22 1D B4 80 23 03 01  10 3A 80 01 85 20 02 00  ="...#...:... ..
2070: 10 22 80 00 85 20 1A 3D  22 1D B5 80 23 03 01 10  ."... .="...#...
2080: 24 80 01 85 20 1A 4D 22  1A 70 1E 21 00 1A 73 22  $... .M".p.!..s"
2090: 1A 3D 22 1D B6 80 23 03  02 10 B7 80 1D B8 80 23  .="...#........#
20A0: 1D B9 80 23 1D BA 80 23  1A 4D 22 7D BB 80 45 28  ...#...#.M"}..E(
20B0: 80 F0 FF FF 7F F0 FF FF  7F 71 73 74 63 0F 80 1C  .........qstc...
20C0: 0E 80 1A 70 1E 21 00 1A  3D 22 1D BC 80 23 1D BD  ...p.!..="...#..
20D0: 80 23 1A 4D 22 24 43 80  0F 80 0F 80 25 02 00 10  .#.M"$C.....%...
20E0: 0F 80 00 F4 20 1A 3D 22  1D BE 80 23 03 01 10 0B  .... .="...#....
20F0: 80 01 0B 21 02 00 10 22  80 00 0B 21 1A 3D 22 1D  ...!..."...!.=".
2100: BF 80 23 03 01 10 24 80  01 0B 21 1A 4D 22 1A 70  ..#...$...!.M".p
2110: 1E 21 00 1E F0 FF FF 7F  6F 70 1A 3D 22 1D C0 80  .!......op.="...
2120: 23 1A 4D 22 21 00 1A 3D  22 1D C1 80 23 1A 4D 22  #.M"!..="...#.M"
2130: 24 43 80 0F 80 0F 80 25  02 00 10 0F 80 00 4F 21  $C.....%......O!
2140: 1A 3D 22 1D C2 80 23 03  01 10 08 80 01 66 21 02  .="...#......f!.
2150: 00 10 22 80 00 66 21 1A  3D 22 1D C3 80 23 03 01  .."..f!.="...#..
2160: 10 24 80 01 66 21 1A 4D  22 1A 70 1E 21 00 1A 3D  .$..f!.M".p.!..=
2170: 22 1D C4 80 23 1A 4D 22  24 43 80 0F 80 0F 80 25  "...#.M"$C.....%
2180: 02 00 10 0F 80 00 97 21  1A 3D 22 1D C5 80 23 03  .......!.="...#.
2190: 01 10 3B 80 01 AE 21 02  00 10 22 80 00 AE 21 1A  ..;...!..."...!.
21A0: 3D 22 1D C6 80 23 03 01  10 24 80 01 AE 21 1A 4D  ="...#...$...!.M
21B0: 22 1A 70 1E 21 00 1A 3D  22 1D C7 80 23 1D C8 80  ".p.!..="...#...
21C0: 23 1D C9 80 23 1D CA 80  23 1A 4D 22 24 43 80 0F  #...#...#.M"$C..
21D0: 80 0F 80 25 02 00 10 0F  80 00 1E 22 1A 3D 22 1D  ...%.......".=".
21E0: CB 80 23 1A 4D 22 24 CC  80 0F 80 0F 80 25 1A 53  ..#.M"$......%.S
21F0: 22 02 00 10 0F 80 00 00  22 1D CD 80 23 01 0F 22  "......."...#.."
2200: 02 00 10 22 80 00 0F 22  1D CE 80 23 01 0F 22 1A  ..."..."...#..".
2210: 63 22 1D CF 80 23 03 01  10 3C 80 01 35 22 02 00  c"...#...<..5"..
2220: 10 22 80 00 35 22 1A 3D  22 1D D0 80 23 03 01 10  ."..5".="...#...
2230: 24 80 01 35 22 1A 4D 22  1A 70 1E 21 00 66 0B 80  $..5".M".p.!.f..
2240: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 1B 5E 69 64  ........tlk0.^id
2250: 6C 30 1B 66 0B 80 F8 FF  FF 7F F8 FF FF 7F 74 68  l0.f..........th
2260: 6B 31 1B 66 0B 80 F8 FF  FF 7F F8 FF FF 7F 74 68  k1.f..........th
2270: 6B 32 1B 42 46 01 45 0E  80 F8 FF FF 7F F8 FF FF  k2.BF.E.........
2280: 7F 66 64 6F 31 0F 80 1C  10 80 38 11 80 79 00 F8  .fdo1.....8..y..
2290: FF FF 7F F0 FF FF 7F 29  64 F0 FF FF 7F 18 45 15  .......)d.....E.
22A0: 80 F0 FF FF 7F F0 FF FF  7F 73 30 31 38 0F 80 45  .........s018..E
22B0: 0E 80 F8 FF FF 7F F8 FF  FF 7F 66 64 69 31 0F 80  ..........fdi1..
22C0: 1B                                                .               
```

## Opcodes

```
  0: 0x1E6C [0x01] GOTO 0x2113
  1: 0x1E6F [0x00] END_REQSTACK()

  2: 0x2113 [0x1E] EventEntity looks at LocalPlayer and starts talking
  3: 0x2118 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x2119 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  5: 0x211A [0x1A] CALL_SUBROUTINE(address=0x223D)
  6: 0x211D [0x1D] PRINT_EVENT_MESSAGE(message_id=7372*)
    â†’ "Princess Claidie's coming-of-age ceremony is about to begin at the cathedral. I must remain at my post, but why don't you attend?\u007F1\u0000\u0007"
  7: 0x2120 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x2121 [0x1A] CALL_SUBROUTINE(address=0x224D)
  9: 0x2124 [0x21] END_EVENT
 10: 0x2125 [0x00] END_REQSTACK()

 11: 0x223D [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=20*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 12: 0x224C [0x1B] RETURN

SUBROUTINE_224D:
 13: 0x224D [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 14: 0x2252 [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x1E70 (675 bytes)
     0x1E70: 45 0E 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 32 0F
     0x1E80: 80 55 0E 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 32
     0x1E90: 46 00 45 0E 80 F0 FF FF 7F F0 FF FF 7F 66 64 69
     0x1EA0: 32 0F 80 1B 1A 3D 22 1D 9C 80 23 1D 9D 80 23 1A
     0x1EB0: 4D 22 24 43 80 0F 80 0F 80 25 02 00 10 0F 80 00
     0x1EC0: D1 1E 1A 3D 22 1D 9E 80 23 03 01 10 37 80 01 E8
     0x1ED0: 1E 02 00 10 22 80 00 E8 1E 1A 3D 22 1D 9F 80 23
     0x1EE0: 03 01 10 24 80 01 E8 1E 1A 4D 22 45 0E 80 F0 FF
     0x1EF0: FF 7F F0 FF FF 7F 66 64 6F 32 0F 80 55 0E 80 F0
     0x1F00: FF FF 7F F0 FF FF 7F 66 64 6F 32 46 00 45 0E 80
     0x1F10: F0 FF FF 7F F0 FF FF 7F 66 64 69 32 0F 80 21 00
     0x1F20: 1A 3D 22 1D A0 80 23 1A 4D 22 24 43 80 0F 80 0F
     0x1F30: 80 25 02 00 10 0F 80 00 49 1F 1A 3D 22 1D A1 80
     0x1F40: 23 03 01 10 38 80 01 60 1F 02 00 10 22 80 00 60
     0x1F50: 1F 1A 3D 22 1D A2 80 23 03 01 10 24 80 01 60 1F
     0x1F60: 1A 4D 22 1A 70 1E 21 00 1A 73 22 1A 3D 22 1D A3
     0x1F70: 80 23 1A 4D 22 1A 70 1E 21 00 1E F0 FF FF 7F 6F
     0x1F80: 70 1A 3D 22 03 02 10 A4 80 1D A5 80 23 1A 4D 22
     0x1F90: 21 00 1E F0 FF FF 7F 6F 70 1A 3D 22 03 02 10 A4
     0x1FA0: 80 1D A6 80 23 1A 4D 22 21 00 1A 73 22 1A 3D 22
     0x1FB0: 1D A7 80 23 1D A8 80 23 1A 4D 22 7D A9 80 45 28
     0x1FC0: 80 F0 FF FF 7F F0 FF FF 7F 71 73 74 63 0F 80 1C
     0x1FD0: 0E 80 1A 70 1E 21 00 1A 3D 22 1D AA 80 23 1A 4D
     0x1FE0: 22 24 43 80 0F 80 0F 80 25 02 00 10 0F 80 00 00
     0x1FF0: 20 1A 3D 22 1D AB 80 23 03 01 10 39 80 01 17 20
     0x2000: 02 00 10 22 80 00 17 20 1A 3D 22 1D AC 80 23 03
     0x2010: 01 10 24 80 01 17 20 1A 4D 22 1A 70 1E 21 00 1A
     0x2020: 73 22 1A 3D 22 1D AD 80 23 1D AE 80 23 1D AF 80
     0x2030: 23 1A 4D 22 1A 70 1E 21 00 1A 3D 22 1D B0 80 23
     0x2040: 1D B1 80 23 1D B2 80 23 1D B3 80 23 1A 4D 22 24
     0x2050: 43 80 0F 80 0F 80 25 02 00 10 0F 80 00 6E 20 1A
     0x2060: 3D 22 1D B4 80 23 03 01 10 3A 80 01 85 20 02 00
     0x2070: 10 22 80 00 85 20 1A 3D 22 1D B5 80 23 03 01 10
     0x2080: 24 80 01 85 20 1A 4D 22 1A 70 1E 21 00 1A 73 22
     0x2090: 1A 3D 22 1D B6 80 23 03 02 10 B7 80 1D B8 80 23
     0x20A0: 1D B9 80 23 1D BA 80 23 1A 4D 22 7D BB 80 45 28
     0x20B0: 80 F0 FF FF 7F F0 FF FF 7F 71 73 74 63 0F 80 1C
     0x20C0: 0E 80 1A 70 1E 21 00 1A 3D 22 1D BC 80 23 1D BD
     0x20D0: 80 23 1A 4D 22 24 43 80 0F 80 0F 80 25 02 00 10
     0x20E0: 0F 80 00 F4 20 1A 3D 22 1D BE 80 23 03 01 10 0B
     0x20F0: 80 01 0B 21 02 00 10 22 80 00 0B 21 1A 3D 22 1D
     0x2100: BF 80 23 03 01 10 24 80 01 0B 21 1A 4D 22 1A 70
     0x2110: 1E 21 00
# Data Section: 0x2126 (279 bytes)
     0x2126: 1A 3D 22 1D C1 80 23 1A 4D 22 24 43 80 0F 80 0F
     0x2136: 80 25 02 00 10 0F 80 00 4F 21 1A 3D 22 1D C2 80
     0x2146: 23 03 01 10 08 80 01 66 21 02 00 10 22 80 00 66
     0x2156: 21 1A 3D 22 1D C3 80 23 03 01 10 24 80 01 66 21
     0x2166: 1A 4D 22 1A 70 1E 21 00 1A 3D 22 1D C4 80 23 1A
     0x2176: 4D 22 24 43 80 0F 80 0F 80 25 02 00 10 0F 80 00
     0x2186: 97 21 1A 3D 22 1D C5 80 23 03 01 10 3B 80 01 AE
     0x2196: 21 02 00 10 22 80 00 AE 21 1A 3D 22 1D C6 80 23
     0x21A6: 03 01 10 24 80 01 AE 21 1A 4D 22 1A 70 1E 21 00
     0x21B6: 1A 3D 22 1D C7 80 23 1D C8 80 23 1D C9 80 23 1D
     0x21C6: CA 80 23 1A 4D 22 24 43 80 0F 80 0F 80 25 02 00
     0x21D6: 10 0F 80 00 1E 22 1A 3D 22 1D CB 80 23 1A 4D 22
     0x21E6: 24 CC 80 0F 80 0F 80 25 1A 53 22 02 00 10 0F 80
     0x21F6: 00 00 22 1D CD 80 23 01 0F 22 02 00 10 22 80 00
     0x2206: 0F 22 1D CE 80 23 01 0F 22 1A 63 22 1D CF 80 23
     0x2216: 03 01 10 3C 80 01 35 22 02 00 10 22 80 00 35 22
     0x2226: 1A 3D 22 1D D0 80 23 03 01 10 24 80 01 35 22 1A
     0x2236: 4D 22 1A 70 1E 21 00
# Data Section: 0x2253 (110 bytes)
     0x2253: 66 0B 80 F8 FF FF 7F F8 FF FF 7F 74 68 6B 31 1B
     0x2263: 66 0B 80 F8 FF FF 7F F8 FF FF 7F 74 68 6B 32 1B
     0x2273: 42 46 01 45 0E 80 F8 FF FF 7F F8 FF FF 7F 66 64
     0x2283: 6F 31 0F 80 1C 10 80 38 11 80 79 00 F8 FF FF 7F
     0x2293: F0 FF FF 7F 29 64 F0 FF FF 7F 18 45 15 80 F0 FF
     0x22A3: FF 7F F0 FF FF 7F 73 30 31 38 0F 80 45 0E 80 F8
     0x22B3: FF FF 7F F8 FF FF 7F 66 64 69 31 0F 80 1B
```