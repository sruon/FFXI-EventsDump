# Event 3576

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 22/41     |
| Offset          | 0x15C9    |
| Data Size       | 269 bytes |
| Calculated Size | 269 bytes |
| Instructions    | 60        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
15C0:                             03 18 00 02 10 03 1A           .......
15D0: 00 06 10 03 1B 00 07 10  03 15 00 08 10 03 21 00  ..............!.
15E0: 09 10 42 4A F8 FF FF 7F  F0 FF FF 7F 4A F0 FF FF  ..BJ........J...
15F0: 7F F8 FF FF 7F 6F 70 66  06 80 F8 FF FF 7F F8 FF  .....opf........
1600: FF 7F 74 6C 6B 30 1D CE  80 23 6E F8 FF FF 7F CF  ..tlk0...#n.....
1610: 80 99 F8 FF FF 7F 1D D0  80 23 03 06 10 1A 00 03  .........#......
1620: 07 10 1B 00 66 06 80 F8  FF FF 7F F8 FF FF 7F 74  ....f..........t
1630: 68 6B 31 1D D1 80 23 66  06 80 F8 FF FF 7F F8 FF  hk1...#f........
1640: FF 7F 74 68 6B 32 66 06  80 F8 FF FF 7F F8 FF FF  ..thk2f.........
1650: 7F 74 6C 6B 30 1D D2 80  23 1D D3 80 23 1D D4 80  .tlk0...#...#...
1660: 23 1D D5 80 23 1D D6 80  23 1D D7 80 23 1D D8 80  #...#...#...#...
1670: 23 1D D9 80 23 66 06 80  F8 FF FF 7F F8 FF FF 7F  #...#f..........
1680: 74 6C 6B 31 03 02 10 03  80 1D DA 80 23 03 01 10  tlk1........#...
1690: 0C 80 43 00 43 01 02 09  10 03 80 03 A0 16 21 00  ..C.C.........!.
16A0: 03 1A 00 02 10 03 1B 00  03 10 03 22 00 04 10 1A  ..........."....
16B0: EC 1F 66 06 80 F8 FF FF  7F F8 FF FF 7F 74 6C 6B  ..f..........tlk
16C0: 30 1D DB 80 23 66 06 80  F8 FF FF 7F F8 FF FF 7F  0...#f..........
16D0: 74 6C 6B 31 21 00                                 tlk1!.          
```

## Opcodes

```
  0: 0x15C9 [0x03] ExtData[1]->WorkLocal[24] = Work_Zone[2]
  1: 0x15CE [0x03] ExtData[1]->WorkLocal[26] = Work_Zone[6]
  2: 0x15D3 [0x03] ExtData[1]->WorkLocal[27] = Work_Zone[7]
  3: 0x15D8 [0x03] ExtData[1]->WorkLocal[21] = Work_Zone[8]
  4: 0x15DD [0x03] ExtData[1]->WorkLocal[33] = Work_Zone[9]
  5: 0x15E2 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  6: 0x15E3 [0x4A] EventEntity looks at LocalPlayer
  7: 0x15EC [0x4A] LocalPlayer looks at EventEntity
  8: 0x15F5 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  9: 0x15F6 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 10: 0x15F7 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
 11: 0x1606 [0x1D] PRINT_EVENT_MESSAGE(message_id=16465*)
    → "Welcome. Have you come to upgrade your shield? Very well, I shall explain the recipe to you...\u007F1\u0000\u0007"
 12: 0x1609 [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x160A [0x6E] EventEntity uses emote 21*
 14: 0x1611 [0x99] Wait for EventEntity animation to complete
 15: 0x1616 [0x1D] PRINT_EVENT_MESSAGE(message_id=16466*)
    → "Oh, so you've already heard the recipe and how to obtain some of the materials.\u007F1\u0000\u0007"
 16: 0x1619 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x161A [0x03] Work_Zone[6] = ExtData[1]->WorkLocal[26]
 18: 0x161F [0x03] Work_Zone[7] = ExtData[1]->WorkLocal[27]
 19: 0x1624 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [EventEntity, EventEntity], work=30*
 20: 0x1633 [0x1D] PRINT_EVENT_MESSAGE(message_id=16467*)
    → "I guess that just leaves the \u0001\u0005#\u0002\u0004\u0000\u0000 and \u0001\u0005#\u0002\u0005\u0000\u0000.\u007F1\u0000\u0007"
 21: 0x1636 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x1637 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [EventEntity, EventEntity], work=30*
 23: 0x1646 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
 24: 0x1655 [0x1D] PRINT_EVENT_MESSAGE(message_id=16468*)
    → "Basically, I would like your help with some orders that were placed with our guild. I need you to deliver the products to the customers.\u007F1\u0000\u0007"
 25: 0x1658 [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x1659 [0x1D] PRINT_EVENT_MESSAGE(message_id=16469*)
    → "However, you can't just take the items to them because we've been requested to make the products on site.\u007F1\u0000\u0007"
 27: 0x165C [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x165D [0x1D] PRINT_EVENT_MESSAGE(message_id=16470*)
    → "Some materials and other items are exempt, but basically you need to make all of the items where the customer can see you or they won't be accepted.\u007F1\u0000\u0007"
 29: 0x1660 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x1661 [0x1D] PRINT_EVENT_MESSAGE(message_id=16471*)
    → "Do you think I could ask you to gather the materials needed to make the items?\u007F1\u0000\u0007"
 31: 0x1664 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x1665 [0x1D] PRINT_EVENT_MESSAGE(message_id=16472*)
    → "By the way, we have reached an agreement with the other guilds to sell some of their items on a trial basis, including some you normally can't buy.\u007F1\u0000\u0007"
 33: 0x1668 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x1669 [0x1D] PRINT_EVENT_MESSAGE(message_id=16473*)
    → "Speak to the crafting set vendor in each guild to see which items are available. Hopefully it will prove useful for you.\u007F1\u0000\u0007"
 35: 0x166C [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x166D [0x1D] PRINT_EVENT_MESSAGE(message_id=16474*)
    → "Oh, you should keep in mind that you might not always be able to buy the items you are looking for.\u007F1\u0000\u0007"
 37: 0x1670 [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x1671 [0x1D] PRINT_EVENT_MESSAGE(message_id=16475*)
    → "After you have completed all of the requests, I shall give you the \u0001\u0005#\u0002\u0004\u0000\u0000 and \u0001\u0005#\u0002\u0005\u0000\u0000.\u007F1\u0000\u0007"
 39: 0x1674 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x1675 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=30*
 41: 0x1684 [0x03] Work_Zone[2] = 0*
 42: 0x1689 [0x1D] PRINT_EVENT_MESSAGE(message_id=16476*)
    → "This is the \u000C\u0000[first/next/final] request.\u007F1\u0000\u0007"
 43: 0x168C [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x168D [0x03] Work_Zone[1] = 1*
 45: 0x1692 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 46: 0x1694 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 47: 0x1696 [0x02] IF !(Work_Zone[9] >= 0*) GOTO 0x16A0
 48: 0x169E [0x21] END_EVENT
 49: 0x169F [0x00] END_REQSTACK()

SUBROUTINE_16A0:
 50: 0x16A0 [0x03] ExtData[1]->WorkLocal[26] = Work_Zone[2]
 51: 0x16A5 [0x03] ExtData[1]->WorkLocal[27] = Work_Zone[3]
 52: 0x16AA [0x03] ExtData[1]->WorkLocal[34] = Work_Zone[4]
 53: 0x16AF [0x1A] CALL_SUBROUTINE(address=0x1FEC)
 54: 0x16B2 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
 55: 0x16C1 [0x1D] PRINT_EVENT_MESSAGE(message_id=16482*)
    → "Please report back to me once the delivery is finished.\u007F1\u0000\u0007"
 56: 0x16C4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x16C5 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=30*
 58: 0x16D4 [0x21] END_EVENT
 59: 0x16D5 [0x00] END_REQSTACK()
```
