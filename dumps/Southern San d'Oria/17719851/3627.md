# Event 3627

## Metadata

| Field           | Value      |
|-----------------|------------|
| Event Index     | 2/4        |
| Offset          | 0x0292     |
| Data Size       | 2000 bytes |
| Calculated Size | 2000 bytes |
| Instructions    | 286        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0290:       1A 5C 4B 02 04 10  03 80 00 AD 02 42 1A 43    .\K........B.C
02A0: 00 2E 03 05 00 08 80 01  7F 03 01 7A 03 02 04 10  ...........z....
02B0: 05 80 00 D5 02 42 1A 43  00 2E 02 06 10 01 80 02  .....B.C........
02C0: D2 02 03 05 00 03 80 03  06 00 06 10 0C 06 00 01  ................
02D0: 23 04 01 7A 03 02 04 10  09 80 04 5B 03 48 0A 80  #..z.......[.H..
02E0: 02 04 10 0B 80 00 33 03  03 1E 17 0C 80 03 1F 17  ......3.........
02F0: 03 00 48 0D 80 23 48 0E  80 23 24 0F 80 03 80 01  ..H..#H..#$.....
0300: 80 25 02 00 10 01 80 00  33 03 02 03 00 0C 80 03  .%......3.......
0310: 29 03 45 00 80 F0 FF FF  7F F0 FF FF 7F 73 30 33  ).E..........s03
0320: 32 01 80 48 10 80 01 30  03 3C 01 10 11 80 03 80  2..H...0.<......
0330: 01 33 03 42 40 01 80 09  80 01 10 12 80 43 00 43  .3.B@........C.C
0340: 01 02 09 10 01 80 01 54  03 40 01 80 09 80 01 10  .......T.@......
0350: 01 80 21 00 1A 5C 4B 2E  01 7A 03 3E 01 00 13 80  ..!..\K..z.>....
0360: 65 03 01 77 03 42 40 01  80 09 80 01 10 12 80 43  e..w.B@........C
0370: 00 43 01 1A 5C 4B 2E 48  14 80 03 05 00 01 80 41  .C..\K.H.......A
0380: 01 80 05 80 01 00 04 10  41 09 80 0B 80 01 00 05  ........A.......
0390: 10 41 08 80 15 80 01 00  07 10 02 07 10 04 80 03  .A..............
03A0: AA 03 03 06 10 03 80 01  AF 03 03 06 10 01 80 3E  ...............>
03B0: 02 00 01 80 B9 03 01 CF  03 41 16 80 17 80 01 00  .........A......
03C0: 00 00 02 00 00 01 80 01  CF 03 03 06 10 05 80 03  ................
03D0: 03 10 04 00 24 18 80 05  00 01 80 25 02 00 10 01  ....$......%....
03E0: 80 00 11 04 03 05 00 00  10 13 0B 00 12 80 42 30  ..............B0
03F0: 1A 64 00 40 01 80 09 80  01 10 05 80 40 12 80 12  .d.@........@...
0400: 80 01 10 05 00 40 15 80  19 80 01 10 0B 00 01 60  .....@.........`
0410: 0A 02 00 10 03 80 00 A7  04 03 05 00 00 10 03 06  ................
0420: 00 01 80 24 1A 80 06 00  01 80 25 02 00 10 01 80  ...$......%.....
0430: 00 36 04 01 9C 04 02 00  10 03 80 00 41 04 01 9C  .6..........A...
0440: 04 02 00 10 05 80 00 4C  04 01 9C 04 02 00 10 09  .......L........
0450: 80 00 57 04 01 9C 04 02  00 10 0B 80 00 62 04 01  ..W..........b..
0460: 9C 04 02 00 10 08 80 00  6D 04 01 9C 04 02 00 10  ........m.......
0470: 1B 80 00 78 04 01 9C 04  02 00 10 1C 80 00 83 04  ...x............
0480: 01 9C 04 02 00 10 1D 80  00 8E 04 01 9C 04 02 00  ................
0490: 10 12 80 00 99 04 01 9C  04 01 7F 03 03 0B 00 00  ................
04A0: 10 01 EE 03 01 60 0A 02  00 10 05 80 00 92 08 03  .....`..........
04B0: 05 00 00 10 41 08 80 15  80 01 00 07 10 02 07 10  ....A...........
04C0: 04 80 03 EE 04 45 00 80  F0 FF FF 7F F0 FF FF 7F  .....E..........
04D0: 73 30 33 32 01 80 03 00  00 04 80 08 00 00 07 10  s032............
04E0: 03 07 10 00 00 48 1E 80  01 7F 03 01 8F 08 03 06  .....H..........
04F0: 00 01 80 03 07 00 1F 80  3E 02 00 01 80 02 05 01  ........>.......
0500: 1A 05 41 16 80 17 80 01  00 00 00 02 00 00 01 80  ..A.............
0510: 01 1A 05 3D 07 00 01 80  03 80 03 03 10 04 00 9D  ...=............
0520: 0A 35 62 04 10 01 80 08  80 9D 0A 45 62 05 10 01  .5b........Eb...
0530: 80 08 80 3E 01 00 17 80  42 05 03 06 10 03 80 01  ...>....B.......
0540: 47 05 03 06 10 01 80 9D  0A 35 62 07 10 03 80 08  G........5b.....
0550: 80 9D 0A 45 62 08 10 03  80 08 80 3E 01 00 06 80  ...Eb......>....
0560: 6A 05 03 09 10 03 80 01  6F 05 03 09 10 01 80 9D  j.......o.......
0570: 0A 35 62 00 17 05 80 08  80 9D 0A 45 62 01 17 05  .5b........Eb...
0580: 80 08 80 3E 01 00 20 80  92 05 03 02 17 03 80 01  ...>.. .........
0590: 97 05 03 02 17 01 80 9D  0A 35 62 03 17 09 80 08  .........5b.....
05A0: 80 9D 0A 45 62 04 17 09  80 08 80 3E 01 00 21 80  ...Eb......>..!.
05B0: BA 05 03 05 17 03 80 01  BF 05 03 05 17 01 80 9D  ................
05C0: 0A 35 62 06 17 0B 80 08  80 9D 0A 45 62 07 17 0B  .5b........Eb...
05D0: 80 08 80 3E 01 00 16 80  E2 05 03 08 17 03 80 01  ...>............
05E0: E7 05 03 08 17 01 80 03  09 17 01 80 03 0A 17 01  ................
05F0: 80 03 0B 17 01 80 03 0C  17 01 80 03 0D 17 01 80  ................
0600: 03 0E 17 01 80 03 0F 17  01 80 03 10 17 01 80 03  ................
0610: 11 17 01 80 03 12 17 01  80 03 13 17 01 80 03 14  ................
0620: 17 01 80 03 15 17 01 80  03 16 17 01 80 03 17 17  ................
0630: 01 80 03 1E 17 0C 80 D4  03 03 80 04 10 D4 03 05  ................
0640: 80 07 10 D4 03 09 80 00  17 D4 03 0B 80 03 17 D4  ................
0650: 03 08 80 06 17 D4 02 22  80 06 00 07 00 25 02 00  .......".....%..
0660: 10 01 80 00 E2 06 03 06  00 00 10 48 0D 80 23 03  ...........H..#.
0670: 1E 17 0C 80 03 1F 17 03  00 24 0F 80 03 80 01 80  .........$......
0680: 25 02 00 10 01 80 00 DC  06 42 02 03 00 0C 80 03  %........B......
0690: AE 06 45 00 80 F0 FF FF  7F F0 FF FF 7F 73 30 33  ..E..........s03
06A0: 32 01 80 48 10 80 03 00  10 03 80 01 D8 06 40 01  2..H..........@.
06B0: 80 09 80 01 10 12 80 3C  01 10 11 80 03 80 43 00  .......<......C.
06C0: 43 01 02 09 10 01 80 01  D5 06 40 01 80 09 80 01  C.........@.....
06D0: 10 01 80 21 00 1A 5C 4B  2E 01 DC 06 01 F3 04 01  ...!..\K........
06E0: 20 08 02 00 10 03 80 00  1D 07 03 06 00 00 10 3E   ..............>
06F0: 01 00 17 80 1A 07 3E 02  00 01 80 17 07 45 00 80  ......>......E..
0700: F0 FF FF 7F F0 FF FF 7F  73 30 33 32 01 80 48 23  ........s032..H#
0710: 80 01 F3 04 01 1A 07 01  6B 06 01 20 08 02 00 10  ........k.. ....
0720: 05 80 00 5D 07 03 06 00  00 10 3E 01 00 06 80 5A  ...]......>....Z
0730: 07 3E 02 00 01 80 57 07  45 00 80 F0 FF FF 7F F0  .>....W.E.......
0740: FF FF 7F 73 30 33 32 01  80 03 04 10 07 10 48 23  ...s032.......H#
0750: 80 01 F3 04 01 5A 07 01  6B 06 01 20 08 02 00 10  .....Z..k.. ....
0760: 09 80 00 9D 07 03 06 00  00 10 3E 01 00 20 80 9A  ..........>.. ..
0770: 07 3E 02 00 01 80 97 07  45 00 80 F0 FF FF 7F F0  .>......E.......
0780: FF FF 7F 73 30 33 32 01  80 03 04 10 00 17 48 23  ...s032.......H#
0790: 80 01 F3 04 01 9A 07 01  6B 06 01 20 08 02 00 10  ........k.. ....
07A0: 0B 80 00 DD 07 03 06 00  00 10 3E 01 00 21 80 DA  ..........>..!..
07B0: 07 3E 02 00 01 80 D7 07  45 00 80 F0 FF FF 7F F0  .>......E.......
07C0: FF FF 7F 73 30 33 32 01  80 03 04 10 03 17 48 23  ...s032.......H#
07D0: 80 01 F3 04 01 DA 07 01  6B 06 01 20 08 02 00 10  ........k.. ....
07E0: 08 80 00 1D 08 03 06 00  00 10 3E 01 00 16 80 1A  ..........>.....
07F0: 08 3E 02 00 01 80 17 08  45 00 80 F0 FF FF 7F F0  .>......E.......
0800: FF FF 7F 73 30 33 32 01  80 03 04 10 06 17 48 23  ...s032.......H#
0810: 80 01 F3 04 01 1A 08 01  6B 06 01 20 08 01 7F 03  ........k.. ....
0820: 03 00 00 00 10 0C 00 00  9D 0A 35 62 04 10 00 00  ..........5b....
0830: 08 80 9D 0A 45 62 05 10  00 00 08 80 02 04 00 05  ....Eb..........
0840: 10 03 5E 08 45 00 80 F0  FF FF 7F F0 FF FF 7F 73  ..^.E..........s
0850: 30 33 32 01 80 48 24 80  01 F3 04 01 8F 08 42 40  032..H$.......B@
0860: 01 80 09 80 01 10 1B 80  40 25 80 26 80 01 10 00  ........@%.&....
0870: 00 43 00 43 01 02 09 10  01 80 01 88 08 40 01 80  .C.C.........@..
0880: 09 80 01 10 01 80 21 00  1A 5C 4B 2E 01 F3 04 01  ......!..\K.....
0890: 60 0A 02 00 10 09 80 00  7C 09 03 05 00 00 10 03  `.......|.......
08A0: 06 00 01 80 41 01 80 05  80 01 00 00 00 03 04 10  ....A...........
08B0: 01 80 03 05 10 01 80 03  06 10 01 80 03 07 10 01  ................
08C0: 80 03 08 10 01 80 03 09  10 01 80 02 00 00 01 80  ................
08D0: 80 DB 08 03 04 10 03 80  01 2B 09 02 00 00 03 80  .........+......
08E0: 80 EB 08 03 05 10 03 80  01 2B 09 02 00 00 05 80  .........+......
08F0: 80 FB 08 03 06 10 03 80  01 2B 09 02 00 00 09 80  .........+......
0900: 80 0B 09 03 07 10 03 80  01 2B 09 02 00 00 0B 80  .........+......
0910: 80 1B 09 03 08 10 03 80  01 2B 09 02 00 00 08 80  .........+......
0920: 80 2B 09 03 09 10 03 80  01 2B 09 24 27 80 06 00  .+.......+.$'...
0930: 01 80 25 02 00 10 1B 80  00 46 09 03 05 00 09 80  ..%......F......
0940: 01 7F 03 01 46 09 02 00  00 00 10 01 69 09 42 40  ....F.......i.B@
0950: 01 80 09 80 01 10 1C 80  40 28 80 29 80 01 10 00  ........@(.)....
0960: 10 43 00 43 01 1A 5C 4B  2E 03 00 17 00 10 48 2A  .C.C..\K......H*
0970: 80 03 06 00 00 10 01 A4  08 01 60 0A 02 00 10 0B  ..........`.....
0980: 80 00 27 0A 03 05 00 00  10 03 06 00 01 80 41 09  ..'...........A.
0990: 80 0B 80 01 00 00 00 03  04 10 01 80 03 05 10 01  ................
09A0: 80 03 06 10 01 80 02 00  00 01 80 80 B6 09 03 04  ................
09B0: 10 03 80 01 D6 09 02 00  00 03 80 80 C6 09 03 05  ................
09C0: 10 03 80 01 D6 09 02 00  00 05 80 80 D6 09 03 06  ................
09D0: 10 03 80 01 D6 09 24 2B  80 06 00 01 80 25 02 00  ......$+.....%..
09E0: 10 09 80 00 F1 09 03 05  00 0B 80 01 7F 03 01 F1  ................
09F0: 09 02 00 00 00 10 01 14  0A 42 40 01 80 09 80 01  .........B@.....
0A00: 10 1D 80 40 2C 80 2D 80  01 10 00 10 43 00 43 01  ...@,.-.....C.C.
0A10: 1A 5C 4B 2E 03 07 10 00  10 48 2E 80 03 06 00 00  .\K......H......
0A20: 10 01 8E 09 01 60 0A 02  00 10 08 80 00 5B 0A 24  .....`.......[.$
0A30: 2F 80 01 80 01 80 25 02  00 10 01 80 00 50 0A 42  /.....%......P.B
0A40: 30 1A 64 00 40 01 80 09  80 01 10 03 80 01 58 0A  0.d.@.........X.
0A50: 03 05 00 08 80 01 7F 03  01 60 0A 03 01 10 01 80  .........`......
0A60: 21 00                                             !.              
```

## Opcodes

```
  0: 0x0292 [0x1A] CALL_SUBROUTINE(address=0x4B5C)
  1: 0x0295 [0x02] IF !(Work_Zone[4] == 1*) GOTO 0x02AD
  2: 0x029D [0x42] SET_CLI_EVENT_CANCEL_DATA()
  3: 0x029E [0x1A] CALL_SUBROUTINE(address=0x0043)
  4: 0x02A1 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
  5: 0x02A2 [0x03] ExtData[1]->WorkLocal[5] = 5*
  6: 0x02A7 [0x01] GOTO 0x037F

SUBROUTINE_0330:
  7: 0x0330 [0x01] GOTO 0x0333

SUBROUTINE_0333:
  8: 0x0333 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  9: 0x0334 [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=3*, target=Work_Zone[1], source=9*)
 10: 0x033D [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 11: 0x033F [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 12: 0x0341 [0x02] IF !(Work_Zone[9] == 0*) GOTO 0x0354
 13: 0x0349 [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=3*, target=Work_Zone[1], source=0*)
 14: 0x0352 [0x21] END_EVENT
 15: 0x0353 [0x00] END_REQSTACK()
 16: 0x0354 [0x1A] CALL_SUBROUTINE(address=0x4B5C)
 17: 0x0357 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
 18: 0x0358 [0x01] GOTO 0x037A
 19: 0x035B [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 11*) GOTO 0x0365
 20: 0x0362 [0x01] GOTO 0x0377
 21: 0x0365 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 22: 0x0366 [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=3*, target=Work_Zone[1], source=9*)
 23: 0x036F [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 24: 0x0371 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 25: 0x0373 [0x1A] CALL_SUBROUTINE(address=0x4B5C)
 26: 0x0376 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()

SUBROUTINE_0377:
 27: 0x0377 [0x48] [System] [16734*]:
    → "Here you can play the game Mandragora Mania.\u0000\u0007"

SUBROUTINE_037A:
 28: 0x037A [0x03] ExtData[1]->WorkLocal[5] = 0*

SUBROUTINE_037F:
 29: 0x037F [0x41] Work_Zone[4] = ExtData[1]->WorkLocal[1] (bits 0*-2*)
 30: 0x0388 [0x41] Work_Zone[5] = ExtData[1]->WorkLocal[1] (bits 3*-4*)
 31: 0x0391 [0x41] Work_Zone[7] = ExtData[1]->WorkLocal[1] (bits 5*-10*)
 32: 0x039A [0x02] IF !(Work_Zone[7] >= 45*) GOTO 0x03AA
 33: 0x03A2 [0x03] Work_Zone[6] = 1*
 34: 0x03A7 [0x01] GOTO 0x03AF
 35: 0x03AA [0x03] Work_Zone[6] = 0*

SUBROUTINE_03AF:
 36: 0x03AF [0x3E] IF !(ExtData[1]->WorkLocal[2] bit 0*) GOTO 0x03B9
 37: 0x03B6 [0x01] GOTO 0x03CF
 38: 0x03B9 [0x41] ExtData[1]->WorkLocal[0] = ExtData[1]->WorkLocal[1] (bits 27*-31*)
 39: 0x03C2 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x03CF
 40: 0x03CA [0x03] Work_Zone[6] = 2*

SUBROUTINE_03CF:
 41: 0x03CF [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[4]
 42: 0x03D4 [0x24] CREATE_DIALOG(message_id=16735*, default_option=ExtData[1]->WorkLocal[5], option_flags=0*)
    → "Do which? (
\u0001 jingly)\u0007\u000BPlay (random opponent).\u0007Play (select opponent).\u0007Purchase prizes\u000C\u0004[ (unavail.)./ (reset avail.).]\u0007Set start pattern: (\u000C\u0002[Random/A/B/C/D/E]).\u0007Set starting player: (\u000C\u0003[Random/You/Opponent]).\u0007Read an explanation.\u0007None of the above.\u007F1\u0000\u0007"
 43: 0x03DB [0x25] WAIT_DIALOG_SELECT()
 44: 0x03DC [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0411
 45: 0x03E4 [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[0]
 46: 0x03E9 [0x13] ExtData[1]->WorkLocal[11] = rand() % 9*

SUBROUTINE_03EE:
 47: 0x03EE [0x42] SET_CLI_EVENT_CANCEL_DATA()
 48: 0x03EF [0x30] SET_UCOFF_CONTINUE_ZERO()
 49: 0x03F0 [0x1A] CALL_SUBROUTINE(address=0x0064)
 50: 0x03F3 [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=3*, target=Work_Zone[1], source=2*)
 51: 0x03FC [0x40] SET_BIT_WORK_RANGE(start_bit=9*, end_bit=9*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[5])
 52: 0x0405 [0x40] SET_BIT_WORK_RANGE(start_bit=10*, end_bit=13*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[11])
 53: 0x040E [0x01] GOTO 0x0A60
 54: 0x0411 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x04A7
 55: 0x0419 [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[0]
 56: 0x041E [0x03] ExtData[1]->WorkLocal[6] = 0*

SUBROUTINE_0423:
 57: 0x0423 [0x24] CREATE_DIALOG(message_id=16736*, default_option=ExtData[1]->WorkLocal[6], option_flags=0*)
    → "Play against whom?\u0007\u000BGreen Thumb Moogle.\u0007Monsieur Kupont.\u0007Susuroon.\u0007A lamb.\u0007Yeestog.\u0007Atelloune.\u0007Kuyin Hathdenna.\u0007Kupofried.\u0007Chacharoon.\u0007Sakura.\u0007Back.\u007F1\u0000\u0007"
 58: 0x042A [0x25] WAIT_DIALOG_SELECT()
 59: 0x042B [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0436
 60: 0x0433 [0x01] GOTO 0x049C
 61: 0x0436 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0441
 62: 0x043E [0x01] GOTO 0x049C
 63: 0x0441 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x044C
 64: 0x0449 [0x01] GOTO 0x049C
 65: 0x044C [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0457
 66: 0x0454 [0x01] GOTO 0x049C
 67: 0x0457 [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x0462
 68: 0x045F [0x01] GOTO 0x049C
 69: 0x0462 [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x046D
 70: 0x046A [0x01] GOTO 0x049C
 71: 0x046D [0x02] IF !(Work_Zone[0] == 6*) GOTO 0x0478
 72: 0x0475 [0x01] GOTO 0x049C
 73: 0x0478 [0x02] IF !(Work_Zone[0] == 7*) GOTO 0x0483
 74: 0x0480 [0x01] GOTO 0x049C
 75: 0x0483 [0x02] IF !(Work_Zone[0] == 8*) GOTO 0x048E
 76: 0x048B [0x01] GOTO 0x049C
 77: 0x048E [0x02] IF !(Work_Zone[0] == 9*) GOTO 0x0499
 78: 0x0496 [0x01] GOTO 0x049C
 79: 0x0499 [0x01] GOTO 0x037F

SUBROUTINE_049C:
 80: 0x049C [0x03] ExtData[1]->WorkLocal[11] = Work_Zone[0]
 81: 0x04A1 [0x01] GOTO 0x03EE

SUBROUTINE_04F3:
 82: 0x04F3 [0x03] ExtData[1]->WorkLocal[7] = 1985*
 83: 0x04F8 [0x3E] IF !(ExtData[1]->WorkLocal[2] bit 0*) GOTO 0x0502
 84: 0x04FF [0x01] GOTO 0x051A
 85: 0x0502 [0x41] ExtData[1]->WorkLocal[0] = ExtData[1]->WorkLocal[1] (bits 27*-31*)
 86: 0x050B [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x051A
 87: 0x0513 [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=ExtData[1]->WorkLocal[7], bit_index_work_offset=0*, condition_work_offset=1*)

SUBROUTINE_051A:
 88: 0x051A [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[4]
 89: 0x051F [0x9D] IF (0x6235) 0* = Work_Zone[4] // extra=0x8008
 90: 0x0529 [0x9D] IF (0x6245) 0* = Work_Zone[5] // extra=0x8008
 91: 0x0533 [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 31*) GOTO 0x0542
 92: 0x053A [0x03] Work_Zone[6] = 1*
 93: 0x053F [0x01] GOTO 0x0547
 94: 0x0542 [0x03] Work_Zone[6] = 0*

SUBROUTINE_0547:
 95: 0x0547 [0x9D] IF (0x6235) 1* = Work_Zone[7] // extra=0x8008
 96: 0x0551 [0x9D] IF (0x6245) 1* = Work_Zone[8] // extra=0x8008
 97: 0x055B [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 30*) GOTO 0x056A
 98: 0x0562 [0x03] Work_Zone[9] = 1*
 99: 0x0567 [0x01] GOTO 0x056F
100: 0x056A [0x03] Work_Zone[9] = 0*

SUBROUTINE_056F:
101: 0x056F [0x9D] IF (0x6235) 2* = Work_Zone_1700[0] // extra=0x8008
102: 0x0579 [0x9D] IF (0x6245) 2* = Work_Zone_1700[1] // extra=0x8008
103: 0x0583 [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 29*) GOTO 0x0592
104: 0x058A [0x03] Work_Zone_1700[2] = 1*
105: 0x058F [0x01] GOTO 0x0597
106: 0x0592 [0x03] Work_Zone_1700[2] = 0*

SUBROUTINE_0597:
107: 0x0597 [0x9D] IF (0x6235) 3* = Work_Zone_1700[3] // extra=0x8008
108: 0x05A1 [0x9D] IF (0x6245) 3* = Work_Zone_1700[4] // extra=0x8008
109: 0x05AB [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 28*) GOTO 0x05BA
110: 0x05B2 [0x03] Work_Zone_1700[5] = 1*
111: 0x05B7 [0x01] GOTO 0x05BF
112: 0x05BA [0x03] Work_Zone_1700[5] = 0*

SUBROUTINE_05BF:
113: 0x05BF [0x9D] IF (0x6235) 4* = Work_Zone_1700[6] // extra=0x8008
114: 0x05C9 [0x9D] IF (0x6245) 4* = Work_Zone_1700[7] // extra=0x8008
115: 0x05D3 [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 27*) GOTO 0x05E2
116: 0x05DA [0x03] Work_Zone_1700[8] = 1*
117: 0x05DF [0x01] GOTO 0x05E7
118: 0x05E2 [0x03] Work_Zone_1700[8] = 0*

SUBROUTINE_05E7:
119: 0x05E7 [0x03] Work_Zone_1700[9] = 0*
120: 0x05EC [0x03] Work_Zone_1700[10] = 0*
121: 0x05F1 [0x03] Work_Zone_1700[11] = 0*
122: 0x05F6 [0x03] Work_Zone_1700[12] = 0*
123: 0x05FB [0x03] Work_Zone_1700[13] = 0*
124: 0x0600 [0x03] Work_Zone_1700[14] = 0*
125: 0x0605 [0x03] Work_Zone_1700[15] = 0*
126: 0x060A [0x03] Work_Zone_1700[16] = 0*
127: 0x060F [0x03] Work_Zone_1700[17] = 0*
128: 0x0614 [0x03] Work_Zone_1700[18] = 0*
129: 0x0619 [0x03] Work_Zone_1700[19] = 0*
130: 0x061E [0x03] Work_Zone_1700[20] = 0*
131: 0x0623 [0x03] Work_Zone_1700[21] = 0*
132: 0x0628 [0x03] Work_Zone_1700[22] = 0*
133: 0x062D [0x03] Work_Zone_1700[23] = 0*
134: 0x0632 [0x03] Work_Zone_1700[30] = 10000*
135: 0x0637 [0xD4] MAP_QUERY_WINDOW: Prepare buffer configuration A (buffer=[03 80 04 10 D4 03 05 80...])
136: 0x0655 [0xD4] MAP_QUERY_WINDOW: Test and open query window (flag=0x22, work=[0x0680, 0x0700, 0x2500])
137: 0x065E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x06E2
138: 0x0666 [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[0]

SUBROUTINE_066B:
139: 0x066B [0x48] [System] [16739*]:
    → "You may pay 
& gil to reset all rewards, enabling you to purchase them again.\u0000\u0007"
140: 0x066E [0x23] WAIT_FOR_DIALOG_INTERACTION
141: 0x066F [0x03] Work_Zone_1700[30] = 10000*
142: 0x0674 [0x03] Work_Zone_1700[31] = ExtData[1]->WorkLocal[3]
143: 0x0679 [0x24] CREATE_DIALOG(message_id=16740*, default_option=1*, option_flags=0*)
    → "Reset rewards? (
' gil).\u0007\u000BYes (
& gil).\u0007No.\u007F1\u0000\u0007"
144: 0x0680 [0x25] WAIT_DIALOG_SELECT()
145: 0x0681 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x06DC
146: 0x0689 [0x42] SET_CLI_EVENT_CANCEL_DATA()
147: 0x068A [0x02] IF !(ExtData[1]->WorkLocal[3] >= 10000*) GOTO 0x06AE
148: 0x0692 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s032" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
149: 0x06A3 [0x48] [System] [16741*]:
    → "\u001F{You do not have enough gil.\u0000\u0007"
150: 0x06A6 [0x03] Work_Zone[0] = 1*
151: 0x06AB [0x01] GOTO 0x06D8
152: 0x06AE [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=3*, target=Work_Zone[1], source=9*)
153: 0x06B7 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=Work_Zone[1], bit_index_work_offset=25*, condition_work_offset=1*)
154: 0x06BE [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
155: 0x06C0 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
156: 0x06C2 [0x02] IF !(Work_Zone[9] == 0*) GOTO 0x06D5
157: 0x06CA [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=3*, target=Work_Zone[1], source=0*)
158: 0x06D3 [0x21] END_EVENT
159: 0x06D4 [0x00] END_REQSTACK()
160: 0x06D5 [0x1A] CALL_SUBROUTINE(address=0x4B5C)

SUBROUTINE_06D8:
161: 0x06D8 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
162: 0x06D9 [0x01] GOTO 0x06DC

SUBROUTINE_06DC:
163: 0x06DC [0x01] GOTO 0x04F3

SUBROUTINE_071A:
164: 0x071A [0x01] GOTO 0x0820
165: 0x071D [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x075D
166: 0x0725 [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[0]
167: 0x072A [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 30*) GOTO 0x075A
168: 0x0731 [0x3E] IF !(ExtData[1]->WorkLocal[2] bit 0*) GOTO 0x0757
169: 0x0738 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s032" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
170: 0x0749 [0x03] Work_Zone[4] = Work_Zone[7]
171: 0x074E [0x48] [System] [16743*]:
    → "\u001F{You have already purchased the \u0001\u0005#\u0002\u0002\u0000\u0000.\u0000\u0007"
172: 0x0751 [0x01] GOTO 0x04F3

SUBROUTINE_075A:
173: 0x075A [0x01] GOTO 0x0820
174: 0x075D [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x079D
175: 0x0765 [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[0]
176: 0x076A [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 29*) GOTO 0x079A
177: 0x0771 [0x3E] IF !(ExtData[1]->WorkLocal[2] bit 0*) GOTO 0x0797
178: 0x0778 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s032" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
179: 0x0789 [0x03] Work_Zone[4] = Work_Zone_1700[0]
180: 0x078E [0x48] [System] [16743*]:
    → "\u001F{You have already purchased the \u0001\u0005#\u0002\u0002\u0000\u0000.\u0000\u0007"
181: 0x0791 [0x01] GOTO 0x04F3

SUBROUTINE_079A:
182: 0x079A [0x01] GOTO 0x0820
183: 0x079D [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x07DD
184: 0x07A5 [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[0]
185: 0x07AA [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 28*) GOTO 0x07DA
186: 0x07B1 [0x3E] IF !(ExtData[1]->WorkLocal[2] bit 0*) GOTO 0x07D7
187: 0x07B8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s032" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
188: 0x07C9 [0x03] Work_Zone[4] = Work_Zone_1700[3]
189: 0x07CE [0x48] [System] [16743*]:
    → "\u001F{You have already purchased the \u0001\u0005#\u0002\u0002\u0000\u0000.\u0000\u0007"
190: 0x07D1 [0x01] GOTO 0x04F3

SUBROUTINE_07DA:
191: 0x07DA [0x01] GOTO 0x0820
192: 0x07DD [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x081D
193: 0x07E5 [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[0]
194: 0x07EA [0x3E] IF !(ExtData[1]->WorkLocal[1] bit 27*) GOTO 0x081A
195: 0x07F1 [0x3E] IF !(ExtData[1]->WorkLocal[2] bit 0*) GOTO 0x0817
196: 0x07F8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s032" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
197: 0x0809 [0x03] Work_Zone[4] = Work_Zone_1700[6]
198: 0x080E [0x48] [System] [16743*]:
    → "\u001F{You have already purchased the \u0001\u0005#\u0002\u0002\u0000\u0000.\u0000\u0007"
199: 0x0811 [0x01] GOTO 0x04F3

SUBROUTINE_081A:
200: 0x081A [0x01] GOTO 0x0820
201: 0x081D [0x01] GOTO 0x037F

SUBROUTINE_0820:
202: 0x0820 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[0]
203: 0x0825 [0x0C] ExtData[1]->WorkLocal[0]--
204: 0x0828 [0x9D] IF (0x6235) ExtData[1]->WorkLocal[0] = Work_Zone[4] // extra=0x8008
205: 0x0832 [0x9D] IF (0x6245) ExtData[1]->WorkLocal[0] = Work_Zone[5] // extra=0x8008
206: 0x083C [0x02] IF !(ExtData[1]->WorkLocal[4] >= Work_Zone[5]) GOTO 0x085E
207: 0x0844 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s032" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
208: 0x0855 [0x48] [System] [16744*]:
    → "\u001F{You need at least 
\u0003 jingly to purchase the \u0001\u0005#\u0002\u0002\u0000\u0000.\u0000\u0007"
209: 0x0858 [0x01] GOTO 0x04F3

SUBROUTINE_08A4:
210: 0x08A4 [0x41] ExtData[1]->WorkLocal[0] = ExtData[1]->WorkLocal[1] (bits 0*-2*)
211: 0x08AD [0x03] Work_Zone[4] = 0*
212: 0x08B2 [0x03] Work_Zone[5] = 0*
213: 0x08B7 [0x03] Work_Zone[6] = 0*
214: 0x08BC [0x03] Work_Zone[7] = 0*
215: 0x08C1 [0x03] Work_Zone[8] = 0*
216: 0x08C6 [0x03] Work_Zone[9] = 0*
217: 0x08CB [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x08DB
218: 0x08D3 [0x03] Work_Zone[4] = 1*
219: 0x08D8 [0x01] GOTO 0x092B
220: 0x08DB [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x08EB
221: 0x08E3 [0x03] Work_Zone[5] = 1*
222: 0x08E8 [0x01] GOTO 0x092B
223: 0x08EB [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x08FB
224: 0x08F3 [0x03] Work_Zone[6] = 1*
225: 0x08F8 [0x01] GOTO 0x092B
226: 0x08FB [0x02] IF !(ExtData[1]->WorkLocal[0] == 3*) GOTO 0x090B
227: 0x0903 [0x03] Work_Zone[7] = 1*
228: 0x0908 [0x01] GOTO 0x092B
229: 0x090B [0x02] IF !(ExtData[1]->WorkLocal[0] == 4*) GOTO 0x091B
230: 0x0913 [0x03] Work_Zone[8] = 1*
231: 0x0918 [0x01] GOTO 0x092B
232: 0x091B [0x02] IF !(ExtData[1]->WorkLocal[0] == 5*) GOTO 0x092B
233: 0x0923 [0x03] Work_Zone[9] = 1*
234: 0x0928 [0x01] GOTO 0x092B

SUBROUTINE_092B:
235: 0x092B [0x24] CREATE_DIALOG(message_id=16747*, default_option=ExtData[1]->WorkLocal[6], option_flags=0*)
    → "Set starting pattern?\u0007\u000B\u000C\u0002[/\u0001\u001A] Random (A-E).\u0007\u000C\u0003[/\u0001\u001A] Pattern A.\u0007\u000C\u0004[/\u0001\u001A] Pattern B.\u0007\u000C\u0005[/\u0001\u001A] Pattern C.\u0007\u000C\u0006[/\u0001\u001A] Pattern D.\u0007\u000C\u0007[/\u0001\u001A] Pattern E.\u0007No thanks.\u007F1\u0000\u0007"
236: 0x0932 [0x25] WAIT_DIALOG_SELECT()
237: 0x0933 [0x02] IF !(Work_Zone[0] == 6*) GOTO 0x0946
238: 0x093B [0x03] ExtData[1]->WorkLocal[5] = 3*
239: 0x0940 [0x01] GOTO 0x037F

SUBROUTINE_0946:
240: 0x0946 [0x02] IF !(ExtData[1]->WorkLocal[0] == Work_Zone[0]) GOTO 0x0969
241: 0x094E [0x42] SET_CLI_EVENT_CANCEL_DATA()
242: 0x094F [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=3*, target=Work_Zone[1], source=7*)
243: 0x0958 [0x40] SET_BIT_WORK_RANGE(start_bit=20*, end_bit=22*, target=Work_Zone[1], source=Work_Zone[0])
244: 0x0961 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
245: 0x0963 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
246: 0x0965 [0x1A] CALL_SUBROUTINE(address=0x4B5C)
247: 0x0968 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
248: 0x0969 [0x03] Work_Zone_1700[0] = Work_Zone[0]
249: 0x096E [0x48] [System] [16748*]:
    → "\u001F\u0017Starting pattern set to \u000C\u0008[Random/Pattern A/Pattern B/Pattern C/Pattern D/Pattern E].\u0000\u0007"
250: 0x0971 [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[0]
251: 0x0976 [0x01] GOTO 0x08A4

SUBROUTINE_098E:
252: 0x098E [0x41] ExtData[1]->WorkLocal[0] = ExtData[1]->WorkLocal[1] (bits 3*-4*)
253: 0x0997 [0x03] Work_Zone[4] = 0*
254: 0x099C [0x03] Work_Zone[5] = 0*
255: 0x09A1 [0x03] Work_Zone[6] = 0*
256: 0x09A6 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x09B6
257: 0x09AE [0x03] Work_Zone[4] = 1*
258: 0x09B3 [0x01] GOTO 0x09D6
259: 0x09B6 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x09C6
260: 0x09BE [0x03] Work_Zone[5] = 1*
261: 0x09C3 [0x01] GOTO 0x09D6
262: 0x09C6 [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x09D6
263: 0x09CE [0x03] Work_Zone[6] = 1*
264: 0x09D3 [0x01] GOTO 0x09D6

SUBROUTINE_09D6:
265: 0x09D6 [0x24] CREATE_DIALOG(message_id=16749*, default_option=ExtData[1]->WorkLocal[6], option_flags=0*)
    → "Set starting player?\u0007\u000B\u000C\u0002[/\u0001\u001A] Random.\u0007\u000C\u0003[/\u0001\u001A] You.\u0007\u000C\u0004[/\u0001\u001A] Opponent.\u0007No thanks.\u007F1\u0000\u0007"
266: 0x09DD [0x25] WAIT_DIALOG_SELECT()
267: 0x09DE [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x09F1
268: 0x09E6 [0x03] ExtData[1]->WorkLocal[5] = 4*
269: 0x09EB [0x01] GOTO 0x037F

SUBROUTINE_09F1:
270: 0x09F1 [0x02] IF !(ExtData[1]->WorkLocal[0] == Work_Zone[0]) GOTO 0x0A14
271: 0x09F9 [0x42] SET_CLI_EVENT_CANCEL_DATA()
272: 0x09FA [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=3*, target=Work_Zone[1], source=8*)
273: 0x0A03 [0x40] SET_BIT_WORK_RANGE(start_bit=23*, end_bit=24*, target=Work_Zone[1], source=Work_Zone[0])
274: 0x0A0C [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
275: 0x0A0E [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
276: 0x0A10 [0x1A] CALL_SUBROUTINE(address=0x4B5C)
277: 0x0A13 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
278: 0x0A14 [0x03] Work_Zone[7] = Work_Zone[0]
279: 0x0A19 [0x48] [System] [16750*]:
    → "\u001F\u0017Starting player set to \u000C\u0005[Random/You/Opponent].\u0000\u0007"
280: 0x0A1C [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[0]
281: 0x0A21 [0x01] GOTO 0x098E

SUBROUTINE_0A58:
282: 0x0A58 [0x01] GOTO 0x0A60
283: 0x0A5B [0x03] Work_Zone[1] = 0*

SUBROUTINE_0A60:
284: 0x0A60 [0x21] END_EVENT
285: 0x0A61 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x02AA [0x01] GOTO 0x037A
# Dead code (unreachable instructions):
     0x04A4 [0x01] GOTO 0x0A60
     0x04EB [0x01] GOTO 0x088F
# Dead code (unreachable instructions):
     0x06DF [0x01] GOTO 0x0820
     0x0714 [0x01] GOTO 0x071A
# Dead code (unreachable instructions):
     0x0754 [0x01] GOTO 0x075A
# Dead code (unreachable instructions):
     0x0794 [0x01] GOTO 0x079A
# Dead code (unreachable instructions):
     0x07D4 [0x01] GOTO 0x07DA
# Dead code (unreachable instructions):
     0x0814 [0x01] GOTO 0x081A
# Dead code (unreachable instructions):
     0x085B [0x01] GOTO 0x088F
     0x088F [0x01] GOTO 0x0A60
# Dead code (unreachable instructions):
     0x0943 [0x01] GOTO 0x0946
# Dead code (unreachable instructions):
     0x0979 [0x01] GOTO 0x0A60
# Dead code (unreachable instructions):
     0x09EE [0x01] GOTO 0x09F1
# Dead code (unreachable instructions):
     0x0A24 [0x01] GOTO 0x0A60
```