# Event 2013

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 17/97     |
| Offset          | 0x1A20    |
| Data Size       | 810 bytes |
| Calculated Size | 810 bytes |
| Instructions    | 36        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1A20: 42 20 01 46 01 45 03 80  F8 FF FF 7F F8 FF FF 7F  B .F.E..........
1A30: 66 64 6F 31 04 80 1C 05  80 38 06 80 29 64 F0 FF  fdo1.....8..)d..
1A40: FF 7F 19 29 08 F0 FF FF  7F 39 45 07 80 F8 FF FF  ...).....9E.....
1A50: 7F F8 FF FF 7F 73 31 30  39 04 80 45 03 80 F8 FF  .....s109..E....
1A60: FF 7F F8 FF FF 7F 66 64  69 31 04 80 66 00 80 F8  ......fdi1..f...
1A70: FF FF 7F F8 FF FF 7F 74  6C 6B 30 1D 81 80 23 1D  .......tlk0...#.
1A80: 82 80 23 52 07 80 F8 FF  FF 7F F8 FF FF 7F 73 31  ..#R..........s1
1A90: 30 39 45 03 80 F0 FF FF  7F F0 FF FF 7F 6F 76 6C  09E..........ovl
1AA0: 31 04 80 02 09 10 12 80  00 BF 1A 45 07 80 F8 FF  1..........E....
1AB0: FF 7F F8 FF FF 7F 73 31  30 38 04 80 01 EC 1A 02  ......s108......
1AC0: 09 10 13 80 00 DB 1A 45  07 80 F8 FF FF 7F F8 FF  .......E........
1AD0: FF 7F 73 31 30 38 04 80  01 EC 1A 45 0A 80 F0 FF  ..s108.....E....
1AE0: FF 7F F0 FF FF 7F 73 30  32 33 04 80 1D 83 80 23  ......s023.....#
1AF0: 45 03 80 F8 FF FF 7F F8  FF FF 7F 66 64 6F 31 04  E..........fdo1.
1B00: 80 1C 05 80 5E 69 64 6C  30 46 00 45 03 80 F8 FF  ....^idl0F.E....
1B10: FF 7F F8 FF FF 7F 66 64  69 31 04 80 45 1D 80 F0  ......fdi1..E...
1B20: FF FF 7F F0 FF FF 7F 71  73 74 63 04 80 20 00 21  .......qstc.. .!
1B30: 00 45 03 80 F0 FF FF 7F  F0 FF FF 7F 6F 76 6C 31  .E..........ovl1
1B40: 04 80 45 07 80 F8 FF FF  7F F8 FF FF 7F 73 30 39  ..E..........s09
1B50: 32 04 80 66 00 80 F8 FF  FF 7F F8 FF FF 7F 74 6C  2..f..........tl
1B60: 6B 30 1D 84 80 23 1D 85  80 23 1D 14 80 23 52 07  k0...#...#...#R.
1B70: 80 F8 FF FF 7F F8 FF FF  7F 73 30 39 32 5E 69 64  .........s092^id
1B80: 6C 30 24 6F 80 04 80 04  80 25 02 00 10 04 80 00  l0$o.....%......
1B90: D5 1B 45 07 80 F8 FF FF  7F F8 FF FF 7F 73 30 39  ..E..........s09
1BA0: 35 04 80 66 00 80 F8 FF  FF 7F F8 FF FF 7F 74 6C  5..f..........tl
1BB0: 6B 30 1D 86 80 23 5E 69  64 6C 30 1C 02 80 03 01  k0...#^idl0.....
1BC0: 10 2A 80 52 07 80 F8 FF  FF 7F F8 FF FF 7F 73 30  .*.R..........s0
1BD0: 39 35 01 E5 1B 02 00 10  17 80 00 E5 1B 03 01 10  95..............
1BE0: 19 80 01 E5 1B 45 03 80  F8 FF FF 7F F8 FF FF 7F  .....E..........
1BF0: 66 64 6F 31 04 80 1C 05  80 46 00 45 03 80 F8 FF  fdo1.....F.E....
1C00: FF 7F F8 FF FF 7F 66 64  69 31 04 80 21 00 45 03  ......fdi1..!.E.
1C10: 80 F0 FF FF 7F F0 FF FF  7F 6F 76 6C 31 04 80 45  .........ovl1..E
1C20: 07 80 F8 FF FF 7F F8 FF  FF 7F 73 30 39 32 04 80  ..........s092..
1C30: 66 00 80 F8 FF FF 7F F8  FF FF 7F 74 6C 6B 30 1D  f..........tlk0.
1C40: 87 80 23 1D 88 80 23 24  3A 80 04 80 04 80 25 02  ..#...#$:.....%.
1C50: 00 10 04 80 00 63 1C 1D  89 80 23 03 01 10 2C 80  .....c....#...,.
1C60: 01 73 1C 02 00 10 17 80  00 73 1C 03 01 10 19 80  .s.......s......
1C70: 01 73 1C 5E 69 64 6C 30  45 03 80 F8 FF FF 7F F8  .s.^idl0E.......
1C80: FF FF 7F 66 64 6F 31 04  80 1C 05 80 52 07 80 F8  ...fdo1.....R...
1C90: FF FF 7F F8 FF FF 7F 73  30 39 32 46 00 45 03 80  .......s092F.E..
1CA0: F8 FF FF 7F F8 FF FF 7F  66 64 69 31 04 80 21 00  ........fdi1..!.
1CB0: 45 03 80 F0 FF FF 7F F0  FF FF 7F 6F 76 6C 31 04  E..........ovl1.
1CC0: 80 45 0A 80 F0 FF FF 7F  F0 FF FF 7F 73 30 32 30  .E..........s020
1CD0: 04 80 27 64 F0 FF FF 7F  19 66 00 80 F8 FF FF 7F  ..'d.....f......
1CE0: F8 FF FF 7F 74 6C 6B 30  1D 8A 80 23 1D 8B 80 23  ....tlk0...#...#
1CF0: 24 3A 80 04 80 04 80 25  02 00 10 04 80 00 0C 1D  $:.....%........
1D00: 1D 8C 80 23 03 01 10 28  80 01 1C 1D 02 00 10 17  ...#...(........
1D10: 80 00 1C 1D 03 01 10 19  80 01 1C 1D 5E 69 64 6C  ............^idl
1D20: 30 45 03 80 F8 FF FF 7F  F8 FF FF 7F 66 64 6F 31  0E..........fdo1
1D30: 04 80 1C 05 80 46 00 45  03 80 F8 FF FF 7F F8 FF  .....F.E........
1D40: FF 7F 66 64 69 31 04 80  21 00                    ..fdi1..!.      
```

## Opcodes

```
  0: 0x1A20 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x1A21 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  2: 0x1A23 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x1A25 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  4: 0x1A36 [0x1C] WAIT(60* ticks)
  5: 0x1A39 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  6: 0x1A3C [0x29] REQ_SET_WAIT(priority=0x64, entity_id=LocalPlayer, tag_num=0x19)
  7: 0x1A43 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x39)
  8: 0x1A4A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s109" with entities [EventEntity, EventEntity], work=[90*, 0*]
  9: 0x1A5B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 10: 0x1A6C [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 11: 0x1A7B [0x1D] PRINT_EVENT_MESSAGE(message_id=7314*)
    → "Ah, the great angler returns! I was worried, to be honest. All you hear these days is the massing of beasts, the erosion of the Crystal Lines, and now...\u007F1\u0000\u0007"
 12: 0x1A7E [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x1A7F [0x1D] PRINT_EVENT_MESSAGE(message_id=7315*)
    → "...rumors that the Shadow Lord himself has returned!\u007F1\u0000\u0007"
 14: 0x1A82 [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x1A83 [0x52] END_LOAD_SCHEDULER: End scheduler "s109" with entities [EventEntity, EventEntity], work=90*
 16: 0x1A92 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 17: 0x1AA3 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x1ABF
 18: 0x1AAB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s108" with entities [EventEntity, EventEntity], work=[90*, 0*]
 19: 0x1ABC [0x01] GOTO 0x1AEC

SUBROUTINE_1ABF:
 20: 0x1ABF [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x1ADB
 21: 0x1AC7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s108" with entities [EventEntity, EventEntity], work=[90*, 0*]
 22: 0x1AD8 [0x01] GOTO 0x1AEC

SUBROUTINE_1ADB:
 23: 0x1ADB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s023" with entities [LocalPlayer, LocalPlayer], work=[130*, 0*]
 24: 0x1AEC [0x1D] PRINT_EVENT_MESSAGE(message_id=7316*)
    → "We will examine the fish you brought. Depending on the results, we may need to act! I'll let you know if we need your help.\u007F1\u0000\u0007"
 25: 0x1AEF [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x1AF0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 27: 0x1B01 [0x1C] WAIT(60* ticks)
 28: 0x1B04 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 29: 0x1B09 [0x46] CAMERA_CONTROL: Restore default settings
 30: 0x1B0B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 31: 0x1B1C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 32: 0x1B2D [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 33: 0x1B2F [0x21] END_EVENT
 34: 0x1B30 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Data Section: 0x1B31 (537 bytes)
     0x1B31: 45 03 80 F0 FF FF 7F F0 FF FF 7F 6F 76 6C 31 04
     0x1B41: 80 45 07 80 F8 FF FF 7F F8 FF FF 7F 73 30 39 32
     0x1B51: 04 80 66 00 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x1B61: 30 1D 84 80 23 1D 85 80 23 1D 14 80 23 52 07 80
     0x1B71: F8 FF FF 7F F8 FF FF 7F 73 30 39 32 5E 69 64 6C
     0x1B81: 30 24 6F 80 04 80 04 80 25 02 00 10 04 80 00 D5
     0x1B91: 1B 45 07 80 F8 FF FF 7F F8 FF FF 7F 73 30 39 35
     0x1BA1: 04 80 66 00 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x1BB1: 30 1D 86 80 23 5E 69 64 6C 30 1C 02 80 03 01 10
     0x1BC1: 2A 80 52 07 80 F8 FF FF 7F F8 FF FF 7F 73 30 39
     0x1BD1: 35 01 E5 1B 02 00 10 17 80 00 E5 1B 03 01 10 19
     0x1BE1: 80 01 E5 1B 45 03 80 F8 FF FF 7F F8 FF FF 7F 66
     0x1BF1: 64 6F 31 04 80 1C 05 80 46 00 45 03 80 F8 FF FF
     0x1C01: 7F F8 FF FF 7F 66 64 69 31 04 80 21 00 45 03 80
     0x1C11: F0 FF FF 7F F0 FF FF 7F 6F 76 6C 31 04 80 45 07
     0x1C21: 80 F8 FF FF 7F F8 FF FF 7F 73 30 39 32 04 80 66
     0x1C31: 00 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1D 87
     0x1C41: 80 23 1D 88 80 23 24 3A 80 04 80 04 80 25 02 00
     0x1C51: 10 04 80 00 63 1C 1D 89 80 23 03 01 10 2C 80 01
     0x1C61: 73 1C 02 00 10 17 80 00 73 1C 03 01 10 19 80 01
     0x1C71: 73 1C 5E 69 64 6C 30 45 03 80 F8 FF FF 7F F8 FF
     0x1C81: FF 7F 66 64 6F 31 04 80 1C 05 80 52 07 80 F8 FF
     0x1C91: FF 7F F8 FF FF 7F 73 30 39 32 46 00 45 03 80 F8
     0x1CA1: FF FF 7F F8 FF FF 7F 66 64 69 31 04 80 21 00 45
     0x1CB1: 03 80 F0 FF FF 7F F0 FF FF 7F 6F 76 6C 31 04 80
     0x1CC1: 45 0A 80 F0 FF FF 7F F0 FF FF 7F 73 30 32 30 04
     0x1CD1: 80 27 64 F0 FF FF 7F 19 66 00 80 F8 FF FF 7F F8
     0x1CE1: FF FF 7F 74 6C 6B 30 1D 8A 80 23 1D 8B 80 23 24
     0x1CF1: 3A 80 04 80 04 80 25 02 00 10 04 80 00 0C 1D 1D
     0x1D01: 8C 80 23 03 01 10 28 80 01 1C 1D 02 00 10 17 80
     0x1D11: 00 1C 1D 03 01 10 19 80 01 1C 1D 5E 69 64 6C 30
     0x1D21: 45 03 80 F8 FF FF 7F F8 FF FF 7F 66 64 6F 31 04
     0x1D31: 80 1C 05 80 46 00 45 03 80 F8 FF FF 7F F8 FF FF
     0x1D41: 7F 66 64 69 31 04 80 21 00
```