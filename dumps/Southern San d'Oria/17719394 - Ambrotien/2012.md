# Event 2012

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 16/97     |
| Offset          | 0x17EA    |
| Data Size       | 566 bytes |
| Calculated Size | 566 bytes |
| Instructions    | 23        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
17E0:                                42 46 01 45 03 80            BF.E..
17F0: F8 FF FF 7F F8 FF FF 7F  66 64 6F 31 04 80 1C 05  ........fdo1....
1800: 80 38 06 80 29 64 F0 FF  FF 7F 19 29 08 F0 FF FF  .8..)d.....)....
1810: 7F 39 45 07 80 F8 FF FF  7F F8 FF FF 7F 73 31 30  .9E..........s10
1820: 39 04 80 45 03 80 F8 FF  FF 7F F8 FF FF 7F 66 64  9..E..........fd
1830: 69 31 04 80 66 00 80 F8  FF FF 7F F8 FF FF 7F 74  i1..f..........t
1840: 6C 6B 30 1D 78 80 23 1D  79 80 23 45 03 80 F8 FF  lk0.x.#.y.#E....
1850: FF 7F F8 FF FF 7F 66 64  6F 31 04 80 1C 05 80 52  ......fdo1.....R
1860: 07 80 F8 FF FF 7F F8 FF  FF 7F 73 31 30 39 5E 69  ..........s109^i
1870: 64 6C 30 46 00 45 03 80  F8 FF FF 7F F8 FF FF 7F  dl0F.E..........
1880: 66 64 69 31 04 80 45 1D  80 F0 FF FF 7F F0 FF FF  fdi1..E.........
1890: 7F 71 73 74 63 04 80 21  00 45 03 80 F0 FF FF 7F  .qstc..!.E......
18A0: F0 FF FF 7F 6F 76 6C 31  04 80 45 07 80 F8 FF FF  ....ovl1..E.....
18B0: 7F F8 FF FF 7F 73 30 39  32 04 80 66 00 80 F8 FF  .....s092..f....
18C0: FF 7F F8 FF FF 7F 74 6C  6B 30 1D 7A 80 23 5E 69  ......tlk0.z.#^i
18D0: 64 6C 30 52 07 80 F8 FF  FF 7F F8 FF FF 7F 73 30  dl0R..........s0
18E0: 39 32 24 0E 80 04 80 04  80 25 02 00 10 04 80 00  92$......%......
18F0: E7 19 45 07 80 F8 FF FF  7F F8 FF FF 7F 73 31 30  ..E..........s10
1900: 37 04 80 66 00 80 F8 FF  FF 7F F8 FF FF 7F 74 6C  7..f..........tl
1910: 6B 30 1D 7B 80 23 03 02  10 7C 80 1D 7D 80 23 1D  k0.{.#...|..}.#.
1920: 14 80 23 5E 69 64 6C 30  52 07 80 F8 FF FF 7F F8  ..#^idl0R.......
1930: FF FF 7F 73 31 30 37 24  15 80 04 80 04 80 25 02  ...s107$......%.
1940: 00 10 04 80 00 C6 19 02  09 10 12 80 00 63 19 45  .............c.E
1950: 07 80 F8 FF FF 7F F8 FF  FF 7F 73 31 30 38 04 80  ..........s108..
1960: 01 90 19 02 09 10 13 80  00 7F 19 45 07 80 F8 FF  ...........E....
1970: FF 7F F8 FF FF 7F 73 31  30 38 04 80 01 90 19 45  ......s108.....E
1980: 0A 80 F0 FF FF 7F F0 FF  FF 7F 73 30 32 33 04 80  ..........s023..
1990: 66 00 80 F8 FF FF 7F F8  FF FF 7F 74 6C 6B 30 1D  f..........tlk0.
19A0: 7E 80 23 1D 7F 80 23 5E  69 64 6C 30 1C 02 80 3E  ~.#...#^idl0...>
19B0: 07 10 30 80 BE 19 03 01  10 29 80 01 C3 19 03 01  ..0......)......
19C0: 10 80 80 01 E4 19 02 00  10 17 80 00 D4 19 1A F2  ................
19D0: 18 01 E4 19 02 00 10 18  80 00 E4 19 03 01 10 19  ................
19E0: 80 01 E4 19 01 F7 19 02  00 10 17 80 00 F7 19 03  ................
19F0: 01 10 19 80 01 F7 19 45  03 80 F8 FF FF 7F F8 FF  .......E........
1A00: FF 7F 66 64 6F 31 04 80  1C 05 80 46 00 45 03 80  ..fdo1.....F.E..
1A10: F8 FF FF 7F F8 FF FF 7F  66 64 69 31 04 80 21 00  ........fdi1..!.
```

## Opcodes

```
  0: 0x17EA [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x17EB [0x46] CAMERA_CONTROL: Disable user control
  2: 0x17ED [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  3: 0x17FE [0x1C] WAIT(60* ticks)
  4: 0x1801 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  5: 0x1804 [0x29] REQ_SET_WAIT(priority=0x64, entity_id=LocalPlayer, tag_num=0x19)
  6: 0x180B [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x39)
  7: 0x1812 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s109" with entities [EventEntity, EventEntity], work=[90*, 0*]
  8: 0x1823 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  9: 0x1834 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 10: 0x1843 [0x1D] PRINT_EVENT_MESSAGE(message_id=7306*)
    → "You've returned! Zantaviat told me everything. Congratulations on a job well done!\u007F1\u0000\u0007"
 11: 0x1846 [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x1847 [0x1D] PRINT_EVENT_MESSAGE(message_id=7307*)
    → "But we can't let down our guard yet. Those Orcs will not just sit there. We must keep constant vigil, and move before they do!\u007F1\u0000\u0007"
 13: 0x184A [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x184B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 15: 0x185C [0x1C] WAIT(60* ticks)
 16: 0x185F [0x52] END_LOAD_SCHEDULER: End scheduler "s109" with entities [EventEntity, EventEntity], work=90*
 17: 0x186E [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 18: 0x1873 [0x46] CAMERA_CONTROL: Restore default settings
 19: 0x1875 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 20: 0x1886 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 21: 0x1897 [0x21] END_EVENT
 22: 0x1898 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x1899 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x18AA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s092" with entities [EventEntity, EventEntity], work=[90*, 0*]
     0x18BB [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
     0x18CA [0x1D] PRINT_EVENT_MESSAGE(message_id=7309*)
    → "Welcome back! I have an important mission for you this time. Recently, land is eroding due to crystal formation...and it's getting worse.\u007F1\u0000\u0007"
     0x18CD [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x18CE [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
     0x18D3 [0x52] END_LOAD_SCHEDULER: End scheduler "s092" with entities [EventEntity, EventEntity], work=90*
     0x18E2 [0x24] CREATE_DIALOG(message_id=7240*, default_option=0*, option_flags=0*)
    → "Interested?\u0007\u000BTell me more.\u0007Never mind.\u007F1\u0000\u0007"
     0x18E9 [0x25] WAIT_DIALOG_SELECT()
     0x18EA [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x19E7
     0x18F2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s107" with entities [EventEntity, EventEntity], work=[90*, 0*]
     0x1903 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
     0x1912 [0x1D] PRINT_EVENT_MESSAGE(message_id=7310*)
    → "There's a small spring on the eastern edge of Jugner Forest, called Crystwater Spring. We must know what effect crystal formation has on the wildlife there.\u007F1\u0000\u0007"
     0x1915 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x1916 [0x03] Work_Zone[2] = 4528*
     0x191B [0x1D] PRINT_EVENT_MESSAGE(message_id=7311*)
    → "I want you to get me a fish from the spring. And not just any fish! You need to get \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
     0x191E [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x191F [0x1D] PRINT_EVENT_MESSAGE(message_id=7243*)
    → "That is all. You'll take the mission then?\u007F1\u0000\u0007"
     0x1922 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x1923 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
     0x1928 [0x52] END_LOAD_SCHEDULER: End scheduler "s107" with entities [EventEntity, EventEntity], work=90*
     0x1937 [0x24] CREATE_DIALOG(message_id=7244*, default_option=0*, option_flags=0*)
    → "Do you accept the mission?\u0007\u000BI accept.\u0007Could you explain again?\u0007No, thank you.\u007F1\u0000\u0007"
     0x193E [0x25] WAIT_DIALOG_SELECT()
     0x193F [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x19C6
     0x1947 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x1963
     0x194F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s108" with entities [EventEntity, EventEntity], work=[90*, 0*]
     0x1960 [0x01] GOTO 0x1990
     0x1963 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x197F
     0x196B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s108" with entities [EventEntity, EventEntity], work=[90*, 0*]
     0x197C [0x01] GOTO 0x1990
     0x197F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s023" with entities [LocalPlayer, LocalPlayer], work=[130*, 0*]
     0x1990 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
     0x199F [0x1D] PRINT_EVENT_MESSAGE(message_id=7312*)
    → "Ah, that reminds me--have you any fishing gear? You'll need some for this mission.\u007F1\u0000\u0007"
     0x19A2 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x19A3 [0x1D] PRINT_EVENT_MESSAGE(message_id=7313*)
    → "There are people about that know a thing or two about fishing, should you need help finding and choosing your gear.\u007F1\u0000\u0007"
     0x19A6 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x19A7 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
     0x19AC [0x1C] WAIT(30* ticks)
     0x19AF [0x3E] IF !(Work_Zone[7] bit 19*) GOTO 0x19BE
     0x19B6 [0x03] Work_Zone[1] = 11*
     0x19BB [0x01] GOTO 0x19C3
     0x19BE [0x03] Work_Zone[1] = 111*
     0x19C3 [0x01] GOTO 0x19E4
     0x19C6 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x19D4
     0x19CE [0x1A] CALL_SUBROUTINE(address=0x18F2)
     0x19D1 [0x01] GOTO 0x19E4
     0x19D4 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x19E4
     0x19DC [0x03] Work_Zone[1] = 1073741824*
     0x19E1 [0x01] GOTO 0x19E4
     0x19E4 [0x01] GOTO 0x19F7
     0x19E7 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x19F7
     0x19EF [0x03] Work_Zone[1] = 1073741824*
     0x19F4 [0x01] GOTO 0x19F7
     0x19F7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
     0x1A08 [0x1C] WAIT(60* ticks)
     0x1A0B [0x46] CAMERA_CONTROL: Restore default settings
     0x1A0D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
     0x1A1E [0x21] END_EVENT
     0x1A1F [0x00] END_REQSTACK()
```