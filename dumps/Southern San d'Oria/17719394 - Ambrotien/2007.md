# Event 2007

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 15/97     |
| Offset          | 0x152F    |
| Data Size       | 699 bytes |
| Calculated Size | 699 bytes |
| Instructions    | 35        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1520:                                               42                 B
1530: 46 01 45 03 80 F8 FF FF  7F F8 FF FF 7F 66 64 6F  F.E..........fdo
1540: 31 04 80 1C 05 80 38 06  80 29 64 F0 FF FF 7F 19  1.....8..)d.....
1550: 29 08 F0 FF FF 7F 39 45  07 80 F8 FF FF 7F F8 FF  ).....9E........
1560: FF 7F 73 30 39 32 04 80  45 03 80 F8 FF FF 7F F8  ..s092..E.......
1570: FF FF 7F 66 64 69 31 04  80 66 00 80 F8 FF FF 7F  ...fdi1..f......
1580: F8 FF FF 7F 74 6C 6B 30  1D 71 80 23 5E 69 64 6C  ....tlk0.q.#^idl
1590: 30 1C 02 80 52 07 80 F8  FF FF 7F F8 FF FF 7F 73  0...R..........s
15A0: 30 39 32 45 03 80 F0 FF  FF 7F F0 FF FF 7F 6F 76  092E..........ov
15B0: 6C 31 04 80 45 07 80 F8  FF FF 7F F8 FF FF 7F 73  l1..E..........s
15C0: 31 30 39 04 80 66 00 80  F8 FF FF 7F F8 FF FF 7F  109..f..........
15D0: 74 68 6B 31 1D 72 80 23  66 00 80 F8 FF FF 7F F8  thk1.r.#f.......
15E0: FF FF 7F 74 68 6B 32 53  F8 FF FF 7F F8 FF FF 7F  ...thk2S........
15F0: 74 68 6B 32 66 00 80 F8  FF FF 7F F8 FF FF 7F 74  thk2f..........t
1600: 6C 6B 30 03 02 10 55 80  1D 73 80 23 45 03 80 F8  lk0...U..s.#E...
1610: FF FF 7F F8 FF FF 7F 66  64 6F 31 04 80 1C 05 80  .......fdo1.....
1620: 52 07 80 F8 FF FF 7F F8  FF FF 7F 73 31 30 39 5E  R..........s109^
1630: 69 64 6C 30 1C 02 80 46  00 45 03 80 F8 FF FF 7F  idl0...F.E......
1640: F8 FF FF 7F 66 64 69 31  04 80 21 00 45 03 80 F0  ....fdi1..!.E...
1650: FF FF 7F F0 FF FF 7F 6F  76 6C 31 04 80 45 07 80  .......ovl1..E..
1660: F8 FF FF 7F F8 FF FF 7F  73 30 39 32 04 80 66 00  ........s092..f.
1670: 80 F8 FF FF 7F F8 FF FF  7F 74 6C 6B 30 1D 74 80  .........tlk0.t.
1680: 23 5E 69 64 6C 30 52 07  80 F8 FF FF 7F F8 FF FF  #^idl0R.........
1690: 7F 73 30 39 32 24 0E 80  04 80 04 80 25 02 00 10  .s092$......%...
16A0: 04 80 00 A9 17 45 07 80  F8 FF FF 7F F8 FF FF 7F  .....E..........
16B0: 73 31 30 37 04 80 66 00  80 F8 FF FF 7F F8 FF FF  s107..f.........
16C0: 7F 74 6C 6B 30 1D 75 80  23 03 02 10 55 80 1D 76  .tlk0.u.#...U..v
16D0: 80 23 52 07 80 F8 FF FF  7F F8 FF FF 7F 73 31 30  .#R..........s10
16E0: 37 45 03 80 F0 FF FF 7F  F0 FF FF 7F 6F 76 6C 31  7E..........ovl1
16F0: 04 80 02 09 10 12 80 00  0E 17 45 07 80 F8 FF FF  ..........E.....
1700: 7F F8 FF FF 7F 73 31 30  38 04 80 01 3B 17 02 09  .....s108...;...
1710: 10 13 80 00 2A 17 45 07  80 F8 FF FF 7F F8 FF FF  ....*.E.........
1720: 7F 73 31 30 38 04 80 01  3B 17 45 0A 80 F0 FF FF  .s108...;.E.....
1730: 7F F0 FF FF 7F 73 30 32  33 04 80 1D 14 80 23 5E  .....s023.....#^
1740: 69 64 6C 30 24 15 80 04  80 04 80 25 02 00 10 04  idl0$......%....
1750: 80 00 88 17 45 0A 80 F0  FF FF 7F F0 FF FF 7F 73  ....E..........s
1760: 30 32 34 04 80 66 00 80  F8 FF FF 7F F8 FF FF 7F  024..f..........
1770: 74 6C 6B 30 1D 77 80 23  5E 69 64 6C 30 1C 02 80  tlk0.w.#^idl0...
1780: 03 01 10 27 80 01 A6 17  02 00 10 17 80 00 96 17  ...'............
1790: 1A A5 16 01 A6 17 02 00  10 18 80 00 A6 17 03 01  ................
17A0: 10 19 80 01 A6 17 01 B9  17 02 00 10 17 80 00 B9  ................
17B0: 17 03 01 10 19 80 01 B9  17 45 03 80 F8 FF FF 7F  .........E......
17C0: F8 FF FF 7F 66 64 6F 31  04 80 1C 05 80 46 00 45  ....fdo1.....F.E
17D0: 03 80 F8 FF FF 7F F8 FF  FF 7F 66 64 69 31 04 80  ..........fdi1..
17E0: 21 00 29 0F 62 60 0E 01  4E 00                    !.).b`..N.      
```

## Opcodes

```
  0: 0x152F [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x1530 [0x46] CAMERA_CONTROL: Disable user control
  2: 0x1532 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  3: 0x1543 [0x1C] WAIT(60* ticks)
  4: 0x1546 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  5: 0x1549 [0x29] REQ_SET_WAIT(priority=0x64, entity_id=LocalPlayer, tag_num=0x19)
  6: 0x1550 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x39)
  7: 0x1557 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s092" with entities [EventEntity, EventEntity], work=[90*, 0*]
  8: 0x1568 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  9: 0x1579 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 10: 0x1588 [0x1D] PRINT_EVENT_MESSAGE(message_id=7297*)
    → "Ah, welcome back. I see you've been certified in Bastok and Windurst. Good work. You'll make a fine adventurer.\u007F1\u0000\u0007"
 11: 0x158B [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x158C [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 13: 0x1591 [0x1C] WAIT(30* ticks)
 14: 0x1594 [0x52] END_LOAD_SCHEDULER: End scheduler "s092" with entities [EventEntity, EventEntity], work=90*
 15: 0x15A3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 16: 0x15B4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s109" with entities [EventEntity, EventEntity], work=[90*, 0*]
 17: 0x15C5 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [EventEntity, EventEntity], work=20*
 18: 0x15D4 [0x1D] PRINT_EVENT_MESSAGE(message_id=7298*)
    → "What's that, a report for our kingdom? I see. Take that to the monarlais when you go.\u007F1\u0000\u0007"
 19: 0x15D7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x15D8 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [EventEntity, EventEntity], work=20*
 21: 0x15E7 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk2" with entities [EventEntity, EventEntity]
 22: 0x15F4 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 23: 0x1603 [0x03] Work_Zone[2] = 35*
 24: 0x1608 [0x1D] PRINT_EVENT_MESSAGE(message_id=7299*)
    → "You should receive \u0001\u00056\u0002\u0000\u0000\u0000 from Monarlais Halver. Now, go to Chateau d'Oraguille and let them know you're back!\u007F1\u0000\u0007"
 25: 0x160B [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x160C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 27: 0x161D [0x1C] WAIT(60* ticks)
 28: 0x1620 [0x52] END_LOAD_SCHEDULER: End scheduler "s109" with entities [EventEntity, EventEntity], work=90*
 29: 0x162F [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 30: 0x1634 [0x1C] WAIT(30* ticks)
 31: 0x1637 [0x46] CAMERA_CONTROL: Restore default settings
 32: 0x1639 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 33: 0x164A [0x21] END_EVENT
 34: 0x164B [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x164C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x165D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s092" with entities [EventEntity, EventEntity], work=[90*, 0*]
     0x166E [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
     0x167D [0x1D] PRINT_EVENT_MESSAGE(message_id=7302*)
    → "Ah! You've come at just the right time. Zantaviat, one of our scouts in Davoi, needs an adventurer.\u007F1\u0000\u0007"
     0x1680 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x1681 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
     0x1686 [0x52] END_LOAD_SCHEDULER: End scheduler "s092" with entities [EventEntity, EventEntity], work=90*
     0x1695 [0x24] CREATE_DIALOG(message_id=7240*, default_option=0*, option_flags=0*)
    → "Interested?\u0007\u000BTell me more.\u0007Never mind.\u007F1\u0000\u0007"
     0x169C [0x25] WAIT_DIALOG_SELECT()
     0x169D [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x17A9
     0x16A5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s107" with entities [EventEntity, EventEntity], work=[90*, 0*]
     0x16B6 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
     0x16C5 [0x1D] PRINT_EVENT_MESSAGE(message_id=7303*)
    → "He wants someone to infiltrate Davoi and scout behind enemy lines. Know anyone fitting that description?\u007F1\u0000\u0007"
     0x16C8 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x16C9 [0x03] Work_Zone[2] = 35*
     0x16CE [0x1D] PRINT_EVENT_MESSAGE(message_id=7304*)
    → "Now that you've got your \u0001\u00053\u0002\u0000\u0000\u0000, this is an opportunity to prove you're worth it!\u007F1\u0000\u0007"
     0x16D1 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x16D2 [0x52] END_LOAD_SCHEDULER: End scheduler "s107" with entities [EventEntity, EventEntity], work=90*
     0x16E1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x16F2 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x170E
     0x16FA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s108" with entities [EventEntity, EventEntity], work=[90*, 0*]
     0x170B [0x01] GOTO 0x173B
     0x170E [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x172A
     0x1716 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s108" with entities [EventEntity, EventEntity], work=[90*, 0*]
     0x1727 [0x01] GOTO 0x173B
     0x172A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s023" with entities [LocalPlayer, LocalPlayer], work=[130*, 0*]
     0x173B [0x1D] PRINT_EVENT_MESSAGE(message_id=7243*)
    → "That is all. You'll take the mission then?\u007F1\u0000\u0007"
     0x173E [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x173F [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
     0x1744 [0x24] CREATE_DIALOG(message_id=7244*, default_option=0*, option_flags=0*)
    → "Do you accept the mission?\u0007\u000BI accept.\u0007Could you explain again?\u0007No, thank you.\u007F1\u0000\u0007"
     0x174B [0x25] WAIT_DIALOG_SELECT()
     0x174C [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x1788
     0x1754 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s024" with entities [LocalPlayer, LocalPlayer], work=[130*, 0*]
     0x1765 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
     0x1774 [0x1D] PRINT_EVENT_MESSAGE(message_id=7305*)
    → "The situation in Davoi worsens by the day. This won't be easy, but I can't think of a better adventurer for the job!\u007F1\u0000\u0007"
     0x1777 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x1778 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
     0x177D [0x1C] WAIT(30* ticks)
     0x1780 [0x03] Work_Zone[1] = 10*
     0x1785 [0x01] GOTO 0x17A6
     0x1788 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x1796
     0x1790 [0x1A] CALL_SUBROUTINE(address=0x16A5)
     0x1793 [0x01] GOTO 0x17A6
     0x1796 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x17A6
     0x179E [0x03] Work_Zone[1] = 1073741824*
     0x17A3 [0x01] GOTO 0x17A6
     0x17A6 [0x01] GOTO 0x17B9
     0x17A9 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x17B9
     0x17B1 [0x03] Work_Zone[1] = 1073741824*
     0x17B6 [0x01] GOTO 0x17B9
     0x17B9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
     0x17CA [0x1C] WAIT(60* ticks)
     0x17CD [0x46] CAMERA_CONTROL: Restore default settings
     0x17CF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
     0x17E0 [0x21] END_EVENT
     0x17E1 [0x00] END_REQSTACK()
     0x17E2 [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=Ambrotien (ID: 17719394/0x010E6062), tag_num=0x4E)
     0x17E9 [0x00] END_REQSTACK()
```