# Event 2003

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 10/97     |
| Offset          | 0x0946    |
| Data Size       | 888 bytes |
| Calculated Size | 888 bytes |
| Instructions    | 33        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0940:                   42 46  01 45 03 80 F8 FF FF 7F        BF.E......
0950: F8 FF FF 7F 66 64 6F 31  04 80 1C 05 80 38 06 80  ....fdo1.....8..
0960: 29 64 F0 FF FF 7F 19 29  08 F0 FF FF 7F 39 45 0A  )d.....).....9E.
0970: 80 F0 FF FF 7F F0 FF FF  7F 73 30 32 34 04 80 45  .........s024..E
0980: 03 80 F8 FF FF 7F F8 FF  FF 7F 66 64 69 31 04 80  ..........fdi1..
0990: 02 06 10 17 80 00 B3 09  03 05 10 3F 80 66 00 80  ...........?.f..
09A0: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 1D 1A 80 23  ........tlk0...#
09B0: 01 E0 09 66 00 80 F8 FF  FF 7F F8 FF FF 7F 74 6C  ...f..........tl
09C0: 6B 30 1D 42 80 23 45 0A  80 F0 FF FF 7F F0 FF FF  k0.B.#E.........
09D0: 7F 73 30 32 30 04 80 03  05 10 3F 80 1D 43 80 23  .s020.....?..C.#
09E0: 45 03 80 F8 FF FF 7F F8  FF FF 7F 66 64 6F 31 04  E..........fdo1.
09F0: 80 1C 05 80 5E 69 64 6C  30 1C 02 80 46 00 45 03  ....^idl0...F.E.
0A00: 80 F8 FF FF 7F F8 FF FF  7F 66 64 69 31 04 80 45  .........fdi1..E
0A10: 1D 80 F0 FF FF 7F F0 FF  FF 7F 71 73 74 63 04 80  ..........qstc..
0A20: 20 00 21 00 45 03 80 F0  FF FF 7F F0 FF FF 7F 6F   .!.E..........o
0A30: 76 6C 31 04 80 45 07 80  F8 FF FF 7F F8 FF FF 7F  vl1..E..........
0A40: 73 30 39 32 04 80 66 00  80 F8 FF FF 7F F8 FF FF  s092..f.........
0A50: 7F 74 6C 6B 30 1D 44 80  23 5E 69 64 6C 30 1D 45  .tlk0.D.#^idl0.E
0A60: 80 23 52 07 80 F8 FF FF  7F F8 FF FF 7F 73 30 39  .#R..........s09
0A70: 32 45 07 80 F8 FF FF 7F  F8 FF FF 7F 73 31 30 39  2E..........s109
0A80: 04 80 66 00 80 F8 FF FF  7F F8 FF FF 7F 74 68 6B  ..f..........thk
0A90: 31 1D 46 80 23 1D 47 80  23 1D 48 80 23 52 07 80  1.F.#.G.#.H.#R..
0AA0: F8 FF FF 7F F8 FF FF 7F  73 31 30 39 45 07 80 F8  ........s109E...
0AB0: FF FF 7F F8 FF FF 7F 73  30 39 32 04 80 1D 49 80  .......s092...I.
0AC0: 23 66 00 80 F8 FF FF 7F  F8 FF FF 7F 74 68 6B 32  #f..........thk2
0AD0: 53 F8 FF FF 7F F8 FF FF  7F 74 68 6B 32 1C 02 80  S........thk2...
0AE0: 52 07 80 F8 FF FF 7F F8  FF FF 7F 73 30 39 32 45  R..........s092E
0AF0: 03 80 F0 FF FF 7F F0 FF  FF 7F 6F 76 6C 31 04 80  ..........ovl1..
0B00: 45 0A 80 F0 FF FF 7F F0  FF FF 7F 73 30 32 30 04  E..........s020.
0B10: 80 66 00 80 F8 FF FF 7F  F8 FF FF 7F 70 6F 69 31  .f..........poi1
0B20: 1D 4A 80 23 66 00 80 F8  FF FF 7F F8 FF FF 7F 70  .J.#f..........p
0B30: 6F 69 32 53 F8 FF FF 7F  F8 FF FF 7F 70 6F 69 32  oi2S........poi2
0B40: 1C 02 80 66 00 80 F8 FF  FF 7F F8 FF FF 7F 74 6C  ...f..........tl
0B50: 6B 30 1D 4B 80 23 5E 69  64 6C 30 24 0E 80 04 80  k0.K.#^idl0$....
0B60: 04 80 25 02 00 10 04 80  00 6E 0C 45 07 80 F8 FF  ..%......n.E....
0B70: FF 7F F8 FF FF 7F 73 31  30 37 04 80 66 00 80 F8  ......s107..f...
0B80: FF FF 7F F8 FF FF 7F 74  6C 6B 30 1D 4C 80 23 1D  .......tlk0.L.#.
0B90: 4D 80 23 52 07 80 F8 FF  FF 7F F8 FF FF 7F 73 31  M.#R..........s1
0BA0: 30 37 45 03 80 F0 FF FF  7F F0 FF FF 7F 6F 76 6C  07E..........ovl
0BB0: 31 04 80 02 09 10 12 80  00 CF 0B 45 07 80 F8 FF  1..........E....
0BC0: FF 7F F8 FF FF 7F 73 31  30 38 04 80 01 FC 0B 02  ......s108......
0BD0: 09 10 13 80 00 EB 0B 45  07 80 F8 FF FF 7F F8 FF  .......E........
0BE0: FF 7F 73 31 30 38 04 80  01 FC 0B 45 0A 80 F0 FF  ..s108.....E....
0BF0: FF 7F F0 FF FF 7F 73 30  32 33 04 80 1D 4E 80 23  ......s023...N.#
0C00: 1D 14 80 23 5E 69 64 6C  30 24 15 80 04 80 04 80  ...#^idl0$......
0C10: 25 02 00 10 04 80 00 4D  0C 45 07 80 F8 FF FF 7F  %......M.E......
0C20: F8 FF FF 7F 73 31 31 30  04 80 66 00 80 F8 FF FF  ....s110..f.....
0C30: 7F F8 FF FF 7F 74 6C 6B  30 1D 4F 80 23 5E 69 64  .....tlk0.O.#^id
0C40: 6C 30 1C 02 80 03 01 10  18 80 01 6B 0C 02 00 10  l0.........k....
0C50: 17 80 00 5B 0C 1A 6B 0B  01 6B 0C 02 00 10 18 80  ...[..k..k......
0C60: 00 6B 0C 03 01 10 19 80  01 6B 0C 01 7E 0C 02 00  .k.......k..~...
0C70: 10 17 80 00 7E 0C 03 01  10 19 80 01 7E 0C 45 03  ....~.......~.E.
0C80: 80 F8 FF FF 7F F8 FF FF  7F 66 64 6F 31 04 80 1C  .........fdo1...
0C90: 05 80 52 07 80 F8 FF FF  7F F8 FF FF 7F 73 31 31  ..R..........s11
0CA0: 30 46 00 45 03 80 F8 FF  FF 7F F8 FF FF 7F 66 64  0F.E..........fd
0CB0: 69 31 04 80 21 00 29 0F  62 60 0E 01 3D 00        i1..!.).b`..=.  
```

## Opcodes

```
  0: 0x0946 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0947 [0x46] CAMERA_CONTROL: Disable user control
  2: 0x0949 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  3: 0x095A [0x1C] WAIT(60* ticks)
  4: 0x095D [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  5: 0x0960 [0x29] REQ_SET_WAIT(priority=0x64, entity_id=LocalPlayer, tag_num=0x19)
  6: 0x0967 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x39)
  7: 0x096E [0x45] LOAD_SCHEDULED_TASK(work_offset1=130*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s024", work_offset2=0*)
  8: 0x097F [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
  9: 0x0990 [0x02] IF !(Work_Zone[6] == 1*) GOTO 0x09B3
 10: 0x0998 [0x03] Work_Zone[5] = 891*
 11: 0x099D [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=20*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 12: 0x09AC [0x1D] PRINT_EVENT_MESSAGE(message_id=9213*)
    → "I knew you'd return safely, and with the \u0001\u0005#\u0002\u0003\u0000\u0000. Mission completed!\u007F1\u0000\u0007"
 13: 0x09AF [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x09B0 [0x01] GOTO 0x09E0

SUBROUTINE_09B3:
 15: 0x09B3 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=20*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 16: 0x09C2 [0x1D] PRINT_EVENT_MESSAGE(message_id=7256*)
    → "Ah, you've returned! I was afraid that Goblins got you.\u007F1\u0000\u0007"
 17: 0x09C5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x09C6 [0x45] LOAD_SCHEDULED_TASK(work_offset1=130*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="s020", work_offset2=0*)
 19: 0x09D7 [0x03] Work_Zone[5] = 891*
 20: 0x09DC [0x1D] PRINT_EVENT_MESSAGE(message_id=7257*)
    → "That's one \u0001\u0005#\u0002\u0003\u0000\u0000 for the gatehouse, then. Mission complete. Not bad for a new recruit.\u007F1\u0000\u0007"
 21: 0x09DF [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x09E0 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 23: 0x09F1 [0x1C] WAIT(60* ticks)
 24: 0x09F4 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 25: 0x09F9 [0x1C] WAIT(30* ticks)
 26: 0x09FC [0x46] CAMERA_CONTROL: Restore default settings
 27: 0x09FE [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 28: 0x0A0F [0x45] LOAD_SCHEDULED_TASK(work_offset1=201*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="qstc", work_offset2=0*)
 29: 0x0A20 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 30: 0x0A22 [0x21] END_EVENT
 31: 0x0A23 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Data Section: 0x0A24 (666 bytes)
     0x0A24: 45 03 80 F0 FF FF 7F F0 FF FF 7F 6F 76 6C 31 04
     0x0A34: 80 45 07 80 F8 FF FF 7F F8 FF FF 7F 73 30 39 32
     0x0A44: 04 80 66 00 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x0A54: 30 1D 44 80 23 5E 69 64 6C 30 1D 45 80 23 52 07
     0x0A64: 80 F8 FF FF 7F F8 FF FF 7F 73 30 39 32 45 07 80
     0x0A74: F8 FF FF 7F F8 FF FF 7F 73 31 30 39 04 80 66 00
     0x0A84: 80 F8 FF FF 7F F8 FF FF 7F 74 68 6B 31 1D 46 80
     0x0A94: 23 1D 47 80 23 1D 48 80 23 52 07 80 F8 FF FF 7F
     0x0AA4: F8 FF FF 7F 73 31 30 39 45 07 80 F8 FF FF 7F F8
     0x0AB4: FF FF 7F 73 30 39 32 04 80 1D 49 80 23 66 00 80
     0x0AC4: F8 FF FF 7F F8 FF FF 7F 74 68 6B 32 53 F8 FF FF
     0x0AD4: 7F F8 FF FF 7F 74 68 6B 32 1C 02 80 52 07 80 F8
     0x0AE4: FF FF 7F F8 FF FF 7F 73 30 39 32 45 03 80 F0 FF
     0x0AF4: FF 7F F0 FF FF 7F 6F 76 6C 31 04 80 45 0A 80 F0
     0x0B04: FF FF 7F F0 FF FF 7F 73 30 32 30 04 80 66 00 80
     0x0B14: F8 FF FF 7F F8 FF FF 7F 70 6F 69 31 1D 4A 80 23
     0x0B24: 66 00 80 F8 FF FF 7F F8 FF FF 7F 70 6F 69 32 53
     0x0B34: F8 FF FF 7F F8 FF FF 7F 70 6F 69 32 1C 02 80 66
     0x0B44: 00 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1D 4B
     0x0B54: 80 23 5E 69 64 6C 30 24 0E 80 04 80 04 80 25 02
     0x0B64: 00 10 04 80 00 6E 0C 45 07 80 F8 FF FF 7F F8 FF
     0x0B74: FF 7F 73 31 30 37 04 80 66 00 80 F8 FF FF 7F F8
     0x0B84: FF FF 7F 74 6C 6B 30 1D 4C 80 23 1D 4D 80 23 52
     0x0B94: 07 80 F8 FF FF 7F F8 FF FF 7F 73 31 30 37 45 03
     0x0BA4: 80 F0 FF FF 7F F0 FF FF 7F 6F 76 6C 31 04 80 02
     0x0BB4: 09 10 12 80 00 CF 0B 45 07 80 F8 FF FF 7F F8 FF
     0x0BC4: FF 7F 73 31 30 38 04 80 01 FC 0B 02 09 10 13 80
     0x0BD4: 00 EB 0B 45 07 80 F8 FF FF 7F F8 FF FF 7F 73 31
     0x0BE4: 30 38 04 80 01 FC 0B 45 0A 80 F0 FF FF 7F F0 FF
     0x0BF4: FF 7F 73 30 32 33 04 80 1D 4E 80 23 1D 14 80 23
     0x0C04: 5E 69 64 6C 30 24 15 80 04 80 04 80 25 02 00 10
     0x0C14: 04 80 00 4D 0C 45 07 80 F8 FF FF 7F F8 FF FF 7F
     0x0C24: 73 31 31 30 04 80 66 00 80 F8 FF FF 7F F8 FF FF
     0x0C34: 7F 74 6C 6B 30 1D 4F 80 23 5E 69 64 6C 30 1C 02
     0x0C44: 80 03 01 10 18 80 01 6B 0C 02 00 10 17 80 00 5B
     0x0C54: 0C 1A 6B 0B 01 6B 0C 02 00 10 18 80 00 6B 0C 03
     0x0C64: 01 10 19 80 01 6B 0C 01 7E 0C 02 00 10 17 80 00
     0x0C74: 7E 0C 03 01 10 19 80 01 7E 0C 45 03 80 F8 FF FF
     0x0C84: 7F F8 FF FF 7F 66 64 6F 31 04 80 1C 05 80 52 07
     0x0C94: 80 F8 FF FF 7F F8 FF FF 7F 73 31 31 30 46 00 45
     0x0CA4: 03 80 F8 FF FF 7F F8 FF FF 7F 66 64 69 31 04 80
     0x0CB4: 21 00 29 0F 62 60 0E 01 3D 00
```