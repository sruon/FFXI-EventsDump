# Event 1046

## Metadata

| Field           | Value      |
|-----------------|------------|
| Event Index     | 95/97      |
| Offset          | 0x2F55     |
| Data Size       | 1109 bytes |
| Calculated Size | 1109 bytes |
| Instructions    | 17         |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
2F50:                01 FC 31  00 45 03 80 F0 FF FF 7F       ..1.E......
2F60: F0 FF FF 7F 66 64 6F 32  04 80 55 03 80 F0 FF FF  ....fdo2..U.....
2F70: 7F F0 FF FF 7F 66 64 6F  32 46 00 45 03 80 F0 FF  .....fdo2F.E....
2F80: FF 7F F0 FF FF 7F 66 64  69 32 04 80 1B 1A 26 33  ......fdi2....&3
2F90: 1D D0 80 23 1D D1 80 23  1A 36 33 24 3A 80 04 80  ...#...#.63$:...
2FA0: 04 80 25 02 00 10 04 80  00 BA 2F 1A 26 33 1D D2  ..%......./.&3..
2FB0: 80 23 03 01 10 2D 80 01  D1 2F 02 00 10 17 80 00  .#...-.../......
2FC0: D1 2F 1A 26 33 1D D3 80  23 03 01 10 19 80 01 D1  ./.&3...#.......
2FD0: 2F 1A 36 33 45 03 80 F0  FF FF 7F F0 FF FF 7F 66  /.63E..........f
2FE0: 64 6F 32 04 80 55 03 80  F0 FF FF 7F F0 FF FF 7F  do2..U..........
2FF0: 66 64 6F 32 46 00 45 03  80 F0 FF FF 7F F0 FF FF  fdo2F.E.........
3000: 7F 66 64 69 32 04 80 21  00 1A 26 33 1D D4 80 23  .fdi2..!..&3...#
3010: 1A 36 33 24 3A 80 04 80  04 80 25 02 00 10 04 80  .63$:.....%.....
3020: 00 32 30 1A 26 33 1D D5  80 23 03 01 10 2E 80 01  .20.&3...#......
3030: 49 30 02 00 10 17 80 00  49 30 1A 26 33 1D D6 80  I0......I0.&3...
3040: 23 03 01 10 19 80 01 49  30 1A 36 33 1A 59 2F 21  #......I0.63.Y/!
3050: 00 1A 5C 33 1A 26 33 1D  D7 80 23 1A 36 33 1A 59  ..\3.&3...#.63.Y
3060: 2F 21 00 1E F0 FF FF 7F  6F 70 1A 26 33 03 02 10  /!......op.&3...
3070: D8 80 1D D9 80 23 1A 36  33 21 00 1E F0 FF FF 7F  .....#.63!......
3080: 6F 70 1A 26 33 03 02 10  D8 80 1D DA 80 23 1A 36  op.&3........#.6
3090: 33 21 00 1A 5C 33 1A 26  33 1D DB 80 23 1D DC 80  3!..\3.&3...#...
30A0: 23 1A 36 33 7D DD 80 45  1D 80 F0 FF FF 7F F0 FF  #.63}..E........
30B0: FF 7F 71 73 74 63 04 80  1C 03 80 1A 59 2F 21 00  ..qstc......Y/!.
30C0: 1A 26 33 1D DE 80 23 1A  36 33 24 3A 80 04 80 04  .&3...#.63$:....
30D0: 80 25 02 00 10 04 80 00  E9 30 1A 26 33 1D DF 80  .%.......0.&3...
30E0: 23 03 01 10 2F 80 01 00  31 02 00 10 17 80 00 00  #.../...1.......
30F0: 31 1A 26 33 1D E0 80 23  03 01 10 19 80 01 00 31  1.&3...#.......1
3100: 1A 36 33 1A 59 2F 21 00  1A 5C 33 1A 26 33 1D E1  .63.Y/!..\3.&3..
3110: 80 23 1D E2 80 23 1D E3  80 23 1A 36 33 1A 59 2F  .#...#...#.63.Y/
3120: 21 00 1A 26 33 1D E4 80  23 1D E5 80 23 1D E6 80  !..&3...#...#...
3130: 23 1D E7 80 23 1A 36 33  24 3A 80 04 80 04 80 25  #...#.63$:.....%
3140: 02 00 10 04 80 00 57 31  1A 26 33 1D E8 80 23 03  ......W1.&3...#.
3150: 01 10 30 80 01 6E 31 02  00 10 17 80 00 6E 31 1A  ..0..n1......n1.
3160: 26 33 1D E9 80 23 03 01  10 19 80 01 6E 31 1A 36  &3...#......n1.6
3170: 33 1A 59 2F 21 00 1A 5C  33 1A 26 33 1D EA 80 23  3.Y/!..\3.&3...#
3180: 03 02 10 EB 80 1D EC 80  23 1D ED 80 23 1D EE 80  ........#...#...
3190: 23 1A 36 33 7D EF 80 45  1D 80 F0 FF FF 7F F0 FF  #.63}..E........
31A0: FF 7F 71 73 74 63 04 80  1C 03 80 1A 59 2F 21 00  ..qstc......Y/!.
31B0: 1A 26 33 1D F0 80 23 1D  F1 80 23 1A 36 33 24 3A  .&3...#...#.63$:
31C0: 80 04 80 04 80 25 02 00  10 04 80 00 DD 31 1A 26  .....%.......1.&
31D0: 33 1D F2 80 23 03 01 10  00 80 01 F4 31 02 00 10  3...#.......1...
31E0: 17 80 00 F4 31 1A 26 33  1D F3 80 23 03 01 10 19  ....1.&3...#....
31F0: 80 01 F4 31 1A 36 33 1A  59 2F 21 00 1E F0 FF FF  ...1.63.Y/!.....
3200: 7F 6F 70 1A 26 33 1D F4  80 23 1A 36 33 21 00 1A  .op.&3...#.63!..
3210: 26 33 1D F5 80 23 1A 36  33 24 3A 80 04 80 04 80  &3...#.63$:.....
3220: 25 02 00 10 04 80 00 38  32 1A 26 33 1D F6 80 23  %......82.&3...#
3230: 03 01 10 31 80 01 4F 32  02 00 10 17 80 00 4F 32  ...1..O2......O2
3240: 1A 26 33 1D F7 80 23 03  01 10 19 80 01 4F 32 1A  .&3...#......O2.
3250: 36 33 1A 59 2F 21 00 1A  26 33 1D F8 80 23 1A 36  63.Y/!..&3...#.6
3260: 33 24 3A 80 04 80 04 80  25 02 00 10 04 80 00 80  3$:.....%.......
3270: 32 1A 26 33 1D F9 80 23  03 01 10 32 80 01 97 32  2.&3...#...2...2
3280: 02 00 10 17 80 00 97 32  1A 26 33 1D FA 80 23 03  .......2.&3...#.
3290: 01 10 19 80 01 97 32 1A  36 33 1A 59 2F 21 00 1A  ......2.63.Y/!..
32A0: 26 33 1D FB 80 23 1D FC  80 23 1D FD 80 23 1D FE  &3...#...#...#..
32B0: 80 23 1A 36 33 24 3A 80  04 80 04 80 25 02 00 10  .#.63$:.....%...
32C0: 04 80 00 07 33 1A 26 33  1D FF 80 23 1A 36 33 24  ....3.&3...#.63$
32D0: 00 81 04 80 04 80 25 1A  3C 33 02 00 10 04 80 00  ......%.<3......
32E0: E9 32 1D 01 81 23 01 F8  32 02 00 10 17 80 00 F8  .2...#..2.......
32F0: 32 1D 02 81 23 01 F8 32  1A 4C 33 1D 03 81 23 03  2...#..2.L3...#.
3300: 01 10 33 80 01 1E 33 02  00 10 17 80 00 1E 33 1A  ..3...3.......3.
3310: 26 33 1D 04 81 23 03 01  10 19 80 01 1E 33 1A 36  &3...#.......3.6
3320: 33 1A 59 2F 21 00 66 00  80 F8 FF FF 7F F8 FF FF  3.Y/!.f.........
3330: 7F 74 6C 6B 30 1B 5E 69  64 6C 30 1B 66 00 80 F8  .tlk0.^idl0.f...
3340: FF FF 7F F8 FF FF 7F 74  68 6B 31 1B 66 00 80 F8  .......thk1.f...
3350: FF FF 7F F8 FF FF 7F 74  68 6B 32 1B 42 46 01 45  .......thk2.BF.E
3360: 03 80 F8 FF FF 7F F8 FF  FF 7F 66 64 6F 31 04 80  ..........fdo1..
3370: 1C 05 80 38 06 80 79 00  F8 FF FF 7F F0 FF FF 7F  ...8..y.........
3380: 29 64 F0 FF FF 7F 19 45  0A 80 F0 FF FF 7F F0 FF  )d.....E........
3390: FF 7F 67 72 64 30 04 80  45 03 80 F8 FF FF 7F F8  ..grd0..E.......
33A0: FF FF 7F 66 64 69 31 04  80 1B                    ...fdi1...      
```

## Opcodes

```
  0: 0x2F55 [0x01] GOTO 0x31FC
  1: 0x31FC [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x3201 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x3202 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x3203 [0x1A] CALL_SUBROUTINE(address=0x3326)
  5: 0x3206 [0x1D] PRINT_EVENT_MESSAGE(message_id=7372*)
    â†’ "Princess Claidie's coming-of-age ceremony is about to begin at the cathedral. I must remain at my post, but why don't you attend?\u007F1\u0000\u0007"
  6: 0x3209 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x320A [0x1A] CALL_SUBROUTINE(address=0x3336)
  8: 0x320D [0x21] END_EVENT
  9: 0x320E [0x00] END_REQSTACK()

 10: 0x3326 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=20*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 11: 0x3335 [0x1B] RETURN

SUBROUTINE_3336:
 12: 0x3336 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 13: 0x333B [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x2F58 (676 bytes)
     0x2F58: 00 45 03 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 32
     0x2F68: 04 80 55 03 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F
     0x2F78: 32 46 00 45 03 80 F0 FF FF 7F F0 FF FF 7F 66 64
     0x2F88: 69 32 04 80 1B 1A 26 33 1D D0 80 23 1D D1 80 23
     0x2F98: 1A 36 33 24 3A 80 04 80 04 80 25 02 00 10 04 80
     0x2FA8: 00 BA 2F 1A 26 33 1D D2 80 23 03 01 10 2D 80 01
     0x2FB8: D1 2F 02 00 10 17 80 00 D1 2F 1A 26 33 1D D3 80
     0x2FC8: 23 03 01 10 19 80 01 D1 2F 1A 36 33 45 03 80 F0
     0x2FD8: FF FF 7F F0 FF FF 7F 66 64 6F 32 04 80 55 03 80
     0x2FE8: F0 FF FF 7F F0 FF FF 7F 66 64 6F 32 46 00 45 03
     0x2FF8: 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 32 04 80 21
     0x3008: 00 1A 26 33 1D D4 80 23 1A 36 33 24 3A 80 04 80
     0x3018: 04 80 25 02 00 10 04 80 00 32 30 1A 26 33 1D D5
     0x3028: 80 23 03 01 10 2E 80 01 49 30 02 00 10 17 80 00
     0x3038: 49 30 1A 26 33 1D D6 80 23 03 01 10 19 80 01 49
     0x3048: 30 1A 36 33 1A 59 2F 21 00 1A 5C 33 1A 26 33 1D
     0x3058: D7 80 23 1A 36 33 1A 59 2F 21 00 1E F0 FF FF 7F
     0x3068: 6F 70 1A 26 33 03 02 10 D8 80 1D D9 80 23 1A 36
     0x3078: 33 21 00 1E F0 FF FF 7F 6F 70 1A 26 33 03 02 10
     0x3088: D8 80 1D DA 80 23 1A 36 33 21 00 1A 5C 33 1A 26
     0x3098: 33 1D DB 80 23 1D DC 80 23 1A 36 33 7D DD 80 45
     0x30A8: 1D 80 F0 FF FF 7F F0 FF FF 7F 71 73 74 63 04 80
     0x30B8: 1C 03 80 1A 59 2F 21 00 1A 26 33 1D DE 80 23 1A
     0x30C8: 36 33 24 3A 80 04 80 04 80 25 02 00 10 04 80 00
     0x30D8: E9 30 1A 26 33 1D DF 80 23 03 01 10 2F 80 01 00
     0x30E8: 31 02 00 10 17 80 00 00 31 1A 26 33 1D E0 80 23
     0x30F8: 03 01 10 19 80 01 00 31 1A 36 33 1A 59 2F 21 00
     0x3108: 1A 5C 33 1A 26 33 1D E1 80 23 1D E2 80 23 1D E3
     0x3118: 80 23 1A 36 33 1A 59 2F 21 00 1A 26 33 1D E4 80
     0x3128: 23 1D E5 80 23 1D E6 80 23 1D E7 80 23 1A 36 33
     0x3138: 24 3A 80 04 80 04 80 25 02 00 10 04 80 00 57 31
     0x3148: 1A 26 33 1D E8 80 23 03 01 10 30 80 01 6E 31 02
     0x3158: 00 10 17 80 00 6E 31 1A 26 33 1D E9 80 23 03 01
     0x3168: 10 19 80 01 6E 31 1A 36 33 1A 59 2F 21 00 1A 5C
     0x3178: 33 1A 26 33 1D EA 80 23 03 02 10 EB 80 1D EC 80
     0x3188: 23 1D ED 80 23 1D EE 80 23 1A 36 33 7D EF 80 45
     0x3198: 1D 80 F0 FF FF 7F F0 FF FF 7F 71 73 74 63 04 80
     0x31A8: 1C 03 80 1A 59 2F 21 00 1A 26 33 1D F0 80 23 1D
     0x31B8: F1 80 23 1A 36 33 24 3A 80 04 80 04 80 25 02 00
     0x31C8: 10 04 80 00 DD 31 1A 26 33 1D F2 80 23 03 01 10
     0x31D8: 00 80 01 F4 31 02 00 10 17 80 00 F4 31 1A 26 33
     0x31E8: 1D F3 80 23 03 01 10 19 80 01 F4 31 1A 36 33 1A
     0x31F8: 59 2F 21 00
# Data Section: 0x320F (279 bytes)
     0x320F: 1A 26 33 1D F5 80 23 1A 36 33 24 3A 80 04 80 04
     0x321F: 80 25 02 00 10 04 80 00 38 32 1A 26 33 1D F6 80
     0x322F: 23 03 01 10 31 80 01 4F 32 02 00 10 17 80 00 4F
     0x323F: 32 1A 26 33 1D F7 80 23 03 01 10 19 80 01 4F 32
     0x324F: 1A 36 33 1A 59 2F 21 00 1A 26 33 1D F8 80 23 1A
     0x325F: 36 33 24 3A 80 04 80 04 80 25 02 00 10 04 80 00
     0x326F: 80 32 1A 26 33 1D F9 80 23 03 01 10 32 80 01 97
     0x327F: 32 02 00 10 17 80 00 97 32 1A 26 33 1D FA 80 23
     0x328F: 03 01 10 19 80 01 97 32 1A 36 33 1A 59 2F 21 00
     0x329F: 1A 26 33 1D FB 80 23 1D FC 80 23 1D FD 80 23 1D
     0x32AF: FE 80 23 1A 36 33 24 3A 80 04 80 04 80 25 02 00
     0x32BF: 10 04 80 00 07 33 1A 26 33 1D FF 80 23 1A 36 33
     0x32CF: 24 00 81 04 80 04 80 25 1A 3C 33 02 00 10 04 80
     0x32DF: 00 E9 32 1D 01 81 23 01 F8 32 02 00 10 17 80 00
     0x32EF: F8 32 1D 02 81 23 01 F8 32 1A 4C 33 1D 03 81 23
     0x32FF: 03 01 10 33 80 01 1E 33 02 00 10 17 80 00 1E 33
     0x330F: 1A 26 33 1D 04 81 23 03 01 10 19 80 01 1E 33 1A
     0x331F: 36 33 1A 59 2F 21 00
# Data Section: 0x333C (110 bytes)
     0x333C: 66 00 80 F8 FF FF 7F F8 FF FF 7F 74 68 6B 31 1B
     0x334C: 66 00 80 F8 FF FF 7F F8 FF FF 7F 74 68 6B 32 1B
     0x335C: 42 46 01 45 03 80 F8 FF FF 7F F8 FF FF 7F 66 64
     0x336C: 6F 31 04 80 1C 05 80 38 06 80 79 00 F8 FF FF 7F
     0x337C: F0 FF FF 7F 29 64 F0 FF FF 7F 19 45 0A 80 F0 FF
     0x338C: FF 7F F0 FF FF 7F 67 72 64 30 04 80 45 03 80 F8
     0x339C: FF FF 7F F8 FF FF 7F 66 64 69 31 04 80 1B
```