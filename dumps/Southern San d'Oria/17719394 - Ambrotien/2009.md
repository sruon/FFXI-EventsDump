# Event 2009

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 8/97      |
| Offset          | 0x04E2    |
| Data Size       | 657 bytes |
| Calculated Size | 657 bytes |
| Instructions    | 26        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
04E0:       42 46 01 45 03 80  F8 FF FF 7F F8 FF FF 7F    BF.E..........
04F0: 66 64 6F 31 04 80 1C 05  80 38 06 80 29 64 F0 FF  fdo1.....8..)d..
0500: FF 7F 19 29 08 F0 FF FF  7F 39 45 0A 80 F0 FF FF  ...).....9E.....
0510: 7F F0 FF FF 7F 73 30 32  34 04 80 45 03 80 F8 FF  .....s024..E....
0520: FF 7F F8 FF FF 7F 66 64  69 31 04 80 24 21 80 22  ......fdi1..$!."
0530: 80 02 10 25 02 00 10 04  80 00 42 05 01 97 07 01  ...%......B.....
0540: 25 07 02 00 10 17 80 00  5D 05 3E 07 10 12 80 57  %.......].>....W
0550: 05 01 C1 07 01 5A 05 01  3E 09 01 25 07 02 00 10  .....Z..>..%....
0560: 18 80 00 78 05 3E 07 10  23 80 72 05 01 24 0A 01  ...x.>..#.r..$..
0570: 75 05 01 B6 0C 01 25 07  02 00 10 06 80 00 86 05  u.....%.........
0580: 01 99 0F 01 25 07 02 00  10 24 80 00 94 05 01 C3  ....%....$......
0590: 11 01 25 07 02 00 10 12  80 00 A2 05 01 2D 14 01  ..%..........-..
05A0: 25 07 02 00 10 13 80 00  B2 05 03 01 10 13 80 01  %...............
05B0: 25 07 02 00 10 25 80 00  C2 05 03 01 10 25 80 01  %....%.......%..
05C0: 25 07 02 00 10 23 80 00  D2 05 03 01 10 23 80 01  %....#.......#..
05D0: 25 07 02 00 10 26 80 00  E2 05 03 01 10 26 80 01  %....&.......&..
05E0: 25 07 02 00 10 27 80 00  FD 05 3E 07 10 28 80 F7  %....'....>..(..
05F0: 05 01 4C 16 01 FA 05 01  E2 17 01 25 07 02 00 10  ..L........%....
0600: 29 80 00 0B 06 01 99 18  01 25 07 02 00 10 2A 80  )........%....*.
0610: 00 19 06 01 31 1B 01 25  07 02 00 10 2B 80 00 29  ....1..%....+..)
0620: 06 03 01 10 2B 80 01 25  07 02 00 10 2C 80 00 37  ....+..%....,..7
0630: 06 01 0E 1C 01 25 07 02  00 10 28 80 00 45 06 01  .....%....(..E..
0640: B0 1C 01 25 07 02 00 10  2D 80 00 53 06 01 8D 2F  ...%....-..S.../
0650: 01 25 07 02 00 10 2E 80  00 61 06 01 09 30 01 25  .%.......a...0.%
0660: 07 02 00 10 2F 80 00 6F  06 01 C0 30 01 25 07 02  ..../..o...0.%..
0670: 00 10 30 80 00 7D 06 01  22 31 01 25 07 02 00 10  ..0..}.."1.%....
0680: 00 80 00 8B 06 01 B0 31  01 25 07 02 00 10 31 80  .......1.%....1.
0690: 00 99 06 01 0F 32 01 25  07 02 00 10 32 80 00 A7  .....2.%....2...
06A0: 06 01 57 32 01 25 07 02  00 10 33 80 00 B5 06 01  ..W2.%....3.....
06B0: 9F 32 01 25 07 02 00 10  34 80 00 C5 06 03 01 10  .2.%....4.......
06C0: 34 80 01 25 07 02 00 10  35 80 00 D5 06 03 01 10  4..%....5.......
06D0: 35 80 01 25 07 02 00 10  36 80 00 E5 06 03 01 10  5..%....6.......
06E0: 36 80 01 25 07 02 00 10  37 80 00 F5 06 03 01 10  6..%....7.......
06F0: 37 80 01 25 07 02 00 10  38 80 00 05 07 03 01 10  7..%....8.......
0700: 38 80 01 25 07 02 00 10  39 80 00 15 07 03 01 10  8..%....9.......
0710: 39 80 01 25 07 02 00 10  02 80 00 25 07 03 01 10  9..%.......%....
0720: 02 80 01 25 07 03 01 10  00 10 02 01 10 22 80 01  ...%........."..
0730: 4A 07 24 3A 80 04 80 04  80 25 02 00 10 17 80 00  J.$:.....%......
0740: 4A 07 03 01 10 22 80 01  4A 07 45 03 80 F8 FF FF  J...."..J.E.....
0750: 7F F8 FF FF 7F 66 64 6F  31 04 80 1C 05 80 46 00  .....fdo1.....F.
0760: 45 03 80 F8 FF FF 7F F8  FF FF 7F 66 64 69 31 04  E..........fdi1.
0770: 80 21 00                                          .!.             
```

## Opcodes

```
  0: 0x04E2 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x04E3 [0x46] CAMERA_CONTROL: Disable user control
  2: 0x04E5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  3: 0x04F6 [0x1C] WAIT(60* ticks)
  4: 0x04F9 [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  5: 0x04FC [0x29] REQ_SET_WAIT(priority=0x64, entity_id=LocalPlayer, tag_num=0x19)
  6: 0x0503 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x39)
  7: 0x050A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s024" with entities [LocalPlayer, LocalPlayer], work=[130*, 0*]
  8: 0x051B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  9: 0x052C [0x24] CREATE_DIALOG(message_id=7232*, default_option=31*, option_flags=0x1002)
    → "Which mission will you undertake?\u0007\u000BSmash the Orcish Scouts.\u0007Bat Hunt.\u0007Save the Children.\u0007The Rescue Drill.\u0007The Davoi Report.\u0007Journey Abroad.\u0007Journey to Bastok.\u0007Journey to Windurst.\u0007Journey to Bastok.\u0007Journey to Windurst.\u0007Infiltrate Davoi.\u0007The Crystal Spring.\u0007Appointment to Jeuno.\u0007Magicite.\u0007The Ruins of Fei'Yin.\u0007The Shadow Lord.\u0007Leaute's Last Wishes.\u0007Ranperre's Final Rest.\u0007Prestige of the Papsque.\u0007The Secret Weapon.\u0007Coming of Age.\u0007Lightbringer.\u0007Breaking Barriers.\u0007The Heir to the Light.\u000710-1.\u000710-2.\u0007\u0003_\u0003~\u0001[26.\u0007\u0003_\u0003~\u0001[27.\u0007\u0003_\u0003~\u0001[28.\u0007\u0003_\u0003~\u0001[29.\u0007\u0003_\u0003~\u0001[30.\u0007None.\u007F1\u0000\u0007"
 10: 0x0533 [0x25] WAIT_DIALOG_SELECT()
 11: 0x0534 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0542
 12: 0x053C [0x01] GOTO 0x0797

SUBROUTINE_0725:
 13: 0x0725 [0x03] Work_Zone[1] = Work_Zone[0]
 14: 0x072A [0x02] IF !(Work_Zone[1] == 31*) GOTO 0x074A
 15: 0x0732 [0x24] CREATE_DIALOG(message_id=7233*, default_option=0*, option_flags=0*)
    → "Accept this mission?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 16: 0x0739 [0x25] WAIT_DIALOG_SELECT()
 17: 0x073A [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x074A
 18: 0x0742 [0x03] Work_Zone[1] = 31*
 19: 0x0747 [0x01] GOTO 0x074A

SUBROUTINE_074A:
 20: 0x074A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 21: 0x075B [0x1C] WAIT(60* ticks)
 22: 0x075E [0x46] CAMERA_CONTROL: Restore default settings
 23: 0x0760 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 24: 0x0771 [0x21] END_EVENT
 25: 0x0772 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x053F [0x01] GOTO 0x0725
     0x0554 [0x01] GOTO 0x055A
     0x055A [0x01] GOTO 0x0725
     0x056F [0x01] GOTO 0x0575
     0x0575 [0x01] GOTO 0x0725
     0x0583 [0x01] GOTO 0x0725
     0x0591 [0x01] GOTO 0x0725
     0x059F [0x01] GOTO 0x0725
     0x05F4 [0x01] GOTO 0x05FA
     0x05FA [0x01] GOTO 0x0725
     0x0608 [0x01] GOTO 0x0725
     0x0616 [0x01] GOTO 0x0725
     0x0634 [0x01] GOTO 0x0725
     0x0642 [0x01] GOTO 0x0725
     0x0650 [0x01] GOTO 0x0725
     0x065E [0x01] GOTO 0x0725
     0x066C [0x01] GOTO 0x0725
     0x067A [0x01] GOTO 0x0725
     0x0688 [0x01] GOTO 0x0725
     0x0696 [0x01] GOTO 0x0725
     0x06A4 [0x01] GOTO 0x0725
     0x06B2 [0x01] GOTO 0x0725
```