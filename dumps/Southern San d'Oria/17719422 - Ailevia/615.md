# Event 615

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 5/15      |
| Offset          | 0x0073    |
| Data Size       | 264 bytes |
| Calculated Size | 264 bytes |
| Instructions    | 46        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0070:          1E F0 FF FF 7F  6F 70 66 07 80 F8 FF FF     .....opf.....
0080: 7F F8 FF FF 7F 74 6C 6B  30 1D 0C 80 23 5E 69 64  .....tlk0...#^id
0090: 6C 30 24 0D 80 0E 80 0F  80 25 02 00 10 0F 80 00  l0$......%......
00A0: A8 00 1A BA 00 01 B8 00  02 00 10 0E 80 00 B8 00  ................
00B0: 03 01 10 10 80 01 B8 00  21 00 42 46 01 38 11 80  ........!.BF.8..
00C0: 27 64 F0 FF FF 7F 29 39  12 80 45 13 80 F0 FF FF  'd....)9..E.....
00D0: 7F F0 FF FF 7F 73 30 35  31 0F 80 66 07 80 F8 FF  .....s051..f....
00E0: FF 7F F8 FF FF 7F 74 6C  6B 30 1D 14 80 23 1C 07  ......tlk0...#..
00F0: 80 1D 15 80 23 55 13 80  F0 FF FF 7F F0 FF FF 7F  ....#U..........
0100: 73 30 35 31 1C 16 80 45  13 80 F0 FF FF 7F F0 FF  s051...E........
0110: FF 7F 73 30 35 32 0F 80  66 07 80 F8 FF FF 7F F8  ..s052..f.......
0120: FF FF 7F 74 6C 6B 30 1D  17 80 23 55 13 80 F0 FF  ...tlk0...#U....
0130: FF 7F F0 FF FF 7F 73 30  35 32 1C 16 80 45 13 80  ......s052...E..
0140: F0 FF FF 7F F0 FF FF 7F  73 30 35 33 0F 80 66 07  ........s053..f.
0150: 80 F8 FF FF 7F F8 FF FF  7F 74 6C 6B 30 1D 18 80  .........tlk0...
0160: 23 5E 69 64 6C 30 55 13  80 F0 FF FF 7F F0 FF FF  #^idl0U.........
0170: 7F 73 30 35 33 1C 16 80  46 00 1B                 .s053...F..     
```

## Opcodes

```
  0: 0x0073 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0078 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0079 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x007A [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
  4: 0x0089 [0x1D] PRINT_EVENT_MESSAGE(message_id=8163*)
    → "This is Southern San d'Oria. I know a thing or two about these streets.\u007F1\u0000\u0007"
  5: 0x008C [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x008D [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
  7: 0x0092 [0x24] CREATE_DIALOG(message_id=8164*, default_option=1*, option_flags=0*)
    → "Would you like to learn about this area?\u0007\u000BI'm interested.\u0007No, thanks.\u007F1\u0000\u0007"
  8: 0x0099 [0x25] WAIT_DIALOG_SELECT()
  9: 0x009A [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00A8
 10: 0x00A2 [0x1A] CALL_SUBROUTINE(address=0x00BA)
 11: 0x00A5 [0x01] GOTO 0x00B8

SUBROUTINE_00A8:
 12: 0x00A8 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00B8
 13: 0x00B0 [0x03] Work_Zone[1] = 1073741824*
 14: 0x00B5 [0x01] GOTO 0x00B8

SUBROUTINE_00B8:
 15: 0x00B8 [0x21] END_EVENT
 16: 0x00B9 [0x00] END_REQSTACK()

SUBROUTINE_00BA:
 17: 0x00BA [0x42] SET_CLI_EVENT_CANCEL_DATA()
 18: 0x00BB [0x46] CAMERA_CONTROL: Disable user control
 19: 0x00BD [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
 20: 0x00C0 [0x27] REQ_SET(priority=0x64, entity_id=LocalPlayer, tag_num=0x29)
 21: 0x00C7 [0x39] SET_ENTITY_DIRECTION(direction=5.6°*)
 22: 0x00CA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s051" with entities [LocalPlayer, LocalPlayer], work=[130*, 0*]
 23: 0x00DB [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
 24: 0x00EA [0x1D] PRINT_EVENT_MESSAGE(message_id=8165*)
    → "To the north stands Victory Arch. Carved from its two mighty pillars are statues that represent the two orders: the Temple Knights and the Royal Knights.\u007F1\u0000\u0007"
 25: 0x00ED [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x00EE [0x1C] WAIT(30* ticks)
 27: 0x00F1 [0x1D] PRINT_EVENT_MESSAGE(message_id=8166*)
    → "Northern San d'Oria lies beyond, where you'll find Chateau d'Oraguille, the cathedral, and the consulates of our allies.\u007F1\u0000\u0007"
 28: 0x00F4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x00F5 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "s051" with entities [LocalPlayer, LocalPlayer], work=130*
 30: 0x0104 [0x1C] WAIT(60* ticks)
 31: 0x0107 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s052" with entities [LocalPlayer, LocalPlayer], work=[130*, 0*]
 32: 0x0118 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
 33: 0x0127 [0x1D] PRINT_EVENT_MESSAGE(message_id=8167*)
    → "West is Pikeman's Way, where you'll find shops, grocers, and the Tanners' Guild. Across from the stalls is the Westgate, which leads outside.\u007F1\u0000\u0007"
 34: 0x012A [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x012B [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "s052" with entities [LocalPlayer, LocalPlayer], work=130*
 36: 0x013A [0x1C] WAIT(60* ticks)
 37: 0x013D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s053" with entities [LocalPlayer, LocalPlayer], work=[130*, 0*]
 38: 0x014E [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
 39: 0x015D [0x1D] PRINT_EVENT_MESSAGE(message_id=8168*)
    → "East is Cavalry Way, where you'll find armor and weapon shops as well as a tavern. The residential area lies at the end.\u007F1\u0000\u0007"
 40: 0x0160 [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x0161 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 42: 0x0166 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "s053" with entities [LocalPlayer, LocalPlayer], work=130*
 43: 0x0175 [0x1C] WAIT(60* ticks)
 44: 0x0178 [0x46] CAMERA_CONTROL: Restore default settings
 45: 0x017A [0x1B] RETURN
```
