# Event 398

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 21/40     |
| Offset          | 0x056A    |
| Data Size       | 329 bytes |
| Calculated Size | 329 bytes |
| Instructions    | 80        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0560:                                1E F0 FF FF 7F 1C            ......
0570: 00 80 6E F8 FF FF 7F 01  80 99 F8 FF FF 7F 1D 74  ..n............t
0580: 80 23 1D 75 80 23 24 4C  80 03 80 03 80 25 02 00  .#.u.#$L.....%..
0590: 10 03 80 00 9C 06 42 1D  4D 80 23 1D 4E 80 23 1D  ......B.M.#.N.#.
05A0: 4F 80 23 1D 50 80 23 1D  51 80 23 03 02 10 52 80  O.#.P.#.Q.#...R.
05B0: 03 03 10 53 80 03 04 10  54 80 03 05 10 55 80 03  ...S....T....U..
05C0: 06 10 56 80 03 07 10 57  80 03 08 10 58 80 03 09  ..V....W....X...
05D0: 10 59 80 03 00 17 5A 80  03 01 17 5B 80 03 02 17  .Y....Z....[....
05E0: 5C 80 03 03 17 5D 80 03  04 17 5E 80 03 05 17 5F  \....]....^...._
05F0: 80 03 06 17 60 80 03 07  17 61 80 03 08 17 62 80  ....`....a....b.
0600: 03 09 17 63 80 03 0A 17  64 80 03 0B 17 65 80 03  ...c....d....e..
0610: 0C 17 66 80 03 0D 17 67  80 03 00 00 03 80 03 0D  ..f....g........
0620: 00 03 80 3C 0D 00 68 80  00 80 3C 0D 00 69 80 00  ...<..h...<..i..
0630: 80 24 6A 80 03 80 0D 00  25 02 00 10 6B 80 00 49  .$j.....%...k..I
0640: 06 03 01 10 6C 80 01 99  06 03 00 00 00 10 9D 00  ....l...........
0650: E6 1B 02 10 00 00 9D 00  16 1C 03 10 00 00 9D 00  ................
0660: 86 1B 04 10 00 00 9D 00  B6 1B 05 10 00 00 93 02  ................
0670: 10 1D 6D 80 23 03 06 10  6E 80 03 07 10 6F 80 03  ..m.#...n....o..
0680: 08 10 70 80 03 09 10 71  80 1D 72 80 23 1D 73 80  ..p....q..r.#.s.
0690: 23 93 03 80 03 01 10 6C  80 01 B0 06 02 00 10 00  #......l........
06A0: 80 00 B0 06 1D 27 80 23  03 01 10 03 80 01 B0 06  .....'.#........
06B0: 2E 21 00                                          .!.             
```

## Opcodes

```
  0: 0x056A [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x056F [0x1C] WAIT(1* ticks)
  2: 0x0572 [0x6E] EventEntity uses emote 32*
  3: 0x0579 [0x99] Wait for EventEntity animation to complete
  4: 0x057E [0x1D] PRINT_EVENT_MESSAGE(message_id=8888*)
    → "Oh, there you are. As it so happens, I <cough> require your assistance <cough>. In return, I--in my infinite magnanimity--am willing to offer you some newly crafted ordnance.\u007F1\u0000\u0007"
  5: 0x0581 [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x0582 [0x1D] PRINT_EVENT_MESSAGE(message_id=8889*)
    → "Think of it...an armament the likes of which has never been seen before, fashioned by a smithy among smithies. How could you not covet so phenomenal a treasure?\u007F1\u0000\u0007"
  7: 0x0585 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x0586 [0x24] CREATE_DIALOG(message_id=8882*, default_option=0*, option_flags=0*)
    → "Do you want said equipment?\u0007\u000BDo you even have to ask!?\u0007Not if you make it.\u007F1\u0000\u0007"
  9: 0x058D [0x25] WAIT_DIALOG_SELECT()
 10: 0x058E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x069C
 11: 0x0596 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 12: 0x0597 [0x1D] PRINT_EVENT_MESSAGE(message_id=8883*)
    → "I had the utmost confidence that such talk would get you slobbering in anticipation. The best part is that you will not even have to use that pea-sized brain of yours.\u007F1\u0000\u0007"
 13: 0x059A [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x059B [0x1D] PRINT_EVENT_MESSAGE(message_id=8884*)
    → "Simply procure me a few materials that have yet to find their way to market and I will lend you my boundless prowess to create a tool of extraordinary puissance.\u007F1\u0000\u0007"
 15: 0x059E [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x059F [0x1D] PRINT_EVENT_MESSAGE(message_id=8885*)
    → "You need not even trouble yourself over sums, for they are all divvied up according to weapon.\u007F1\u0000\u0007"
 17: 0x05A2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x05A3 [0x1D] PRINT_EVENT_MESSAGE(message_id=8886*)
    → "As long as you can muster the determination to choose an item, I will tell you the type and number of materials you must amass for me to craft it.\u007F1\u0000\u0007"
 19: 0x05A6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x05A7 [0x1D] PRINT_EVENT_MESSAGE(message_id=8887*)
    → "Designate which you will from the list, which I shall show you henceforth, to begin the adventure.\u007F1\u0000\u0007"
 21: 0x05AA [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x05AB [0x03] Work_Zone[2] = 20860*
 23: 0x05B0 [0x03] Work_Zone[3] = 20534*
 24: 0x05B5 [0x03] Work_Zone[4] = 21110*
 25: 0x05BA [0x03] Work_Zone[5] = 21173*
 26: 0x05BF [0x03] Work_Zone[6] = 20720*
 27: 0x05C4 [0x03] Work_Zone[7] = 20618*
 28: 0x05C9 [0x03] Work_Zone[8] = 28648*
 29: 0x05CE [0x03] Work_Zone[9] = 20904*
 30: 0x05D3 [0x03] Work_Zone_1700[0] = 20811*
 31: 0x05D8 [0x03] Work_Zone_1700[1] = 21407*
 32: 0x05DD [0x03] Work_Zone_1700[2] = 21277*
 33: 0x05E2 [0x03] Work_Zone_1700[3] = 21039*
 34: 0x05E7 [0x03] Work_Zone_1700[4] = 20994*
 35: 0x05EC [0x03] Work_Zone_1700[5] = 20948*
 36: 0x05F1 [0x03] Work_Zone_1700[6] = 21174*
 37: 0x05F6 [0x03] Work_Zone_1700[7] = 20721*
 38: 0x05FB [0x03] Work_Zone_1700[8] = 21278*
 39: 0x0600 [0x03] Work_Zone_1700[9] = 20535*
 40: 0x0605 [0x03] Work_Zone_1700[10] = 20619*
 41: 0x060A [0x03] Work_Zone_1700[11] = 21175*
 42: 0x060F [0x03] Work_Zone_1700[12] = 21372*
 43: 0x0614 [0x03] Work_Zone_1700[13] = 20761*
 44: 0x0619 [0x03] ExtData[1]->WorkLocal[0] = 0*
 45: 0x061E [0x03] ExtData[1]->WorkLocal[13] = 0*
 46: 0x0623 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=ExtData[1]->WorkLocal[13], bit_index_work_offset=22*, condition_work_offset=1*)
 47: 0x062A [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=ExtData[1]->WorkLocal[13], bit_index_work_offset=23*, condition_work_offset=1*)
 48: 0x0631 [0x24] CREATE_DIALOG(message_id=8892*, default_option=0*, option_flags=ExtData[1]->WorkLocal[13])
    → "Which do you desire?\u0007\u000B\u007F\u0000\u0001\u0001\u0005#\u0002\u0000\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0001\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0002\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0003\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0004\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0005\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0006\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0007\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0008\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002	\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002
\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u000B\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u000C\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u000E\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u000F\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0010\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0011\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0012\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0013\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0014\u0000\u0000.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0015\u0000\u0000.\u0007About the weapons.\u0007Go back.\u0007None.\u007F1\u0000\u0007"
 49: 0x0638 [0x25] WAIT_DIALOG_SELECT()
 50: 0x0639 [0x02] IF !(Work_Zone[0] == 24*) GOTO 0x0649
 51: 0x0641 [0x03] Work_Zone[1] = 10*
 52: 0x0646 [0x01] GOTO 0x0699
 53: 0x0649 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[0]
 54: 0x064E [0x9D] Work_Zone[2] = 0x1BE6[ExtData[1]->WorkLocal[0]] // Read WORD
 55: 0x0656 [0x9D] Work_Zone[3] = 0x1C16[ExtData[1]->WorkLocal[0]] // Read WORD
 56: 0x065E [0x9D] Work_Zone[4] = 0x1B86[ExtData[1]->WorkLocal[0]] // Read WORD
 57: 0x0666 [0x9D] Work_Zone[5] = 0x1BB6[ExtData[1]->WorkLocal[0]] // Read WORD
 58: 0x066E [0x93] DISPLAY_ITEM_INFO(item_id=Work_Zone[2])
 59: 0x0671 [0x1D] PRINT_EVENT_MESSAGE(message_id=8893*)
    → "\u007F\u0000\u0001\u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000? Very well, then.\u0007For that I require \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000, \u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000, and \u0001\u0001\u0001 \u0001\u0005$\u0002\u0003\u0000\u0000.\u007F1\u0000\u0007"
 60: 0x0674 [0x23] WAIT_FOR_DIALOG_INTERACTION
 61: 0x0675 [0x03] Work_Zone[6] = 4059*
 62: 0x067A [0x03] Work_Zone[7] = 4060*
 63: 0x067F [0x03] Work_Zone[8] = 4061*
 64: 0x0684 [0x03] Work_Zone[9] = 150*
 65: 0x0689 [0x1D] PRINT_EVENT_MESSAGE(message_id=8894*)
    → "Furthermore, I need 
\u0007 \u0001	)\u0002\u0007\u0000\u0000\u0002\u0004\u0000\u0000, \u0001	)\u0002\u0007\u0000\u0000\u0002\u0005\u0000\u0000, or \u0001	)\u0002\u0007\u0000\u0000\u0002\u0006\u0000\u0000.\u007F1\u0000\u0007"
 66: 0x068C [0x23] WAIT_FOR_DIALOG_INTERACTION
 67: 0x068D [0x1D] PRINT_EVENT_MESSAGE(message_id=8895*)
    → "You would do well to remember that I am not some hack who labors in the Metalworks. I require exact numbers if I am to forge a decent piece.\u007F1\u0000\u0007"
 68: 0x0690 [0x23] WAIT_FOR_DIALOG_INTERACTION
 69: 0x0691 [0x93] DISPLAY_ITEM_INFO(item_id=0*)
 70: 0x0694 [0x03] Work_Zone[1] = 10*

SUBROUTINE_0699:
 71: 0x0699 [0x01] GOTO 0x06B0
 72: 0x069C [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x06B0
 73: 0x06A4 [0x1D] PRINT_EVENT_MESSAGE(message_id=8874*)
    → "...Hmph.\u0007Be that as it may, you will come crawling back for my services sooner or later.\u007F1\u0000\u0007"
 74: 0x06A7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 75: 0x06A8 [0x03] Work_Zone[1] = 0*
 76: 0x06AD [0x01] GOTO 0x06B0

SUBROUTINE_06B0:
 77: 0x06B0 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
 78: 0x06B1 [0x21] END_EVENT
 79: 0x06B2 [0x00] END_REQSTACK()
```
