# Event 438

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 36/40     |
| Offset          | 0x1573    |
| Data Size       | 398 bytes |
| Calculated Size | 398 bytes |
| Instructions    | 115       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1570:          03 17 00 02 10  03 16 00 03 10 03 19 00     .............
1580: 04 10 03 1A 00 05 10 03  18 00 06 10 03 0A 00 03  ................
1590: 80 42 1E F0 FF FF 7F 1C  00 80 02 17 00 CC 80 80  .B..............
15A0: AA 15 03 0A 00 26 80 01  42 16 02 17 00 CD 80 80  .....&..B.......
15B0: F6 15 02 16 00 03 80 00  C2 15 03 0A 00 00 80 01  ................
15C0: F3 15 03 0A 00 1B 80 3E  18 00 03 80 F3 15 1D 7A  .......>.......z
15D0: 80 23 03 02 10 19 00 48  06 80 1D 7B 80 23 03 02  .#.....H...{.#..
15E0: 10 19 00 48 0A 80 1D 7C  80 23 03 01 10 03 80 43  ...H...|.#.....C
15F0: 00 43 01 01 42 16 02 17  00 CE 80 80 06 16 03 0A  .C..B...........
1600: 00 03 80 01 42 16 02 17  00 CF 80 80 42 16 03 0A  ....B.......B...
1610: 00 2C 80 3E 18 00 00 80  3F 16 1D 76 80 23 03 02  .,.>....?..v.#..
1620: 10 1A 00 48 06 80 1D 77  80 23 1D 78 80 23 03 02  ...H...w.#.x.#..
1630: 10 1A 00 48 0A 80 03 01  10 00 80 43 00 43 01 01  ...H.......C.C..
1640: 42 16 03 02 10 17 00 1D  D0 80 23 48 D1 80 1D D2  B.........#H....
1650: 80 23 1D D3 80 23 24 D4  80 03 80 03 80 25 02 00  .#...#$......%..
1660: 10 03 80 00 EA 16 1D D5  80 23 1D D6 80 23 03 02  .........#...#..
1670: 10 17 00 03 03 10 0A 00  1D 87 80 23 1D 88 80 23  ...........#...#
1680: 24 89 80 03 80 03 80 25  02 00 10 03 80 00 D3 16  $......%........
1690: 03 02 10 17 00 48 D7 80  1D D8 80 23 1A F7 21 1A  .....H.....#..!.
16A0: D6 21 03 02 10 0A 00 1D  D9 80 23 03 02 10 17 00  .!........#.....
16B0: 48 DA 80 1D DB 80 23 1D  91 80 23 1D 92 80 23 1D  H.....#...#...#.
16C0: 93 80 23 1D 94 80 23 1D  95 80 23 03 01 10 00 80  ..#...#...#.....
16D0: 01 E7 16 02 00 10 00 80  00 E7 16 1D 27 80 23 03  ............'.#.
16E0: 01 10 03 80 01 E7 16 01  FE 16 02 00 10 00 80 00  ................
16F0: FE 16 1D 27 80 23 03 01  10 03 80 01 FE 16 2E 21  ...'.#.........!
1700: 00                                                .               
```

## Opcodes

```
  0: 0x1573 [0x03] ExtData[1]->WorkLocal[23] = Work_Zone[2]
  1: 0x1578 [0x03] ExtData[1]->WorkLocal[22] = Work_Zone[3]
  2: 0x157D [0x03] ExtData[1]->WorkLocal[25] = Work_Zone[4]
  3: 0x1582 [0x03] ExtData[1]->WorkLocal[26] = Work_Zone[5]
  4: 0x1587 [0x03] ExtData[1]->WorkLocal[24] = Work_Zone[6]
  5: 0x158C [0x03] ExtData[1]->WorkLocal[10] = 0*
  6: 0x1591 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  7: 0x1592 [0x1E] EventEntity looks at LocalPlayer and starts talking
  8: 0x1597 [0x1C] WAIT(1* ticks)
  9: 0x159A [0x02] IF !(ExtData[1]->WorkLocal[23] == 3159*) GOTO 0x15AA
 10: 0x15A2 [0x03] ExtData[1]->WorkLocal[10] = 3*
 11: 0x15A7 [0x01] GOTO 0x1642
 12: 0x15AA [0x02] IF !(ExtData[1]->WorkLocal[23] == 3161*) GOTO 0x15F6
 13: 0x15B2 [0x02] IF !(ExtData[1]->WorkLocal[22] == 0*) GOTO 0x15C2
 14: 0x15BA [0x03] ExtData[1]->WorkLocal[10] = 1*
 15: 0x15BF [0x01] GOTO 0x15F3
 16: 0x15C2 [0x03] ExtData[1]->WorkLocal[10] = 2*
 17: 0x15C7 [0x3E] IF !(ExtData[1]->WorkLocal[24] bit 0*) GOTO 0x15F3
 18: 0x15CE [0x1D] PRINT_EVENT_MESSAGE(message_id=8994*)
    → "Let me take another look at your equipment.\u007F1\u0000\u0007"
 19: 0x15D1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x15D2 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[25]
 21: 0x15D7 [0x48] [System] [8823*]:
    → "\u001F\u000FOboro took your \u0001\u0005#\u0002\u0000\u0000\u0000 without even asking!\u0000\u0007"
 22: 0x15DA [0x1D] PRINT_EVENT_MESSAGE(message_id=8995*)
    → "Truly fascinating... Ahem. Forgive me. The craftsmanship seemed unfamiliar to me, so I merely wanted to take a closer look.\u007F1\u0000\u0007"
 23: 0x15DD [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x15DE [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[25]
 25: 0x15E3 [0x48] [System] [8826*]:
    → "\u001F\u000FThe uncouth Hume begrudgingly hands over your \u0001\u0005#\u0002\u0000\u0000\u0000.\u0000\u0007"
 26: 0x15E6 [0x1D] PRINT_EVENT_MESSAGE(message_id=8996*)
    → "This equipment seems to have slumbered for ages in a land far to the west.\u007F1\u0000\u0007"
 27: 0x15E9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x15EA [0x03] Work_Zone[1] = 0*
 29: 0x15EF [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 30: 0x15F1 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 31: 0x15F3 [0x01] GOTO 0x1642
 32: 0x15F6 [0x02] IF !(ExtData[1]->WorkLocal[23] == 3163*) GOTO 0x1606
 33: 0x15FE [0x03] ExtData[1]->WorkLocal[10] = 0*
 34: 0x1603 [0x01] GOTO 0x1642
 35: 0x1606 [0x02] IF !(ExtData[1]->WorkLocal[23] == 3165*) GOTO 0x1642
 36: 0x160E [0x03] ExtData[1]->WorkLocal[10] = 4*
 37: 0x1613 [0x3E] IF !(ExtData[1]->WorkLocal[24] bit 1*) GOTO 0x163F
 38: 0x161A [0x1D] PRINT_EVENT_MESSAGE(message_id=8991*)
    → "That equipment of yours... Let me see it.\u007F1\u0000\u0007"
 39: 0x161D [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x161E [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[26]
 41: 0x1623 [0x48] [System] [8823*]:
    → "\u001F\u000FOboro took your \u0001\u0005#\u0002\u0000\u0000\u0000 without even asking!\u0000\u0007"
 42: 0x1626 [0x1D] PRINT_EVENT_MESSAGE(message_id=8992*)
    → "Hmm... How interesting... Actually, it reminds me of the equipment of my homeland.\u007F1\u0000\u0007"
 43: 0x1629 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x162A [0x1D] PRINT_EVENT_MESSAGE(message_id=8993*)
    → "But forgive me. I wasn't expecting to see such a familiar item here. Sorry, you can have it back now.\u007F1\u0000\u0007"
 45: 0x162D [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x162E [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[26]
 47: 0x1633 [0x48] [System] [8826*]:
    → "\u001F\u000FThe uncouth Hume begrudgingly hands over your \u0001\u0005#\u0002\u0000\u0000\u0000.\u0000\u0007"
 48: 0x1636 [0x03] Work_Zone[1] = 1*
 49: 0x163B [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 50: 0x163D [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 51: 0x163F [0x01] GOTO 0x1642

SUBROUTINE_1642:
 52: 0x1642 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[23]
 53: 0x1647 [0x1D] PRINT_EVENT_MESSAGE(message_id=8943*)
    → "Hm...? That \u0001\u00053\u0002\u0000\u0000\u0000 you're holding... Let me see it.\u007F1\u0000\u0007"
 54: 0x164A [0x23] WAIT_FOR_DIALOG_INTERACTION
 55: 0x164B [0x48] [System] [8944*]:
    → "\u001F\u000FYou showed Oboro the \u0001\u00053\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 56: 0x164E [0x1D] PRINT_EVENT_MESSAGE(message_id=8945*)
    → "Yes...yes, indeed... I just might be able to... Oh, forgive me.\u007F1\u0000\u0007"
 57: 0x1651 [0x23] WAIT_FOR_DIALOG_INTERACTION
 58: 0x1652 [0x1D] PRINT_EVENT_MESSAGE(message_id=8946*)
    → "This equipment of yours... If I told you I could hone it to greater heights of power, what would you say?\u007F1\u0000\u0007"
 59: 0x1655 [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x1656 [0x24] CREATE_DIALOG(message_id=8947*, default_option=0*, option_flags=0*)
    → "What do you say?\u0007\u000BMost definitely!\u0007Maybe another time.\u007F1\u0000\u0007"
 61: 0x165D [0x25] WAIT_DIALOG_SELECT()
 62: 0x165E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x16EA
 63: 0x1666 [0x1D] PRINT_EVENT_MESSAGE(message_id=8948*)
    → "Splendid! Then let us get right to it... Or rather, that's what I'd like to say. But I fear it's not possible at this precise moment.\u007F1\u0000\u0007"
 64: 0x1669 [0x23] WAIT_FOR_DIALOG_INTERACTION
 65: 0x166A [0x1D] PRINT_EVENT_MESSAGE(message_id=8949*)
    → "Needless to say, it is not my prowess that is lacking, but rather that my current tools aren't sturdy enough to survive the job.\u007F1\u0000\u0007"
 66: 0x166D [0x23] WAIT_FOR_DIALOG_INTERACTION
 67: 0x166E [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[23]
 68: 0x1673 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[10]
 69: 0x1678 [0x1D] PRINT_EVENT_MESSAGE(message_id=8950*)
    → "However, the power given off by your \u0001\u00053\u0002\u0000\u0000\u0000... With that, I'd surely be able to work my wonders on your \u000C\u0001[mysterious weapon/Balrahn armament/ancient weapon/secret moogle weapon/familiar weapon].\u007F1\u0000\u0007"
 70: 0x167B [0x23] WAIT_FOR_DIALOG_INTERACTION
 71: 0x167C [0x1D] PRINT_EVENT_MESSAGE(message_id=8951*)
    → "Don't worry, I won't be taking that \u0001\u00053\u0002\u0000\u0000\u0000 off your hands for good. I merely need to borrow a bit of its power.\u007F1\u0000\u0007"
 72: 0x167F [0x23] WAIT_FOR_DIALOG_INTERACTION
 73: 0x1680 [0x24] CREATE_DIALOG(message_id=8952*, default_option=0*, option_flags=0*)
    → "What will you do?\u0007\u000BLend it to him.\u0007Never mind.\u007F1\u0000\u0007"
 74: 0x1687 [0x25] WAIT_DIALOG_SELECT()
 75: 0x1688 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x16D3
 76: 0x1690 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[23]
 77: 0x1695 [0x48] [System] [8953*]:
    → "\u001F\u000FOboro eagerly takes hold of the \u0001\u00053\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 78: 0x1698 [0x1D] PRINT_EVENT_MESSAGE(message_id=8954*)
    → "Now wait just a moment. I'll return shortly.\u007F1\u0000\u0007"
 79: 0x169B [0x23] WAIT_FOR_DIALOG_INTERACTION
 80: 0x169C [0x1A] CALL_SUBROUTINE(address=0x21F7)
 81: 0x169F [0x1A] CALL_SUBROUTINE(address=0x21D6)
 82: 0x16A2 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[10]
 83: 0x16A7 [0x1D] PRINT_EVENT_MESSAGE(message_id=8955*)
    → "Wonderful! Your \u000C\u0000[mysterious weapon/Balrahn armament/ancient weapon/secret moogle weapon/familiar weapon] is ready to experience my powers in all their glory... Ah, forgive me. You can have this back now.\u007F1\u0000\u0007"
 84: 0x16AA [0x23] WAIT_FOR_DIALOG_INTERACTION
 85: 0x16AB [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[23]
 86: 0x16B0 [0x48] [System] [8956*]:
    → "\u001F\u000FOboro relinquished the \u0001\u00053\u0002\u0000\u0000\u0000.\u007F1\u0000\u0007"
 87: 0x16B3 [0x1D] PRINT_EVENT_MESSAGE(message_id=8957*)
    → "Do you have anything else like that \u0001\u00053\u0002\u0000\u0000\u0000? I would love to work my wonders on another piece of equipment for you.\u007F1\u0000\u0007"
 88: 0x16B6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 89: 0x16B7 [0x1D] PRINT_EVENT_MESSAGE(message_id=8958*)
    → "Now I just need the necessary materials in order to work my magic. As you know, I am a smith without equal. Bring me what I need, and I'll see to the rest.\u007F1\u0000\u0007"
 90: 0x16BA [0x23] WAIT_FOR_DIALOG_INTERACTION
 91: 0x16BB [0x1D] PRINT_EVENT_MESSAGE(message_id=8959*)
    → "That said, the materials I require this time are somewhat special. Without them, I fear I won't be able to help you.\u007F1\u0000\u0007"
 92: 0x16BE [0x23] WAIT_FOR_DIALOG_INTERACTION
 93: 0x16BF [0x1D] PRINT_EVENT_MESSAGE(message_id=8960*)
    → "To be more precise, they're not "materials" as such, but rather something near and dear to you. You could even say they're like your heart and soul. Yes, that is what I need.\u007F1\u0000\u0007"
 94: 0x16C2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 95: 0x16C3 [0x1D] PRINT_EVENT_MESSAGE(message_id=8961*)
    → "You're an experienced adventurer, so I'm sure you can figure out what I mean.\u007F1\u0000\u0007"
 96: 0x16C6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 97: 0x16C7 [0x1D] PRINT_EVENT_MESSAGE(message_id=8962*)
    → "Anyhow, once you find that of which I speak, pray deliver it to me.\u007F1\u0000\u0007"
 98: 0x16CA [0x23] WAIT_FOR_DIALOG_INTERACTION
 99: 0x16CB [0x03] Work_Zone[1] = 1*
100: 0x16D0 [0x01] GOTO 0x16E7
101: 0x16D3 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x16E7
102: 0x16DB [0x1D] PRINT_EVENT_MESSAGE(message_id=8874*)
    → "...Hmph.\u0007Be that as it may, you will come crawling back for my services sooner or later.\u007F1\u0000\u0007"
103: 0x16DE [0x23] WAIT_FOR_DIALOG_INTERACTION
104: 0x16DF [0x03] Work_Zone[1] = 0*
105: 0x16E4 [0x01] GOTO 0x16E7

SUBROUTINE_16E7:
106: 0x16E7 [0x01] GOTO 0x16FE
107: 0x16EA [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x16FE
108: 0x16F2 [0x1D] PRINT_EVENT_MESSAGE(message_id=8874*)
    → "...Hmph.\u0007Be that as it may, you will come crawling back for my services sooner or later.\u007F1\u0000\u0007"
109: 0x16F5 [0x23] WAIT_FOR_DIALOG_INTERACTION
110: 0x16F6 [0x03] Work_Zone[1] = 0*
111: 0x16FB [0x01] GOTO 0x16FE

SUBROUTINE_16FE:
112: 0x16FE [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
113: 0x16FF [0x21] END_EVENT
114: 0x1700 [0x00] END_REQSTACK()
```
