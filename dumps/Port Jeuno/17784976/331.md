# Event 331

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/8       |
| Offset          | 0x1C01    |
| Data Size       | 525 bytes |
| Calculated Size | 525 bytes |
| Instructions    | 74        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1C00:    42 1A B1 21 46 01 38  02 80 4E 00 8F 60 0F 01   B..!F.8..N..`..
1C10: 92 01 93 60 0F 01 94 01  F0 FF FF 7F 94 01 93 60  ...`...........`
1C20: 0F 01 94 01 8F 60 0F 01  BA F0 FF FF 7F 7E 80 7F  .....`.......~..
1C30: 80 01 80 80 80 59 05 8F  60 0F 01 01 BA 8F 60 0F  .....Y..`.....`.
1C40: 01 D6 80 D7 80 01 80 A1  80 80 F0 FF FF 7F 80 93  ................
1C50: 60 0F 01 1C 07 80 4A 93  60 0F 01 F0 FF FF 7F 4A  `.....J.`......J
1C60: F0 FF FF 7F 93 60 0F 01  6F 76 F0 FF FF 7F 45 22  .....`..ov....E"
1C70: 80 F0 FF FF 7F F0 FF FF  7F 61 34 30 30 01 80 1A  .........a400...
1C80: 90 21 66 08 80 93 60 0F  01 93 60 0F 01 74 77 62  .!f...`...`..twb
1C90: 30 2B 93 60 0F 01 D8 80  23 52 22 80 F0 FF FF 7F  0+.`....#R".....
1CA0: F0 FF FF 7F 61 34 30 30  45 22 80 F0 FF FF 7F F0  ....a400E"......
1CB0: FF FF 7F 61 34 30 31 01  80 66 08 80 93 60 0F 01  ...a401..f...`..
1CC0: 93 60 0F 01 74 77 61 31  2B 93 60 0F 01 D9 80 23  .`..twa1+.`....#
1CD0: 52 22 80 F0 FF FF 7F F0  FF FF 7F 61 34 30 31 45  R".........a401E
1CE0: 22 80 F0 FF FF 7F F0 FF  FF 7F 61 34 30 32 01 80  ".........a402..
1CF0: 27 10 93 60 0F 01 1C 1C  A7 80 2B 93 60 0F 01 DA  '..`......+.`...
1D00: 80 23 2A 10 93 60 0F 01  52 22 80 F0 FF FF 7F F0  .#*..`..R"......
1D10: FF FF 7F 61 34 30 32 45  22 80 F0 FF FF 7F F0 FF  ...a402E".......
1D20: FF 7F 61 34 30 33 01 80  79 00 93 60 0F 01 8F 60  ..a403..y..`...`
1D30: 0F 01 1C 32 80 2B 93 60  0F 01 DB 80 1C 34 80 23  ...2.+.`.....4.#
1D40: 7B 93 60 0F 01 2B 93 60  0F 01 DC 80 23 4A 93 60  {.`..+.`....#J.`
1D50: 0F 01 F0 FF FF 7F 52 22  80 F0 FF FF 7F F0 FF FF  ......R"........
1D60: 7F 61 34 30 33 45 22 80  F0 FF FF 7F F0 FF FF 7F  .a403E".........
1D70: 61 34 30 34 01 80 6F 76  93 60 0F 01 2B 93 60 0F  a404..ov.`..+.`.
1D80: 01 DD 80 23 52 22 80 F0  FF FF 7F F0 FF FF 7F 61  ...#R".........a
1D90: 34 30 34 45 22 80 F0 FF  FF 7F F0 FF FF 7F 61 34  404E".........a4
1DA0: 30 35 01 80 6E 93 60 0F  01 DE 80 99 93 60 0F 01  05..n.`......`..
1DB0: 2B 93 60 0F 01 DF 80 1C  32 80 6E F0 FF FF 7F 3D  +.`.....2.n....=
1DC0: 80 99 F0 FF FF 7F 1C 07  80 23 1A B1 21 1C 07 80  .........#..!...
1DD0: 52 22 80 F0 FF FF 7F F0  FF FF 7F 61 34 30 35 45  R".........a405E
1DE0: 22 80 F0 FF FF 7F F0 FF  FF 7F 30 62 6C 66 01 80  ".........0blf..
1DF0: 5C 00 21 80 5C 01 21 80  9A 46 00 45 7D 80 F0 FF  \.!.\.!..F.E}...
1E00: FF 7F F0 FF FF 7F 66 64  69 32 01 80 21 00        ......fdi2..!.  
```

## Opcodes

```
  0: 0x1C01 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x1C02 [0x1A] CALL_SUBROUTINE(address=0x21B1)
  2: 0x1C05 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x1C07 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  4: 0x1C0A [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17784975/0x010F608F)
  5: 0x1C10 [0x92] Joachim (ID: 17784979/0x010F6093)->Render.Flags3 ^= 0x01
  6: 0x1C16 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
  7: 0x1C1C [0x94] Joachim (ID: 17784979/0x010F6093)->Render.Flags3 ^= 0x01
  8: 0x1C22 [0x94] Unnamed NPC (ID: 17784975/0x010F608F)->Render.Flags3 ^= 0x01
  9: 0x1C28 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-53.419*, pos_z=-8.091*, pos_y=0.000*, direction=72.0°*)
 10: 0x1C35 [0x59] UPDATE_ENTITY_DATA: Unnamed NPC (ID: 17784975/0x010F608F)->Render.Flags0 |= 0x200000
 11: 0x1C3C [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17784975/0x010F608F), pos_x=-53.195*, pos_z=-13.290*, pos_y=0.000*, direction=73.0°*)
 12: 0x1C49 [0x80] LOAD_WAIT(entity=LocalPlayer)
 13: 0x1C4E [0x80] LOAD_WAIT(entity=Joachim (ID: 17784979/0x010F6093))
 14: 0x1C53 [0x1C] WAIT(30* ticks)
 15: 0x1C56 [0x4A] Joachim (ID: 17784979/0x010F6093) looks at LocalPlayer
 16: 0x1C5F [0x4A] LocalPlayer looks at Joachim (ID: 17784979/0x010F6093)
 17: 0x1C68 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 18: 0x1C69 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 19: 0x1C6E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "a400" with entities [LocalPlayer, LocalPlayer], work=[488*, 0*]
 20: 0x1C7F [0x1A] CALL_SUBROUTINE(address=0x2190)
 21: 0x1C82 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "twb0" with entities [Joachim (ID: 17784979/0x010F6093), Joachim (ID: 17784979/0x010F6093)], work=9*
 22: 0x1C91 [0x2B] Joachim (ID: 17784979/0x010F6093) [8480*]:
    → "\u0008. I've been told ye met some mates of mine.\u007F1\u0000\u0007"
 23: 0x1C98 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x1C99 [0x52] END_LOAD_SCHEDULER: End scheduler "a400" with entities [LocalPlayer, LocalPlayer], work=488*
 25: 0x1CA8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "a401" with entities [LocalPlayer, LocalPlayer], work=[488*, 0*]
 26: 0x1CB9 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "twa1" with entities [Joachim (ID: 17784979/0x010F6093), Joachim (ID: 17784979/0x010F6093)], work=9*
 27: 0x1CC8 [0x2B] Joachim (ID: 17784979/0x010F6093) [8481*]:
    → "Ye ought t' know now how starved of hope me folk are, livin' each day not knowin' if it'd be the last.\u007F1\u0000\u0007"
 28: 0x1CCF [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x1CD0 [0x52] END_LOAD_SCHEDULER: End scheduler "a401" with entities [LocalPlayer, LocalPlayer], work=488*
 30: 0x1CDF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "a402" with entities [LocalPlayer, LocalPlayer], work=[488*, 0*]
 31: 0x1CF0 [0x27] REQ_SET(priority=0x10, entity_id=Joachim (ID: 17784979/0x010F6093), tag_num=0x1C)
 32: 0x1CF7 [0x1C] WAIT(45* ticks)
 33: 0x1CFA [0x2B] Joachim (ID: 17784979/0x010F6093) [8482*]:
    → "So far we've managed t' stay in the fight, puttin' up protective wards an' pitchin' warmachines into the fray, but they're temporary measures at best.\u007F1\u0000\u0007"
 34: 0x1D01 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x1D02 [0x2A] GET_REQ_LEVEL(level=16, entity_id=Joachim (ID: 17784979/0x010F6093))
 36: 0x1D08 [0x52] END_LOAD_SCHEDULER: End scheduler "a402" with entities [LocalPlayer, LocalPlayer], work=488*
 37: 0x1D17 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "a403" with entities [LocalPlayer, LocalPlayer], work=[488*, 0*]
 38: 0x1D28 [0x79] Joachim (ID: 17784979/0x010F6093) looks at Unnamed NPC (ID: 17784975/0x010F608F) (Basic look)
 39: 0x1D32 [0x1C] WAIT(60* ticks)
 40: 0x1D35 [0x2B] Joachim (ID: 17784979/0x010F6093) [8483*]:
    → "The Abyssean hordes continue to grow, an' not a day goes by without us losin' ground t' them.\u007F1\u0000\u0007"
 41: 0x1D3C [0x1C] WAIT(120* ticks)
 42: 0x1D3F [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x1D40 [0x7B] Joachim (ID: 17784979/0x010F6093) stops talking
 44: 0x1D45 [0x2B] Joachim (ID: 17784979/0x010F6093) [8484*]:
    → "Fer too long we've been forced onto our back foot. If we're t' have any hope of survival, we need t' go on the offensive.\u007F1\u0000\u0007"
 45: 0x1D4C [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x1D4D [0x4A] Joachim (ID: 17784979/0x010F6093) looks at LocalPlayer
 47: 0x1D56 [0x52] END_LOAD_SCHEDULER: End scheduler "a403" with entities [LocalPlayer, LocalPlayer], work=488*
 48: 0x1D65 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "a404" with entities [LocalPlayer, LocalPlayer], work=[488*, 0*]
 49: 0x1D76 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 50: 0x1D77 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Joachim (ID: 17784979/0x010F6093) Render.Flags0 and Render.Flags3 conditions are met
 51: 0x1D7C [0x2B] Joachim (ID: 17784979/0x010F6093) [8485*]:
    → "But fer this we need yer aid.\u007F1\u0000\u0007"
 52: 0x1D83 [0x23] WAIT_FOR_DIALOG_INTERACTION
 53: 0x1D84 [0x52] END_LOAD_SCHEDULER: End scheduler "a404" with entities [LocalPlayer, LocalPlayer], work=488*
 54: 0x1D93 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "a405" with entities [LocalPlayer, LocalPlayer], work=[488*, 0*]
 55: 0x1DA4 [0x6E] Joachim (ID: 17784979/0x010F6093) uses emote 25*
 56: 0x1DAB [0x99] Wait for Joachim (ID: 17784979/0x010F6093) animation to complete
 57: 0x1DB0 [0x2B] Joachim (ID: 17784979/0x010F6093) [8486*]:
    → "I beg ye, \u0008! Help us turn the tide of battle in our favor!\u007F1\u0000\u0007"
 58: 0x1DB7 [0x1C] WAIT(60* ticks)
 59: 0x1DBA [0x6E] LocalPlayer uses emote 7*
 60: 0x1DC1 [0x99] Wait for LocalPlayer animation to complete
 61: 0x1DC6 [0x1C] WAIT(30* ticks)
 62: 0x1DC9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 63: 0x1DCA [0x1A] CALL_SUBROUTINE(address=0x21B1)
 64: 0x1DCD [0x1C] WAIT(30* ticks)
 65: 0x1DD0 [0x52] END_LOAD_SCHEDULER: End scheduler "a405" with entities [LocalPlayer, LocalPlayer], work=488*
 66: 0x1DDF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "0blf" with entities [LocalPlayer, LocalPlayer], work=[488*, 0*]
 67: 0x1DF0 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 110*
 68: 0x1DF4 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 110*
 69: 0x1DF8 [0x9A] WAIT_MUSIC_SERVER()
 70: 0x1DF9 [0x46] CAMERA_CONTROL: Restore default settings
 71: 0x1DFB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 72: 0x1E0C [0x21] END_EVENT
 73: 0x1E0D [0x00] END_REQSTACK()
```
