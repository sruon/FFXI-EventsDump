# Event 8802

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 570 bytes |
| Calculated Size | 570 bytes |
| Instructions    | 28        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    03 00 00 03 10 24 00  80 01 80 01 80 25 02 00   .....$......%..
0010: 10 01 80 00 1E 00 03 01  10 02 80 01 B9 00 02 00  ................
0020: 10 03 80 00 B9 00 42 40  01 80 04 80 01 10 03 80  ......B@........
0030: 40 05 80 06 80 01 10 03  80 43 00 43 01 02 00 00  @........C.C....
0040: 01 80 80 5C 00 CD 07 80  F8 FF FF 7F F0 FF FF 7F  ...\............
0050: 73 30 30 30 01 80 1C 08  80 01 7B 00 02 00 00 03  s000......{.....
0060: 80 80 7B 00 CD 07 80 F8  FF FF 7F F0 FF FF 7F 73  ..{............s
0070: 30 30 30 01 80 1C 08 80  01 7B 00 92 01 F0 FF FF  000......{......
0080: 7F 1C 09 80 45 0A 80 F0  FF FF 7F F0 FF FF 7F 66  ....E..........f
0090: 64 6F 31 01 80 55 0A 80  F0 FF FF 7F F0 FF FF 7F  do1..U..........
00A0: 66 64 6F 31 40 01 80 04  80 01 10 03 80 40 05 80  fdo1@........@..
00B0: 06 80 01 10 03 80 01 B9  00 21 0B 80 0C 80 0D 80  .........!......
00C0: 0E 80 0F 80 10 80 11 80  12 80 13 80 14 80 10 80  ................
00D0: 11 80 12 80 13 80 14 80  15 80 15 80 15 80 15 80  ................
00E0: 15 80 01 80 01 80 01 80  01 80 16 80 16 80 16 80  ................
00F0: 16 80 16 80 03 80 03 80  03 80 03 80 03 80 16 80  ................
0100: 16 80 16 80 16 80 16 80  03 80 16 80 17 80 18 80  ................
0110: 19 80 01 80 01 80 01 80  01 80 19 80 1A 80 1B 80  ................
0120: 1C 80 1D 80 01 80 03 80  16 80 17 80 18 80 04 80  ................
0130: 05 80 1E 80 1F 80 20 80  21 80 22 80 23 80 24 80  ...... .!.".#.$.
0140: 25 80 01 80 01 80 01 80  01 80 26 80 27 80 28 80  %.........&.'.(.
0150: 29 80 2A 80 2B 80 2C 80  2D 80 2E 80 2F 80 30 80  ).*.+.,.-.../.0.
0160: 31 80 32 80 33 80 34 80  35 80 36 80 37 80 38 80  1.2.3.4.5.6.7.8.
0170: 39 80 01 80 01 80 01 80  01 80 3A 80 3B 80 3C 80  9.........:.;.<.
0180: 3D 80 3E 80 3F 80 40 80  41 80 42 80 43 80 44 80  =.>.?.@.A.B.C.D.
0190: 45 80 46 80 47 80 48 80  49 80 4A 80 4B 80 4C 80  E.F.G.H.I.J.K.L.
01A0: 28 80 01 80 01 80 01 80  01 80 01 80 4D 80 4E 80  (...........M.N.
01B0: 01 80 28 80 4F 80 50 80  51 80 52 80 53 80 54 80  ..(.O.P.Q.R.S.T.
01C0: 55 80 56 80 57 80 58 80  59 80 5A 80 5B 80 5C 80  U.V.W.X.Y.Z.[.\.
01D0: 5D 80 01 80 01 80 01 80  01 80 16 80 16 80 1A 80  ]...............
01E0: 16 80 16 80 18 80 1A 80  16 80 1A 80 1A 80 01 80  ................
01F0: 18 80 18 80 18 80 1A 80  1A 80 01 80 18 80 01 80  ................
0200: 16 80 01 80 01 80 01 80  01 80 5E 80 5F 80 60 80  ..........^._.`.
0210: 61 80 62 80 5E 80 5F 80  60 80 61 80 62 80 5E 80  a.b.^._.`.a.b.^.
0220: 5F 80 60 80 61 80 62 80  5E 80 5F 80 60 80 61 80  _.`.a.b.^._.`.a.
0230: 62 80 01 80 01 80 01 80  01 80 00                 b..........     
```

## Opcodes

```
  0: 0x0001 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[3]
  1: 0x0006 [0x24] CREATE_DIALOG(message_id=8246*, default_option=0*, option_flags=0*)
    â†’ "Teleportation protocols active. Proceed?\u0007\u000BNo.\u0007Beam me up.\u007F1\u0000\u0007"
  2: 0x000D [0x25] WAIT_DIALOG_SELECT()
  3: 0x000E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x001E
  4: 0x0016 [0x03] Work_Zone[1] = 1073741824*
  5: 0x001B [0x01] GOTO 0x00B9
  6: 0x001E [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00B9
  7: 0x0026 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  8: 0x0027 [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=15*, target=Work_Zone[1], source=1*)
  9: 0x0030 [0x40] SET_BIT_WORK_RANGE(start_bit=16*, end_bit=31*, target=Work_Zone[1], source=1*)
 10: 0x0039 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 11: 0x003B [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 12: 0x003D [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x005C
 13: 0x0045 [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "s000" with entities [EventEntity, LocalPlayer], work=[254*, 0*]
 14: 0x0056 [0x1C] WAIT(45* ticks)
 15: 0x0059 [0x01] GOTO 0x007B
 16: 0x005C [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x007B
 17: 0x0064 [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "s000" with entities [EventEntity, LocalPlayer], work=[254*, 0*]
 18: 0x0075 [0x1C] WAIT(45* ticks)
 19: 0x0078 [0x01] GOTO 0x007B

SUBROUTINE_007B:
 20: 0x007B [0x92] LocalPlayer->Render.Flags3 ^= 0x01
 21: 0x0081 [0x1C] WAIT(105* ticks)
 22: 0x0084 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 23: 0x0095 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 24: 0x00A4 [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=15*, target=Work_Zone[1], source=1*)
 25: 0x00AD [0x40] SET_BIT_WORK_RANGE(start_bit=16*, end_bit=31*, target=Work_Zone[1], source=1*)
 26: 0x00B6 [0x01] GOTO 0x00B9

SUBROUTINE_00B9:
 27: 0x00B9 [0x21] END_EVENT
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x00BA [0x0B] 0x0C80++
     0x00BD [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2148433933/0x800E800D))
     0x00C2 [0x0F] 0x1080 ^= 0x1180
     0x00C7 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2148761618/0x80138012))
     0x00CC [0x14] 0x1080 *= 0x1180
     0x00D1 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2148761618/0x80138012))
     0x00D6 [0x14] 0x1580 *= 0x1580
     0x00DB [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2148892693/0x80158015))
     0x00E0 [0x15] 0x0180 /= 0x0180
     0x00E5 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x00EA [0x16] 0x1680 = sin(0x1680) * 0x1680
     0x00F1 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147713046/0x80038016))
     0x00F6 [0x03] 0x0380 = 0x0380
     0x00FB [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2148958211/0x80168003))
     0x0100 [0x16] 0x1680 = sin(0x1680) * 0x1680
     0x0107 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2148958211/0x80168003))
     0x010C [0x17] 0x1880 = cos(0x1980) * 0x0180
     0x0113 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x0118 [0x01] GOTO 0x1980
     0x011B [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2149285914/0x801B801A))
     0x0120 [0x1C] WAIT(0x1D80 ticks)
     0x0123 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147713025/0x80038001))
     0x0128 [0x16] 0x1780 = sin(0x1880) * 0x0480
     0x012F [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2149482501/0x801E8005))
     0x0134 [0x1F] MOVE_ENTITY: Update entity position (mode=128)
     0x0136 [0x20] SET_CLI_EVENT_UC_FLAG: Unknown flag value 0x80
     0x0138 [0x21] END_EVENT
     0x0139 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2149810210/0x80238022))
     0x013E [0x24] CREATE_DIALOG(message_id=0x00002580, default_option=0x0180, option_flags=0x180)
     0x0145 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x014A [0x26] DEPRECATED_YIELD
     0x014B [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2150137895/0x80288027))
     0x0150 [0x29] REQ_SET_WAIT(priority=0x80, entity_id=Unknown NPC (ID: 2150334506/0x802B802A), tag_num=0x2C)
     0x0157 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2150531117/0x802E802D))
     0x015C [0x2F] Unknown NPC (ID: 2150727728/0x80318030)->Render.Flags0 &= ~0x80000 // Bit 19
     0x0162 [0x32] ExtData[1]->MainSpeed = 0x3380 * 0.1
     0x0165 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2150989876/0x80358034))
     0x016A [0x36] SET_ENTITY_EVENT_POSITION(pos_x=0x3780, pos_z=0x3880, pos_y=0x3980)
     0x0171 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x0176 [0x01] GOTO 0x0180
     0x0179 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2151383098/0x803B803A))
     0x017E [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x3D80, bit_index_work_offset=0x3E80, condition_work_offset=0x3F80)
     0x0185 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2151776320/0x80418040))
     0x018A [0x42] SET_CLI_EVENT_CANCEL_DATA()
     0x018B [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2151972931/0x80448043))
     0x0190 [0x45] LOAD_SCHEDULED_TASK: Load scheduler 0x4C804B80 with entities [Unknown NPC (ID: 1216366464/0x48804780), Unknown NPC (ID: 1249921408/0x4A804980)], work=[0x4680, 0x2880]
     0x01A1 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x01A6 [0x01] GOTO 0x0180
     0x01A9 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2152562689/0x804D8001))
     0x01AE [0x4E] SET_ENTITY_HIDE_FLAG: Hide Unknown NPC (ID: 2150137857/0x80288001)
     0x01B4 [0x4F] EventEntity->StatusEvent = 0x5080 // Custom event value
     0x01B7 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2152890449/0x80528051))
     0x01BC [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler 0x59805880 with entities [Unknown NPC (ID: 1434473600/0x55805480), Unknown NPC (ID: 1468028544/0x57805680)]
     0x01C9 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2153480282/0x805B805A))
     0x01CE [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 4294486696*, volume=0*
     0x01D4 [0x01] GOTO 0x0180
     0x01D7 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2148958209/0x80168001))
     0x01DC [0x16] 0x1A80 = sin(0x1680) * 0x1680
     0x01E3 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2149220376/0x801A8018))
     0x01E8 [0x16] 0x1A80 = sin(0x1A80) * 0x0180
     0x01EF [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2149089304/0x80188018))
     0x01F4 [0x18] 0x1A80 = atan2(0x1A80, 0x0180)
     0x01FB [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581976/0x80018018))
     0x0200 [0x16] 0x0180 = sin(0x0180) * 0x0180
     0x0207 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2153676801/0x805E8001))
     0x020C [0x5F] MULTI_HANDLER_COMPLEX(mode=0x80 - Unknown)
     0x020E [0x60] ADJUST_RENDER_FLAGS1_MULTI: Deprecated mode 0x80 (no operation)
     0x0210 [0x61] EventEntity->Render.Flags2 &= ~0x00000001
     0x0212 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler 0x5F805E80 with entities [Unknown NPC (ID: 1619025792/0x60805F80), Unknown NPC (ID: 1652580736/0x62806180)], work=[0x5E80, 0x6080]
     0x0223 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2153939041/0x80628061))
     0x0228 [0x5E] EventEntity goes idle (kills current action) (animation: "_`")
     0x022D [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2153939041/0x80628061))
     0x0232 [0x01] GOTO 0x0180
     0x0235 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147581953/0x80018001))
     0x023A [0x00] END_REQSTACK()
```