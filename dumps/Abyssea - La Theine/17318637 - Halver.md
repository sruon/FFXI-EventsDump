# 17318637 - Halver

## Common Data

| Field            | Value                         |
|------------------|-------------------------------|
| Zone             | Abyssea - La Theine (ID: 132) |
| Block Size       | 552 bytes                     |
| Total Events     | 5                             |
| References Count | 29                            |

## List of Events

| Event ID              | Entrypoint   |   Size |   Instructions |
|-----------------------|--------------|--------|----------------|
| [65535](#event-65535) | 0x0000       |      1 |              1 |
| [162](#event-162)     | 0x0001       |     28 |              8 |
| [165](#event-165)     | 0x001D       |    185 |             57 |
| [163](#event-163)     | 0x00D6       |     42 |             12 |
| [164](#event-164)     | 0x0100       |    142 |             26 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x0014      |          20 |
|       1 | 0x1F70      |        8048 |
|       2 | 0x0B3A      |        2874 |
|       3 | 0x0002      |           2 |
|       4 | 0x0000      |           0 |
|       5 | 0x1F71      |        8049 |
|       6 | 0x1F72      |        8050 |
|       7 | 0x0001      |           1 |
|       8 | 0x1F74      |        8052 |
|       9 | 0x1F73      |        8051 |
|      10 | 0x1F75      |        8053 |
|      11 | 0x1F76      |        8054 |
|      12 | 0x1F77      |        8055 |
|      13 | 0x1F78      |        8056 |
|      14 | 0x1F79      |        8057 |
|      15 | 0x1F7A      |        8058 |
|      16 | 0x1F7B      |        8059 |
|      17 | 0x1F7C      |        8060 |
|      18 | 0x1F7D      |        8061 |
|      19 | 0x1F7E      |        8062 |
|      20 | 0x1F82      |        8066 |
|      21 | 0x1F7F      |        8063 |
|      22 | 0x00C8      |         200 |
|      23 | 0x00F0      |         240 |
|      24 | 0x003C      |          60 |
|      25 | 0x061B      |        1563 |
|      26 | 0x1F80      |        8064 |
|      27 | 0x1F81      |        8065 |
|      28 | 0x00C9      |         201 |

## String References

- **8048**: Hm? I have no breath to waste on indolent outsiders. Begone from my sight this instant.
- **8049**: Your selfless deeds on behalf of the survivor community have done much to forward our cause, so I'm told. Now my turn is come to entreat your assistance. Will you hear my plea?
- **8050**: Hear his plea? [I'm all ears./Not interested, sorry.]
- **8051**: Hmph. It appears the tales of your valor were unfounded.
- **8052**: You have my boundless gratitude! Now then, know you of a woman called Curilla presently in convalescence at the northern encampment?
- **8053**: Do you know Curilla? [I surely do./Cura...who?]
- **8054**: To call her the stone upon which San d'Oria's proud order of Temple Knights is built would be no exaggeration.
- **8055**: Were it not for Curilla's inspiring fortitude, we wouldn't still be here this day, waging resistance against the Abyssean hordes.
- **8056**: With her helming our defenses, we had successfully repelled the enemy on a number of occasions. But one fateful day, they came at us with such numbers as would make a grown man's bowels turn to water. It was all Curilla could do to buy time for the civilians to flee to safety before she and the soldiers were overwhelmed.
- **8057**: Thinking her forever taken from us, we lamented the death of a great heroine. So it was to our great joy when we discovered her alive, if severely weakened. She took a grievous wound which left her blind in one eye, but otherwise has been returned to sound physical health.
- **8058**: But alas, all is not well. While she is with us in body, the trauma of the ordeal seems to have reft her mind from her. She has no recollection of her own identity, let alone recent events, and will not say so much as a single word to any of us.
- **8059**: I spent many a sleepless night researching a cure for her affliction, and eventually found the knowledge I sought in a tome of healing salvaged from the Kingdom library: a medicine concocted with $0. Yet the procurement of this key ingredient eludes me.
- **8060**: This brings us back to the matter of my plea. I would have you find the $0 we need.
- **8061**: According to the tome of healing, $1 $0 are required to concoct the medicine.
- **8062**: For the longest time, Curilla was the beating heart of our resistance effort. Bereft of her leadership and military prowess, our defenses may as well be made of clay. Our survival depends on your finding what we need!
- **8063**: Ah, these are the $0 I requested! Splendid!
- **8064**: Using the scales, I've concocted the $3 which should serve to restore Curilla's memory. Take it and make haste to the northern encampment.
- **8065**: Before you go, I would have you accept this as a token of my gratitude.
- **8066**: Ah, 'tis heartening to see you again. I've learned from the tome of healing that $0 have myriad other applications. Should you come by any more in your journeys, be sure to bring them to me.

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 162

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 28 bytes |
| Instructions | 8        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1E F0 FF FF 7F 6F 70  66 00 80 F8 FF FF 7F F8   .....opf.......
0010: FF FF 7F 74 6C 6B 30 1D  01 80 23 21 00           ...tlk0...#!.   
```

#### Opcodes

```
  0: 0x0001 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0006 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0007 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0008 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
  4: 0x0017 [0x1D] PRINT_EVENT_MESSAGE(message_id=8048*)
    → "Hm? I have no breath to waste on indolent outsiders. Begone from my sight this instant."
  5: 0x001A [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x001B [0x21] END_EVENT
  7: 0x001C [0x00] END_REQSTACK()
```

### Event 165

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x001D    |
| Data Size    | 185 bytes |
| Instructions | 47        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0010:                                         20 01 42                .B
0020: 03 02 10 02 80 03 03 10  03 80 03 00 00 09 10 06  ................
0030: 01 10 1E F0 FF FF 7F 6F  70 66 00 80 F8 FF FF 7F  .......opf......
0040: F8 FF FF 7F 74 6C 6B 30  02 00 00 04 80 00 D0 00  ....tlk0........
0050: 1D 05 80 23 24 06 80 07  80 04 80 25 02 00 10 04  ...#$......%....
0060: 80 00 6E 00 1D 08 80 23  01 80 00 01 80 00 02 00  ..n....#........
0070: 10 07 80 00 80 00 1D 09  80 23 01 D4 00 01 80 00  .........#......
0080: 24 0A 80 07 80 04 80 25  02 00 10 04 80 00 96 00  $......%........
0090: 01 A4 00 01 A4 00 02 00  10 07 80 00 A4 00 01 A4  ................
00A0: 00 01 A4 00 03 01 10 07  80 1D 0B 80 23 1D 0C 80  ............#...
00B0: 23 1D 0D 80 23 1D 0E 80  23 1D 0F 80 23 1D 10 80  #...#...#...#...
00C0: 23 1D 11 80 23 1D 12 80  23 1D 13 80 23 01 D4 00  #...#...#...#...
00D0: 1D 14 80 23 21 00                                 ...#!.          
```

#### Opcodes

```
  0: 0x001D [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x001F [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0020 [0x03] Work_Zone[2] = 2874*
  3: 0x0025 [0x03] Work_Zone[3] = 2*
  4: 0x002A [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[9]
  5: 0x002F [0x06] Work_Zone[1] = 0
  6: 0x0032 [0x1E] EventEntity looks at LocalPlayer and starts talking
  7: 0x0037 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  8: 0x0038 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  9: 0x0039 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 10: 0x0048 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x00D0
 11: 0x0050 [0x1D] PRINT_EVENT_MESSAGE(message_id=8049*)
    → "Your selfless deeds on behalf of the survivor community have done much to forward our cause, so I'm told. Now my turn is come to entreat your assistance. Will you hear my plea?"
 12: 0x0053 [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x0054 [0x24] CREATE_DIALOG(message_id=8050*, default_option=1*, option_flags=0*)
    → "Hear his plea? [I'm all ears./Not interested, sorry.]"
 14: 0x005B [0x25] WAIT_DIALOG_SELECT()
 15: 0x005C [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x006E
 16: 0x0064 [0x1D] PRINT_EVENT_MESSAGE(message_id=8052*)
    → "You have my boundless gratitude! Now then, know you of a woman called Curilla presently in convalescence at the northern encampment?"
 17: 0x0067 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x0068 [0x01] GOTO 0x0080

SUBROUTINE_0080:
 19: 0x0080 [0x24] CREATE_DIALOG(message_id=8053*, default_option=1*, option_flags=0*)
    → "Do you know Curilla? [I surely do./Cura...who?]"
 20: 0x0087 [0x25] WAIT_DIALOG_SELECT()
 21: 0x0088 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0096
 22: 0x0090 [0x01] GOTO 0x00A4

SUBROUTINE_00A4:
 23: 0x00A4 [0x03] Work_Zone[1] = 1*
 24: 0x00A9 [0x1D] PRINT_EVENT_MESSAGE(message_id=8054*)
    → "To call her the stone upon which San d'Oria's proud order of Temple Knights is built would be no exaggeration."
 25: 0x00AC [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x00AD [0x1D] PRINT_EVENT_MESSAGE(message_id=8055*)
    → "Were it not for Curilla's inspiring fortitude, we wouldn't still be here this day, waging resistance against the Abyssean hordes."
 27: 0x00B0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x00B1 [0x1D] PRINT_EVENT_MESSAGE(message_id=8056*)
    → "With her helming our defenses, we had successfully repelled the enemy on a number of occasions. But one fateful day, they came at us with such numbers as would make a grown man's bowels turn to water. It was all Curilla could do to buy time for the civilians to flee to safety before she and the soldiers were overwhelmed."
 29: 0x00B4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x00B5 [0x1D] PRINT_EVENT_MESSAGE(message_id=8057*)
    → "Thinking her forever taken from us, we lamented the death of a great heroine. So it was to our great joy when we discovered her alive, if severely weakened. She took a grievous wound which left her blind in one eye, but otherwise has been returned to sound physical health."
 31: 0x00B8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x00B9 [0x1D] PRINT_EVENT_MESSAGE(message_id=8058*)
    → "But alas, all is not well. While she is with us in body, the trauma of the ordeal seems to have reft her mind from her. She has no recollection of her own identity, let alone recent events, and will not say so much as a single word to any of us."
 33: 0x00BC [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x00BD [0x1D] PRINT_EVENT_MESSAGE(message_id=8059*)
    → "I spent many a sleepless night researching a cure for her affliction, and eventually found the knowledge I sought in a tome of healing salvaged from the Kingdom library: a medicine concocted with $0. Yet the procurement of this key ingredient eludes me."
 35: 0x00C0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x00C1 [0x1D] PRINT_EVENT_MESSAGE(message_id=8060*)
    → "This brings us back to the matter of my plea. I would have you find the $0 we need."
 37: 0x00C4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x00C5 [0x1D] PRINT_EVENT_MESSAGE(message_id=8061*)
    → "According to the tome of healing, $1 $0 are required to concoct the medicine."
 39: 0x00C8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x00C9 [0x1D] PRINT_EVENT_MESSAGE(message_id=8062*)
    → "For the longest time, Curilla was the beating heart of our resistance effort. Bereft of her leadership and military prowess, our defenses may as well be made of clay. Our survival depends on your finding what we need!"
 41: 0x00CC [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x00CD [0x01] GOTO 0x00D4
 43: 0x00D0 [0x1D] PRINT_EVENT_MESSAGE(message_id=8066*)
    → "Ah, 'tis heartening to see you again. I've learned from the tome of healing that $0 have myriad other applications. Should you come by any more in your journeys, be sure to bring them to me."
 44: 0x00D3 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_00D4:
 45: 0x00D4 [0x21] END_EVENT
 46: 0x00D5 [0x00] END_REQSTACK()
```

#### Data or dead code:

```
# Dead code (unreachable instructions):
     0x006B [0x01] GOTO 0x0080
     0x007D [0x01] GOTO 0x0080
# Dead code (unreachable instructions):
     0x0093 [0x01] GOTO 0x00A4
     0x00A1 [0x01] GOTO 0x00A4
```

### Event 163

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00D6   |
| Data Size    | 42 bytes |
| Instructions | 12       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00D0:                   03 02  10 02 80 03 03 10 03 80        ..........
00E0: 1E F0 FF FF 7F 6F 70 66  00 80 F8 FF FF 7F F8 FF  .....opf........
00F0: FF 7F 74 6C 6B 30 1D 12  80 23 1D 13 80 23 21 00  ..tlk0...#...#!.
```

#### Opcodes

```
  0: 0x00D6 [0x03] Work_Zone[2] = 2874*
  1: 0x00DB [0x03] Work_Zone[3] = 2*
  2: 0x00E0 [0x1E] EventEntity looks at LocalPlayer and starts talking
  3: 0x00E5 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x00E6 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  5: 0x00E7 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
  6: 0x00F6 [0x1D] PRINT_EVENT_MESSAGE(message_id=8061*)
    → "According to the tome of healing, $1 $0 are required to concoct the medicine."
  7: 0x00F9 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x00FA [0x1D] PRINT_EVENT_MESSAGE(message_id=8062*)
    → "For the longest time, Curilla was the beating heart of our resistance effort. Bereft of her leadership and military prowess, our defenses may as well be made of clay. Our survival depends on your finding what we need!"
  9: 0x00FD [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x00FE [0x21] END_EVENT
 11: 0x00FF [0x00] END_REQSTACK()
```

### Event 164

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x0100    |
| Data Size    | 142 bytes |
| Instructions | 26        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0100: 03 00 00 09 10 20 01 42  1E F0 FF FF 7F 6F 70 03  ..... .B.....op.
0110: 02 10 02 80 1D 15 80 23  02 00 00 04 80 00 7B 01  .......#......{.
0120: 45 16 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 31 04  E..........fdo1.
0130: 80 1C 17 80 45 16 80 F0  FF FF 7F F0 FF FF 7F 66  ....E..........f
0140: 64 69 31 04 80 1C 18 80  66 00 80 F8 FF FF 7F F8  di1.....f.......
0150: FF FF 7F 74 6C 6B 30 03  02 10 19 80 1D 1A 80 23  ...tlk0........#
0160: 1D 1B 80 23 66 00 80 F8  FF FF 7F F8 FF FF 7F 70  ...#f..........p
0170: 61 73 30 1C 17 80 03 01  10 07 80 45 1C 80 F0 FF  as0........E....
0180: FF 7F F0 FF FF 7F 71 73  74 63 04 80 21 00        ......qstc..!.  
```

#### Opcodes

```
  0: 0x0100 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[9]
  1: 0x0105 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  2: 0x0107 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  3: 0x0108 [0x1E] EventEntity looks at LocalPlayer and starts talking
  4: 0x010D [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  5: 0x010E [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  6: 0x010F [0x03] Work_Zone[2] = 2874*
  7: 0x0114 [0x1D] PRINT_EVENT_MESSAGE(message_id=8063*)
    → "Ah, these are the $0 I requested! Splendid!"
  8: 0x0117 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x0118 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x017B
 10: 0x0120 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 11: 0x0131 [0x1C] WAIT(240* ticks)
 12: 0x0134 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 13: 0x0145 [0x1C] WAIT(60* ticks)
 14: 0x0148 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
 15: 0x0157 [0x03] Work_Zone[2] = 1563*
 16: 0x015C [0x1D] PRINT_EVENT_MESSAGE(message_id=8064*)
    → "Using the scales, I've concocted the $3 which should serve to restore Curilla's memory. Take it and make haste to the northern encampment."
 17: 0x015F [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x0160 [0x1D] PRINT_EVENT_MESSAGE(message_id=8065*)
    → "Before you go, I would have you accept this as a token of my gratitude."
 19: 0x0163 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x0164 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "pas0" with entities [EventEntity, EventEntity], work=20*
 21: 0x0173 [0x1C] WAIT(240* ticks)
 22: 0x0176 [0x03] Work_Zone[1] = 1*
 23: 0x017B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 24: 0x018C [0x21] END_EVENT
 25: 0x018D [0x00] END_REQSTACK()
```
