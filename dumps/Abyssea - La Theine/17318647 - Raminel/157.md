# Event 157

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/3       |
| Offset          | 0x0001    |
| Data Size       | 300 bytes |
| Calculated Size | 300 bytes |
| Instructions    | 60        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1E F0 FF FF 7F 6F 70  24 00 80 01 80 01 80 25   .....op$......%
0010: 02 00 10 01 80 00 1B 00  01 2B 01 02 00 10 02 80  .........+......
0020: 00 2B 00 03 01 10 02 80  01 2B 01 02 00 10 03 80  .+.......+......
0030: 00 3B 00 03 01 10 03 80  01 2B 01 02 00 10 04 80  .;.......+......
0040: 00 4B 00 03 01 10 04 80  01 2B 01 02 00 10 05 80  .K.......+......
0050: 00 5B 00 03 01 10 05 80  01 2B 01 02 00 10 06 80  .[.......+......
0060: 00 6B 00 03 01 10 06 80  01 2B 01 02 00 10 07 80  .k.......+......
0070: 00 7B 00 03 01 10 07 80  01 2B 01 02 00 10 08 80  .{.......+......
0080: 00 8B 00 03 01 10 08 80  01 2B 01 02 00 10 09 80  .........+......
0090: 00 9B 00 03 01 10 09 80  01 2B 01 02 00 10 0A 80  .........+......
00A0: 00 AB 00 03 01 10 0A 80  01 2B 01 02 00 10 0B 80  .........+......
00B0: 00 BB 00 03 01 10 0B 80  01 2B 01 02 00 10 0C 80  .........+......
00C0: 00 CB 00 03 01 10 0C 80  01 2B 01 02 00 10 0D 80  .........+......
00D0: 00 DB 00 03 01 10 0D 80  01 2B 01 02 00 10 0E 80  .........+......
00E0: 00 EB 00 03 01 10 0E 80  01 2B 01 02 00 10 0F 80  .........+......
00F0: 00 FB 00 03 01 10 0F 80  01 2B 01 02 00 10 10 80  .........+......
0100: 00 0B 01 03 01 10 10 80  01 2B 01 02 00 10 11 80  .........+......
0110: 00 1B 01 03 01 10 11 80  01 2B 01 02 00 10 12 80  .........+......
0120: 00 2B 01 03 01 10 12 80  01 2B 01 21 00           .+.......+.!.   
```

## Opcodes

```
  0: 0x0001 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0006 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0007 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0008 [0x24] CREATE_DIALOG(message_id=7813*, default_option=0*, option_flags=0*)
    â†’ "Do what?\u0007\u000BNuttin'.\u0007Reset fame.\u0007Set fame level => 1.\u0007Set fame level => 2.\u0007Set fame level => 3.\u0007Set fame level => 4.\u0007Set fame level => 5.\u0007\u00072Catering Capers\u00073 offer.\u0007\u00072Gift of light\u00073 offer.\u0007\u00072Fear of the Dark III\u00073 offer.\u0007\u00072An Eye for Revenge\u00073 offer.\u0007\u00072Unbreak His Heart\u00073 offer.\u0007\u00072Explosive Endeavors\u00073 offer.\u0007\u00072The Angling Armorer\u00073 offer.\u0007\u00072Water of Life\u00073 offer.\u0007\u00072Out of Touch\u00073 offer.\u0007\u00072Lost Memories\u00073 offer.\u0007Reset all quest flags.\u007F1\u0000\u0007"
  4: 0x000F [0x25] WAIT_DIALOG_SELECT()
  5: 0x0010 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x001B
  6: 0x0018 [0x01] GOTO 0x012B
  7: 0x001B [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x002B
  8: 0x0023 [0x03] Work_Zone[1] = 1*
  9: 0x0028 [0x01] GOTO 0x012B
 10: 0x002B [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x003B
 11: 0x0033 [0x03] Work_Zone[1] = 2*
 12: 0x0038 [0x01] GOTO 0x012B
 13: 0x003B [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x004B
 14: 0x0043 [0x03] Work_Zone[1] = 3*
 15: 0x0048 [0x01] GOTO 0x012B
 16: 0x004B [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x005B
 17: 0x0053 [0x03] Work_Zone[1] = 4*
 18: 0x0058 [0x01] GOTO 0x012B
 19: 0x005B [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x006B
 20: 0x0063 [0x03] Work_Zone[1] = 5*
 21: 0x0068 [0x01] GOTO 0x012B
 22: 0x006B [0x02] IF !(Work_Zone[0] == 6*) GOTO 0x007B
 23: 0x0073 [0x03] Work_Zone[1] = 6*
 24: 0x0078 [0x01] GOTO 0x012B
 25: 0x007B [0x02] IF !(Work_Zone[0] == 7*) GOTO 0x008B
 26: 0x0083 [0x03] Work_Zone[1] = 7*
 27: 0x0088 [0x01] GOTO 0x012B
 28: 0x008B [0x02] IF !(Work_Zone[0] == 8*) GOTO 0x009B
 29: 0x0093 [0x03] Work_Zone[1] = 8*
 30: 0x0098 [0x01] GOTO 0x012B
 31: 0x009B [0x02] IF !(Work_Zone[0] == 9*) GOTO 0x00AB
 32: 0x00A3 [0x03] Work_Zone[1] = 9*
 33: 0x00A8 [0x01] GOTO 0x012B
 34: 0x00AB [0x02] IF !(Work_Zone[0] == 10*) GOTO 0x00BB
 35: 0x00B3 [0x03] Work_Zone[1] = 10*
 36: 0x00B8 [0x01] GOTO 0x012B
 37: 0x00BB [0x02] IF !(Work_Zone[0] == 11*) GOTO 0x00CB
 38: 0x00C3 [0x03] Work_Zone[1] = 11*
 39: 0x00C8 [0x01] GOTO 0x012B
 40: 0x00CB [0x02] IF !(Work_Zone[0] == 12*) GOTO 0x00DB
 41: 0x00D3 [0x03] Work_Zone[1] = 12*
 42: 0x00D8 [0x01] GOTO 0x012B
 43: 0x00DB [0x02] IF !(Work_Zone[0] == 13*) GOTO 0x00EB
 44: 0x00E3 [0x03] Work_Zone[1] = 13*
 45: 0x00E8 [0x01] GOTO 0x012B
 46: 0x00EB [0x02] IF !(Work_Zone[0] == 14*) GOTO 0x00FB
 47: 0x00F3 [0x03] Work_Zone[1] = 14*
 48: 0x00F8 [0x01] GOTO 0x012B
 49: 0x00FB [0x02] IF !(Work_Zone[0] == 15*) GOTO 0x010B
 50: 0x0103 [0x03] Work_Zone[1] = 15*
 51: 0x0108 [0x01] GOTO 0x012B
 52: 0x010B [0x02] IF !(Work_Zone[0] == 16*) GOTO 0x011B
 53: 0x0113 [0x03] Work_Zone[1] = 16*
 54: 0x0118 [0x01] GOTO 0x012B
 55: 0x011B [0x02] IF !(Work_Zone[0] == 17*) GOTO 0x012B
 56: 0x0123 [0x03] Work_Zone[1] = 17*
 57: 0x0128 [0x01] GOTO 0x012B

SUBROUTINE_012B:
 58: 0x012B [0x21] END_EVENT
 59: 0x012C [0x00] END_REQSTACK()
```
