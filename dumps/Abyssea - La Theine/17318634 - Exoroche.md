# 17318634 - Exoroche

## Common Data

| Field            | Value                         |
|------------------|-------------------------------|
| Zone             | Abyssea - La Theine (ID: 132) |
| Block Size       | 432 bytes                     |
| Total Events     | 4                             |
| References Count | 22                            |

## List of Events

| Event ID              | Entrypoint   |   Size |   Instructions |
|-----------------------|--------------|--------|----------------|
| [65535](#event-65535) | 0x0000       |      1 |              1 |
| [186](#event-186)     | 0x0001       |     56 |             16 |
| [187](#event-187)     | 0x0039       |    130 |             29 |
| [188](#event-188)     | 0x00BB       |    123 |             37 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x0014      |          20 |
|       1 | 0x1F33      |        7987 |
|       2 | 0x3F3C      |       16188 |
|       3 | 0x4A12      |       18962 |
|       4 | 0x4B6C      |       19308 |
|       5 | 0x4B53      |       19283 |
|       6 | 0x1F35      |        7989 |
|       7 | 0x1F36      |        7990 |
|       8 | 0x1F37      |        7991 |
|       9 | 0x1F38      |        7992 |
|      10 | 0x1F39      |        7993 |
|      11 | 0x0001      |           1 |
|      12 | 0x0002      |           2 |
|      13 | 0x0003      |           3 |
|      14 | 0x0004      |           4 |
|      15 | 0x00C9      |         201 |
|      16 | 0x0000      |           0 |
|      17 | 0x1F31      |        7985 |
|      18 | 0x1F32      |        7986 |
|      19 | 0x1F34      |        7988 |
|      20 | 0x1F3A      |        7994 |
|      21 | 0x1F3B      |        7995 |

## String References

- **7985**: Have you ever had the displeasure of meeting an Abyssean monster in battle? Those creatures strike with such fell force, a man's like to be knocked clean out of his armor if not unconscious.
- **7986**: The rate of wear and tear experienced by equipment used in our struggle is staggering, and keeping our soldiers fitted with battle-worthy gear is proving to be a right royal headache. Consequently, we've had no choice but to explore, shall we say, unconventional means of replenishing arms and armor.
- **7987**: In La Theine there exist four ponds, each said to be the final resting place of many a fallen soldier. It follows that within them sleeps a veritable treasure trove of equipment, aged yet still serviceable.
- **7988**: I am loath to disturb the dead in their sleep, yet our plight grows desperate. And as erstwhile warriors themselves, surely they would not begrudge us the arms we so direly need.
- **7989**: %, $1, $2, and $3... Should you fish up any of these items, I ask that you bring them to me.
- **7990**: While I am not possessed of any great smithing skill, many years as an avid collector has taught me a thing or two of maintenance and restoration.
- **7991**: Ah, you've brought me $0. You have my thanks.
- **7992**: This should keep our soldiers from having to charge into battle with naught but their smallclothes...if only for a while.
- **7993**: For now, please accept this as a small token of my gratitude. Should you fish up any more equipment, I ask you to bring them to me with all haste. Lives are depending on it.
- **7994**: I'm thankful for the aid you've afforded us. Yet our struggles are never-ending, and our need for equipment ever dire.
- **7995**: Should you fish up any more $0, $1, $2, or $3, bring them to me with all haste. I shall see to it that they are restored to battle-ready condition.

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 186

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 56 bytes |
| Instructions | 16       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1E F0 FF FF 7F 6F 70  66 00 80 F8 FF FF 7F F8   .....opf.......
0010: FF FF 7F 74 6C 6B 30 1D  01 80 23 03 02 10 02 80  ...tlk0...#.....
0020: 03 03 10 03 80 03 04 10  04 80 03 05 10 05 80 1D  ................
0030: 06 80 23 1D 07 80 23 21  00                       ..#...#!.       
```

#### Opcodes

```
  0: 0x0001 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0006 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0007 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0008 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
  4: 0x0017 [0x1D] PRINT_EVENT_MESSAGE(message_id=7987*)
    → "In La Theine there exist four ponds, each said to be the final resting place of many a fallen soldier. It follows that within them sleeps a veritable treasure trove of equipment, aged yet still serviceable."
  5: 0x001A [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x001B [0x03] Work_Zone[2] = 16188*
  7: 0x0020 [0x03] Work_Zone[3] = 18962*
  8: 0x0025 [0x03] Work_Zone[4] = 19308*
  9: 0x002A [0x03] Work_Zone[5] = 19283*
 10: 0x002F [0x1D] PRINT_EVENT_MESSAGE(message_id=7989*)
    → "%, $1, $2, and $3... Should you fish up any of these items, I ask that you bring them to me."
 11: 0x0032 [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x0033 [0x1D] PRINT_EVENT_MESSAGE(message_id=7990*)
    → "While I am not possessed of any great smithing skill, many years as an avid collector has taught me a thing or two of maintenance and restoration."
 13: 0x0036 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0037 [0x21] END_EVENT
 15: 0x0038 [0x00] END_REQSTACK()
```

### Event 187

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x0039    |
| Data Size    | 130 bytes |
| Instructions | 29        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0030:                             20 01 42 03 00 00 09            .B....
0040: 10 1E F0 FF FF 7F 6F 70  66 00 80 F8 FF FF 7F F8  ......opf.......
0050: FF FF 7F 74 6C 6B 30 03  02 10 00 00 1D 08 80 23  ...tlk0........#
0060: 1D 09 80 23 1D 0A 80 23  02 00 00 02 80 80 78 00  ...#...#......x.
0070: 03 01 10 0B 80 01 A8 00  02 00 00 03 80 80 88 00  ................
0080: 03 01 10 0C 80 01 A8 00  02 00 00 04 80 80 98 00  ................
0090: 03 01 10 0D 80 01 A8 00  02 00 00 05 80 80 A8 00  ................
00A0: 03 01 10 0E 80 01 A8 00  45 0F 80 F0 FF FF 7F F0  ........E.......
00B0: FF FF 7F 71 73 74 63 10  80 21 00                 ...qstc..!.     
```

#### Opcodes

```
  0: 0x0039 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x003B [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x003C [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[9]
  3: 0x0041 [0x1E] EventEntity looks at LocalPlayer and starts talking
  4: 0x0046 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  5: 0x0047 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  6: 0x0048 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
  7: 0x0057 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[0]
  8: 0x005C [0x1D] PRINT_EVENT_MESSAGE(message_id=7991*)
    → "Ah, you've brought me $0. You have my thanks."
  9: 0x005F [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x0060 [0x1D] PRINT_EVENT_MESSAGE(message_id=7992*)
    → "This should keep our soldiers from having to charge into battle with naught but their smallclothes...if only for a while."
 11: 0x0063 [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x0064 [0x1D] PRINT_EVENT_MESSAGE(message_id=7993*)
    → "For now, please accept this as a small token of my gratitude. Should you fish up any more equipment, I ask you to bring them to me with all haste. Lives are depending on it."
 13: 0x0067 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0068 [0x02] IF !(ExtData[1]->WorkLocal[0] == 16188*) GOTO 0x0078
 15: 0x0070 [0x03] Work_Zone[1] = 1*
 16: 0x0075 [0x01] GOTO 0x00A8
 17: 0x0078 [0x02] IF !(ExtData[1]->WorkLocal[0] == 18962*) GOTO 0x0088
 18: 0x0080 [0x03] Work_Zone[1] = 2*
 19: 0x0085 [0x01] GOTO 0x00A8
 20: 0x0088 [0x02] IF !(ExtData[1]->WorkLocal[0] == 19308*) GOTO 0x0098
 21: 0x0090 [0x03] Work_Zone[1] = 3*
 22: 0x0095 [0x01] GOTO 0x00A8
 23: 0x0098 [0x02] IF !(ExtData[1]->WorkLocal[0] == 19283*) GOTO 0x00A8
 24: 0x00A0 [0x03] Work_Zone[1] = 4*
 25: 0x00A5 [0x01] GOTO 0x00A8

SUBROUTINE_00A8:
 26: 0x00A8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 27: 0x00B9 [0x21] END_EVENT
 28: 0x00BA [0x00] END_REQSTACK()
```

### Event 188

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x00BB    |
| Data Size    | 123 bytes |
| Instructions | 37        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00B0:                                   20 01 42 03 01              .B..
00C0: 00 09 10 06 01 10 1E F0  FF FF 7F 6F 70 66 00 80  ...........opf..
00D0: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 02 01 00 10  ........tlk0....
00E0: 80 00 18 01 1D 11 80 23  1D 12 80 23 1D 01 80 23  .......#...#...#
00F0: 1D 13 80 23 03 02 10 02  80 03 03 10 03 80 03 04  ...#............
0100: 10 04 80 03 05 10 05 80  1D 06 80 23 1D 07 80 23  ...........#...#
0110: 03 01 10 0B 80 01 34 01  1D 14 80 23 03 02 10 02  ......4....#....
0120: 80 03 03 10 03 80 03 04  10 04 80 03 05 10 05 80  ................
0130: 1D 15 80 23 21 00                                 ...#!.          
```

#### Opcodes

```
  0: 0x00BB [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x00BD [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x00BE [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[9]
  3: 0x00C3 [0x06] Work_Zone[1] = 0
  4: 0x00C6 [0x1E] EventEntity looks at LocalPlayer and starts talking
  5: 0x00CB [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  6: 0x00CC [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  7: 0x00CD [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
  8: 0x00DC [0x02] IF !(ExtData[1]->WorkLocal[1] == 0*) GOTO 0x0118
  9: 0x00E4 [0x1D] PRINT_EVENT_MESSAGE(message_id=7985*)
    → "Have you ever had the displeasure of meeting an Abyssean monster in battle? Those creatures strike with such fell force, a man's like to be knocked clean out of his armor if not unconscious."
 10: 0x00E7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x00E8 [0x1D] PRINT_EVENT_MESSAGE(message_id=7986*)
    → "The rate of wear and tear experienced by equipment used in our struggle is staggering, and keeping our soldiers fitted with battle-worthy gear is proving to be a right royal headache. Consequently, we've had no choice but to explore, shall we say, unconventional means of replenishing arms and armor."
 12: 0x00EB [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x00EC [0x1D] PRINT_EVENT_MESSAGE(message_id=7987*)
    → "In La Theine there exist four ponds, each said to be the final resting place of many a fallen soldier. It follows that within them sleeps a veritable treasure trove of equipment, aged yet still serviceable."
 14: 0x00EF [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x00F0 [0x1D] PRINT_EVENT_MESSAGE(message_id=7988*)
    → "I am loath to disturb the dead in their sleep, yet our plight grows desperate. And as erstwhile warriors themselves, surely they would not begrudge us the arms we so direly need."
 16: 0x00F3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x00F4 [0x03] Work_Zone[2] = 16188*
 18: 0x00F9 [0x03] Work_Zone[3] = 18962*
 19: 0x00FE [0x03] Work_Zone[4] = 19308*
 20: 0x0103 [0x03] Work_Zone[5] = 19283*
 21: 0x0108 [0x1D] PRINT_EVENT_MESSAGE(message_id=7989*)
    → "%, $1, $2, and $3... Should you fish up any of these items, I ask that you bring them to me."
 22: 0x010B [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x010C [0x1D] PRINT_EVENT_MESSAGE(message_id=7990*)
    → "While I am not possessed of any great smithing skill, many years as an avid collector has taught me a thing or two of maintenance and restoration."
 24: 0x010F [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x0110 [0x03] Work_Zone[1] = 1*
 26: 0x0115 [0x01] GOTO 0x0134
 27: 0x0118 [0x1D] PRINT_EVENT_MESSAGE(message_id=7994*)
    → "I'm thankful for the aid you've afforded us. Yet our struggles are never-ending, and our need for equipment ever dire."
 28: 0x011B [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x011C [0x03] Work_Zone[2] = 16188*
 30: 0x0121 [0x03] Work_Zone[3] = 18962*
 31: 0x0126 [0x03] Work_Zone[4] = 19308*
 32: 0x012B [0x03] Work_Zone[5] = 19283*
 33: 0x0130 [0x1D] PRINT_EVENT_MESSAGE(message_id=7995*)
    → "Should you fish up any more $0, $1, $2, or $3, bring them to me with all haste. I shall see to it that they are restored to battle-ready condition."
 34: 0x0133 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_0134:
 35: 0x0134 [0x21] END_EVENT
 36: 0x0135 [0x00] END_REQSTACK()
```
