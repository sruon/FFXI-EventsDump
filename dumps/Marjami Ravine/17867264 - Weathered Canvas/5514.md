# Event 5514

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 826 bytes |
| Calculated Size | 826 bytes |
| Instructions    | 162       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 03 0D 00 03 10 06  01 10 9D 00 FB 02 05 00   B..............
0010: 0D 00 40 00 80 01 80 01  10 05 00 40 02 80 03 80  ..@........@....
0020: 01 10 06 00 03 0C 00 01  10 06 03 00 05 07 00 9D  ................
0030: 00 1B 03 04 00 0D 00 03  02 10 04 00 03 03 10 00  ................
0040: 80 03 04 10 04 80 48 05  80 23 06 03 00 05 07 00  ......H..#......
0050: 02 03 00 00 80 00 8A 00  24 06 80 07 00 00 80 25  ........$......%
0060: 02 00 10 00 80 00 74 00  06 07 00 48 07 80 1A 8C  ......t....H....
0070: 00 01 87 00 02 00 10 04  80 00 87 00 03 01 10 08  ................
0080: 80 05 03 00 01 87 00 01  50 00 21 00 06 08 00 06  ........P.!.....
0090: 0B 00 06 09 00 02 08 00  00 80 00 BC 00 02 0B 00  ................
00A0: 00 80 80 AB 00 1A BD 00  01 B9 00 02 0B 00 04 80  ................
00B0: 80 B9 00 1A 7E 01 01 B9  00 01 95 00 1B 03 01 10  ....~...........
00C0: 0C 00 40 09 80 0A 80 01  10 0B 00 43 00 43 01 03  ..@........C.C..
00D0: 0A 00 09 10 03 01 10 00  80 02 0A 00 04 80 80 E9  ................
00E0: 00 03 0B 00 04 80 01 7D  01 02 0A 00 0B 80 80 0F  .......}........
00F0: 01 0B 09 00 02 09 00 0C  80 02 09 01 05 08 00 48  ...............H
0100: 0D 80 23 1C 0E 80 01 0C  01 1C 0F 80 01 7D 01 02  ..#..........}..
0110: 0A 00 10 80 80 25 01 03  01 10 08 80 05 08 00 05  .....%..........
0120: 03 00 01 7D 01 02 0A 00  11 80 80 3B 01 03 01 10  ...}.......;....
0130: 08 80 05 08 00 05 03 00  01 7D 01 02 0A 00 0C 80  .........}......
0140: 80 51 01 03 01 10 08 80  05 08 00 05 03 00 01 7D  .Q.............}
0150: 01 02 0A 00 12 80 80 67  01 03 01 10 08 80 05 08  .......g........
0160: 00 05 03 00 01 7D 01 02  0A 00 13 80 80 7D 01 03  .....}.......}..
0170: 01 10 08 80 05 08 00 05  03 00 01 7D 01 1B 03 01  ...........}....
0180: 10 0C 00 40 09 80 0A 80  01 10 0B 00 43 00 43 01  ...@........C.C.
0190: 03 01 10 00 80 03 0A 00  09 10 02 0A 00 10 80 80  ................
01A0: AD 01 03 01 10 08 80 05  08 00 01 FA 02 02 0A 00  ................
01B0: 11 80 80 C3 01 03 01 10  08 80 05 08 00 05 03 00  ................
01C0: 01 FA 02 02 0A 00 0C 80  80 D9 01 03 01 10 08 80  ................
01D0: 05 08 00 05 03 00 01 FA  02 02 0A 00 12 80 80 EF  ................
01E0: 01 03 01 10 08 80 05 08  00 05 03 00 01 FA 02 02  ................
01F0: 0A 00 13 80 80 05 02 03  01 10 08 80 05 08 00 05  ................
0200: 03 00 01 FA 02 02 0A 00  14 80 80 99 02 03 02 10  ................
0210: 04 00 03 03 10 00 80 48  15 80 23 62 04 80 F0 FF  .......H..#b....
0220: FF 7F F0 FF FF 7F 6D 61  69 6E 00 80 1C 16 80 45  ......main.....E
0230: 17 80 F0 FF FF 7F F0 FF  FF 7F 77 68 6F 31 00 80  ..........who1..
0240: 55 17 80 F0 FF FF 7F F0  FF FF 7F 77 68 6F 31 1C  U..........who1.
0250: 18 80 45 19 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..E..........fdo
0260: 31 00 80 55 19 80 F0 FF  FF 7F F0 FF FF 7F 66 64  1..U..........fd
0270: 6F 31 45 17 80 F0 FF FF  7F F0 FF FF 7F 77 68 69  o1E..........whi
0280: 31 00 80 1C 0A 80 30 05  08 00 05 03 00 40 00 80  1.....0......@..
0290: 13 80 01 10 14 80 01 FA  02 02 0A 00 1A 80 80 AC  ................
02A0: 02 03 01 10 08 80 05 08  00 01 FA 02 02 0A 00 1B  ................
02B0: 80 80 C2 02 03 01 10 08  80 05 08 00 05 03 00 01  ................
02C0: FA 02 02 0A 00 01 80 80  FA 02 0B 09 00 02 09 00  ................
02D0: 0A 80 02 F4 02 03 01 10  0C 00 40 09 80 0A 80 01  ..........@.....
02E0: 10 0B 80 43 00 43 01 05  08 00 48 0D 80 23 1C 0E  ...C.C....H..#..
02F0: 80 01 F7 02 1C 0F 80 01  FA 02 1B 1C 80 1D 80 1E  ................
0300: 80 1F 80 20 80 21 80 22  80 23 80 24 80 25 80 26  ... .!.".#.$.%.&
0310: 80 27 80 28 80 29 80 2A  80 2B 80 2C 80 2C 80 2C  .'.(.).*.+.,.,.,
0320: 80 2C 80 2C 80 2C 80 2C  80 2C 80 2C 80 2C 80 2C  .,.,.,.,.,.,.,.,
0330: 80 2C 80 2C 80 2C 80 2C  80 2C 80                 .,.,.,.,.,.     
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x03] ExtData[1]->WorkLocal[13] = Work_Zone[3]
  2: 0x0007 [0x06] Work_Zone[1] = 0
  3: 0x000A [0x9D] ExtData[1]->WorkLocal[5] = 0x02FB[ExtData[1]->WorkLocal[13]] // Read WORD
  4: 0x0012 [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=11*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[5])
  5: 0x001B [0x40] SET_BIT_WORK_RANGE(start_bit=16*, end_bit=29*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[6])
  6: 0x0024 [0x03] ExtData[1]->WorkLocal[12] = Work_Zone[1]
  7: 0x0029 [0x06] ExtData[1]->WorkLocal[3] = 0
  8: 0x002C [0x05] ExtData[1]->WorkLocal[7] = 1
  9: 0x002F [0x9D] ExtData[1]->WorkLocal[4] = 0x031B[ExtData[1]->WorkLocal[13]] // Read WORD
 10: 0x0037 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[4]
 11: 0x003C [0x03] Work_Zone[3] = 0*
 12: 0x0041 [0x03] Work_Zone[4] = 1*
 13: 0x0046 [0x48] [System] [8128*]:
    → "Join the fray with your \u000C\u0002[party/alliance] members in \u0001\u00058\u0002\u0000\u0000\u0000?\u007F1\u0000\u0007"
 14: 0x0049 [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x004A [0x06] ExtData[1]->WorkLocal[3] = 0
 16: 0x004D [0x05] ExtData[1]->WorkLocal[7] = 1
 17: 0x0050 [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x008A
 18: 0x0058 [0x24] CREATE_DIALOG(message_id=8100*, default_option=0x0007, option_flags=0*)
    → "Proceed?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 19: 0x005F [0x25] WAIT_DIALOG_SELECT()
 20: 0x0060 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0074
 21: 0x0068 [0x06] ExtData[1]->WorkLocal[7] = 0
 22: 0x006B [0x48] [System] [8107*]:
    → "Your request for entry is being considered...\u0000\u0007"
 23: 0x006E [0x1A] CALL_SUBROUTINE(address=0x008C)
 24: 0x0071 [0x01] GOTO 0x0087
 25: 0x0074 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0087
 26: 0x007C [0x03] Work_Zone[1] = 1073741824*
 27: 0x0081 [0x05] ExtData[1]->WorkLocal[3] = 1
 28: 0x0084 [0x01] GOTO 0x0087

SUBROUTINE_0087:
 29: 0x0087 [0x01] GOTO 0x0050
 30: 0x008A [0x21] END_EVENT
 31: 0x008B [0x00] END_REQSTACK()

SUBROUTINE_008C:
 32: 0x008C [0x06] ExtData[1]->WorkLocal[8] = 0
 33: 0x008F [0x06] ExtData[1]->WorkLocal[11] = 0
 34: 0x0092 [0x06] ExtData[1]->WorkLocal[9] = 0
 35: 0x0095 [0x02] IF !(ExtData[1]->WorkLocal[8] == 0*) GOTO 0x00BC
 36: 0x009D [0x02] IF !(ExtData[1]->WorkLocal[11] == 0*) GOTO 0x00AB
 37: 0x00A5 [0x1A] CALL_SUBROUTINE(address=0x00BD)
 38: 0x00A8 [0x01] GOTO 0x00B9
 39: 0x00AB [0x02] IF !(ExtData[1]->WorkLocal[11] == 1*) GOTO 0x00B9
 40: 0x00B3 [0x1A] CALL_SUBROUTINE(address=0x017E)
 41: 0x00B6 [0x01] GOTO 0x00B9

SUBROUTINE_00B9:
 42: 0x00B9 [0x01] GOTO 0x0095
 43: 0x00BC [0x1B] RETURN

SUBROUTINE_00BD:
 44: 0x00BD [0x03] Work_Zone[1] = ExtData[1]->WorkLocal[12]
 45: 0x00C2 [0x40] SET_BIT_WORK_RANGE(start_bit=12*, end_bit=15*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[11])
 46: 0x00CB [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 47: 0x00CD [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 48: 0x00CF [0x03] ExtData[1]->WorkLocal[10] = Work_Zone[9]
 49: 0x00D4 [0x03] Work_Zone[1] = 0*
 50: 0x00D9 [0x02] IF !(ExtData[1]->WorkLocal[10] == 1*) GOTO 0x00E9
 51: 0x00E1 [0x03] ExtData[1]->WorkLocal[11] = 1*
 52: 0x00E6 [0x01] GOTO 0x017D
 53: 0x00E9 [0x02] IF !(ExtData[1]->WorkLocal[10] == 2*) GOTO 0x010F
 54: 0x00F1 [0x0B] ExtData[1]->WorkLocal[9]++
 55: 0x00F4 [0x02] IF !(ExtData[1]->WorkLocal[9] <= 5*) GOTO 0x0109
 56: 0x00FC [0x05] ExtData[1]->WorkLocal[8] = 1
 57: 0x00FF [0x48] [System] [8104*]:
    → "You cannot enter at this time. Please wait a moment and try again.\u0000\u0007"
 58: 0x0102 [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0x0103 [0x1C] WAIT(60* ticks)
 60: 0x0106 [0x01] GOTO 0x010C
 61: 0x0109 [0x1C] WAIT(120* ticks)
 62: 0x010C [0x01] GOTO 0x017D
 63: 0x010F [0x02] IF !(ExtData[1]->WorkLocal[10] == 3*) GOTO 0x0125
 64: 0x0117 [0x03] Work_Zone[1] = 1073741824*
 65: 0x011C [0x05] ExtData[1]->WorkLocal[8] = 1
 66: 0x011F [0x05] ExtData[1]->WorkLocal[3] = 1
 67: 0x0122 [0x01] GOTO 0x017D
 68: 0x0125 [0x02] IF !(ExtData[1]->WorkLocal[10] == 4*) GOTO 0x013B
 69: 0x012D [0x03] Work_Zone[1] = 1073741824*
 70: 0x0132 [0x05] ExtData[1]->WorkLocal[8] = 1
 71: 0x0135 [0x05] ExtData[1]->WorkLocal[3] = 1
 72: 0x0138 [0x01] GOTO 0x017D
 73: 0x013B [0x02] IF !(ExtData[1]->WorkLocal[10] == 5*) GOTO 0x0151
 74: 0x0143 [0x03] Work_Zone[1] = 1073741824*
 75: 0x0148 [0x05] ExtData[1]->WorkLocal[8] = 1
 76: 0x014B [0x05] ExtData[1]->WorkLocal[3] = 1
 77: 0x014E [0x01] GOTO 0x017D
 78: 0x0151 [0x02] IF !(ExtData[1]->WorkLocal[10] == 6*) GOTO 0x0167
 79: 0x0159 [0x03] Work_Zone[1] = 1073741824*
 80: 0x015E [0x05] ExtData[1]->WorkLocal[8] = 1
 81: 0x0161 [0x05] ExtData[1]->WorkLocal[3] = 1
 82: 0x0164 [0x01] GOTO 0x017D
 83: 0x0167 [0x02] IF !(ExtData[1]->WorkLocal[10] == 7*) GOTO 0x017D
 84: 0x016F [0x03] Work_Zone[1] = 1073741824*
 85: 0x0174 [0x05] ExtData[1]->WorkLocal[8] = 1
 86: 0x0177 [0x05] ExtData[1]->WorkLocal[3] = 1
 87: 0x017A [0x01] GOTO 0x017D

SUBROUTINE_017D:
 88: 0x017D [0x1B] RETURN

SUBROUTINE_017E:
 89: 0x017E [0x03] Work_Zone[1] = ExtData[1]->WorkLocal[12]
 90: 0x0183 [0x40] SET_BIT_WORK_RANGE(start_bit=12*, end_bit=15*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[11])
 91: 0x018C [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 92: 0x018E [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 93: 0x0190 [0x03] Work_Zone[1] = 0*
 94: 0x0195 [0x03] ExtData[1]->WorkLocal[10] = Work_Zone[9]
 95: 0x019A [0x02] IF !(ExtData[1]->WorkLocal[10] == 3*) GOTO 0x01AD
 96: 0x01A2 [0x03] Work_Zone[1] = 1073741824*
 97: 0x01A7 [0x05] ExtData[1]->WorkLocal[8] = 1
 98: 0x01AA [0x01] GOTO 0x02FA
 99: 0x01AD [0x02] IF !(ExtData[1]->WorkLocal[10] == 4*) GOTO 0x01C3
100: 0x01B5 [0x03] Work_Zone[1] = 1073741824*
101: 0x01BA [0x05] ExtData[1]->WorkLocal[8] = 1
102: 0x01BD [0x05] ExtData[1]->WorkLocal[3] = 1
103: 0x01C0 [0x01] GOTO 0x02FA
104: 0x01C3 [0x02] IF !(ExtData[1]->WorkLocal[10] == 5*) GOTO 0x01D9
105: 0x01CB [0x03] Work_Zone[1] = 1073741824*
106: 0x01D0 [0x05] ExtData[1]->WorkLocal[8] = 1
107: 0x01D3 [0x05] ExtData[1]->WorkLocal[3] = 1
108: 0x01D6 [0x01] GOTO 0x02FA
109: 0x01D9 [0x02] IF !(ExtData[1]->WorkLocal[10] == 6*) GOTO 0x01EF
110: 0x01E1 [0x03] Work_Zone[1] = 1073741824*
111: 0x01E6 [0x05] ExtData[1]->WorkLocal[8] = 1
112: 0x01E9 [0x05] ExtData[1]->WorkLocal[3] = 1
113: 0x01EC [0x01] GOTO 0x02FA
114: 0x01EF [0x02] IF !(ExtData[1]->WorkLocal[10] == 7*) GOTO 0x0205
115: 0x01F7 [0x03] Work_Zone[1] = 1073741824*
116: 0x01FC [0x05] ExtData[1]->WorkLocal[8] = 1
117: 0x01FF [0x05] ExtData[1]->WorkLocal[3] = 1
118: 0x0202 [0x01] GOTO 0x02FA
119: 0x0205 [0x02] IF !(ExtData[1]->WorkLocal[10] == 8*) GOTO 0x0299
120: 0x020D [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[4]
121: 0x0212 [0x03] Work_Zone[3] = 0*
122: 0x0217 [0x48] [System] [8101*]:
    → "Now entering \u000C\u0001[/a skirmish in ////an alluvion skirmish in /]\u0001\u00058\u0002\u0000\u0000\u0000.\u0000\u0007"
123: 0x021A [0x23] WAIT_FOR_DIALOG_INTERACTION
124: 0x021B [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[1*, 0*]
125: 0x022C [0x1C] WAIT(90* ticks)
126: 0x022F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
127: 0x0240 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=201*
128: 0x024F [0x1C] WAIT(45* ticks)
129: 0x0252 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
130: 0x0263 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
131: 0x0272 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
132: 0x0283 [0x1C] WAIT(15* ticks)
133: 0x0286 [0x30] SET_UCOFF_CONTINUE_ZERO()
134: 0x0287 [0x05] ExtData[1]->WorkLocal[8] = 1
135: 0x028A [0x05] ExtData[1]->WorkLocal[3] = 1
136: 0x028D [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=7*, target=Work_Zone[1], source=8*)
137: 0x0296 [0x01] GOTO 0x02FA
138: 0x0299 [0x02] IF !(ExtData[1]->WorkLocal[10] == 9*) GOTO 0x02AC
139: 0x02A1 [0x03] Work_Zone[1] = 1073741824*
140: 0x02A6 [0x05] ExtData[1]->WorkLocal[8] = 1
141: 0x02A9 [0x01] GOTO 0x02FA
142: 0x02AC [0x02] IF !(ExtData[1]->WorkLocal[10] == 10*) GOTO 0x02C2
143: 0x02B4 [0x03] Work_Zone[1] = 1073741824*
144: 0x02B9 [0x05] ExtData[1]->WorkLocal[8] = 1
145: 0x02BC [0x05] ExtData[1]->WorkLocal[3] = 1
146: 0x02BF [0x01] GOTO 0x02FA
147: 0x02C2 [0x02] IF !(ExtData[1]->WorkLocal[10] == 11*) GOTO 0x02FA
148: 0x02CA [0x0B] ExtData[1]->WorkLocal[9]++
149: 0x02CD [0x02] IF !(ExtData[1]->WorkLocal[9] <= 15*) GOTO 0x02F4
150: 0x02D5 [0x03] Work_Zone[1] = ExtData[1]->WorkLocal[12]
151: 0x02DA [0x40] SET_BIT_WORK_RANGE(start_bit=12*, end_bit=15*, target=Work_Zone[1], source=2*)
152: 0x02E3 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
153: 0x02E5 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
154: 0x02E7 [0x05] ExtData[1]->WorkLocal[8] = 1
155: 0x02EA [0x48] [System] [8104*]:
    → "You cannot enter at this time. Please wait a moment and try again.\u0000\u0007"
156: 0x02ED [0x23] WAIT_FOR_DIALOG_INTERACTION
157: 0x02EE [0x1C] WAIT(60* ticks)
158: 0x02F1 [0x01] GOTO 0x02F7
159: 0x02F4 [0x1C] WAIT(120* ticks)
160: 0x02F7 [0x01] GOTO 0x02FA

SUBROUTINE_02FA:
161: 0x02FA [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x02FB (64 bytes)
     0x02FB: 1C 80 1D 80 1E 80 1F 80 20 80 21 80 22 80 23 80
     0x030B: 24 80 25 80 26 80 27 80 28 80 29 80 2A 80 2B 80
     0x031B: 2C 80 2C 80 2C 80 2C 80 2C 80 2C 80 2C 80 2C 80
     0x032B: 2C 80 2C 80 2C 80 2C 80 2C 80 2C 80 2C 80 2C 80
```