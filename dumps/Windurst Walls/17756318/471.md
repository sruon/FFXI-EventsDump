# Event 471

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/6       |
| Offset          | 0x0EBB    |
| Data Size       | 428 bytes |
| Calculated Size | 428 bytes |
| Instructions    | 63        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0EB0:                                   20 01 42 46 01              .BF.
0EC0: 4A 1C F0 0E 01 F0 FF FF  7F 5D 00 80 07 80 45 02  J........]....E.
0ED0: 80 F8 FF FF 7F F8 FF FF  7F 66 64 6F 31 00 80 1C  .........fdo1...
0EE0: 07 80 6F 76 1C F0 0E 01  38 04 80 29 08 F0 FF FF  ..ov....8..)....
0EF0: 7F 05 75 00 05 80 75 01  1C 03 80 5C 00 0A 80 5C  ..u...u....\...\
0F00: 01 0A 80 29 0B F0 FF FF  7F 69 4A 1C F0 0E 01 F0  ...).....iJ.....
0F10: FF FF 7F 6F 76 1C F0 0E  01 92 01 1C F0 0E 01 02  ...ov...........
0F20: 09 10 06 80 00 3B 0F 45  07 80 F8 FF FF 7F F8 FF  .....;.E........
0F30: FF 7F 73 31 30 35 00 80  01 68 0F 02 09 10 08 80  ..s105...h......
0F40: 00 57 0F 45 07 80 F8 FF  FF 7F F8 FF FF 7F 73 31  .W.E..........s1
0F50: 30 35 00 80 01 68 0F 45  07 80 F8 FF FF 7F F8 FF  05...h.E........
0F60: FF 7F 73 30 33 35 00 80  45 02 80 F8 FF FF 7F F8  ..s035..E.......
0F70: FF FF 7F 66 64 69 31 00  80 29 08 1C F0 0E 01 07  ...fdi1..)......
0F80: 2B 1C F0 0E 01 4F 80 23  29 08 1C F0 0E 01 08 29  +....O.#)......)
0F90: 08 1C F0 0E 01 0B 2B 1C  F0 0E 01 50 80 23 29 08  ......+....P.#).
0FA0: 1C F0 0E 01 0C 02 09 10  06 80 00 BF 0F 52 07 80  .............R..
0FB0: F8 FF FF 7F F8 FF FF 7F  73 31 30 35 01 E8 0F 02  ........s105....
0FC0: 09 10 08 80 00 D9 0F 52  07 80 F8 FF FF 7F F8 FF  .......R........
0FD0: FF 7F 73 31 30 35 01 E8  0F 52 07 80 F8 FF FF 7F  ..s105...R......
0FE0: F8 FF FF 7F 73 30 33 35  45 07 80 F8 FF FF 7F F8  ....s035E.......
0FF0: FF FF 7F 73 30 39 30 00  80 4E 01 F0 FF FF 7F 29  ...s090..N.....)
1000: 08 1C F0 0E 01 0F 2B 1C  F0 0E 01 51 80 23 29 08  ......+....Q.#).
1010: 1C F0 0E 01 10 5D 00 80  07 80 45 02 80 F0 FF FF  .....]....E.....
1020: 7F F0 FF FF 7F 66 64 6F  31 00 80 1C 07 80 52 07  .....fdo1.....R.
1030: 80 F8 FF FF 7F F8 FF FF  7F 73 30 39 30 5C 00 48  .........s090\.H
1040: 80 5C 01 48 80 4E 00 F0  FF FF 7F 80 F0 FF FF 7F  .\.H.N..........
1050: 46 00 45 02 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  F.E..........fdi
1060: 31 00 80 20 00 21 00                              1.. .!.         
```

## Opcodes

```
  0: 0x0EBB [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0EBD [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0EBE [0x46] CAMERA_CONTROL: Disable user control
  3: 0x0EC0 [0x4A] Yoran-Oran (ID: 17756188/0x010EF01C) looks at LocalPlayer
  4: 0x0EC9 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=120*)
  5: 0x0ECE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  6: 0x0EDF [0x1C] WAIT(120* ticks)
  7: 0x0EE2 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  8: 0x0EE3 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Yoran-Oran (ID: 17756188/0x010EF01C) Render.Flags0 and Render.Flags3 conditions are met
  9: 0x0EE8 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 10: 0x0EEB [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x05)
 11: 0x0EF2 [0x75] LOAD_ROOM(Load indoor room, room=402*)
 12: 0x0EF6 [0x75] LOAD_ROOM(No action)
 13: 0x0EF8 [0x1C] WAIT(60* ticks)
 14: 0x0EFB [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 163*
 15: 0x0EFF [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 163*
 16: 0x0F03 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x69)
 17: 0x0F0A [0x4A] Yoran-Oran (ID: 17756188/0x010EF01C) looks at LocalPlayer
 18: 0x0F13 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 19: 0x0F14 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Yoran-Oran (ID: 17756188/0x010EF01C) Render.Flags0 and Render.Flags3 conditions are met
 20: 0x0F19 [0x92] Yoran-Oran (ID: 17756188/0x010EF01C)->Render.Flags3 ^= 0x01
 21: 0x0F1F [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x0F3B
 22: 0x0F27 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s105" with entities [EventEntity, EventEntity], work=[120*, 0*]
 23: 0x0F38 [0x01] GOTO 0x0F68

SUBROUTINE_0F3B:
 24: 0x0F3B [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x0F57
 25: 0x0F43 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s105" with entities [EventEntity, EventEntity], work=[120*, 0*]
 26: 0x0F54 [0x01] GOTO 0x0F68

SUBROUTINE_0F57:
 27: 0x0F57 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s035" with entities [EventEntity, EventEntity], work=[120*, 0*]
 28: 0x0F68 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 29: 0x0F79 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Yoran-Oran (ID: 17756188/0x010EF01C), tag_num=0x07)
 30: 0x0F80 [0x2B] Yoran-Oran (ID: 17756188/0x010EF01C) [9454*]:
    → "Excellent, this is everything I need-ethy!\u0007I'll get straight-ethy to work!\u007F1\u0000\u0007"
 31: 0x0F87 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x0F88 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Yoran-Oran (ID: 17756188/0x010EF01C), tag_num=0x08)
 33: 0x0F8F [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Yoran-Oran (ID: 17756188/0x010EF01C), tag_num=0x0B)
 34: 0x0F96 [0x2B] Yoran-Oran (ID: 17756188/0x010EF01C) [9455*]:
    → "Oh, and make sure you find-ethy those three troublemakers before I finish repairing-ethy the mirror!\u007F1\u0000\u0007"
 35: 0x0F9D [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x0F9E [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Yoran-Oran (ID: 17756188/0x010EF01C), tag_num=0x0C)
 37: 0x0FA5 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x0FBF
 38: 0x0FAD [0x52] END_LOAD_SCHEDULER: End scheduler "s105" with entities [EventEntity, EventEntity], work=120*
 39: 0x0FBC [0x01] GOTO 0x0FE8

SUBROUTINE_0FBF:
 40: 0x0FBF [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x0FD9
 41: 0x0FC7 [0x52] END_LOAD_SCHEDULER: End scheduler "s105" with entities [EventEntity, EventEntity], work=120*
 42: 0x0FD6 [0x01] GOTO 0x0FE8

SUBROUTINE_0FD9:
 43: 0x0FD9 [0x52] END_LOAD_SCHEDULER: End scheduler "s035" with entities [EventEntity, EventEntity], work=120*
 44: 0x0FE8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s090" with entities [EventEntity, EventEntity], work=[120*, 0*]
 45: 0x0FF9 [0x4E] SET_ENTITY_HIDE_FLAG: Hide LocalPlayer
 46: 0x0FFF [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Yoran-Oran (ID: 17756188/0x010EF01C), tag_num=0x0F)
 47: 0x1006 [0x2B] Yoran-Oran (ID: 17756188/0x010EF01C) [9456*]:
    → "I must fix-ethy this mirror!\u0007I need to fix-ethy this mirror!\u0007I will fix-ethy this mirror!\u007F1\u0000\u0007"
 48: 0x100D [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0x100E [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Yoran-Oran (ID: 17756188/0x010EF01C), tag_num=0x10)
 50: 0x1015 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=120*)
 51: 0x101A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 52: 0x102B [0x1C] WAIT(120* ticks)
 53: 0x102E [0x52] END_LOAD_SCHEDULER: End scheduler "s090" with entities [EventEntity, EventEntity], work=120*
 54: 0x103D [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 151*
 55: 0x1041 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 151*
 56: 0x1045 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 57: 0x104B [0x80] LOAD_WAIT(entity=LocalPlayer)
 58: 0x1050 [0x46] CAMERA_CONTROL: Restore default settings
 59: 0x1052 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 60: 0x1063 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 61: 0x1065 [0x21] END_EVENT
 62: 0x1066 [0x00] END_REQSTACK()
```
