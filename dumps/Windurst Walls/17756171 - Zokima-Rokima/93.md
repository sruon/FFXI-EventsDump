# Event 93

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 24/101    |
| Offset          | 0x015E    |
| Data Size       | 514 bytes |
| Calculated Size | 514 bytes |
| Instructions    | 91        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0150:                                            1E F0                ..
0160: FF FF 7F 6F 70 1D 11 80  23 24 12 80 13 80 02 10  ...op...#$......
0170: 25 02 00 10 14 80 00 8A  01 29 0E 0B F0 0E 01 18  %........)......
0180: 29 0E 0B F0 0E 01 28 01  33 03 02 00 10 15 80 00  ).....(.3.......
0190: A3 01 29 0E 0B F0 0E 01  18 29 0E 0B F0 0E 01 2C  ..)......).....,
01A0: 01 33 03 02 00 10 16 80  00 BC 01 29 0E 0B F0 0E  .3.........)....
01B0: 01 18 29 0E 0B F0 0E 01  36 01 33 03 02 00 10 17  ..).....6.3.....
01C0: 80 00 D5 01 29 0E 0B F0  0E 01 18 29 0E 0B F0 0E  ....)......)....
01D0: 01 3A 01 33 03 02 00 10  18 80 00 EE 01 29 0E 0B  .:.3.........)..
01E0: F0 0E 01 18 29 0E 0B F0  0E 01 3E 01 33 03 02 00  ....).....>.3...
01F0: 10 19 80 00 07 02 29 0E  0B F0 0E 01 18 29 0E 0B  ......)......)..
0200: F0 0E 01 42 01 33 03 02  00 10 1A 80 00 20 02 29  ...B.3....... .)
0210: 0E 0B F0 0E 01 18 29 0E  0B F0 0E 01 44 01 33 03  ......).....D.3.
0220: 02 00 10 1B 80 00 39 02  29 0E 0B F0 0E 01 18 29  ......9.)......)
0230: 0E 0B F0 0E 01 46 01 33  03 02 00 10 1C 80 00 52  .....F.3.......R
0240: 02 29 0E 0B F0 0E 01 18  29 0E 0B F0 0E 01 4B 01  .)......).....K.
0250: 33 03 02 00 10 1D 80 00  6B 02 29 0E 0B F0 0E 01  3.......k.).....
0260: 18 29 0E 0B F0 0E 01 50  01 33 03 02 00 10 1E 80  .).....P.3......
0270: 00 84 02 29 0E 0B F0 0E  01 18 29 0E 0B F0 0E 01  ...)......).....
0280: 54 01 33 03 02 00 10 1F  80 00 9D 02 29 0E 0B F0  T.3.........)...
0290: 0E 01 18 29 0E 0B F0 0E  01 56 01 33 03 02 00 10  ...).....V.3....
02A0: 20 80 00 B6 02 29 0E 0B  F0 0E 01 18 29 0E 0B F0   ....)......)...
02B0: 0E 01 58 01 33 03 02 00  10 21 80 00 CF 02 29 0E  ..X.3....!....).
02C0: 0B F0 0E 01 18 29 0E 0B  F0 0E 01 5A 01 33 03 02  .....).....Z.3..
02D0: 00 10 22 80 00 E8 02 29  0E 0B F0 0E 01 18 29 0E  .."....)......).
02E0: 0B F0 0E 01 5C 01 33 03  02 00 10 23 80 00 01 03  ....\.3....#....
02F0: 29 0E 0B F0 0E 01 18 29  0E 0B F0 0E 01 5E 01 33  )......).....^.3
0300: 03 02 00 10 24 80 00 1A  03 29 0E 0B F0 0E 01 18  ....$....)......
0310: 29 0E 0B F0 0E 01 60 01  33 03 02 00 10 25 80 00  ).....`.3....%..
0320: 33 03 29 0E 0B F0 0E 01  18 29 0E 0B F0 0E 01 62  3.)......).....b
0330: 01 33 03 03 01 10 00 10  02 01 10 13 80 01 5C 03  .3............\.
0340: 24 26 80 27 80 27 80 25  02 00 10 14 80 00 5C 03  $&.'.'.%......\.
0350: 03 01 10 13 80 20 00 21  00 01 5C 03 20 00 21 00  ..... .!..\. .!.
```

## Opcodes

```
  0: 0x015E [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0163 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0164 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0165 [0x1D] PRINT_EVENT_MESSAGE(message_id=7290*)
    → "Letaru me see...\u0007The missions you are able to receive...\u007F1\u0000\u0007"
  4: 0x0168 [0x23] WAIT_FOR_DIALOG_INTERACTION
  5: 0x0169 [0x24] CREATE_DIALOG(message_id=7291*, default_option=31*, option_flags=Work_Zone[2])
    → "Which mission will you accept?\u0007\u000BThe Horutoto Ruins Experiment.\u0007The Heart of the Matter.\u0007The Price of Peace.\u0007Lost for Words.\u0007A Testing Time.\u0007The Three Kingdoms.\u0007Mission 2-3-1A.\u0007Mission 2-3-1B.\u0007Mission 2-3-2A.\u0007Mission 2-3-2B.\u0007To Each His Own Right.\u0007Written in the Stars.\u0007A New Journey.\u0007Magicite.\u0007The Final Seal.\u0007The Shadow Awaits.\u0007Full Moon Fountain.\u0007Saintly Invitation.\u0007The Sixth Ministry.\u0007Awakening of the Gods.\u0007Vain.\u0007The Jester Who'd Be King.\u0007Doll of the Dead.\u0007Moon Reading.\u0007Dummy11.\u0007Dummy12.\u0007Dummy13.\u0007Dummy14.\u0007Dummy15.\u0007Dummy16.\u0007Dummy17.\u0007Decline mission.\u007F1\u0000\u0007"
  6: 0x0170 [0x25] WAIT_DIALOG_SELECT()
  7: 0x0171 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x018A
  8: 0x0179 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
  9: 0x0180 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x28)
 10: 0x0187 [0x01] GOTO 0x0333
 11: 0x018A [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x01A3
 12: 0x0192 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 13: 0x0199 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x2C)
 14: 0x01A0 [0x01] GOTO 0x0333
 15: 0x01A3 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x01BC
 16: 0x01AB [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 17: 0x01B2 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x36)
 18: 0x01B9 [0x01] GOTO 0x0333
 19: 0x01BC [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x01D5
 20: 0x01C4 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 21: 0x01CB [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x3A)
 22: 0x01D2 [0x01] GOTO 0x0333
 23: 0x01D5 [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x01EE
 24: 0x01DD [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 25: 0x01E4 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x3E)
 26: 0x01EB [0x01] GOTO 0x0333
 27: 0x01EE [0x02] IF !(Work_Zone[0] == 10*) GOTO 0x0207
 28: 0x01F6 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 29: 0x01FD [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x42)
 30: 0x0204 [0x01] GOTO 0x0333
 31: 0x0207 [0x02] IF !(Work_Zone[0] == 11*) GOTO 0x0220
 32: 0x020F [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 33: 0x0216 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x44)
 34: 0x021D [0x01] GOTO 0x0333
 35: 0x0220 [0x02] IF !(Work_Zone[0] == 12*) GOTO 0x0239
 36: 0x0228 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 37: 0x022F [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x46)
 38: 0x0236 [0x01] GOTO 0x0333
 39: 0x0239 [0x02] IF !(Work_Zone[0] == 14*) GOTO 0x0252
 40: 0x0241 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 41: 0x0248 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x4B)
 42: 0x024F [0x01] GOTO 0x0333
 43: 0x0252 [0x02] IF !(Work_Zone[0] == 15*) GOTO 0x026B
 44: 0x025A [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 45: 0x0261 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x50)
 46: 0x0268 [0x01] GOTO 0x0333
 47: 0x026B [0x02] IF !(Work_Zone[0] == 16*) GOTO 0x0284
 48: 0x0273 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 49: 0x027A [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x54)
 50: 0x0281 [0x01] GOTO 0x0333
 51: 0x0284 [0x02] IF !(Work_Zone[0] == 17*) GOTO 0x029D
 52: 0x028C [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 53: 0x0293 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x56)
 54: 0x029A [0x01] GOTO 0x0333
 55: 0x029D [0x02] IF !(Work_Zone[0] == 18*) GOTO 0x02B6
 56: 0x02A5 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 57: 0x02AC [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x58)
 58: 0x02B3 [0x01] GOTO 0x0333
 59: 0x02B6 [0x02] IF !(Work_Zone[0] == 19*) GOTO 0x02CF
 60: 0x02BE [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 61: 0x02C5 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x5A)
 62: 0x02CC [0x01] GOTO 0x0333
 63: 0x02CF [0x02] IF !(Work_Zone[0] == 20*) GOTO 0x02E8
 64: 0x02D7 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 65: 0x02DE [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x5C)
 66: 0x02E5 [0x01] GOTO 0x0333
 67: 0x02E8 [0x02] IF !(Work_Zone[0] == 21*) GOTO 0x0301
 68: 0x02F0 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 69: 0x02F7 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x5E)
 70: 0x02FE [0x01] GOTO 0x0333
 71: 0x0301 [0x02] IF !(Work_Zone[0] == 22*) GOTO 0x031A
 72: 0x0309 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 73: 0x0310 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x60)
 74: 0x0317 [0x01] GOTO 0x0333
 75: 0x031A [0x02] IF !(Work_Zone[0] == 23*) GOTO 0x0333
 76: 0x0322 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x18)
 77: 0x0329 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Zokima-Rokima (ID: 17756171/0x010EF00B), tag_num=0x62)
 78: 0x0330 [0x01] GOTO 0x0333

SUBROUTINE_0333:
 79: 0x0333 [0x03] Work_Zone[1] = Work_Zone[0]
 80: 0x0338 [0x02] IF !(Work_Zone[1] == 31*) GOTO 0x035C
 81: 0x0340 [0x24] CREATE_DIALOG(message_id=6749*, default_option=0*, option_flags=0*)
    → "Accept this mission?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 82: 0x0347 [0x25] WAIT_DIALOG_SELECT()
 83: 0x0348 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x035C
 84: 0x0350 [0x03] Work_Zone[1] = 31*
 85: 0x0355 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 86: 0x0357 [0x21] END_EVENT
 87: 0x0358 [0x00] END_REQSTACK()

SUBROUTINE_035C:
 88: 0x035C [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 89: 0x035E [0x21] END_EVENT
 90: 0x035F [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0359 [0x01] GOTO 0x035C
```