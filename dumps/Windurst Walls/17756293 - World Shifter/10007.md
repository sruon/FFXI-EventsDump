# Event 10007

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/3       |
| Offset          | 0x0001    |
| Data Size       | 297 bytes |
| Calculated Size | 297 bytes |
| Instructions    | 58        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    08 03 10 00 80 1E F0  FF FF 7F 1D 01 80 23 1D   .............#.
0010: 02 80 23 1D 03 80 23 1D  04 80 23 02 02 10 05 80  ..#...#...#.....
0020: 00 27 00 1D 06 80 23 1D  07 80 23 1D 08 80 23 1D  .'....#...#...#.
0030: 09 80 23 1D 0A 80 23 1D  0B 80 23 1D 0C 80 23 1D  ..#...#...#...#.
0040: 0D 80 23 24 0E 80 0F 80  05 80 25 02 00 10 0F 80  ..#$......%.....
0050: 00 5D 00 03 01 10 10 80  21 00 01 5D 00 02 02 10  .]......!..]....
0060: 0F 80 00 28 01 42 03 00  00 04 10 03 01 00 04 10  ...(.B..........
0070: 0E 00 00 11 80 0E 01 00  12 80 03 02 00 00 00 10  ................
0080: 00 00 0F 80 02 01 00 13  80 00 96 00 3C 00 00 14  ............<...
0090: 80 0F 80 01 9D 00 3D 00  00 14 80 0F 80 11 01 00  ......=.........
00A0: 15 80 3D 01 00 05 80 0F  80 02 02 00 13 80 00 BE  ..=.............
00B0: 00 3C 01 00 16 80 0F 80  01 E7 00 01 C5 00 3D 01  .<............=.
00C0: 00 16 80 0F 80 24 17 80  05 80 00 00 25 02 00 10  .....$......%...
00D0: 05 80 00 DF 00 03 01 10  10 80 21 00 01 1E 01 02  ..........!.....
00E0: 00 10 14 80 00 1E 01 24  18 80 05 80 01 00 25 02  .......$......%.
00F0: 00 10 05 80 00 01 01 03  01 10 10 80 21 00 01 0F  ............!...
0100: 01 02 00 10 16 80 00 0F  01 01 C5 00 01 0F 01 03  ................
0110: 01 10 00 10 07 01 10 19  80 21 00 01 1E 01 03 01  .........!......
0120: 10 00 10 07 01 10 1A 80  21 00                    ........!.      
```

## Opcodes

```
  0: 0x0001 [0x08] Work_Zone[3] -= 100*
  1: 0x0006 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x000B [0x1D] PRINT_EVENT_MESSAGE(message_id=8134*)
    → "The WES (World Emigration Service) is currently taking applications for those who wish to immigrate to another World.\u007F1\u0000\u0007"
  3: 0x000E [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x000F [0x1D] PRINT_EVENT_MESSAGE(message_id=8135*)
    → "When applying, please note the following:\u007F1\u0000\u0007"
  5: 0x0012 [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x0013 [0x1D] PRINT_EVENT_MESSAGE(message_id=8136*)
    → "You can always cancel your emigration during the application period by talking to any of the WES agents located conveniently about Vana'diel. However, once the period is over, you will no longer be able to cancel.\u007F1\u0000\u0007"
  7: 0x0016 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x0017 [0x1D] PRINT_EVENT_MESSAGE(message_id=8137*)
    → "After immigrating to another World, you will not be allowed to return to your previous World. Also, emigration is only allowed during periods when the WES is accepting applications.\u007F1\u0000\u0007"
  9: 0x001A [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x001B [0x02] IF !(Work_Zone[2] == 0*) GOTO 0x0027
 11: 0x0023 [0x1D] PRINT_EVENT_MESSAGE(message_id=8138*)
    → "You will be unable to choose the World to which you wish to emigrate. For more information on Worlds that we are accepting emigration applications for, please check the current PlayOnline news.\u007F1\u0000\u0007"
 12: 0x0026 [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x0027 [0x1D] PRINT_EVENT_MESSAGE(message_id=8139*)
    → "If your character happens to have the same name as another player in the World to which you emigrate, you will have to change your name before entering that World.\u007F1\u0000\u0007"
 14: 0x002A [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x002B [0x1D] PRINT_EVENT_MESSAGE(message_id=8140*)
    → "Emigration of characters is done one at a time.\u007F1\u0000\u0007"
 16: 0x002E [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x002F [0x1D] PRINT_EVENT_MESSAGE(message_id=8141*)
    → "If you request emigration for any of your other characters, please conduct all applications separately.\u007F1\u0000\u0007"
 18: 0x0032 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x0033 [0x1D] PRINT_EVENT_MESSAGE(message_id=8142*)
    → "All items up for auction and in your Delivery Box will be lost when you emigrate. Please collect these items before moving.\u007F1\u0000\u0007"
 20: 0x0036 [0x23] WAIT_FOR_DIALOG_INTERACTION
 21: 0x0037 [0x1D] PRINT_EVENT_MESSAGE(message_id=8143*)
    → "Any items in your Mog Safe will be transported with you to the new World.\u007F1\u0000\u0007"
 22: 0x003A [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x003B [0x1D] PRINT_EVENT_MESSAGE(message_id=8144*)
    → "Any linkshells, linkpearls, and pearl sacks will be destroyed at the time of emigration. However, linkshell owners will be presented with a new, unopened linkshell.\u007F1\u0000\u0007"
 24: 0x003E [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x003F [0x1D] PRINT_EVENT_MESSAGE(message_id=8145*)
    → "Finally, all markers placed on your maps will be erased.\u007F1\u0000\u0007"
 26: 0x0042 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x0043 [0x24] CREATE_DIALOG(message_id=8146*, default_option=1*, option_flags=0*)
    → "Do you wish to apply for emigration?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 28: 0x004A [0x25] WAIT_DIALOG_SELECT()
 29: 0x004B [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x005D
 30: 0x0053 [0x03] Work_Zone[1] = 1073741824*
 31: 0x0058 [0x21] END_EVENT
 32: 0x0059 [0x00] END_REQSTACK()

SUBROUTINE_005D:
 33: 0x005D [0x02] IF !(Work_Zone[2] == 1*) GOTO 0x0128
 34: 0x0065 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 35: 0x0066 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[4]
 36: 0x006B [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[4]
 37: 0x0070 [0x0E] ExtData[1]->WorkLocal[0] |= 4293918720*
 38: 0x0075 [0x0E] ExtData[1]->WorkLocal[1] |= 1048575*
 39: 0x007A [0x03] ExtData[1]->WorkLocal[2] = ExtData[1]->WorkLocal[0]
 40: 0x007F [0x10] ExtData[1]->WorkLocal[0] <<= 1*
 41: 0x0084 [0x02] IF !(ExtData[1]->WorkLocal[1] == 4294967295*) GOTO 0x0096
 42: 0x008C [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8014, condition_work_offset=0x800F)
 43: 0x0093 [0x01] GOTO 0x009D
 44: 0x0096 [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x00, bit_index_work_offset=0x8014, condition_work_offset=0x800F)
 45: 0x009D [0x11] ExtData[1]->WorkLocal[1] >>= 19*
 46: 0x00A2 [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x01, bit_index_work_offset=0x8005, condition_work_offset=0x800F)
 47: 0x00A9 [0x02] IF !(ExtData[1]->WorkLocal[2] == 4294967295*) GOTO 0x00BE
 48: 0x00B1 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x01, bit_index_work_offset=0x8016, condition_work_offset=0x800F)
 49: 0x00B8 [0x01] GOTO 0x00E7

SUBROUTINE_010F:
 50: 0x010F [0x03] Work_Zone[1] = Work_Zone[0]
 51: 0x0114 [0x07] Work_Zone[1] += 119*
 52: 0x0119 [0x21] END_EVENT
 53: 0x011A [0x00] END_REQSTACK()

SUBROUTINE_011E:
 54: 0x011E [0x03] Work_Zone[1] = Work_Zone[0]
 55: 0x0123 [0x07] Work_Zone[1] += 99*
 56: 0x0128 [0x21] END_EVENT
 57: 0x0129 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x005A [0x01] GOTO 0x005D
# Dead code (unreachable instructions):
     0x00BB [0x01] GOTO 0x00C5
     0x00DC [0x01] GOTO 0x011E
     0x00FE [0x01] GOTO 0x010F
     0x010C [0x01] GOTO 0x010F
# Dead code (unreachable instructions):
     0x011B [0x01] GOTO 0x011E
```