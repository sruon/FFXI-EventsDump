# Event 397

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 125/236   |
| Offset          | 0x0F92    |
| Data Size       | 538 bytes |
| Calculated Size | 538 bytes |
| Instructions    | 74        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0F90:       20 01 42 46 01 1E  F0 FF FF 7F 6F 70 45 60     .BF......opE`
0FA0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 18 80 1C  .........fdo1...
0FB0: 02 80 75 00 61 80 75 01  38 83 80 29 0B F0 FF FF  ..u.a.u.8..)....
0FC0: 7F 20 1E F0 FF FF 7F 4A  F0 FF FF 7F 1A F0 0E 01  . .....J........
0FD0: 6F 70 1C 20 80 45 62 80  F0 FF FF 7F F0 FF FF 7F  op. .Eb.........
0FE0: 73 31 30 39 18 80 45 60  80 F0 FF FF 7F F0 FF FF  s109..E`........
0FF0: 7F 66 64 69 31 18 80 29  08 1A F0 0E 01 07 1D 84  .fdi1..)........
1000: 80 23 29 08 1A F0 0E 01  08 45 62 80 F0 FF FF 7F  .#)......Eb.....
1010: F0 FF FF 7F 73 31 31 30  18 80 29 08 1A F0 0E 01  ....s110..).....
1020: 09 1D 85 80 23 45 60 80  F0 FF FF 7F F0 FF FF 7F  ....#E`.........
1030: 66 64 6F 31 18 80 1C 65  80 29 08 1A F0 0E 01 0A  fdo1...e.)......
1040: 45 62 80 F0 FF FF 7F F0  FF FF 7F 73 31 31 31 18  Eb.........s111.
1050: 80 45 60 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 31  .E`.........fdi1
1060: 18 80 1D 89 80 23 52 62  80 F0 FF FF 7F F0 FF FF  .....#Rb........
1070: 7F 73 31 31 31 45 60 80  F0 FF FF 7F F0 FF FF 7F  .s111E`.........
1080: 6F 76 6C 31 18 80 45 62  80 F0 FF FF 7F F0 FF FF  ovl1..Eb........
1090: 7F 73 31 30 39 18 80 29  08 1A F0 0E 01 01 1D 8A  .s109..)........
10A0: 80 23 29 08 1A F0 0E 01  02 45 62 80 F0 FF FF 7F  .#)......Eb.....
10B0: F0 FF FF 7F 73 31 31 32  18 80 29 08 1A F0 0E 01  ....s112..).....
10C0: 03 1D 8B 80 23 29 08 1A  F0 0E 01 04 52 62 80 F0  ....#)......Rb..
10D0: FF FF 7F F0 FF FF 7F 73  31 31 32 45 60 80 F0 FF  .......s112E`...
10E0: FF 7F F0 FF FF 7F 6F 76  6C 31 18 80 45 62 80 F0  ......ovl1..Eb..
10F0: FF FF 7F F0 FF FF 7F 73  31 31 30 18 80 29 08 1A  .......s110..)..
1100: F0 0E 01 05 1D 8C 80 23  45 60 80 F0 FF FF 7F F0  .......#E`......
1110: FF FF 7F 66 64 6F 31 18  80 1C 65 80 29 08 1A F0  ...fdo1...e.)...
1120: 0E 01 06 1D 8D 80 23 62  8E 80 F8 FF FF 7F F8 FF  ......#b........
1130: FF 7F 6D 61 69 6E 18 80  1C 20 80 29 08 1A F0 0E  ..main... .)....
1140: 01 29 45 62 80 F0 FF FF  7F F0 FF FF 7F 73 31 30  .)Eb.........s10
1150: 39 18 80 45 60 80 F0 FF  FF 7F F0 FF FF 7F 66 64  9..E`.........fd
1160: 69 31 18 80 1D 8F 80 23  45 60 80 F0 FF FF 7F F0  i1.....#E`......
1170: FF FF 7F 66 64 6F 31 18  80 1C 65 80 29 08 1A F0  ...fdo1...e.)...
1180: 0E 01 2A 52 62 80 F0 FF  FF 7F F0 FF FF 7F 73 31  ..*Rb.........s1
1190: 31 30 46 00 1C 60 80 45  60 80 F0 FF FF 7F F0 FF  10F..`.E`.......
11A0: FF 7F 66 64 69 31 18 80  20 00 21 00              ..fdi1.. .!.    
```

## Opcodes

```
  0: 0x0F92 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0F94 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0F95 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x0F97 [0x1E] EventEntity looks at LocalPlayer and starts talking
  4: 0x0F9C [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  5: 0x0F9D [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  6: 0x0F9E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  7: 0x0FAF [0x1C] WAIT(60* ticks)
  8: 0x0FB2 [0x75] LOAD_ROOM(Load indoor room, room=405*)
  9: 0x0FB6 [0x75] LOAD_ROOM(No action)
 10: 0x0FB8 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 11: 0x0FBB [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x20)
 12: 0x0FC2 [0x1E] EventEntity looks at LocalPlayer and starts talking
 13: 0x0FC7 [0x4A] LocalPlayer looks at Shantotto (ID: 17756186/0x010EF01A)
 14: 0x0FD0 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 15: 0x0FD1 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 16: 0x0FD2 [0x1C] WAIT(300* ticks)
 17: 0x0FD5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s109" with entities [LocalPlayer, LocalPlayer], work=[139*, 0*]
 18: 0x0FE6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 19: 0x0FF7 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0x07)
 20: 0x0FFE [0x1D] PRINT_EVENT_MESSAGE(message_id=8841*)
    → "You said something!?\u0007You've collected all five of the minister rings!?\u007F1\u0000\u0007"
 21: 0x1001 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x1002 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0x08)
 23: 0x1009 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s110" with entities [LocalPlayer, LocalPlayer], work=[139*, 0*]
 24: 0x101A [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0x09)
 25: 0x1021 [0x1D] PRINT_EVENT_MESSAGE(message_id=8842*)
    → "...Well, well, well.\u0007I never believed you would actually get them all.\u0007Come on then, let's have a look at them, don't stall.\u007F1\u0000\u0007"
 26: 0x1024 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x1025 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 28: 0x1036 [0x1C] WAIT(100* ticks)
 29: 0x1039 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0x0A)
 30: 0x1040 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s111" with entities [LocalPlayer, LocalPlayer], work=[139*, 0*]
 31: 0x1051 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 32: 0x1062 [0x1D] PRINT_EVENT_MESSAGE(message_id=8846*)
    → "...You've done well.\u0007But the fact that a ragtag adventurer such as you could bring together all five rings...\u0007Something about that just chills my bones and makes me cringe.\u007F1\u0000\u0007"
 33: 0x1065 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x1066 [0x52] END_LOAD_SCHEDULER: End scheduler "s111" with entities [LocalPlayer, LocalPlayer], work=139*
 35: 0x1075 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 36: 0x1086 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s109" with entities [LocalPlayer, LocalPlayer], work=[139*, 0*]
 37: 0x1097 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0x01)
 38: 0x109E [0x1D] PRINT_EVENT_MESSAGE(message_id=8847*)
    → "This undertaking will most likely leave a mark on Windurst's history.\u007F1\u0000\u0007"
 39: 0x10A1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x10A2 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0x02)
 41: 0x10A9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s112" with entities [LocalPlayer, LocalPlayer], work=[139*, 0*]
 42: 0x10BA [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0x03)
 43: 0x10C1 [0x1D] PRINT_EVENT_MESSAGE(message_id=8848*)
    → "And now that we have all of the ministers in on the act, Apururu won't have to shoulder all the blame, will she?\u007F1\u0000\u0007"
 44: 0x10C4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 45: 0x10C5 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0x04)
 46: 0x10CC [0x52] END_LOAD_SCHEDULER: End scheduler "s112" with entities [LocalPlayer, LocalPlayer], work=139*
 47: 0x10DB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 48: 0x10EC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s110" with entities [LocalPlayer, LocalPlayer], work=[139*, 0*]
 49: 0x10FD [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0x05)
 50: 0x1104 [0x1D] PRINT_EVENT_MESSAGE(message_id=8849*)
    → "...Right, then.\u0007Let's complete the final preparations.\u007F1\u0000\u0007"
 51: 0x1107 [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x1108 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 53: 0x1119 [0x1C] WAIT(100* ticks)
 54: 0x111C [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0x06)
 55: 0x1123 [0x1D] PRINT_EVENT_MESSAGE(message_id=8850*)
    → "Hocus-pocus circularum-focus!\u007F1\u0000\u0007"
 56: 0x1126 [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x1127 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [EventEntity, EventEntity], work=[14*, 0*]
 58: 0x1138 [0x1C] WAIT(300* ticks)
 59: 0x113B [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0x29)
 60: 0x1142 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s109" with entities [LocalPlayer, LocalPlayer], work=[139*, 0*]
 61: 0x1153 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 62: 0x1164 [0x1D] PRINT_EVENT_MESSAGE(message_id=8851*)
    → "Ohohoho!\u0007Behold, the forbidden \u0001\u00053\u0002\u0003\u0000\u0000!\u0007Now all that's left is for you to take this to Apururu.\u007F1\u0000\u0007"
 63: 0x1167 [0x23] WAIT_FOR_DIALOG_INTERACTION
 64: 0x1168 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 65: 0x1179 [0x1C] WAIT(100* ticks)
 66: 0x117C [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0x2A)
 67: 0x1183 [0x52] END_LOAD_SCHEDULER: End scheduler "s110" with entities [LocalPlayer, LocalPlayer], work=139*
 68: 0x1192 [0x46] CAMERA_CONTROL: Restore default settings
 69: 0x1194 [0x1C] WAIT(200* ticks)
 70: 0x1197 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 71: 0x11A8 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 72: 0x11AA [0x21] END_EVENT
 73: 0x11AB [0x00] END_REQSTACK()
```
