# 17756385 - Babban Ny Mheillea

## Common Data

| Field            | Value                    |
|------------------|--------------------------|
| Zone             | Windurst Walls (ID: 239) |
| Block Size       | 2380 bytes               |
| Total Events     | 4                        |
| References Count | 108                      |

## List of Events

| Event ID              | Entrypoint   |   Size |   Instructions |
|-----------------------|--------------|--------|----------------|
| [65535](#event-65535) | 0x0000       |      1 |              1 |
| [541](#event-541)     | 0x0001       |     45 |             12 |
| [542](#event-542)     | 0x002E       |    274 |             75 |
| [543](#event-543)     | 0x0140       |   1594 |            338 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x0871      |        2161 |
|       1 | 0x0000      |           0 |
|       2 | 0x2938      |       10552 |
|       3 | 0x293A      |       10554 |
|       4 | 0x0050      |          80 |
|       5 | 0x293C      |       10556 |
|       6 | 0x293D      |       10557 |
|       7 | 0x293E      |       10558 |
|       8 | 0x293F      |       10559 |
|       9 | 0x2940      |       10560 |
|      10 | 0x2941      |       10561 |
|      11 | 0x2942      |       10562 |
|      12 | 0x2943      |       10563 |
|      13 | 0x0001      |           1 |
|      14 | 0x2945      |       10565 |
|      15 | 0x2946      |       10566 |
|      16 | 0x2947      |       10567 |
|      17 | 0x2948      |       10568 |
|      18 | 0x2949      |       10569 |
|      19 | 0x294A      |       10570 |
|      20 | 0x294B      |       10571 |
|      21 | 0x294C      |       10572 |
|      22 | 0x294D      |       10573 |
|      23 | 0x294E      |       10574 |
|      24 | 0x294F      |       10575 |
|      25 | 0x0064      |         100 |
|      26 | 0x2951      |       10577 |
|      27 | 0x2950      |       10576 |
|      28 | 0x000A      |          10 |
|      29 | 0x2944      |       10564 |
|      30 | 0x000B      |          11 |
|      31 | 0x2952      |       10578 |
|      32 | 0x0062      |          98 |
|      33 | 0x009F      |         159 |
|      34 | 0x007D      |         125 |
|      35 | 0x2953      |       10579 |
|      36 | 0x2954      |       10580 |
|      37 | 0x2955      |       10581 |
|      38 | 0x0002      |           2 |
|      39 | 0x2956      |       10582 |
|      40 | 0x2957      |       10583 |
|      41 | 0x0038      |          56 |
|      42 | 0x295A      |       10586 |
|      43 | 0x2959      |       10585 |
|      44 | 0x2958      |       10584 |
|      45 | 0x000C      |          12 |
|      46 | 0x0003      |           3 |
|      47 | 0x0004      |           4 |
|      48 | 0x2969      |       10601 |
|      49 | 0x0005      |           5 |
|      50 | 0x0015      |          21 |
|      51 | 0x0006      |           6 |
|      52 | 0x2968      |       10600 |
|      53 | 0x0017      |          23 |
|      54 | 0x0007      |           7 |
|      55 | 0x296A      |       10602 |
|      56 | 0x0008      |           8 |
|      57 | 0x0016      |          22 |
|      58 | 0x00C8      |         200 |
|      59 | 0x1ADB0     |      110000 |
|      60 | 0x251C0     |      152000 |
|      61 | 0xFFFFD314  |  4294955796 |
|      62 | 0x0800      |        2048 |
|      63 | 0xFFFFF060  |  4294963296 |
|      64 | 0x44D90     |      282000 |
|      65 | 0xFFFFD6E4  |  4294956772 |
|      66 | 0x0418      |        1048 |
|      67 | 0xFFFD3140  |  4294783296 |
|      68 | 0x24220     |      148000 |
|      69 | 0xFFFFF4B7  |  4294964407 |
|      70 | 0x295B      |       10587 |
|      71 | 0x295C      |       10588 |
|      72 | 0x6852      |       26706 |
|      73 | 0x6CCF      |       27855 |
|      74 | 0x279F      |       10143 |
|      75 | 0x5623      |       22051 |
|      76 | 0x1A27      |        6695 |
|      77 | 0x01F4      |         500 |
|      78 | 0x012C      |         300 |
|      79 | 0x05DC      |        1500 |
|      80 | 0x07E0      |        2016 |
|      81 | 0x295D      |       10589 |
|      82 | 0x000E      |          14 |
|      83 | 0x000F      |          15 |
|      84 | 0x0010      |          16 |
|      85 | 0x0018      |          24 |
|      86 | 0x0019      |          25 |
|      87 | 0x295E      |       10590 |
|      88 | 0x295F      |       10591 |
|      89 | 0x2960      |       10592 |
|      90 | 0x0032      |          50 |
|      91 | 0x2961      |       10593 |
|      92 | 0x0033      |          51 |
|      93 | 0x0034      |          52 |
|      94 | 0x2962      |       10594 |
|      95 | 0x2963      |       10595 |
|      96 | 0x0035      |          53 |
|      97 | 0x0036      |          54 |
|      98 | 0x0037      |          55 |
|      99 | 0x2964      |       10596 |
|     100 | 0x0011      |          17 |
|     101 | 0x0051      |          81 |
|     102 | 0x2965      |       10597 |
|     103 | 0x2966      |       10598 |
|     104 | 0x2967      |       10599 |
|     105 | 0x0012      |          18 |
|     106 | 0x0013      |          19 |
|     107 | 0x0014      |          20 |

## String References

- **10552**: The mandragora flutters about in consternation.
- **10554**: Babban Ny Mheillea looks fondly in your direction.
- **10556**: Nice to meet you, my [kinda/really] tall friend! I'm Babban Ny Mheillea!
- **10557**: Oh, <Player>! I'm so glad to see you!
- **10558**: You must be really special to be able to change forms like that! But I could tell who you were right away!
- **10559**: My friends and I are playing a fun game called "sunshine seeker," where we search for shards of sunlight!
- **10560**: Just give them a little squeeze and you'll see how warm and bright they are!
- **10561**: But my friends're so much better than I am...
- **10562**: Maybe you could lend me a hand! Yours're much bigger than mine!
- **10563**: Lend Babban a hand? [I'll lend you two!/I'm a bit busy right now.]
- **10564**: Aww... Hopefully you'll change your mind. I'll be waiting here!
- **10565**: Hooray! Maybe I'll finally be able to win!
- **10566**: I'll give you some small seeds in exchange for the shards of sunlight you bring back.
- **10567**: Even better! I've got some special things available for you to buy with your seeds!
- **10568**: But here's the best part--If you try your luck with my grab bag enough times, you might win something really super!
- **10569**: One of the rules of the game is that you must be a mandragora, like me, or else you won't be able to collect any shards.
- **10570**: They can be found all around here. But if you don't hurry, someone else might gobble them up.
- **10571**: But once you've taken them from one place, you can't get any more from there by searching it repeatedly!
- **10572**: Shards of sunlight are really delicate, so they'll disappear if you leave this area or take too much time getting them back to me.
- **10573**: My friends'll also try to get in your way, so be sure not to get noticed!
- **10574**: I can fly you right to the starting point. Just say the word!
- **10575**: Ready for mischief? [The sun will bow before me!/The light...it burns us!]
- **10576**: Nononono, sunlight is your friend! Come back once you've decided to help me hunt!
- **10577**: Good luck! Collect as many as you can and bring them back to me!
- **10578**: Why, hello!
- **10579**: Inquire about what? [I want to play the game./I'm ready to turn in my shards./I want to exchange small seeds./Let me try the grab bag./How many seeds do I have?/I'd like the items you're holding for me./Dispose of what you're holding for me./Tell me how the game works./No questions for now.]
- **10580**: You look like you'll be able to try for even harder things in this game!
- **10581**: My friends'll try to get in your way even more. Are you sure you're ready?
- **10582**: Wow! I'll bet you're ready for the championship round!
- **10583**: My friends'll surely never let you get away now! Sure you want to try anyway?
- **10584**: Oh no...you mean you didn't find even one single shard? That's terrible...
- **10585**: I'll be waiting for you to play our game again!
- **10586**: You did such a lovely job! You brought me $0 shard[/s] of sunlight, so I'll give you $1 small seed[/s]!
- **10587**: I can give you so many pretty gifts in exchange for your small seeds!
- **10588**: Which would you like?
- **10591**: I've prepared a little grab bag you can enjoy for some small seeds.
- **10592**: Which would you like to try?
- **10593**: Pick your poison. ($30 seed[/s]) [The $0-seed grab bag./The $1-seed grab bag./The $2-seed grab bag./No poison, thanks.]
- **10594**: That grab bag contains prizes like $0, $1, and $2.
- **10595**: Press your luck? [C'mon, no whammies.../Not right now.]
- **10596**: You won $0! Congratulations!
- **10597**: ...But your bags are full! What do you want me to do with it?
- **10598**: What will you do with the $0? [Have Babban hold it./I don't want it.]
- **10599**: I'll make sure to keep it really safe! Come back when you've made room!
- **10600**: Then...you won't mind if I have it!
- **10601**: You have a total of $0 small seed[/s].
- **10602**: The goal of sunshine seeker is to collect shards of sunlight!

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 541

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 45 bytes |
| Instructions | 12       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 1E F0 FF FF 7F 6F  70 66 00 80 F8 FF FF 7F   B.....opf......
0010: F8 FF FF 7F 74 6C 6B 30  02 03 10 01 80 00 26 00  ....tlk0......&.
0020: 48 02 80 01 29 00 48 03  80 1C 04 80 21 00        H...).H.....!.  
```

#### Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0007 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x0008 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x0009 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
  5: 0x0018 [0x02] IF !(Work_Zone[3] == 0*) GOTO 0x0026
  6: 0x0020 [0x48] [System] [10552*]:
    → "The mandragora flutters about in consternation."
  7: 0x0023 [0x01] GOTO 0x0029
  8: 0x0026 [0x48] [System] [10554*]:
    → "Babban Ny Mheillea looks fondly in your direction."

SUBROUTINE_0029:
  9: 0x0029 [0x1C] WAIT(80* ticks)
 10: 0x002C [0x21] END_EVENT
 11: 0x002D [0x00] END_REQSTACK()
```

### Event 542

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x002E    |
| Data Size    | 274 bytes |
| Instructions | 69        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0020:                                            42 1E                B.
0030: F0 FF FF 7F 6F 70 03 01  00 02 10 03 05 00 04 10  ....op..........
0040: 03 00 00 05 10 03 02 00  06 10 03 03 00 07 10 03  ................
0050: 04 00 08 10 5B 00 80 F8  FF FF 7F F8 FF FF 7F 77  ....[..........w
0060: 68 74 31 02 03 10 01 80  00 77 00 03 02 10 00 00  ht1......w......
0070: 1D 05 80 23 01 7F 00 1D  06 80 23 1D 07 80 23 5B  ...#......#...#[
0080: 00 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D 08  ..........tlk0..
0090: 80 23 1D 09 80 23 1D 0A  80 23 1D 0B 80 23 24 0C  .#...#...#...#$.
00A0: 80 0D 80 01 80 25 02 00  10 01 80 00 2A 01 5B 00  .....%......*.[.
00B0: 80 F8 FF FF 7F F8 FF FF  7F 62 69 6B 30 1D 0E 80  .........bik0...
00C0: 23 5B 00 80 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 30  #[..........tlk0
00D0: 1D 0F 80 23 1D 10 80 23  1D 11 80 23 1D 12 80 23  ...#...#...#...#
00E0: 1D 13 80 23 1D 14 80 23  1D 15 80 23 1D 16 80 23  ...#...#...#...#
00F0: 1D 17 80 23 24 18 80 0D  80 01 80 25 02 00 10 01  ...#$......%....
0100: 80 00 13 01 03 01 10 19  80 1D 1A 80 23 01 9C 03  ............#...
0110: 01 27 01 02 00 10 0D 80  00 27 01 1D 1B 80 23 03  .'.......'....#.
0120: 01 10 1C 80 01 27 01 01  3E 01 02 00 10 0D 80 00  .....'..>.......
0130: 3E 01 1D 1D 80 23 03 01  10 1E 80 01 3E 01 21 00  >....#......>.!.
```

#### Opcodes

```
  0: 0x002E [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x002F [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0034 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x0035 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x0036 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
  5: 0x003B [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[4]
  6: 0x0040 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[5]
  7: 0x0045 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[6]
  8: 0x004A [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[7]
  9: 0x004F [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[8]
 10: 0x0054 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "wht1" with entities [EventEntity, EventEntity], work=2161*
 11: 0x0063 [0x02] IF !(Work_Zone[3] == 0*) GOTO 0x0077
 12: 0x006B [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[0]
 13: 0x0070 [0x1D] PRINT_EVENT_MESSAGE(message_id=10556*)
    → "Nice to meet you, my [kinda/really] tall friend! I'm Babban Ny Mheillea!"
 14: 0x0073 [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x0074 [0x01] GOTO 0x007F
 16: 0x0077 [0x1D] PRINT_EVENT_MESSAGE(message_id=10557*)
    → "Oh, <Player>! I'm so glad to see you!"
 17: 0x007A [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x007B [0x1D] PRINT_EVENT_MESSAGE(message_id=10558*)
    → "You must be really special to be able to change forms like that! But I could tell who you were right away!"
 19: 0x007E [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_007F:
 20: 0x007F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
 21: 0x008E [0x1D] PRINT_EVENT_MESSAGE(message_id=10559*)
    → "My friends and I are playing a fun game called "sunshine seeker," where we search for shards of sunlight!"
 22: 0x0091 [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x0092 [0x1D] PRINT_EVENT_MESSAGE(message_id=10560*)
    → "Just give them a little squeeze and you'll see how warm and bright they are!"
 24: 0x0095 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x0096 [0x1D] PRINT_EVENT_MESSAGE(message_id=10561*)
    → "But my friends're so much better than I am..."
 26: 0x0099 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x009A [0x1D] PRINT_EVENT_MESSAGE(message_id=10562*)
    → "Maybe you could lend me a hand! Yours're much bigger than mine!"
 28: 0x009D [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x009E [0x24] CREATE_DIALOG(message_id=10563*, default_option=1*, option_flags=0*)
    → "Lend Babban a hand? [I'll lend you two!/I'm a bit busy right now.]"
 30: 0x00A5 [0x25] WAIT_DIALOG_SELECT()
 31: 0x00A6 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x012A
 32: 0x00AE [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "bik0" with entities [EventEntity, EventEntity], work=2161*
 33: 0x00BD [0x1D] PRINT_EVENT_MESSAGE(message_id=10565*)
    → "Hooray! Maybe I'll finally be able to win!"
 34: 0x00C0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x00C1 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
 36: 0x00D0 [0x1D] PRINT_EVENT_MESSAGE(message_id=10566*)
    → "I'll give you some small seeds in exchange for the shards of sunlight you bring back."
 37: 0x00D3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x00D4 [0x1D] PRINT_EVENT_MESSAGE(message_id=10567*)
    → "Even better! I've got some special things available for you to buy with your seeds!"
 39: 0x00D7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x00D8 [0x1D] PRINT_EVENT_MESSAGE(message_id=10568*)
    → "But here's the best part--If you try your luck with my grab bag enough times, you might win something really super!"
 41: 0x00DB [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x00DC [0x1D] PRINT_EVENT_MESSAGE(message_id=10569*)
    → "One of the rules of the game is that you must be a mandragora, like me, or else you won't be able to collect any shards."
 43: 0x00DF [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x00E0 [0x1D] PRINT_EVENT_MESSAGE(message_id=10570*)
    → "They can be found all around here. But if you don't hurry, someone else might gobble them up."
 45: 0x00E3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x00E4 [0x1D] PRINT_EVENT_MESSAGE(message_id=10571*)
    → "But once you've taken them from one place, you can't get any more from there by searching it repeatedly!"
 47: 0x00E7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 48: 0x00E8 [0x1D] PRINT_EVENT_MESSAGE(message_id=10572*)
    → "Shards of sunlight are really delicate, so they'll disappear if you leave this area or take too much time getting them back to me."
 49: 0x00EB [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x00EC [0x1D] PRINT_EVENT_MESSAGE(message_id=10573*)
    → "My friends'll also try to get in your way, so be sure not to get noticed!"
 51: 0x00EF [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x00F0 [0x1D] PRINT_EVENT_MESSAGE(message_id=10574*)
    → "I can fly you right to the starting point. Just say the word!"
 53: 0x00F3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 54: 0x00F4 [0x24] CREATE_DIALOG(message_id=10575*, default_option=1*, option_flags=0*)
    → "Ready for mischief? [The sun will bow before me!/The light...it burns us!]"
 55: 0x00FB [0x25] WAIT_DIALOG_SELECT()
 56: 0x00FC [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0113
 57: 0x0104 [0x03] Work_Zone[1] = 100*
 58: 0x0109 [0x1D] PRINT_EVENT_MESSAGE(message_id=10577*)
    → "Good luck! Collect as many as you can and bring them back to me!"
 59: 0x010C [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x010D [0x01] GOTO 0x039C

SUBROUTINE_0127:
 61: 0x0127 [0x01] GOTO 0x013E
 62: 0x012A [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x013E
 63: 0x0132 [0x1D] PRINT_EVENT_MESSAGE(message_id=10564*)
    → "Aww... Hopefully you'll change your mind. I'll be waiting here!"
 64: 0x0135 [0x23] WAIT_FOR_DIALOG_INTERACTION
 65: 0x0136 [0x03] Work_Zone[1] = 11*
 66: 0x013B [0x01] GOTO 0x013E

SUBROUTINE_013E:
 67: 0x013E [0x21] END_EVENT
 68: 0x013F [0x00] END_REQSTACK()
```

#### Data or dead code:

```
# Dead code (unreachable instructions):
     0x0110 [0x01] GOTO 0x0127
```

### Event 543

#### Metadata

| Field        | Value      |
|--------------|------------|
| Entrypoint   | 0x0140     |
| Data Size    | 1594 bytes |
| Instructions | 311        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0140: 1E F0 FF FF 7F 6F 70 03  01 00 02 10 03 05 00 04  .....op.........
0150: 10 03 00 00 05 10 03 02  00 06 10 03 03 00 07 10  ................
0160: 03 04 00 08 10 03 06 00  09 10 5B 00 80 F8 FF FF  ..........[.....
0170: 7F F8 FF FF 7F 74 6C 6B  30 1D 1F 80 23 06 07 00  .....tlk0...#...
0180: 03 0C 00 0D 80 02 03 00  01 80 00 A5 01 02 04 00  ................
0190: 01 80 00 9D 01 03 0D 00  20 80 01 A2 01 03 0D 00  ........ .......
01A0: 21 80 01 AA 01 03 0D 00  22 80 02 0C 00 01 80 02  !.......".......
01B0: 9A 03 24 23 80 07 00 0D  00 25 02 00 10 01 80 00  ..$#.....%......
01C0: 3B 02 03 07 00 00 10 02  01 00 01 80 80 D6 01 1D  ;...............
01D0: 17 80 23 01 FC 01 02 01  00 0D 80 80 E9 01 1D 24  ..#............$
01E0: 80 23 1D 25 80 23 01 FC  01 02 01 00 26 80 80 FC  .#.%.#......&...
01F0: 01 1D 27 80 23 1D 28 80  23 01 FC 01 24 18 80 0D  ..'.#.(.#...$...
0200: 80 01 80 25 02 00 10 01  80 00 24 02 42 07 01 00  ...%......$.B...
0210: 19 80 03 01 10 01 00 1D  1A 80 23 0C 0C 00 01 9C  ..........#.....
0220: 03 01 38 02 02 00 10 0D  80 00 38 02 1D 1B 80 23  ..8.......8....#
0230: 03 01 10 1C 80 01 38 02  01 97 03 02 00 10 0D 80  ......8.........
0240: 00 C8 02 42 03 07 00 00  10 03 01 10 29 80 43 00  ...B........).C.
0250: 43 01 03 01 00 02 10 03  05 00 04 10 03 00 00 05  C...............
0260: 10 03 02 00 06 10 03 03  00 07 10 03 04 00 08 10  ................
0270: 03 06 00 09 10 02 02 00  01 80 02 B5 02 03 02 10  ................
0280: 02 00 03 03 10 02 00 14  03 10 26 80 5B 00 80 F8  ..........&.[...
0290: FF FF 7F F8 FF FF 7F 62  69 6B 30 1D 2A 80 23 5B  .......bik0.*.#[
02A0: 00 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D 2B  ..........tlk0.+
02B0: 80 23 01 BD 02 1D 2C 80  23 1D 2B 80 23 0C 0C 00  .#....,.#.+.#...
02C0: 03 01 10 2D 80 01 97 03  02 00 10 26 80 00 DB 02  ...-.......&....
02D0: 03 07 00 00 10 1A 50 04  01 97 03 02 00 10 2E 80  ......P.........
02E0: 00 EE 02 03 07 00 00 10  1A 98 05 01 97 03 02 00  ................
02F0: 10 2F 80 00 07 03 03 07  00 00 10 03 02 10 05 00  ./..............
0300: 1D 30 80 23 01 97 03 02  00 10 31 80 00 1F 03 03  .0.#......1.....
0310: 07 00 00 10 03 01 10 32  80 0C 0C 00 01 97 03 02  .......2........
0320: 00 10 33 80 00 3B 03 03  07 00 00 10 1D 34 80 23  ..3..;.......4.#
0330: 03 01 10 35 80 0C 0C 00  01 97 03 02 00 10 36 80  ...5..........6.
0340: 00 6F 03 03 07 00 00 10  1D 37 80 23 1D 0F 80 23  .o.......7.#...#
0350: 1D 10 80 23 1D 11 80 23  1D 12 80 23 1D 13 80 23  ...#...#...#...#
0360: 1D 14 80 23 1D 15 80 23  1D 16 80 23 01 97 03 02  ...#...#...#....
0370: 00 10 38 80 00 97 03 03  07 00 00 10 0C 0C 00 02  ..8.............
0380: 03 00 01 80 00 8F 03 03  01 10 1C 80 01 94 03 03  ................
0390: 01 10 39 80 01 97 03 01  AA 01 21 00 42 13 10 00  ..9.......!.B...
03A0: 26 80 45 3A 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  &.E:.........fdo
03B0: 31 01 80 55 3A 80 F0 FF  FF 7F F0 FF FF 7F 66 64  1..U:.........fd
03C0: 6F 31 02 10 00 01 80 80  E6 03 BA F0 FF FF 7F 3B  o1.............;
03D0: 80 3C 80 3D 80 3E 80 47  00 3B 80 3C 80 3D 80 3E  .<.=.>.G.;.<.=.>
03E0: 80 47 01 01 2E 04 02 10  00 0D 80 80 0A 04 BA F0  .G..............
03F0: FF FF 7F 3F 80 40 80 41  80 42 80 47 00 3F 80 40  ...?.@.A.B.G.?.@
0400: 80 41 80 42 80 47 01 01  2E 04 02 10 00 26 80 80  .A.B.G.......&..
0410: 2E 04 BA F0 FF FF 7F 43  80 44 80 45 80 01 80 47  .......C.D.E...G
0420: 00 43 80 44 80 45 80 01  80 47 01 01 2E 04 45 3A  .C.D.E...G....E:
0430: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 01 80 55  .........fdi1..U
0440: 3A 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 31 21 00  :.........fdi1!.
0450: 0B 0C 00 06 08 00 1D 46  80 23 1D 47 80 23 02 0C  .......F.#.G.#..
0460: 00 0D 80 02 97 05 03 02  10 48 80 03 03 10 49 80  .........H....I.
0470: 03 04 10 4A 80 03 05 10  4B 80 03 06 10 4C 80 03  ...J....K....L..
0480: 03 17 4D 80 03 04 17 4D  80 03 05 17 4E 80 03 06  ..M....M....N...
0490: 17 4D 80 03 07 17 4F 80  03 16 17 05 00 03 0E 00  .M....O.........
04A0: 50 80 D4 03 01 80 02 10  D4 03 0D 80 03 10 D4 03  P...............
04B0: 26 80 04 10 D4 03 2E 80  05 10 D4 03 2F 80 06 10  &.........../...
04C0: D4 02 51 80 08 00 0E 00  25 02 00 10 1E 80 00 DA  ..Q.....%.......
04D0: 04 06 08 00 0C 0C 00 01  DA 04 02 00 10 1C 80 05  ................
04E0: 94 05 03 08 00 00 10 02  00 10 01 80 80 03 05 03  ................
04F0: 01 10 52 80 D4 03 01 80  02 10 D4 03 0D 80 02 10  ..R.............
0500: 01 73 05 02 00 10 0D 80  80 1F 05 03 01 10 53 80  .s............S.
0510: D4 03 01 80 03 10 D4 03  0D 80 03 10 01 73 05 02  .............s..
0520: 00 10 26 80 80 3B 05 03  01 10 54 80 D4 03 01 80  ..&..;....T.....
0530: 04 10 D4 03 0D 80 04 10  01 73 05 02 00 10 2E 80  .........s......
0540: 80 57 05 03 01 10 55 80  D4 03 01 80 05 10 D4 03  .W....U.........
0550: 0D 80 05 10 01 73 05 02  00 10 2F 80 80 73 05 03  .....s..../..s..
0560: 01 10 56 80 D4 03 01 80  06 10 D4 03 0D 80 06 10  ..V.............
0570: 01 73 05 D4 02 57 80 0D  80 01 80 25 02 00 10 01  .s...W.....%....
0580: 80 00 89 05 21 00 01 94  05 02 00 10 0D 80 00 94  ....!...........
0590: 05 01 94 05 01 5E 04 1B  0B 0C 00 06 11 00 06 08  .....^..........
05A0: 00 1D 58 80 23 1D 59 80  23 02 0C 00 0D 80 02 D4  ..X.#.Y.#.......
05B0: 06 03 02 10 5A 80 03 03  10 3A 80 03 04 10 4D 80  ....Z....:....M.
05C0: 03 16 17 05 00 02 06 00  2E 80 00 D3 05 06 0E 00  ................
05D0: 01 E8 05 02 06 00 26 80  00 E3 05 03 0E 00 2F 80  ......&......./.
05E0: 01 E8 05 03 0E 00 33 80  24 5B 80 08 00 0E 00 25  ......3.$[.....%
05F0: 02 00 10 2E 80 00 01 06  06 08 00 0C 0C 00 01 01  ................
0600: 06 02 00 10 26 80 05 D1  06 03 08 00 00 10 02 00  ....&...........
0610: 10 01 80 80 2C 06 03 0F  00 00 10 03 11 00 5A 80  ....,.........Z.
0620: 03 01 10 5A 80 43 00 43  01 01 68 06 02 00 10 0D  ...Z.C.C..h.....
0630: 80 80 4A 06 03 0F 00 00  10 03 11 00 3A 80 03 01  ..J.........:...
0640: 10 5C 80 43 00 43 01 01  68 06 02 00 10 26 80 80  .\.C.C..h....&..
0650: 68 06 03 0F 00 00 10 03  11 00 4D 80 03 01 10 5D  h.........M....]
0660: 80 43 00 43 01 01 68 06  1D 5E 80 23 24 5F 80 0D  .C.C..h..^.#$_..
0670: 80 01 80 25 02 00 10 01  80 00 C6 06 02 0F 00 01  ...%............
0680: 80 80 93 06 03 01 10 60  80 43 00 43 01 1A D5 06  .......`.C.C....
0690: 01 C1 06 02 0F 00 0D 80  80 AA 06 03 01 10 61 80  ..............a.
06A0: 43 00 43 01 1A D5 06 01  C1 06 02 0F 00 26 80 80  C.C..........&..
06B0: C1 06 03 01 10 62 80 43  00 43 01 1A D5 06 01 C1  .....b.C.C......
06C0: 06 21 00 01 D1 06 02 00  10 0D 80 00 D1 06 01 D1  .!..............
06D0: 06 01 A9 05 1B 42 02 06  10 01 80 00 08 07 5B 00  .....B........[.
06E0: 80 F8 FF FF 7F F8 FF FF  7F 62 69 6B 30 1D 63 80  .........bik0.c.
06F0: 23 5B 00 80 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 30  #[..........tlk0
0700: 03 01 10 64 80 01 79 07  02 06 10 65 80 00 6B 07  ...d..y....e..k.
0710: 5B 00 80 F8 FF FF 7F F8  FF FF 7F 62 69 6B 30 1D  [..........bik0.
0720: 63 80 23 5B 00 80 F8 FF  FF 7F F8 FF FF 7F 74 6C  c.#[..........tl
0730: 6B 30 1D 66 80 23 24 67  80 01 80 01 80 25 02 00  k0.f.#$g.....%..
0740: 10 01 80 00 53 07 1D 68  80 23 03 01 10 69 80 1B  ....S..h.#...i..
0750: 01 68 07 02 00 10 0D 80  00 68 07 1D 34 80 23 03  .h.......h..4.#.
0760: 01 10 6A 80 1B 01 68 07  01 79 07 02 06 10 04 80  ..j...h..y......
0770: 00 79 07 03 01 10 6B 80  1B 1B                    .y....k...      
```

#### Opcodes

```
  0: 0x0140 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0145 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0146 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0147 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
  4: 0x014C [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[4]
  5: 0x0151 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[5]
  6: 0x0156 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[6]
  7: 0x015B [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[7]
  8: 0x0160 [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[8]
  9: 0x0165 [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[9]
 10: 0x016A [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
 11: 0x0179 [0x1D] PRINT_EVENT_MESSAGE(message_id=10578*)
    → "Why, hello!"
 12: 0x017C [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x017D [0x06] ExtData[1]->WorkLocal[7] = 0
 14: 0x0180 [0x03] ExtData[1]->WorkLocal[12] = 1*
 15: 0x0185 [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x01A5
 16: 0x018D [0x02] IF !(ExtData[1]->WorkLocal[4] == 0*) GOTO 0x019D
 17: 0x0195 [0x03] ExtData[1]->WorkLocal[13] = 98*
 18: 0x019A [0x01] GOTO 0x01A2
 19: 0x019D [0x03] ExtData[1]->WorkLocal[13] = 159*

SUBROUTINE_01A2:
 20: 0x01A2 [0x01] GOTO 0x01AA
 21: 0x01A5 [0x03] ExtData[1]->WorkLocal[13] = 125*

SUBROUTINE_01AA:
 22: 0x01AA [0x02] IF !(ExtData[1]->WorkLocal[12] <= 0*) GOTO 0x039A
 23: 0x01B2 [0x24] CREATE_DIALOG(message_id=10579*, default_option=ExtData[1]->WorkLocal[7], option_flags=ExtData[1]->WorkLocal[13])
    → "Inquire about what? [I want to play the game./I'm ready to turn in my shards./I want to exchange small seeds./Let me try the grab bag./How many seeds do I have?/I'd like the items you're holding for me./Dispose of what you're holding for me./Tell me how the game works./No questions for now.]"
 24: 0x01B9 [0x25] WAIT_DIALOG_SELECT()
 25: 0x01BA [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x023B
 26: 0x01C2 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[0]
 27: 0x01C7 [0x02] IF !(ExtData[1]->WorkLocal[1] == 0*) GOTO 0x01D6
 28: 0x01CF [0x1D] PRINT_EVENT_MESSAGE(message_id=10574*)
    → "I can fly you right to the starting point. Just say the word!"
 29: 0x01D2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x01D3 [0x01] GOTO 0x01FC
 31: 0x01D6 [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x01E9
 32: 0x01DE [0x1D] PRINT_EVENT_MESSAGE(message_id=10580*)
    → "You look like you'll be able to try for even harder things in this game!"
 33: 0x01E1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x01E2 [0x1D] PRINT_EVENT_MESSAGE(message_id=10581*)
    → "My friends'll try to get in your way even more. Are you sure you're ready?"
 35: 0x01E5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x01E6 [0x01] GOTO 0x01FC
 37: 0x01E9 [0x02] IF !(ExtData[1]->WorkLocal[1] == 2*) GOTO 0x01FC
 38: 0x01F1 [0x1D] PRINT_EVENT_MESSAGE(message_id=10582*)
    → "Wow! I'll bet you're ready for the championship round!"
 39: 0x01F4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x01F5 [0x1D] PRINT_EVENT_MESSAGE(message_id=10583*)
    → "My friends'll surely never let you get away now! Sure you want to try anyway?"
 41: 0x01F8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x01F9 [0x01] GOTO 0x01FC

SUBROUTINE_01FC:
 43: 0x01FC [0x24] CREATE_DIALOG(message_id=10575*, default_option=1*, option_flags=0*)
    → "Ready for mischief? [The sun will bow before me!/The light...it burns us!]"
 44: 0x0203 [0x25] WAIT_DIALOG_SELECT()
 45: 0x0204 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0224
 46: 0x020C [0x42] SET_CLI_EVENT_CANCEL_DATA()
 47: 0x020D [0x07] ExtData[1]->WorkLocal[1] += 100*
 48: 0x0212 [0x03] Work_Zone[1] = ExtData[1]->WorkLocal[1]
 49: 0x0217 [0x1D] PRINT_EVENT_MESSAGE(message_id=10577*)
    → "Good luck! Collect as many as you can and bring them back to me!"
 50: 0x021A [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x021B [0x0C] ExtData[1]->WorkLocal[12]--
 52: 0x021E [0x01] GOTO 0x039C

SUBROUTINE_0238:
 53: 0x0238 [0x01] GOTO 0x0397
 54: 0x023B [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x02C8
 55: 0x0243 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 56: 0x0244 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[0]
 57: 0x0249 [0x03] Work_Zone[1] = 56*
 58: 0x024E [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 59: 0x0250 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 60: 0x0252 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
 61: 0x0257 [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[4]
 62: 0x025C [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[5]
 63: 0x0261 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[6]
 64: 0x0266 [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[7]
 65: 0x026B [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[8]
 66: 0x0270 [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[9]
 67: 0x0275 [0x02] IF !(ExtData[1]->WorkLocal[2] <= 0*) GOTO 0x02B5
 68: 0x027D [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[2]
 69: 0x0282 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[2]
 70: 0x0287 [0x14] Work_Zone[3] *= 2*
 71: 0x028C [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "bik0" with entities [EventEntity, EventEntity], work=2161*
 72: 0x029B [0x1D] PRINT_EVENT_MESSAGE(message_id=10586*)
    → "You did such a lovely job! You brought me $0 shard[/s] of sunlight, so I'll give you $1 small seed[/s]!"
 73: 0x029E [0x23] WAIT_FOR_DIALOG_INTERACTION
 74: 0x029F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
 75: 0x02AE [0x1D] PRINT_EVENT_MESSAGE(message_id=10585*)
    → "I'll be waiting for you to play our game again!"
 76: 0x02B1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 77: 0x02B2 [0x01] GOTO 0x02BD
 78: 0x02B5 [0x1D] PRINT_EVENT_MESSAGE(message_id=10584*)
    → "Oh no...you mean you didn't find even one single shard? That's terrible..."
 79: 0x02B8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 80: 0x02B9 [0x1D] PRINT_EVENT_MESSAGE(message_id=10585*)
    → "I'll be waiting for you to play our game again!"
 81: 0x02BC [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_02BD:
 82: 0x02BD [0x0C] ExtData[1]->WorkLocal[12]--
 83: 0x02C0 [0x03] Work_Zone[1] = 12*
 84: 0x02C5 [0x01] GOTO 0x0397
 85: 0x02C8 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x02DB
 86: 0x02D0 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[0]
 87: 0x02D5 [0x1A] CALL_SUBROUTINE(address=0x0450)
 88: 0x02D8 [0x01] GOTO 0x0397
 89: 0x02DB [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x02EE
 90: 0x02E3 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[0]
 91: 0x02E8 [0x1A] CALL_SUBROUTINE(address=0x0598)
 92: 0x02EB [0x01] GOTO 0x0397
 93: 0x02EE [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x0307
 94: 0x02F6 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[0]
 95: 0x02FB [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[5]
 96: 0x0300 [0x1D] PRINT_EVENT_MESSAGE(message_id=10601*)
    → "You have a total of $0 small seed[/s]."
 97: 0x0303 [0x23] WAIT_FOR_DIALOG_INTERACTION
 98: 0x0304 [0x01] GOTO 0x0397
 99: 0x0307 [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x031F
100: 0x030F [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[0]
101: 0x0314 [0x03] Work_Zone[1] = 21*
102: 0x0319 [0x0C] ExtData[1]->WorkLocal[12]--
103: 0x031C [0x01] GOTO 0x0397
104: 0x031F [0x02] IF !(Work_Zone[0] == 6*) GOTO 0x033B
105: 0x0327 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[0]
106: 0x032C [0x1D] PRINT_EVENT_MESSAGE(message_id=10600*)
    → "Then...you won't mind if I have it!"
107: 0x032F [0x23] WAIT_FOR_DIALOG_INTERACTION
108: 0x0330 [0x03] Work_Zone[1] = 23*
109: 0x0335 [0x0C] ExtData[1]->WorkLocal[12]--
110: 0x0338 [0x01] GOTO 0x0397
111: 0x033B [0x02] IF !(Work_Zone[0] == 7*) GOTO 0x036F
112: 0x0343 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[0]
113: 0x0348 [0x1D] PRINT_EVENT_MESSAGE(message_id=10602*)
    → "The goal of sunshine seeker is to collect shards of sunlight!"
114: 0x034B [0x23] WAIT_FOR_DIALOG_INTERACTION
115: 0x034C [0x1D] PRINT_EVENT_MESSAGE(message_id=10566*)
    → "I'll give you some small seeds in exchange for the shards of sunlight you bring back."
116: 0x034F [0x23] WAIT_FOR_DIALOG_INTERACTION
117: 0x0350 [0x1D] PRINT_EVENT_MESSAGE(message_id=10567*)
    → "Even better! I've got some special things available for you to buy with your seeds!"
118: 0x0353 [0x23] WAIT_FOR_DIALOG_INTERACTION
119: 0x0354 [0x1D] PRINT_EVENT_MESSAGE(message_id=10568*)
    → "But here's the best part--If you try your luck with my grab bag enough times, you might win something really super!"
120: 0x0357 [0x23] WAIT_FOR_DIALOG_INTERACTION
121: 0x0358 [0x1D] PRINT_EVENT_MESSAGE(message_id=10569*)
    → "One of the rules of the game is that you must be a mandragora, like me, or else you won't be able to collect any shards."
122: 0x035B [0x23] WAIT_FOR_DIALOG_INTERACTION
123: 0x035C [0x1D] PRINT_EVENT_MESSAGE(message_id=10570*)
    → "They can be found all around here. But if you don't hurry, someone else might gobble them up."
124: 0x035F [0x23] WAIT_FOR_DIALOG_INTERACTION
125: 0x0360 [0x1D] PRINT_EVENT_MESSAGE(message_id=10571*)
    → "But once you've taken them from one place, you can't get any more from there by searching it repeatedly!"
126: 0x0363 [0x23] WAIT_FOR_DIALOG_INTERACTION
127: 0x0364 [0x1D] PRINT_EVENT_MESSAGE(message_id=10572*)
    → "Shards of sunlight are really delicate, so they'll disappear if you leave this area or take too much time getting them back to me."
128: 0x0367 [0x23] WAIT_FOR_DIALOG_INTERACTION
129: 0x0368 [0x1D] PRINT_EVENT_MESSAGE(message_id=10573*)
    → "My friends'll also try to get in your way, so be sure not to get noticed!"
130: 0x036B [0x23] WAIT_FOR_DIALOG_INTERACTION
131: 0x036C [0x01] GOTO 0x0397
132: 0x036F [0x02] IF !(Work_Zone[0] == 8*) GOTO 0x0397
133: 0x0377 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[0]
134: 0x037C [0x0C] ExtData[1]->WorkLocal[12]--
135: 0x037F [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x038F
136: 0x0387 [0x03] Work_Zone[1] = 10*
137: 0x038C [0x01] GOTO 0x0394
138: 0x038F [0x03] Work_Zone[1] = 22*

SUBROUTINE_0394:
139: 0x0394 [0x01] GOTO 0x0397

SUBROUTINE_0397:
140: 0x0397 [0x01] GOTO 0x01AA
141: 0x039A [0x21] END_EVENT
142: 0x039B [0x00] END_REQSTACK()

SUBROUTINE_039C:
143: 0x039C [0x42] SET_CLI_EVENT_CANCEL_DATA()
144: 0x039D [0x13] ExtData[1]->WorkLocal[16] = rand() % 2*
145: 0x03A2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
146: 0x03B3 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
147: 0x03C2 [0x02] IF !(ExtData[1]->WorkLocal[16] == 0*) GOTO 0x03E6
148: 0x03CA [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=110.000*, pos_z=152.000*, pos_y=-11.500*, direction=180.0°*)
149: 0x03D7 [0x47] UPDATE_PLAYER_POS(110.000*, 152.000*, -11.500*, yaw=180.0°*)
150: 0x03E1 [0x47] WAIT_PLAYER_POS_UPDATE
151: 0x03E3 [0x01] GOTO 0x042E
152: 0x03E6 [0x02] IF !(ExtData[1]->WorkLocal[16] == 1*) GOTO 0x040A
153: 0x03EE [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-4.000*, pos_z=282.000*, pos_y=-10.524*, direction=92.1°*)
154: 0x03FB [0x47] UPDATE_PLAYER_POS(-4.000*, 282.000*, -10.524*, yaw=92.1°*)
155: 0x0405 [0x47] WAIT_PLAYER_POS_UPDATE
156: 0x0407 [0x01] GOTO 0x042E
157: 0x040A [0x02] IF !(ExtData[1]->WorkLocal[16] == 2*) GOTO 0x042E
158: 0x0412 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-184.000*, pos_z=148.000*, pos_y=-2.889*, direction=0.0°*)
159: 0x041F [0x47] UPDATE_PLAYER_POS(-184.000*, 148.000*, -2.889*, yaw=0.0°*)
160: 0x0429 [0x47] WAIT_PLAYER_POS_UPDATE
161: 0x042B [0x01] GOTO 0x042E

SUBROUTINE_042E:
162: 0x042E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
163: 0x043F [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
164: 0x044E [0x21] END_EVENT
165: 0x044F [0x00] END_REQSTACK()

SUBROUTINE_0450:
166: 0x0450 [0x0B] ExtData[1]->WorkLocal[12]++
167: 0x0453 [0x06] ExtData[1]->WorkLocal[8] = 0
168: 0x0456 [0x1D] PRINT_EVENT_MESSAGE(message_id=10587*)
    → "I can give you so many pretty gifts in exchange for your small seeds!"
169: 0x0459 [0x23] WAIT_FOR_DIALOG_INTERACTION
170: 0x045A [0x1D] PRINT_EVENT_MESSAGE(message_id=10588*)
    → "Which would you like?"
171: 0x045D [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_045E:
172: 0x045E [0x02] IF !(ExtData[1]->WorkLocal[12] <= 1*) GOTO 0x0597
173: 0x0466 [0x03] Work_Zone[2] = 26706*
174: 0x046B [0x03] Work_Zone[3] = 27855*
175: 0x0470 [0x03] Work_Zone[4] = 10143*
176: 0x0475 [0x03] Work_Zone[5] = 22051*
177: 0x047A [0x03] Work_Zone[6] = 6695*
178: 0x047F [0x03] Work_Zone_1700[3] = 500*
179: 0x0484 [0x03] Work_Zone_1700[4] = 500*
180: 0x0489 [0x03] Work_Zone_1700[5] = 300*
181: 0x048E [0x03] Work_Zone_1700[6] = 500*
182: 0x0493 [0x03] Work_Zone_1700[7] = 1500*
183: 0x0498 [0x03] Work_Zone_1700[22] = ExtData[1]->WorkLocal[5]
184: 0x049D [0x03] ExtData[1]->WorkLocal[14] = 2016*
185: 0x04A2 [0xD4] MAP_QUERY_WINDOW: Prepare buffer configuration A (buffer=[01 80 02 10 D4 03 0D 80...])
186: 0x04C0 [0xD4] MAP_QUERY_WINDOW: Test and open query window (flag=0x51, work=[0x0880, 0x0E00, 0x2500])
187: 0x04C9 [0x02] IF !(Work_Zone[0] == 11*) GOTO 0x04DA
188: 0x04D1 [0x06] ExtData[1]->WorkLocal[8] = 0
189: 0x04D4 [0x0C] ExtData[1]->WorkLocal[12]--
190: 0x04D7 [0x01] GOTO 0x04DA

SUBROUTINE_04DA:
191: 0x04DA [0x02] IF !(Work_Zone[0] > 10*) GOTO 0x0594
192: 0x04E2 [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
193: 0x04E7 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0503
194: 0x04EF [0x03] Work_Zone[1] = 14*
195: 0x04F4 [0xD4] MAP_QUERY_WINDOW: Prepare buffer configuration A (buffer=[01 80 02 10 D4 03 0D 80...])
196: 0x0512 [0x01] GOTO 0x0380
197: 0x0515 [0x10] 0x03D4 <<= 1*
198: 0x051A [0x03] 0x0110 = 0x0573
199: 0x051F [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x053B
200: 0x0527 [0x03] Work_Zone[1] = 16*
201: 0x052C [0xD4] MAP_QUERY_WINDOW: Prepare buffer configuration A (buffer=[01 80 04 10 D4 03 0D 80...])
202: 0x054A [0x01] GOTO 0x0580
203: 0x054D [0x10] 0x03D4 <<= 1*
204: 0x0552 [0x05] 0x0110 = 1
205: 0x0555 [0x73] Unknown NPC (ID: 2150567936/0x802F1000) casts magic 0x0205 on Unknown NPC (ID: 50688896/0x03057380)
206: 0x0560 [0x01] GOTO 0x5610

SUBROUTINE_0594:
207: 0x0594 [0x01] GOTO 0x045E
208: 0x0597 [0x1B] RETURN

SUBROUTINE_0598:
209: 0x0598 [0x0B] ExtData[1]->WorkLocal[12]++
210: 0x059B [0x06] ExtData[1]->WorkLocal[17] = 0
211: 0x059E [0x06] ExtData[1]->WorkLocal[8] = 0
212: 0x05A1 [0x1D] PRINT_EVENT_MESSAGE(message_id=10591*)
    → "I've prepared a little grab bag you can enjoy for some small seeds."
213: 0x05A4 [0x23] WAIT_FOR_DIALOG_INTERACTION
214: 0x05A5 [0x1D] PRINT_EVENT_MESSAGE(message_id=10592*)
    → "Which would you like to try?"
215: 0x05A8 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_05A9:
216: 0x05A9 [0x02] IF !(ExtData[1]->WorkLocal[12] <= 1*) GOTO 0x06D4
217: 0x05B1 [0x03] Work_Zone[2] = 50*
218: 0x05B6 [0x03] Work_Zone[3] = 200*
219: 0x05BB [0x03] Work_Zone[4] = 500*
220: 0x05C0 [0x03] Work_Zone_1700[22] = ExtData[1]->WorkLocal[5]
221: 0x05C5 [0x02] IF !(ExtData[1]->WorkLocal[6] == 3*) GOTO 0x05D3
222: 0x05CD [0x06] ExtData[1]->WorkLocal[14] = 0
223: 0x05D0 [0x01] GOTO 0x05E8
224: 0x05D3 [0x02] IF !(ExtData[1]->WorkLocal[6] == 2*) GOTO 0x05E3
225: 0x05DB [0x03] ExtData[1]->WorkLocal[14] = 4*
226: 0x05E0 [0x01] GOTO 0x05E8
227: 0x05E3 [0x03] ExtData[1]->WorkLocal[14] = 6*

SUBROUTINE_05E8:
228: 0x05E8 [0x24] CREATE_DIALOG(message_id=10593*, default_option=ExtData[1]->WorkLocal[8], option_flags=ExtData[1]->WorkLocal[14])
    → "Pick your poison. ($30 seed[/s]) [The $0-seed grab bag./The $1-seed grab bag./The $2-seed grab bag./No poison, thanks.]"
229: 0x05EF [0x25] WAIT_DIALOG_SELECT()
230: 0x05F0 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0601
231: 0x05F8 [0x06] ExtData[1]->WorkLocal[8] = 0
232: 0x05FB [0x0C] ExtData[1]->WorkLocal[12]--
233: 0x05FE [0x01] GOTO 0x0601

SUBROUTINE_0601:
234: 0x0601 [0x02] IF !(Work_Zone[0] > 2*) GOTO 0x06D1
235: 0x0609 [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
236: 0x060E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x062C
237: 0x0616 [0x03] ExtData[1]->WorkLocal[15] = Work_Zone[0]
238: 0x061B [0x03] ExtData[1]->WorkLocal[17] = 50*
239: 0x0620 [0x03] Work_Zone[1] = 50*
240: 0x0625 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
241: 0x0627 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
242: 0x0629 [0x01] GOTO 0x0668
243: 0x062C [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x064A
244: 0x0634 [0x03] ExtData[1]->WorkLocal[15] = Work_Zone[0]
245: 0x0639 [0x03] ExtData[1]->WorkLocal[17] = 200*
246: 0x063E [0x03] Work_Zone[1] = 51*
247: 0x0643 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
248: 0x0645 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
249: 0x0647 [0x01] GOTO 0x0668
250: 0x064A [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0668
251: 0x0652 [0x03] ExtData[1]->WorkLocal[15] = Work_Zone[0]
252: 0x0657 [0x03] ExtData[1]->WorkLocal[17] = 500*
253: 0x065C [0x03] Work_Zone[1] = 52*
254: 0x0661 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
255: 0x0663 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
256: 0x0665 [0x01] GOTO 0x0668

SUBROUTINE_0668:
257: 0x0668 [0x1D] PRINT_EVENT_MESSAGE(message_id=10594*)
    → "That grab bag contains prizes like $0, $1, and $2."
258: 0x066B [0x23] WAIT_FOR_DIALOG_INTERACTION
259: 0x066C [0x24] CREATE_DIALOG(message_id=10595*, default_option=1*, option_flags=0*)
    → "Press your luck? [C'mon, no whammies.../Not right now.]"
260: 0x0673 [0x25] WAIT_DIALOG_SELECT()
261: 0x0674 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x06C6
262: 0x067C [0x02] IF !(ExtData[1]->WorkLocal[15] == 0*) GOTO 0x0693
263: 0x0684 [0x03] Work_Zone[1] = 53*
264: 0x0689 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
265: 0x068B [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
266: 0x068D [0x1A] CALL_SUBROUTINE(address=0x06D5)
267: 0x0690 [0x01] GOTO 0x06C1
268: 0x0693 [0x02] IF !(ExtData[1]->WorkLocal[15] == 1*) GOTO 0x06AA
269: 0x069B [0x03] Work_Zone[1] = 54*
270: 0x06A0 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
271: 0x06A2 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
272: 0x06A4 [0x1A] CALL_SUBROUTINE(address=0x06D5)
273: 0x06A7 [0x01] GOTO 0x06C1
274: 0x06AA [0x02] IF !(ExtData[1]->WorkLocal[15] == 2*) GOTO 0x06C1
275: 0x06B2 [0x03] Work_Zone[1] = 55*
276: 0x06B7 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
277: 0x06B9 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
278: 0x06BB [0x1A] CALL_SUBROUTINE(address=0x06D5)
279: 0x06BE [0x01] GOTO 0x06C1

SUBROUTINE_06C1:
280: 0x06C1 [0x21] END_EVENT
281: 0x06C2 [0x00] END_REQSTACK()

SUBROUTINE_06D1:
282: 0x06D1 [0x01] GOTO 0x05A9
283: 0x06D4 [0x1B] RETURN

SUBROUTINE_06D5:
284: 0x06D5 [0x42] SET_CLI_EVENT_CANCEL_DATA()
285: 0x06D6 [0x02] IF !(Work_Zone[6] == 0*) GOTO 0x0708
286: 0x06DE [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "bik0" with entities [EventEntity, EventEntity], work=2161*
287: 0x06ED [0x1D] PRINT_EVENT_MESSAGE(message_id=10596*)
    → "You won $0! Congratulations!"
288: 0x06F0 [0x23] WAIT_FOR_DIALOG_INTERACTION
289: 0x06F1 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
290: 0x0700 [0x03] Work_Zone[1] = 17*
291: 0x0705 [0x01] GOTO 0x0779
292: 0x0708 [0x02] IF !(Work_Zone[6] == 81*) GOTO 0x076B
293: 0x0710 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "bik0" with entities [EventEntity, EventEntity], work=2161*
294: 0x071F [0x1D] PRINT_EVENT_MESSAGE(message_id=10596*)
    → "You won $0! Congratulations!"
295: 0x0722 [0x23] WAIT_FOR_DIALOG_INTERACTION
296: 0x0723 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
297: 0x0732 [0x1D] PRINT_EVENT_MESSAGE(message_id=10597*)
    → "...But your bags are full! What do you want me to do with it?"
298: 0x0735 [0x23] WAIT_FOR_DIALOG_INTERACTION
299: 0x0736 [0x24] CREATE_DIALOG(message_id=10598*, default_option=0*, option_flags=0*)
    → "What will you do with the $0? [Have Babban hold it./I don't want it.]"
300: 0x073D [0x25] WAIT_DIALOG_SELECT()
301: 0x073E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0753
302: 0x0746 [0x1D] PRINT_EVENT_MESSAGE(message_id=10599*)
    → "I'll make sure to keep it really safe! Come back when you've made room!"
303: 0x0749 [0x23] WAIT_FOR_DIALOG_INTERACTION
304: 0x074A [0x03] Work_Zone[1] = 18*
305: 0x074F [0x1B] RETURN

SUBROUTINE_0768:
306: 0x0768 [0x01] GOTO 0x0779
307: 0x076B [0x02] IF !(Work_Zone[6] == 80*) GOTO 0x0779
308: 0x0773 [0x03] Work_Zone[1] = 20*
309: 0x0778 [0x1B] RETURN

SUBROUTINE_0779:
310: 0x0779 [0x1B] RETURN
```

#### Data or dead code:

```
# Dead code (unreachable instructions):
     0x0221 [0x01] GOTO 0x0238
# Dead code (unreachable instructions):
     0x0563 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147550164/0x800103D4))
     0x0568 [0x06] 0xD410 = 0
     0x056B [0x03] 1* = Work_Zone[6]
     0x0570 [0x01] GOTO 0x0573
     0x0573 [0xD4] MAP_QUERY_WINDOW: Test and open query window (flag=0x57, work=[0x0D80, 0x0180, 0x2580])
     0x057C [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0589
     0x0586 [0x01] GOTO 0x0594
     0x0589 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0594
     0x0591 [0x01] GOTO 0x0594
# Dead code (unreachable instructions):
     0x06C3 [0x01] GOTO 0x06D1
# Dead code (unreachable instructions):
     0x0750 [0x01] GOTO 0x0768
     0x0765 [0x01] GOTO 0x0768
```
