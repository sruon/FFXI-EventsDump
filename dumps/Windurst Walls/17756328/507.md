# Event 507

## Metadata

| Field           | Value      |
|-----------------|------------|
| Event Index     | 3/3        |
| Offset          | 0x034C     |
| Data Size       | 1742 bytes |
| Calculated Size | 1742 bytes |
| Instructions    | 263        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0340:                                      42 1A 54 09              B.T.
0350: 46 01 03 02 00 04 10 38  00 80 75 00 01 80 75 01  F......8..u...u.
0360: 27 10 F0 FF FF 7F 79 27  10 1A F0 0E 01 A1 27 10  '.....y'......'.
0370: A9 F0 0E 01 01 27 10 AA  F0 0E 01 01 4E 00 AB F0  .....'......N...
0380: 0E 01 94 01 AB F0 0E 01  BA F0 FF FF 7F 02 80 03  ................
0390: 80 04 80 05 80 BA 1A F0  0E 01 06 80 07 80 04 80  ................
03A0: 08 80 BA A9 F0 0E 01 0D  80 0D 80 0D 80 0D 80 BA  ................
03B0: AA F0 0E 01 06 80 07 80  04 80 08 80 BA AB F0 0E  ................
03C0: 01 0D 80 0D 80 0D 80 0D  80 80 F0 FF FF 7F 80 1A  ................
03D0: F0 0E 01 80 A9 F0 0E 01  80 AA F0 0E 01 80 AB F0  ................
03E0: 0E 01 1C 09 80 4A F0 FF  FF 7F 1A F0 0E 01 4A 1A  .....J........J.
03F0: F0 0E 01 F0 FF FF 7F 4A  AA F0 0E 01 F0 FF FF 7F  .......J........
0400: 6F 76 1A F0 0E 01 6F 76  F0 FF FF 7F 6F 76 AA F0  ov....ov....ov..
0410: 0E 01 1C 0A 80 03 03 00  0B 80 02 03 00 0C 80 05  ................
0420: 0C 05 02 0D 80 03 00 04  04 05 02 03 00 0E 80 80  ................
0430: 59 04 1A 33 09 4A 1A F0  0E 01 F0 FF FF 7F 6E F0  Y..3.J........n.
0440: FF FF 7F 0D 80 99 F0 FF  FF 7F 6E 1A F0 0E 01 0D  ..........n.....
0450: 80 99 1A F0 0E 01 01 04  05 02 03 00 0F 80 80 70  ...............p
0460: 04 7B 1A F0 0E 01 27 10  1A F0 0E 01 A9 01 04 05  .{....'.........
0470: 02 03 00 1E 80 80 8C 04  79 00 1A F0 0E 01 F0 FF  ........y.......
0480: FF 7F 27 10 1A F0 0E 01  B0 01 04 05 02 03 00 10  ..'.............
0490: 80 80 A7 04 81 00 1A F0  0E 01 27 10 1A F0 0E 01  ..........'.....
04A0: AF 1A A4 05 01 04 05 02  03 00 11 80 80 CA 04 6E  ...............n
04B0: 1A F0 0E 01 11 80 99 1A  F0 0E 01 7B 1A F0 0E 01  ...........{....
04C0: 4B 1A F0 0E 01 08 80 01  04 05 02 03 00 0C 80 80  K...............
04D0: E3 04 27 10 1A F0 0E 01  AA 27 10 1A F0 0E 01 AB  ..'......'......
04E0: 01 04 05 02 03 00 12 80  80 04 05 27 10 1A F0 0E  ...........'....
04F0: 01 A5 7B F0 FF FF 7F 27  10 F0 FF FF 7F 7A 1A 54  ..{....'.....z.T
0500: 09 01 04 05 07 03 00 0B  80 01 1A 04 03 03 00 0B  ................
0510: 80 02 03 00 0C 80 05 66  05 02 0D 80 03 00 05 5E  .......f.......^
0520: 05 02 01 00 0D 80 00 45  05 02 03 00 10 80 05 37  .......E.......7
0530: 05 1A E0 05 01 42 05 02  0C 80 03 00 03 42 05 1A  .....B.......B..
0540: E0 05 01 5E 05 02 03 00  10 80 03 53 05 1A E0 05  ...^.......S....
0550: 01 5E 05 02 11 80 03 00  05 5E 05 1A E0 05 07 03  .^.......^......
0560: 00 0B 80 01 11 05 1A 54  09 1C 16 80 5C 00 13 80  .......T....\...
0570: 5C 01 13 80 9A 46 00 45  08 80 F0 FF FF 7F F0 FF  \....F.E........
0580: FF 7F 66 64 69 32 0D 80  21 00 02 0D 80 0B 80 00  ..fdi2..!.......
0590: 96 05 48 24 80 23 1B 02  0D 80 0B 80 00 A3 05 48  ..H$.#.........H
05A0: 24 80 23 1B 24 25 80 0D  80 0D 80 25 02 00 10 0D  $.#.$%.....%....
05B0: 80 00 D1 05 02 02 00 0D  80 00 C7 05 06 01 00 03  ................
05C0: 01 10 0B 80 01 CE 05 05  01 00 48 26 80 23 01 DF  ..........H&.#..
05D0: 05 02 00 10 0B 80 00 DF  05 05 01 00 01 DF 05 1B  ................
05E0: 02 03 00 0B 80 80 33 06  45 15 80 F0 FF FF 7F F0  ......3.E.......
05F0: FF FF 7F 63 30 30 31 0D  80 1A 8A 05 1A 33 09 1C  ...c001......3..
0600: 0A 80 27 10 F0 FF FF 7F  7D 1C 27 80 1C 09 80 6E  ..'.....}.'....n
0610: 1A F0 0E 01 0D 80 99 1A  F0 0E 01 1C 28 80 1A 8A  ............(...
0620: 05 52 15 80 F0 FF FF 7F  F0 FF FF 7F 63 30 30 31  .R..........c001
0630: 01 F0 08 02 03 00 0E 80  80 6C 06 45 15 80 F0 FF  .........l.E....
0640: FF 7F F0 FF FF 7F 63 7A  30 31 0D 80 1A 8A 05 2B  ......cz01.....+
0650: 1A F0 0E 01 24 80 23 1A  8A 05 52 15 80 F0 FF FF  ....$.#...R.....
0660: 7F F0 FF FF 7F 63 7A 30  31 01 F0 08 02 03 00 18  .....cz01.......
0670: 80 80 B7 06 45 15 80 F0  FF FF 7F F0 FF FF 7F 63  ....E..........c
0680: 30 30 32 0D 80 1A 8A 05  7B 1A F0 0E 01 27 10 1A  002.....{....'..
0690: F0 0E 01 A9 2B 1A F0 0E  01 29 80 23 2A 10 1A F0  ....+....).#*...
06A0: 0E 01 1A 8A 05 52 15 80  F0 FF FF 7F F0 FF FF 7F  .....R..........
06B0: 63 30 30 32 01 F0 08 02  03 00 0F 80 80 07 07 45  c002...........E
06C0: 15 80 F0 FF FF 7F F0 FF  FF 7F 63 30 30 33 0D 80  ..........c003..
06D0: 79 00 1A F0 0E 01 F0 FF  FF 7F 1A 8A 05 27 10 1A  y............'..
06E0: F0 0E 01 B0 2B 1A F0 0E  01 2A 80 23 2A 10 1A F0  ....+....*.#*...
06F0: 0E 01 1A 8A 05 52 15 80  F0 FF FF 7F F0 FF FF 7F  .....R..........
0700: 63 30 30 33 01 F0 08 02  03 00 1E 80 80 66 07 45  c003.........f.E
0710: 15 80 F0 FF FF 7F F0 FF  FF 7F 63 30 30 34 0D 80  ..........c004..
0720: 1A 8A 05 81 00 1A F0 0E  01 27 10 1A F0 0E 01 AF  .........'......
0730: 1C 16 80 03 02 10 2B 80  2B 1A F0 0E 01 2C 80 23  ......+.+....,.#
0740: 1A A4 05 2A 10 1A F0 0E  01 1A 8A 05 02 01 00 0B  ...*............
0750: 80 00 63 07 52 15 80 F0  FF FF 7F F0 FF FF 7F 63  ..c.R..........c
0760: 30 30 34 01 F0 08 02 03  00 10 80 80 C4 07 1A 8A  004.............
0770: 05 7B 1A F0 0E 01 6E 1A  F0 0E 01 11 80 99 1A F0  .{....n.........
0780: 0E 01 1C 27 80 79 00 1A  F0 0E 01 F0 FF FF 7F 2B  ...'.y.........+
0790: 1A F0 0E 01 2D 80 23 1C  09 80 4B 1A F0 0E 01 08  ....-.#...K.....
07A0: 80 7B 1A F0 0E 01 6F 76  1A F0 0E 01 1C 0A 80 1A  .{....ov........
07B0: 8A 05 52 15 80 F0 FF FF  7F F0 FF FF 7F 63 30 30  ..R..........c00
07C0: 34 01 F0 08 02 03 00 11  80 80 22 08 45 15 80 F0  4.........".E...
07D0: FF FF 7F F0 FF FF 7F 63  30 30 36 0D 80 5D 0D 80  .......c006..]..
07E0: 16 80 7B 1A F0 0E 01 1A  8A 05 27 10 1A F0 0E 01  ..{.......'.....
07F0: AA 5C 00 2E 80 5C 01 2E  80 9A 1C 2F 80 2B 1A F0  .\...\...../.+..
0800: 0E 01 30 80 23 2B 1A F0  0E 01 31 80 23 1A 8A 05  ..0.#+....1.#...
0810: 52 15 80 F0 FF FF 7F F0  FF FF 7F 63 30 30 36 01  R..........c006.
0820: F0 08 02 03 00 0C 80 80  F0 08 45 15 80 F0 FF FF  ..........E.....
0830: 7F F0 FF FF 7F 63 30 30  37 0D 80 27 10 1A F0 0E  .....c007..'....
0840: 01 AB 1A 8A 05 27 10 1A  F0 0E 01 A2 1C 32 80 2B  .....'.......2.+
0850: 1A F0 0E 01 33 80 27 10  AA F0 0E 01 03 7B F0 FF  ....3.'......{..
0860: FF 7F 1C 27 80 27 10 F0  FF FF 7F 7A 1C 34 80 27  ...'.'.....z.4.'
0870: 10 AB F0 0E 01 02 1C 32  80 6E F0 FF FF 7F 35 80  .......2.n....5.
0880: 99 F0 FF FF 7F 1C 0A 80  27 10 AA F0 0E 01 04 27  ........'......'
0890: 10 AB F0 0E 01 03 1C 36  80 27 10 F0 FF FF 7F 7B  .......6.'.....{
08A0: 1C 37 80 7B 1A F0 0E 01  27 10 1A F0 0E 01 A3 4A  .7.{....'......J
08B0: 1A F0 0E 01 F0 FF FF 7F  6F 76 1A F0 0E 01 7B 1A  ........ov....{.
08C0: F0 0E 01 27 10 1A F0 0E  01 A7 5D 0D 80 38 80 1C  ...'......]..8..
08D0: 2F 80 1A 97 05 1A 54 09  1A 8A 05 1C 0A 80 52 15  /.....T.......R.
08E0: 80 F0 FF FF 7F F0 FF FF  7F 63 30 30 37 01 F0 08  .........c007...
08F0: 1B 45 08 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 30  .E..........fdi0
0900: 0D 80 55 08 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  ..U..........fdi
0910: 30 1B 45 08 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  0.E..........fdo
0920: 30 0D 80 55 08 80 F0 FF  FF 7F F0 FF FF 7F 66 64  0..U..........fd
0930: 6F 30 1B 45 08 80 F0 FF  FF 7F F0 FF FF 7F 66 64  o0.E..........fd
0940: 69 31 0D 80 55 08 80 F0  FF FF 7F F0 FF FF 7F 66  i1..U..........f
0950: 64 69 31 1B 45 08 80 F0  FF FF 7F F0 FF FF 7F 66  di1.E..........f
0960: 64 6F 31 0D 80 55 08 80  F0 FF FF 7F F0 FF FF 7F  do1..U..........
0970: 66 64 6F 31 1B 45 39 80  F0 FF FF 7F F0 FF FF 7F  fdo1.E9.........
0980: 77 68 69 31 0D 80 55 39  80 F0 FF FF 7F F0 FF FF  whi1..U9........
0990: 7F 77 68 69 31 1B 45 39  80 F0 FF FF 7F F0 FF FF  .whi1.E9........
09A0: 7F 77 68 6F 31 0D 80 55  39 80 F0 FF FF 7F F0 FF  .who1..U9.......
09B0: FF 7F 77 68 6F 31 1B 45  39 80 F0 FF FF 7F F0 FF  ..who1.E9.......
09C0: FF 7F 77 68 69 30 0D 80  55 39 80 F0 FF FF 7F F0  ..whi0..U9......
09D0: FF FF 7F 77 68 69 30 1B  45 39 80 F0 FF FF 7F F0  ...whi0.E9......
09E0: FF FF 7F 77 68 6F 30 0D  80 55 39 80 F0 FF FF 7F  ...who0..U9.....
09F0: F0 FF FF 7F 77 68 6F 30  1B 45 3A 80 F0 FF FF 7F  ....who0.E:.....
0A00: F0 FF FF 7F 65 66 6F 6E  0D 80 55 3A 80 F0 FF FF  ....efon..U:....
0A10: 7F F0 FF FF 7F 65 66 6F  6E 1B                    .....efon.      
```

## Opcodes

```
  0: 0x034C [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x034D [0x1A] CALL_SUBROUTINE(address=0x0954)
  2: 0x0350 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x0352 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[4]
  4: 0x0357 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x035A [0x75] LOAD_ROOM(Load indoor room, room=405*)
  6: 0x035E [0x75] LOAD_ROOM(No action)
  7: 0x0360 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x79)
  8: 0x0367 [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xA1)
  9: 0x036E [0x27] REQ_SET(priority=0x10, entity_id=??? (ID: 17756329/0x010EF0A9), tag_num=0x01)
 10: 0x0375 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17756330/0x010EF0AA), tag_num=0x01)
 11: 0x037C [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17756331/0x010EF0AB)
 12: 0x0382 [0x94] Unnamed NPC (ID: 17756331/0x010EF0AB)->Render.Flags3 ^= 0x01
 13: 0x0388 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=122.148*, pos_z=111.459*, pos_y=-3.000*, direction=6.7°*)
 14: 0x0395 [0xBA] SET_ENTITY_POSITION(entity_id=Shantotto (ID: 17756186/0x010EF01A), pos_x=122.489*, pos_z=113.640*, pos_y=-3.000*, direction=17.6°*)
 15: 0x03A2 [0xBA] SET_ENTITY_POSITION(entity_id=??? (ID: 17756329/0x010EF0A9), pos_x=0.000*, pos_z=0.000*, pos_y=0.000*, direction=0.0°*)
 16: 0x03AF [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17756330/0x010EF0AA), pos_x=122.489*, pos_z=113.640*, pos_y=-3.000*, direction=17.6°*)
 17: 0x03BC [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17756331/0x010EF0AB), pos_x=0.000*, pos_z=0.000*, pos_y=0.000*, direction=0.0°*)
 18: 0x03C9 [0x80] LOAD_WAIT(entity=LocalPlayer)
 19: 0x03CE [0x80] LOAD_WAIT(entity=Shantotto (ID: 17756186/0x010EF01A))
 20: 0x03D3 [0x80] LOAD_WAIT(entity=??? (ID: 17756329/0x010EF0A9))
 21: 0x03D8 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17756330/0x010EF0AA))
 22: 0x03DD [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17756331/0x010EF0AB))
 23: 0x03E2 [0x1C] WAIT(15* ticks)
 24: 0x03E5 [0x4A] LocalPlayer looks at Shantotto (ID: 17756186/0x010EF01A)
 25: 0x03EE [0x4A] Shantotto (ID: 17756186/0x010EF01A) looks at LocalPlayer
 26: 0x03F7 [0x4A] Unnamed NPC (ID: 17756330/0x010EF0AA) looks at LocalPlayer
 27: 0x0400 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 28: 0x0401 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Shantotto (ID: 17756186/0x010EF01A) Render.Flags0 and Render.Flags3 conditions are met
 29: 0x0406 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 30: 0x0407 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 31: 0x040C [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 32: 0x040D [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Unnamed NPC (ID: 17756330/0x010EF0AA) Render.Flags0 and Render.Flags3 conditions are met
 33: 0x0412 [0x1C] WAIT(30* ticks)
 34: 0x0415 [0x03] ExtData[1]->WorkLocal[3] = 1*
 35: 0x041A [0x02] IF !(ExtData[1]->WorkLocal[3] > 8*) GOTO 0x050C
 36: 0x0422 [0x02] IF !(0* < ExtData[1]->WorkLocal[3]) GOTO 0x0504
 37: 0x042A [0x02] IF !(ExtData[1]->WorkLocal[3] == 2*) GOTO 0x0459
 38: 0x0432 [0x1A] CALL_SUBROUTINE(address=0x0933)
 39: 0x0435 [0x4A] Shantotto (ID: 17756186/0x010EF01A) looks at LocalPlayer
 40: 0x043E [0x6E] LocalPlayer uses emote 0*
 41: 0x0445 [0x99] Wait for LocalPlayer animation to complete
 42: 0x044A [0x6E] Shantotto (ID: 17756186/0x010EF01A) uses emote 0*
 43: 0x0451 [0x99] Wait for Shantotto (ID: 17756186/0x010EF01A) animation to complete
 44: 0x0456 [0x01] GOTO 0x0504
 45: 0x0459 [0x02] IF !(ExtData[1]->WorkLocal[3] == 4*) GOTO 0x0470
 46: 0x0461 [0x7B] Shantotto (ID: 17756186/0x010EF01A) stops talking
 47: 0x0466 [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xA9)
 48: 0x046D [0x01] GOTO 0x0504
 49: 0x0470 [0x02] IF !(ExtData[1]->WorkLocal[3] == 5*) GOTO 0x048C
 50: 0x0478 [0x79] Shantotto (ID: 17756186/0x010EF01A) looks at LocalPlayer (Basic look)
 51: 0x0482 [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xB0)
 52: 0x0489 [0x01] GOTO 0x0504
 53: 0x048C [0x02] IF !(ExtData[1]->WorkLocal[3] == 6*) GOTO 0x04A7
 54: 0x0494 [0x81] SET_ENTITY_BLINKING(blink_flag=0x00, entity=Shantotto (ID: 17756186/0x010EF01A))
 55: 0x049A [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xAF)
 56: 0x04A1 [0x1A] CALL_SUBROUTINE(address=0x05A4)
 57: 0x04A4 [0x01] GOTO 0x0504
 58: 0x04A7 [0x02] IF !(ExtData[1]->WorkLocal[3] == 7*) GOTO 0x04CA
 59: 0x04AF [0x6E] Shantotto (ID: 17756186/0x010EF01A) uses emote 7*
 60: 0x04B6 [0x99] Wait for Shantotto (ID: 17756186/0x010EF01A) animation to complete
 61: 0x04BB [0x7B] Shantotto (ID: 17756186/0x010EF01A) stops talking
 62: 0x04C0 [0x4B] UPDATE_ENTITY_YAW(entity=Shantotto (ID: 17756186/0x010EF01A), yaw=1.1°*)
 63: 0x04C7 [0x01] GOTO 0x0504
 64: 0x04CA [0x02] IF !(ExtData[1]->WorkLocal[3] == 8*) GOTO 0x04E3
 65: 0x04D2 [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xAA)
 66: 0x04D9 [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xAB)
 67: 0x04E0 [0x01] GOTO 0x0504
 68: 0x04E3 [0x02] IF !(ExtData[1]->WorkLocal[3] == 9*) GOTO 0x0504
 69: 0x04EB [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xA5)
 70: 0x04F2 [0x7B] LocalPlayer stops talking
 71: 0x04F7 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x7A)
 72: 0x04FE [0x1A] CALL_SUBROUTINE(address=0x0954)
 73: 0x0501 [0x01] GOTO 0x0504

SUBROUTINE_0504:
 74: 0x0504 [0x07] ExtData[1]->WorkLocal[3] += 1*
 75: 0x0509 [0x01] GOTO 0x041A
 76: 0x050C [0x03] ExtData[1]->WorkLocal[3] = 1*

SUBROUTINE_0511:
 77: 0x0511 [0x02] IF !(ExtData[1]->WorkLocal[3] > 8*) GOTO 0x0566
 78: 0x0519 [0x02] IF !(0* > ExtData[1]->WorkLocal[3]) GOTO 0x055E
 79: 0x0521 [0x02] IF !(ExtData[1]->WorkLocal[1] == 0*) GOTO 0x0545
 80: 0x0529 [0x02] IF !(ExtData[1]->WorkLocal[3] > 6*) GOTO 0x0537
 81: 0x0531 [0x1A] CALL_SUBROUTINE(address=0x05E0)
 82: 0x0534 [0x01] GOTO 0x0542
 83: 0x0537 [0x02] IF !(8* >= ExtData[1]->WorkLocal[3]) GOTO 0x0542
 84: 0x053F [0x1A] CALL_SUBROUTINE(address=0x05E0)

SUBROUTINE_0542:
 85: 0x0542 [0x01] GOTO 0x055E
 86: 0x0545 [0x02] IF !(ExtData[1]->WorkLocal[3] >= 6*) GOTO 0x0553
 87: 0x054D [0x1A] CALL_SUBROUTINE(address=0x05E0)
 88: 0x0550 [0x01] GOTO 0x055E
 89: 0x0553 [0x02] IF !(7* > ExtData[1]->WorkLocal[3]) GOTO 0x055E
 90: 0x055B [0x1A] CALL_SUBROUTINE(address=0x05E0)

SUBROUTINE_055E:
 91: 0x055E [0x07] ExtData[1]->WorkLocal[3] += 1*
 92: 0x0563 [0x01] GOTO 0x0511
 93: 0x0566 [0x1A] CALL_SUBROUTINE(address=0x0954)
 94: 0x0569 [0x1C] WAIT(60* ticks)
 95: 0x056C [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 151*
 96: 0x0570 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 151*
 97: 0x0574 [0x9A] WAIT_MUSIC_SERVER()
 98: 0x0575 [0x46] CAMERA_CONTROL: Restore default settings
 99: 0x0577 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
100: 0x0588 [0x21] END_EVENT
101: 0x0589 [0x00] END_REQSTACK()

SUBROUTINE_058A:
102: 0x058A [0x02] IF !(0* == 1*) GOTO 0x0596
103: 0x0592 [0x48] [System] [9708*]:
    → "Why yes, precisely!\u0007This should do quite nicely.\u007F1\u0000\u0007"
104: 0x0595 [0x23] WAIT_FOR_DIALOG_INTERACTION
105: 0x0596 [0x1B] RETURN

SUBROUTINE_0597:
106: 0x0597 [0x02] IF !(0* == 1*) GOTO 0x05A3
107: 0x059F [0x48] [System] [9708*]:
    → "Why yes, precisely!\u0007This should do quite nicely.\u007F1\u0000\u0007"
108: 0x05A2 [0x23] WAIT_FOR_DIALOG_INTERACTION
109: 0x05A3 [0x1B] RETURN

SUBROUTINE_05A4:
110: 0x05A4 [0x24] CREATE_DIALOG(message_id=9712*, default_option=0*, option_flags=0*)
    → "Are we clear, dear? (Current gil: 
\u0001)\u0007\u000BFine, here's your money.\u0007What!? This isn't funny...\u007F1\u0000\u0007"
111: 0x05AB [0x25] WAIT_DIALOG_SELECT()
112: 0x05AC [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x05D1
113: 0x05B4 [0x02] IF !(ExtData[1]->WorkLocal[2] == 0*) GOTO 0x05C7
114: 0x05BC [0x06] ExtData[1]->WorkLocal[1] = 0
115: 0x05BF [0x03] Work_Zone[1] = 1*
116: 0x05C4 [0x01] GOTO 0x05CE
117: 0x05C7 [0x05] ExtData[1]->WorkLocal[1] = 1
118: 0x05CA [0x48] [System] [6555*]:
    → "You do not have enough gil.\u007F1\u0000\u0007"
119: 0x05CD [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_05CE:
120: 0x05CE [0x01] GOTO 0x05DF
121: 0x05D1 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x05DF
122: 0x05D9 [0x05] ExtData[1]->WorkLocal[1] = 1
123: 0x05DC [0x01] GOTO 0x05DF

SUBROUTINE_05DF:
124: 0x05DF [0x1B] RETURN

SUBROUTINE_05E0:
125: 0x05E0 [0x02] IF !(ExtData[1]->WorkLocal[3] == 1*) GOTO 0x0633
126: 0x05E8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "c001" with entities [LocalPlayer, LocalPlayer], work=[464*, 0*]
127: 0x05F9 [0x1A] CALL_SUBROUTINE(address=0x058A)
128: 0x05FC [0x1A] CALL_SUBROUTINE(address=0x0933)
129: 0x05FF [0x1C] WAIT(30* ticks)
130: 0x0602 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x7D)
131: 0x0609 [0x1C] WAIT(90* ticks)
132: 0x060C [0x1C] WAIT(15* ticks)
133: 0x060F [0x6E] Shantotto (ID: 17756186/0x010EF01A) uses emote 0*
134: 0x0616 [0x99] Wait for Shantotto (ID: 17756186/0x010EF01A) animation to complete
135: 0x061B [0x1C] WAIT(180* ticks)
136: 0x061E [0x1A] CALL_SUBROUTINE(address=0x058A)
137: 0x0621 [0x52] END_LOAD_SCHEDULER: End scheduler "c001" with entities [LocalPlayer, LocalPlayer], work=464*
138: 0x0630 [0x01] GOTO 0x08F0
139: 0x0633 [0x02] IF !(ExtData[1]->WorkLocal[3] == 2*) GOTO 0x066C
140: 0x063B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "cz01" with entities [LocalPlayer, LocalPlayer], work=[464*, 0*]
141: 0x064C [0x1A] CALL_SUBROUTINE(address=0x058A)
142: 0x064F [0x2B] Shantotto (ID: 17756186/0x010EF01A) [9708*]:
    → "Why yes, precisely!\u0007This should do quite nicely.\u007F1\u0000\u0007"
143: 0x0656 [0x23] WAIT_FOR_DIALOG_INTERACTION
144: 0x0657 [0x1A] CALL_SUBROUTINE(address=0x058A)
145: 0x065A [0x52] END_LOAD_SCHEDULER: End scheduler "cz01" with entities [LocalPlayer, LocalPlayer], work=464*
146: 0x0669 [0x01] GOTO 0x08F0
147: 0x066C [0x02] IF !(ExtData[1]->WorkLocal[3] == 3*) GOTO 0x06B7
148: 0x0674 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "c002" with entities [LocalPlayer, LocalPlayer], work=[464*, 0*]
149: 0x0685 [0x1A] CALL_SUBROUTINE(address=0x058A)
150: 0x0688 [0x7B] Shantotto (ID: 17756186/0x010EF01A) stops talking
151: 0x068D [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xA9)
152: 0x0694 [0x2B] Shantotto (ID: 17756186/0x010EF01A) [9709*]:
    → "Excellent, and very well!\u0007Now, off to Jeuno--we've a curse to dispel!\u007F1\u0000\u0007"
153: 0x069B [0x23] WAIT_FOR_DIALOG_INTERACTION
154: 0x069C [0x2A] GET_REQ_LEVEL(level=16, entity_id=Shantotto (ID: 17756186/0x010EF01A))
155: 0x06A2 [0x1A] CALL_SUBROUTINE(address=0x058A)
156: 0x06A5 [0x52] END_LOAD_SCHEDULER: End scheduler "c002" with entities [LocalPlayer, LocalPlayer], work=464*
157: 0x06B4 [0x01] GOTO 0x08F0
158: 0x06B7 [0x02] IF !(ExtData[1]->WorkLocal[3] == 4*) GOTO 0x0707
159: 0x06BF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "c003" with entities [LocalPlayer, LocalPlayer], work=[464*, 0*]
160: 0x06D0 [0x79] Shantotto (ID: 17756186/0x010EF01A) looks at LocalPlayer (Basic look)
161: 0x06DA [0x1A] CALL_SUBROUTINE(address=0x058A)
162: 0x06DD [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xB0)
163: 0x06E4 [0x2B] Shantotto (ID: 17756186/0x010EF01A) [9710*]:
    → "Why don't you go on ahead?\u0007I must find someone to watch over the laboratory in my stead.\u007F1\u0000\u0007"
164: 0x06EB [0x23] WAIT_FOR_DIALOG_INTERACTION
165: 0x06EC [0x2A] GET_REQ_LEVEL(level=16, entity_id=Shantotto (ID: 17756186/0x010EF01A))
166: 0x06F2 [0x1A] CALL_SUBROUTINE(address=0x058A)
167: 0x06F5 [0x52] END_LOAD_SCHEDULER: End scheduler "c003" with entities [LocalPlayer, LocalPlayer], work=464*
168: 0x0704 [0x01] GOTO 0x08F0
169: 0x0707 [0x02] IF !(ExtData[1]->WorkLocal[3] == 5*) GOTO 0x0766
170: 0x070F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "c004" with entities [LocalPlayer, LocalPlayer], work=[464*, 0*]
171: 0x0720 [0x1A] CALL_SUBROUTINE(address=0x058A)
172: 0x0723 [0x81] SET_ENTITY_BLINKING(blink_flag=0x00, entity=Shantotto (ID: 17756186/0x010EF01A))
173: 0x0729 [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xAF)
174: 0x0730 [0x1C] WAIT(60* ticks)
175: 0x0733 [0x03] Work_Zone[2] = 5000*
176: 0x0738 [0x2B] Shantotto (ID: 17756186/0x010EF01A) [9711*]:
    → "Oh, and I'm sorry, but it's my business stance.\u0007I'll require my payment of 
\u0000 gil in advance.\u007F1\u0000\u0007"
177: 0x073F [0x23] WAIT_FOR_DIALOG_INTERACTION
178: 0x0740 [0x1A] CALL_SUBROUTINE(address=0x05A4)
179: 0x0743 [0x2A] GET_REQ_LEVEL(level=16, entity_id=Shantotto (ID: 17756186/0x010EF01A))
180: 0x0749 [0x1A] CALL_SUBROUTINE(address=0x058A)
181: 0x074C [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x0763
182: 0x0754 [0x52] END_LOAD_SCHEDULER: End scheduler "c004" with entities [LocalPlayer, LocalPlayer], work=464*
183: 0x0763 [0x01] GOTO 0x08F0
184: 0x0766 [0x02] IF !(ExtData[1]->WorkLocal[3] == 6*) GOTO 0x07C4
185: 0x076E [0x1A] CALL_SUBROUTINE(address=0x058A)
186: 0x0771 [0x7B] Shantotto (ID: 17756186/0x010EF01A) stops talking
187: 0x0776 [0x6E] Shantotto (ID: 17756186/0x010EF01A) uses emote 7*
188: 0x077D [0x99] Wait for Shantotto (ID: 17756186/0x010EF01A) animation to complete
189: 0x0782 [0x1C] WAIT(90* ticks)
190: 0x0785 [0x79] Shantotto (ID: 17756186/0x010EF01A) looks at LocalPlayer (Basic look)
191: 0x078F [0x2B] Shantotto (ID: 17756186/0x010EF01A) [9713*]:
    → "You're clearly a \u007F\u0005[man/woman] who can recognize a good deal.\u0007For powers of my magnitude, that price is a steal!\u0007O\u0001`hohoho!\u007F1\u0000\u0007"
192: 0x0796 [0x23] WAIT_FOR_DIALOG_INTERACTION
193: 0x0797 [0x1C] WAIT(15* ticks)
194: 0x079A [0x4B] UPDATE_ENTITY_YAW(entity=Shantotto (ID: 17756186/0x010EF01A), yaw=1.1°*)
195: 0x07A1 [0x7B] Shantotto (ID: 17756186/0x010EF01A) stops talking
196: 0x07A6 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
197: 0x07A7 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Shantotto (ID: 17756186/0x010EF01A) Render.Flags0 and Render.Flags3 conditions are met
198: 0x07AC [0x1C] WAIT(30* ticks)
199: 0x07AF [0x1A] CALL_SUBROUTINE(address=0x058A)
200: 0x07B2 [0x52] END_LOAD_SCHEDULER: End scheduler "c004" with entities [LocalPlayer, LocalPlayer], work=464*
201: 0x07C1 [0x01] GOTO 0x08F0
202: 0x07C4 [0x02] IF !(ExtData[1]->WorkLocal[3] == 7*) GOTO 0x0822
203: 0x07CC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "c006" with entities [LocalPlayer, LocalPlayer], work=[464*, 0*]
204: 0x07DD [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=60*)
205: 0x07E2 [0x7B] Shantotto (ID: 17756186/0x010EF01A) stops talking
206: 0x07E7 [0x1A] CALL_SUBROUTINE(address=0x058A)
207: 0x07EA [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xAA)
208: 0x07F1 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 125*
209: 0x07F5 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 125*
210: 0x07F9 [0x9A] WAIT_MUSIC_SERVER()
211: 0x07FA [0x1C] WAIT(240* ticks)
212: 0x07FD [0x2B] Shantotto (ID: 17756186/0x010EF01A) [9714*]:
    → "<Ahem>--Allow me to say this with consummate clarity.\u0007I am not in the business of running a charity!\u007F1\u0000\u0007"
213: 0x0804 [0x23] WAIT_FOR_DIALOG_INTERACTION
214: 0x0805 [0x2B] Shantotto (ID: 17756186/0x010EF01A) [9715*]:
    → "If you're too cheap to pay, then off with you.\u007F1\u0000\u0007"
215: 0x080C [0x23] WAIT_FOR_DIALOG_INTERACTION
216: 0x080D [0x1A] CALL_SUBROUTINE(address=0x058A)
217: 0x0810 [0x52] END_LOAD_SCHEDULER: End scheduler "c006" with entities [LocalPlayer, LocalPlayer], work=464*
218: 0x081F [0x01] GOTO 0x08F0
219: 0x0822 [0x02] IF !(ExtData[1]->WorkLocal[3] == 8*) GOTO 0x08F0
220: 0x082A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "c007" with entities [LocalPlayer, LocalPlayer], work=[464*, 0*]
221: 0x083B [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xAB)
222: 0x0842 [0x1A] CALL_SUBROUTINE(address=0x058A)
223: 0x0845 [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xA2)
224: 0x084C [0x1C] WAIT(140* ticks)
225: 0x084F [0x2B] Shantotto (ID: 17756186/0x010EF01A) [9716*]:
    → "And you can bid your house and bat-winged friend adieu!\u0000\u0007"
226: 0x0856 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17756330/0x010EF0AA), tag_num=0x03)
227: 0x085D [0x7B] LocalPlayer stops talking
228: 0x0862 [0x1C] WAIT(90* ticks)
229: 0x0865 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x7A)
230: 0x086C [0x1C] WAIT(130* ticks)
231: 0x086F [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17756331/0x010EF0AB), tag_num=0x02)
232: 0x0876 [0x1C] WAIT(140* ticks)
233: 0x0879 [0x6E] LocalPlayer uses emote 29*
234: 0x0880 [0x99] Wait for LocalPlayer animation to complete
235: 0x0885 [0x1C] WAIT(30* ticks)
236: 0x0888 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17756330/0x010EF0AA), tag_num=0x04)
237: 0x088F [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17756331/0x010EF0AB), tag_num=0x03)
238: 0x0896 [0x1C] WAIT(110* ticks)
239: 0x0899 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x7B)
240: 0x08A0 [0x1C] WAIT(40* ticks)
241: 0x08A3 [0x7B] Shantotto (ID: 17756186/0x010EF01A) stops talking
242: 0x08A8 [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xA3)
243: 0x08AF [0x4A] Shantotto (ID: 17756186/0x010EF01A) looks at LocalPlayer
244: 0x08B8 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
245: 0x08B9 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Shantotto (ID: 17756186/0x010EF01A) Render.Flags0 and Render.Flags3 conditions are met
246: 0x08BE [0x7B] Shantotto (ID: 17756186/0x010EF01A) stops talking
247: 0x08C3 [0x27] REQ_SET(priority=0x10, entity_id=Shantotto (ID: 17756186/0x010EF01A), tag_num=0xA7)
248: 0x08CA [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=120*)
249: 0x08CF [0x1C] WAIT(240* ticks)
250: 0x08D2 [0x1A] CALL_SUBROUTINE(address=0x0597)
251: 0x08D5 [0x1A] CALL_SUBROUTINE(address=0x0954)
252: 0x08D8 [0x1A] CALL_SUBROUTINE(address=0x058A)
253: 0x08DB [0x1C] WAIT(30* ticks)
254: 0x08DE [0x52] END_LOAD_SCHEDULER: End scheduler "c007" with entities [LocalPlayer, LocalPlayer], work=464*
255: 0x08ED [0x01] GOTO 0x08F0

SUBROUTINE_08F0:
256: 0x08F0 [0x1B] RETURN

SUBROUTINE_0933:
257: 0x0933 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
258: 0x0944 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
259: 0x0953 [0x1B] RETURN

SUBROUTINE_0954:
260: 0x0954 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
261: 0x0965 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
262: 0x0974 [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x08F1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0902 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0911 [0x1B] RETURN
     0x0912 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0923 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0932 [0x1B] RETURN
# Dead code (unreachable instructions):
     0x0975 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0986 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0995 [0x1B] RETURN
     0x0996 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x09A7 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=201*
     0x09B6 [0x1B] RETURN
     0x09B7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi0" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x09C8 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi0" with entities [LocalPlayer, LocalPlayer], work=201*
     0x09D7 [0x1B] RETURN
     0x09D8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who0" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x09E9 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who0" with entities [LocalPlayer, LocalPlayer], work=201*
     0x09F8 [0x1B] RETURN
     0x09F9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "efon" with entities [LocalPlayer, LocalPlayer], work=[215*, 0*]
     0x0A0A [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "efon" with entities [LocalPlayer, LocalPlayer], work=215*
     0x0A19 [0x1B] RETURN
```