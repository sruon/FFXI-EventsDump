# Event 1081

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 19/19     |
| Offset          | 0x022A    |
| Data Size       | 142 bytes |
| Calculated Size | 142 bytes |
| Instructions    | 38        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0220:                                03 00 00 02 10 1E            ......
0230: F0 FF FF 7F 6F 70 29 08  1B E0 0E 01 01 1D 1C 80  ....op).........
0240: 23 03 02 10 00 00 24 1D  80 0F 80 0F 80 25 02 00  #.....$......%..
0250: 10 0F 80 00 A1 02 42 29  08 1B E0 0E 01 03 1D 17  ......B)........
0260: 80 23 03 01 10 11 80 43  00 43 01 02 02 10 18 80  .#.....C.C......
0270: 00 8E 02 29 08 1B E0 0E  01 0A 1D 19 80 23 53 F8  ...).........#S.
0280: FF FF 7F F8 FF FF 7F 70  61 73 30 01 99 02 29 08  .......pas0...).
0290: 1B E0 0E 01 01 1D 1A 80  23 03 01 10 02 10 01 B4  ........#.......
02A0: 02 02 00 10 11 80 00 B4  02 1D 1B 80 23 20 00 21  ............# .!
02B0: 00 01 B4 02 20 00 21 00                           .... .!.        
```

## Opcodes

```
  0: 0x022A [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  1: 0x022F [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0234 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x0235 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x0236 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Churano-Shurano (ID: 17752091/0x010EE01B), tag_num=0x01)
  5: 0x023D [0x1D] PRINT_EVENT_MESSAGE(message_id=12416*)
    → "Are your heart and mind ready?\u007F1\u0000\u0007"
  6: 0x0240 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x0241 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[0]
  8: 0x0246 [0x24] CREATE_DIALOG(message_id=12417*, default_option=0*, option_flags=0*)
    → "You fine with paying 
\u0000 gil?\u0007\u000BYes, of course.\u0007No, not yet.\u007F1\u0000\u0007"
  9: 0x024D [0x25] WAIT_DIALOG_SELECT()
 10: 0x024E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x02A1
 11: 0x0256 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 12: 0x0257 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Churano-Shurano (ID: 17752091/0x010EE01B), tag_num=0x03)
 13: 0x025E [0x1D] PRINT_EVENT_MESSAGE(message_id=12419*)
    → "Let's see here...\u007F1\u0000\u0007"
 14: 0x0261 [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x0262 [0x03] Work_Zone[1] = 1*
 16: 0x0267 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 17: 0x0269 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 18: 0x026B [0x02] IF !(Work_Zone[2] == 2578*) GOTO 0x028E
 19: 0x0273 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Churano-Shurano (ID: 17752091/0x010EE01B), tag_num=0x0A)
 20: 0x027A [0x1D] PRINT_EVENT_MESSAGE(message_id=12420*)
    → "Your contribution to the Orastery and stargazers everywhere is much appreciated.\u007F1\u0000\u0007"
 21: 0x027D [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x027E [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "pas0" with entities [EventEntity, EventEntity]
 23: 0x028B [0x01] GOTO 0x0299
 24: 0x028E [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Churano-Shurano (ID: 17752091/0x010EE01B), tag_num=0x01)
 25: 0x0295 [0x1D] PRINT_EVENT_MESSAGE(message_id=12422*)
    → "I hate to be the harbinger of bad news, but we don't do multiple payments. We need it all up front.\u007F1\u0000\u0007"
 26: 0x0298 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_0299:
 27: 0x0299 [0x03] Work_Zone[1] = Work_Zone[2]
 28: 0x029E [0x01] GOTO 0x02B4
 29: 0x02A1 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x02B4
 30: 0x02A9 [0x1D] PRINT_EVENT_MESSAGE(message_id=12418*)
    → "I can't go any lower. We're already losing too much at this price.\u0007Feel free to mull it over and come back when you change your mind. (Just be stealthy about it when you do.)\u007F1\u0000\u0007"
 31: 0x02AC [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x02AD [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 33: 0x02AF [0x21] END_EVENT
 34: 0x02B0 [0x00] END_REQSTACK()

SUBROUTINE_02B4:
 35: 0x02B4 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 36: 0x02B6 [0x21] END_EVENT
 37: 0x02B7 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x02B1 [0x01] GOTO 0x02B4
```