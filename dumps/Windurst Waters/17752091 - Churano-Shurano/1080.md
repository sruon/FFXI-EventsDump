# Event 1080

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 18/19     |
| Offset          | 0x0160    |
| Data Size       | 202 bytes |
| Calculated Size | 202 bytes |
| Instructions    | 57        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0160: 03 00 00 02 10 1E F0 FF  FF 7F 6F 70 29 08 1B E0  ..........op)...
0170: 0E 01 01 1D 0C 80 23 1D  0D 80 23 24 0E 80 0F 80  ......#...#$....
0180: 0F 80 25 02 00 10 0F 80  00 92 01 1D 10 80 23 01  ..%...........#.
0190: A1 01 02 00 10 11 80 00  A1 01 1D 12 80 23 01 A1  .............#..
01A0: 01 1C 13 80 29 08 1B E0  0E 01 01 1D 14 80 23 1D  ....).........#.
01B0: 15 80 23 03 02 10 00 00  24 16 80 0F 80 0F 80 25  ..#.....$......%
01C0: 02 00 10 0F 80 00 13 02  42 29 08 1B E0 0E 01 03  ........B)......
01D0: 1D 17 80 23 03 01 10 11  80 43 00 43 01 02 02 10  ...#.....C.C....
01E0: 18 80 00 00 02 29 08 1B  E0 0E 01 0A 1D 19 80 23  .....).........#
01F0: 53 F8 FF FF 7F F8 FF FF  7F 70 61 73 30 01 0B 02  S........pas0...
0200: 29 08 1B E0 0E 01 01 1D  1A 80 23 03 01 10 02 10  ).........#.....
0210: 01 26 02 02 00 10 11 80  00 26 02 1D 1B 80 23 20  .&.......&....# 
0220: 00 21 00 01 26 02 20 00  21 00                    .!..&. .!.      
```

## Opcodes

```
  0: 0x0160 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  1: 0x0165 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x016A [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x016B [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x016C [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Churano-Shurano (ID: 17752091/0x010EE01B), tag_num=0x01)
  5: 0x0173 [0x1D] PRINT_EVENT_MESSAGE(message_id=12408*)
    → "Hey, there. Got a moment?\u0007I just have to spread the word. We managed to create an astrolabe based on Lago's famed stellar-wellar map!\u007F1\u0000\u0007"
  6: 0x0176 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x0177 [0x1D] PRINT_EVENT_MESSAGE(message_id=12409*)
    → "But this isn't any old run-of-the-mill-will astrolabe, no siree! The constellations of the gods are represented with rare jewels that impart an otherworldly luster to it. Doesn't that make you want to wrest it from us and make it your own?\u007F1\u0000\u0007"
  8: 0x017A [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x017B [0x24] CREATE_DIALOG(message_id=12410*, default_option=0*, option_flags=0*)
    → "Does it make you want one?\u0007\u000BYes, I must have it now!\u0007No, not particularly.\u007F1\u0000\u0007"
 10: 0x0182 [0x25] WAIT_DIALOG_SELECT()
 11: 0x0183 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0192
 12: 0x018B [0x1D] PRINT_EVENT_MESSAGE(message_id=12411*)
    → "You sure do have a keen eye for gadgets. Vana'diel needs more aesthetes of your caliber so it can adapt to the changing times.\u007F1\u0000\u0007"
 13: 0x018E [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x018F [0x01] GOTO 0x01A1

SUBROUTINE_0192:
 15: 0x0192 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x01A1
 16: 0x019A [0x1D] PRINT_EVENT_MESSAGE(message_id=12412*)
    → "Pfff.\u0007If you don't covet this device more than anything in the world, you have no concept of what value-walue is.\u007F1\u0000\u0007"
 17: 0x019D [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x019E [0x01] GOTO 0x01A1

SUBROUTINE_01A1:
 19: 0x01A1 [0x1C] WAIT(60* ticks)
 20: 0x01A4 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Churano-Shurano (ID: 17752091/0x010EE01B), tag_num=0x01)
 21: 0x01AB [0x1D] PRINT_EVENT_MESSAGE(message_id=12413*)
    → "...It's a travesty that we spent too much procuring the gemstones that adorn it. Now we don't have the funds to research any other topics!\u007F1\u0000\u0007"
 22: 0x01AE [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x01AF [0x1D] PRINT_EVENT_MESSAGE(message_id=12414*)
    → "I speak for us all when I say we want nothing less than to part with this revolutionary tool. Yet the minister would have our head-weads if he found out what we've done. Therefore, could you please take it off our hands?\u007F1\u0000\u0007"
 24: 0x01B2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x01B3 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[0]
 26: 0x01B8 [0x24] CREATE_DIALOG(message_id=12415*, default_option=0*, option_flags=0*)
    → "How does 
\u0000 gil sound?\u0007\u000BGood enough.\u0007Too high for a favor.\u007F1\u0000\u0007"
 27: 0x01BF [0x25] WAIT_DIALOG_SELECT()
 28: 0x01C0 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0213
 29: 0x01C8 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 30: 0x01C9 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Churano-Shurano (ID: 17752091/0x010EE01B), tag_num=0x03)
 31: 0x01D0 [0x1D] PRINT_EVENT_MESSAGE(message_id=12419*)
    → "Let's see here...\u007F1\u0000\u0007"
 32: 0x01D3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x01D4 [0x03] Work_Zone[1] = 1*
 34: 0x01D9 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 35: 0x01DB [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 36: 0x01DD [0x02] IF !(Work_Zone[2] == 2578*) GOTO 0x0200
 37: 0x01E5 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Churano-Shurano (ID: 17752091/0x010EE01B), tag_num=0x0A)
 38: 0x01EC [0x1D] PRINT_EVENT_MESSAGE(message_id=12420*)
    → "Your contribution to the Orastery and stargazers everywhere is much appreciated.\u007F1\u0000\u0007"
 39: 0x01EF [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x01F0 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "pas0" with entities [EventEntity, EventEntity]
 41: 0x01FD [0x01] GOTO 0x020B

SUBROUTINE_0200:
 42: 0x0200 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Churano-Shurano (ID: 17752091/0x010EE01B), tag_num=0x01)
 43: 0x0207 [0x1D] PRINT_EVENT_MESSAGE(message_id=12422*)
    → "I hate to be the harbinger of bad news, but we don't do multiple payments. We need it all up front.\u007F1\u0000\u0007"
 44: 0x020A [0x23] WAIT_FOR_DIALOG_INTERACTION
 45: 0x020B [0x03] Work_Zone[1] = Work_Zone[2]
 46: 0x0210 [0x01] GOTO 0x0226

SUBROUTINE_0213:
 47: 0x0213 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0226
 48: 0x021B [0x1D] PRINT_EVENT_MESSAGE(message_id=12418*)
    → "I can't go any lower. We're already losing too much at this price.\u0007Feel free to mull it over and come back when you change your mind. (Just be stealthy about it when you do.)\u007F1\u0000\u0007"
 49: 0x021E [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x021F [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 51: 0x0221 [0x21] END_EVENT
 52: 0x0222 [0x00] END_REQSTACK()

SUBROUTINE_0226:
 53: 0x0226 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 54: 0x0228 [0x21] END_EVENT
 55: 0x0229 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0223 [0x01] GOTO 0x0226
```