# Event 960

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/3       |
| Offset          | 0x0001    |
| Data Size       | 886 bytes |
| Calculated Size | 886 bytes |
| Instructions    | 66        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    20 01 1E F0 FF FF 7F  1D 00 80 23 03 02 10 01    .........#....
0010: 80 1D 02 80 23 24 03 80  04 80 05 80 25 02 00 10  ....#$......%...
0020: 05 80 00 75 03 03 02 10  01 80 1D 06 80 23 1C 07  ...u.........#..
0030: 80 B9 00 08 80 04 80 04  80 B9 00 08 80 04 80 09  ................
0040: 80 B9 00 08 80 04 80 0A  80 B9 00 08 80 04 80 0B  ................
0050: 80 B9 00 08 80 04 80 0C  80 B9 00 08 80 04 80 0D  ................
0060: 80 B9 00 0E 80 05 80 04  80 B9 00 0E 80 05 80 09  ................
0070: 80 B9 00 0E 80 05 80 0A  80 B9 00 0E 80 05 80 0B  ................
0080: 80 B9 00 0E 80 05 80 0C  80 B9 00 0E 80 05 80 0D  ................
0090: 80 B9 00 0E 80 05 80 0F  80 B9 00 0E 80 05 80 10  ................
00A0: 80 B9 00 11 80 05 80 04  80 B9 00 11 80 05 80 09  ................
00B0: 80 B9 00 11 80 05 80 0A  80 B9 00 11 80 05 80 0B  ................
00C0: 80 B9 00 11 80 05 80 0C  80 B9 00 11 80 05 80 0D  ................
00D0: 80 B9 00 11 80 05 80 0F  80 B9 00 12 80 05 80 04  ................
00E0: 80 B9 00 12 80 05 80 09  80 B9 00 12 80 05 80 0A  ................
00F0: 80 B9 00 12 80 05 80 0B  80 B9 00 12 80 05 80 0C  ................
0100: 80 B9 00 12 80 05 80 0D  80 1C 07 80 1D 13 80 23  ...............#
0110: 1C 14 80 8D 08 80 04 80  1C 07 80 B8 08 80 04 80  ................
0120: 04 80 15 80 16 80 4D 65  6C 6F 64 79 5F 4D 69 6E  ......Melody_Min
0130: 73 74 72 65 6C 00 1D 17  80 23 1C 07 80 B8 08 80  strel....#......
0140: 04 80 0B 80 18 80 19 80  49 74 65 6D 44 65 70 6F  ........ItemDepo
0150: 73 69 74 6F 72 79 00 00  1D 1A 80 23 1C 07 80 B8  sitory.....#....
0160: 08 80 04 80 0C 80 1B 80  1C 80 52 65 70 75 74 61  ..........Reputa
0170: 74 69 6F 6E 00 00 00 00  00 00 1D 1D 80 23 1C 07  tion.........#..
0180: 80 B8 08 80 04 80 0D 80  1E 80 1F 80 50 75 72 73  ............Purs
0190: 75 69 76 61 6E 74 00 00  00 00 00 00 1D 20 80 23  uivant....... .#
01A0: 1C 07 80 8A 1C 07 80 1D  21 80 23 1C 14 80 8D 0E  ........!.#.....
01B0: 80 05 80 1C 07 80 B8 0E  80 05 80 04 80 22 80 23  .............".#
01C0: 80 4D 65 6C 6F 64 79 5F  4D 69 6E 73 74 72 65 6C  .Melody_Minstrel
01D0: 00 1D 17 80 23 1C 07 80  B8 0E 80 05 80 09 80 24  ....#..........$
01E0: 80 25 80 54 72 61 76 65  6C 69 6E 67 5F 42 61 72  .%.Traveling_Bar
01F0: 64 00 00 1D 26 80 23 1C  07 80 1D 27 80 23 1C 07  d...&.#....'.#..
0200: 80 B8 0E 80 05 80 0A 80  28 80 29 80 47 6F 6C 64  ........(.).Gold
0210: 5F 57 6F 72 6C 64 5F 50  61 73 73 00 1D 2A 80 23  _World_Pass..*.#
0220: 1C 07 80 B8 0E 80 05 80  0B 80 2B 80 2C 80 49 6D  ..........+.,.Im
0230: 6D 69 67 72 61 74 69 6F  6E 00 00 00 00 00 1D 2D  migration......-
0240: 80 23 1C 07 80 B8 0E 80  05 80 0C 80 2E 80 2F 80  .#............/.
0250: 4D 65 6C 6F 64 79 5F 4D  69 6E 73 74 72 65 6C 00  Melody_Minstrel.
0260: 1D 17 80 23 1C 07 80 8A  1C 07 80 1D 30 80 23 1C  ...#........0.#.
0270: 14 80 8D 11 80 05 80 1C  07 80 B8 11 80 05 80 0C  ................
0280: 80 31 80 32 80 41 72 6D  6F 72 44 65 70 6F 73 69  .1.2.ArmorDeposi
0290: 74 6F 72 79 00 1D 33 80  23 1C 07 80 B8 11 80 05  tory..3.#.......
02A0: 80 0D 80 34 80 35 80 4D  65 6C 6F 64 79 5F 4D 69  ...4.5.Melody_Mi
02B0: 6E 73 74 72 65 6C 00 1D  17 80 23 1C 07 80 B8 11  nstrel....#.....
02C0: 80 05 80 0F 80 36 80 37  80 57 65 61 74 68 65 72  .....6.7.Weather
02D0: 5F 52 65 70 6F 72 74 00  00 1D 38 80 23 1C 07 80  _Report...8.#...
02E0: 8A 1C 07 80 1D 39 80 23  1C 14 80 8D 12 80 05 80  .....9.#........
02F0: 1C 07 80 B8 12 80 05 80  04 80 3A 80 3B 80 4D 65  ..........:.;.Me
0300: 6C 6F 64 79 5F 4D 69 6E  73 74 72 65 6C 00 1D 17  lody_Minstrel...
0310: 80 23 1C 07 80 B8 12 80  05 80 09 80 3C 80 3D 80  .#..........<.=.
0320: 54 65 6C 65 70 6F 72 74  61 74 69 6F 6E 00 00 00  Teleportation...
0330: 1D 3E 80 23 1C 07 80 B8  12 80 05 80 0D 80 3F 80  .>.#..........?.
0340: 40 80 57 65 61 74 68 65  72 5F 52 65 70 6F 72 74  @.Weather_Report
0350: 00 00 1D 38 80 23 1C 07  80 8A 1C 07 80 03 02 10  ...8.#..........
0360: 01 80 1D 41 80 23 1D 42  80 23 1D 43 80 23 1D 44  ...A.#.B.#.C.#.D
0370: 80 23 01 75 03 21 00                              .#.u.!.         
```

## Opcodes

```
  0: 0x0001 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0003 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0008 [0x1D] PRINT_EVENT_MESSAGE(message_id=12424*)
    → "Good day! I'm a Merry Map Marker, and I'd be emphatically ecstatic if you'd allow me to mark your magical map!\u007F1\u0000\u0007"
  3: 0x000B [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x000C [0x03] Work_Zone[2] = 387*
  5: 0x0011 [0x1D] PRINT_EVENT_MESSAGE(message_id=12425*)
    → "A markless \u0001\u00053\u0002\u0000\u0000\u0000 is like a motherless maiden, meandering through a miasmatic mire of misery.\u007F1\u0000\u0007"
  6: 0x0014 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x0015 [0x24] CREATE_DIALOG(message_id=12426*, default_option=1*, option_flags=0*)
    → "Embark on a map-marking mission?\u0007\u000BMark me up!\u0007Keep your mitts off my map!\u007F1\u0000\u0007"
  8: 0x001C [0x25] WAIT_DIALOG_SELECT()
  9: 0x001D [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0375
 10: 0x0025 [0x03] Work_Zone[2] = 387*
 11: 0x002A [0x1D] PRINT_EVENT_MESSAGE(message_id=12427*)
    → "Marvelous! Now allow me a minute to make all my marks.\u007F1\u0000\u0007"
 12: 0x002D [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x002E [0x1C] WAIT(30* ticks)
 14: 0x0031 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8008, submap=0x8004, marker_id=0x00008004)
 15: 0x0039 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8008, submap=0x8004, marker_id=0x00008009)
 16: 0x0041 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8008, submap=0x8004, marker_id=0x0000800A)
 17: 0x0049 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8008, submap=0x8004, marker_id=0x0000800B)
 18: 0x0051 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8008, submap=0x8004, marker_id=0x0000800C)
 19: 0x0059 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8008, submap=0x8004, marker_id=0x0000800D)
 20: 0x0061 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x800E, submap=0x8005, marker_id=0x00008004)
 21: 0x0069 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x800E, submap=0x8005, marker_id=0x00008009)
 22: 0x0071 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x800E, submap=0x8005, marker_id=0x0000800A)
 23: 0x0079 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x800E, submap=0x8005, marker_id=0x0000800B)
 24: 0x0081 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x800E, submap=0x8005, marker_id=0x0000800C)
 25: 0x0089 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x800E, submap=0x8005, marker_id=0x0000800D)
 26: 0x0091 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x800E, submap=0x8005, marker_id=0x0000800F)
 27: 0x0099 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x800E, submap=0x8005, marker_id=0x00008010)
 28: 0x00A1 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8011, submap=0x8005, marker_id=0x00008004)
 29: 0x00A9 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8011, submap=0x8005, marker_id=0x00008009)
 30: 0x00B1 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8011, submap=0x8005, marker_id=0x0000800A)
 31: 0x00B9 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8011, submap=0x8005, marker_id=0x0000800B)
 32: 0x00C1 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8011, submap=0x8005, marker_id=0x0000800C)
 33: 0x00C9 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8011, submap=0x8005, marker_id=0x0000800D)
 34: 0x00D1 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8011, submap=0x8005, marker_id=0x0000800F)
 35: 0x00D9 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8012, submap=0x8005, marker_id=0x00008004)
 36: 0x00E1 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8012, submap=0x8005, marker_id=0x00008009)
 37: 0x00E9 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8012, submap=0x8005, marker_id=0x0000800A)
 38: 0x00F1 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8012, submap=0x8005, marker_id=0x0000800B)
 39: 0x00F9 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8012, submap=0x8005, marker_id=0x0000800C)
 40: 0x0101 [0xB9] MAP_EDIT_MARKER_FROM_BUFFER(map_flag=0x00, zone=0x8012, submap=0x8005, marker_id=0x0000800D)
 41: 0x0109 [0x1C] WAIT(30* ticks)
 42: 0x010C [0x1D] PRINT_EVENT_MESSAGE(message_id=12450*)
    → "Let me start with the Windurst Waters.\u007F1\u0000\u0007"
 43: 0x010F [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x0110 [0x1C] WAIT(60* ticks)
 45: 0x0113 [0x8D] OPEN_MAP_WITH_PROPERTIES(map_id=238*, properties=1*)
 46: 0x0118 [0x1C] WAIT(30* ticks)
 47: 0x011B [0xB8] MAP_ADD_MARKER_WITH_NAME(zone=238*, submap=1*, marker_id=1*, x_pos=-46.430*, y_pos=212.363*, marker_name=0x)
 48: 0x0126 [0x4D] EventEntity->StatusEvent = 9 // Close door
 49: 0x0127 [0x65] CALCULATE_3D_DISTANCE(result=0x6F6C, entity1=Unknown NPC (ID: 1298102628/0x4D5F7964), entity2=Unknown NPC (ID: 1953721961/0x74736E69))
 50: 0x0132 [0x72] LOAD_EVENT_WEATHER: Unknown mode 101, weather_id=0x6C
 51: 0x0136 [0x1D] PRINT_EVENT_MESSAGE(message_id=12435*)
    → "Our local \u001E\u0005minstrel of melodies\u001E\u0001 can be found here. His mirthful musicalities may help you recall misplaced memories.\u007F1\u0000\u0007"
 52: 0x0139 [0x23] WAIT_FOR_DIALOG_INTERACTION
 53: 0x013A [0x1C] WAIT(30* ticks)
 54: 0x013D [0xB8] MAP_ADD_MARKER_WITH_NAME(zone=238*, submap=1*, marker_id=4*, x_pos=-61.226*, y_pos=72.538*, marker_name=0x)
 55: 0x0148 [0x49] Unknown NPC (ID: 1148020084/0x446D6574) (No speaker name) [0x7065]:
 56: 0x014F [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 57: 0x0150 [0x73] Unknown NPC (ID: 7959151/0x0079726F) casts magic 0x7469 on Unknown NPC (ID: 2149195008/0x801A1D00)
 58: 0x015B [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0x015C [0x1C] WAIT(30* ticks)
 60: 0x015F [0xB8] MAP_ADD_MARKER_WITH_NAME(zone=238*, submap=1*, marker_id=5*, x_pos=-58.425*, y_pos=26.775*, marker_name=0x)
 61: 0x016A [0x52] END_LOAD_SCHEDULER: End scheduler 0x00000000 with entities [Unknown NPC (ID: 1952543861/0x74617475), Unknown NPC (ID: 7237481/0x006E6F69)], work=0x7065
 62: 0x0179 [0x00] END_REQSTACK()

 63: 0x0375 [0x21] END_EVENT
 64: 0x0376 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Data Section: 0x017A (507 bytes)
     0x017A: 1D 1D 80 23 1C 07 80 B8 08 80 04 80 0D 80 1E 80
     0x018A: 1F 80 50 75 72 73 75 69 76 61 6E 74 00 00 00 00
     0x019A: 00 00 1D 20 80 23 1C 07 80 8A 1C 07 80 1D 21 80
     0x01AA: 23 1C 14 80 8D 0E 80 05 80 1C 07 80 B8 0E 80 05
     0x01BA: 80 04 80 22 80 23 80 4D 65 6C 6F 64 79 5F 4D 69
     0x01CA: 6E 73 74 72 65 6C 00 1D 17 80 23 1C 07 80 B8 0E
     0x01DA: 80 05 80 09 80 24 80 25 80 54 72 61 76 65 6C 69
     0x01EA: 6E 67 5F 42 61 72 64 00 00 1D 26 80 23 1C 07 80
     0x01FA: 1D 27 80 23 1C 07 80 B8 0E 80 05 80 0A 80 28 80
     0x020A: 29 80 47 6F 6C 64 5F 57 6F 72 6C 64 5F 50 61 73
     0x021A: 73 00 1D 2A 80 23 1C 07 80 B8 0E 80 05 80 0B 80
     0x022A: 2B 80 2C 80 49 6D 6D 69 67 72 61 74 69 6F 6E 00
     0x023A: 00 00 00 00 1D 2D 80 23 1C 07 80 B8 0E 80 05 80
     0x024A: 0C 80 2E 80 2F 80 4D 65 6C 6F 64 79 5F 4D 69 6E
     0x025A: 73 74 72 65 6C 00 1D 17 80 23 1C 07 80 8A 1C 07
     0x026A: 80 1D 30 80 23 1C 14 80 8D 11 80 05 80 1C 07 80
     0x027A: B8 11 80 05 80 0C 80 31 80 32 80 41 72 6D 6F 72
     0x028A: 44 65 70 6F 73 69 74 6F 72 79 00 1D 33 80 23 1C
     0x029A: 07 80 B8 11 80 05 80 0D 80 34 80 35 80 4D 65 6C
     0x02AA: 6F 64 79 5F 4D 69 6E 73 74 72 65 6C 00 1D 17 80
     0x02BA: 23 1C 07 80 B8 11 80 05 80 0F 80 36 80 37 80 57
     0x02CA: 65 61 74 68 65 72 5F 52 65 70 6F 72 74 00 00 1D
     0x02DA: 38 80 23 1C 07 80 8A 1C 07 80 1D 39 80 23 1C 14
     0x02EA: 80 8D 12 80 05 80 1C 07 80 B8 12 80 05 80 04 80
     0x02FA: 3A 80 3B 80 4D 65 6C 6F 64 79 5F 4D 69 6E 73 74
     0x030A: 72 65 6C 00 1D 17 80 23 1C 07 80 B8 12 80 05 80
     0x031A: 09 80 3C 80 3D 80 54 65 6C 65 70 6F 72 74 61 74
     0x032A: 69 6F 6E 00 00 00 1D 3E 80 23 1C 07 80 B8 12 80
     0x033A: 05 80 0D 80 3F 80 40 80 57 65 61 74 68 65 72 5F
     0x034A: 52 65 70 6F 72 74 00 00 1D 38 80 23 1C 07 80 8A
     0x035A: 1C 07 80 03 02 10 01 80 1D 41 80 23 1D 42 80 23
     0x036A: 1D 43 80 23 1D 44 80 23 01 75 03
```