# Event 977

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/3       |
| Offset          | 0x0544    |
| Data Size       | 401 bytes |
| Calculated Size | 401 bytes |
| Instructions    | 52        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0540:             42 45 00 80  F8 FF FF 7F F8 FF FF 7F      BE..........
0550: 66 64 6F 31 01 80 55 00  80 F8 FF FF 7F F8 FF FF  fdo1..U.........
0560: 7F 66 64 6F 31 46 01 38  02 80 92 01 B8 E0 0E 01  .fdo1F.8........
0570: 92 01 B9 E0 0E 01 92 01  11 E1 0E 01 92 01 14 E1  ................
0580: 0E 01 92 01 12 E1 0E 01  4E 00 11 E1 0E 01 4E 00  ........N.....N.
0590: 12 E1 0E 01 4E 00 14 E1  0E 01 2F 00 11 E1 0E 01  ....N...../.....
05A0: 2F 00 14 E1 0E 01 2F 00  12 E1 0E 01 94 01 F0 FF  /...../.........
05B0: FF 7F 80 F0 FF FF 7F 80  11 E1 0E 01 80 14 E1 0E  ................
05C0: 01 BA F0 FF FF 7F 0A 80  0B 80 05 80 0C 80 BA 11  ................
05D0: E1 0E 01 44 80 45 80 05  80 0C 80 BA 12 E1 0E 01  ...D.E..........
05E0: 46 80 47 80 05 80 48 80  BA 14 E1 0E 01 49 80 4A  F.G...H......I.J
05F0: 80 05 80 0C 80 4A 12 E1  0E 01 11 E1 0E 01 1C 0E  .....J..........
0600: 80 27 10 14 E1 0E 01 02  45 0F 80 F0 FF FF 7F F0  .'......E.......
0610: FF FF 7F 7A 30 30 39 01  80 45 00 80 F0 FF FF 7F  ...z009..E......
0620: F0 FF FF 7F 66 64 69 31  01 80 4A F0 FF FF 7F 14  ....fdi1..J.....
0630: E1 0E 01 2B 14 E1 0E 01  4B 80 23 2B 14 E1 0E 01  ...+....K.#+....
0640: 4C 80 23 2A 10 14 E1 0E  01 52 0F 80 F0 FF FF 7F  L.#*.....R......
0650: F0 FF FF 7F 7A 7A 7A 39  45 0F 80 F0 FF FF 7F F0  ....zzz9E.......
0660: FF FF 7F 7A 7A 31 30 01  80 1C 1D 80 2B 14 E1 0E  ...zz10.....+...
0670: 01 4D 80 23 4A 14 E1 0E  01 11 E1 0E 01 2B 14 E1  .M.#J........+..
0680: 0E 01 4E 80 23 4A F0 FF  FF 7F 11 E1 0E 01 1C 0E  ..N.#J..........
0690: 80 45 00 80 F8 FF FF 7F  F8 FF FF 7F 66 64 6F 31  .E..........fdo1
06A0: 01 80 55 00 80 F8 FF FF  7F F8 FF FF 7F 66 64 6F  ..U..........fdo
06B0: 31 52 0F 80 F0 FF FF 7F  F0 FF FF 7F 7A 7A 31 30  1R..........zz10
06C0: 46 00 45 00 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  F.E..........fdi
06D0: 32 01 80 21 00                                    2..!.           
```

## Opcodes

```
  0: 0x0544 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0545 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  2: 0x0556 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
  3: 0x0565 [0x46] CAMERA_CONTROL: Disable user control
  4: 0x0567 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  5: 0x056A [0x92] Door:Rhinostery (ID: 17752248/0x010EE0B8)->Render.Flags3 ^= 0x01
  6: 0x0570 [0x92] Door:Rhinostery (ID: 17752249/0x010EE0B9)->Render.Flags3 ^= 0x01
  7: 0x0576 [0x92] Maju-Naju (ID: 17752337/0x010EE111)->Render.Flags3 ^= 0x01
  8: 0x057C [0x92] Ramchacha (ID: 17752340/0x010EE114)->Render.Flags3 ^= 0x01
  9: 0x0582 [0x92] Shahr Yagenmhi (ID: 17752338/0x010EE112)->Render.Flags3 ^= 0x01
 10: 0x0588 [0x4E] SET_ENTITY_HIDE_FLAG: Show Maju-Naju (ID: 17752337/0x010EE111)
 11: 0x058E [0x4E] SET_ENTITY_HIDE_FLAG: Show Shahr Yagenmhi (ID: 17752338/0x010EE112)
 12: 0x0594 [0x4E] SET_ENTITY_HIDE_FLAG: Show Ramchacha (ID: 17752340/0x010EE114)
 13: 0x059A [0x2F] Maju-Naju (ID: 17752337/0x010EE111)->Render.Flags0 &= ~0x80000 // Bit 19
 14: 0x05A0 [0x2F] Ramchacha (ID: 17752340/0x010EE114)->Render.Flags0 &= ~0x80000 // Bit 19
 15: 0x05A6 [0x2F] Shahr Yagenmhi (ID: 17752338/0x010EE112)->Render.Flags0 &= ~0x80000 // Bit 19
 16: 0x05AC [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 17: 0x05B2 [0x80] LOAD_WAIT(entity=LocalPlayer)
 18: 0x05B7 [0x80] LOAD_WAIT(entity=Maju-Naju (ID: 17752337/0x010EE111))
 19: 0x05BC [0x80] LOAD_WAIT(entity=Ramchacha (ID: 17752340/0x010EE114))
 20: 0x05C1 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-3.763*, pos_z=-164.133*, pos_y=-3.999*, direction=23.2°*)
 21: 0x05CE [0xBA] SET_ENTITY_POSITION(entity_id=References[17719569], pos_x=0.748*, pos_z=-154.656*, pos_y=-3.999*, direction=23.2°*)
 22: 0x05DB [0xBA] SET_ENTITY_POSITION(entity_id=References[17719570], pos_x=2.504*, pos_z=-153.251*, pos_y=-3.999*, direction=123.0°*)
 23: 0x05E8 [0xBA] SET_ENTITY_POSITION(entity_id=References[17719572], pos_x=1.894*, pos_z=-168.205*, pos_y=-3.999*, direction=23.2°*)
 24: 0x05F5 [0x4A] Shahr Yagenmhi (ID: 17752338/0x010EE112) looks at Maju-Naju (ID: 17752337/0x010EE111)
 25: 0x05FE [0x1C] WAIT(60* ticks)
 26: 0x0601 [0x27] REQ_SET(priority=0x10, entity_id=Ramchacha (ID: 17752340/0x010EE114), tag_num=0x02)
 27: 0x0608 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "z009" with entities [LocalPlayer, LocalPlayer], work=[369*, 0*]
 28: 0x0619 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 29: 0x062A [0x4A] LocalPlayer looks at Ramchacha (ID: 17752340/0x010EE114)
 30: 0x0633 [0x2B] Ramchacha (ID: 17752340/0x010EE114) [12366*]:
    → "Oh, hello there.\u0007You have business with Maju-Naju?\u007F1\u0000\u0007"
 31: 0x063A [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x063B [0x2B] Ramchacha (ID: 17752340/0x010EE114) [12367*]:
    → "You wish to return a book?\u007F1\u0000\u0007"
 33: 0x0642 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x0643 [0x2A] GET_REQ_LEVEL(level=16, entity_id=Ramchacha (ID: 17752340/0x010EE114))
 35: 0x0649 [0x52] END_LOAD_SCHEDULER: End scheduler "zzz9" with entities [LocalPlayer, LocalPlayer], work=369*
 36: 0x0658 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "zz10" with entities [LocalPlayer, LocalPlayer], work=[369*, 0*]
 37: 0x0669 [0x1C] WAIT(30* ticks)
 38: 0x066C [0x2B] Ramchacha (ID: 17752340/0x010EE114) [12368*]:
    → "I'd be happy to handy-wand it over for you.\u0007Wait, isn't this the tome describing a possible cure for the Eternal Slumber sickness? I don'taru believe he needs it anymore.\u007F1\u0000\u0007"
 39: 0x0673 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x0674 [0x4A] Ramchacha (ID: 17752340/0x010EE114) looks at Maju-Naju (ID: 17752337/0x010EE111)
 41: 0x067D [0x2B] Ramchacha (ID: 17752340/0x010EE114) [12369*]:
    → "Hm? Well, he did concoctaru the medicine to treat his wife Shahr's illness some years ago now...\u007F1\u0000\u0007"
 42: 0x0684 [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x0685 [0x4A] LocalPlayer looks at Maju-Naju (ID: 17752337/0x010EE111)
 44: 0x068E [0x1C] WAIT(60* ticks)
 45: 0x0691 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 46: 0x06A2 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
 47: 0x06B1 [0x52] END_LOAD_SCHEDULER: End scheduler "zz10" with entities [LocalPlayer, LocalPlayer], work=369*
 48: 0x06C0 [0x46] CAMERA_CONTROL: Restore default settings
 49: 0x06C2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 50: 0x06D3 [0x21] END_EVENT
 51: 0x06D4 [0x00] END_REQSTACK()
```
