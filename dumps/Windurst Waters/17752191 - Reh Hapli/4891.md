# Event 4891

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 11/11     |
| Offset          | 0x0086    |
| Data Size       | 913 bytes |
| Calculated Size | 913 bytes |
| Instructions    | 39        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0080:                   1A 9D  03 21 00 03 00 00 06 10        ...!......
0090: 1E F0 FF FF 7F 6F 70 02  00 00 06 80 00 BF 00 2C  .....op........,
00A0: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 1D 07 80 23  ........tlk0...#
00B0: 1D 08 80 23 1D 09 80 23  1D 0A 80 23 01 CC 01 02  ...#...#...#....
00C0: 00 00 0B 80 00 E7 00 2C  F8 FF FF 7F F8 FF FF 7F  .......,........
00D0: 74 6C 6B 30 1D 0C 80 23  1D 0D 80 23 1D 0E 80 23  tlk0...#...#...#
00E0: 1D 0F 80 23 01 CC 01 02  00 00 10 80 00 0F 01 2C  ...#...........,
00F0: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 1D 11 80 23  ........tlk0...#
0100: 1D 12 80 23 1D 13 80 23  1D 14 80 23 01 CC 01 02  ...#...#...#....
0110: 00 00 15 80 00 37 01 2C  F8 FF FF 7F F8 FF FF 7F  .....7.,........
0120: 74 6C 6B 30 1D 16 80 23  1D 17 80 23 1D 18 80 23  tlk0...#...#...#
0130: 1D 19 80 23 01 CC 01 02  00 00 1A 80 00 5F 01 2C  ...#........._.,
0140: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 1D 1B 80 23  ........tlk0...#
0150: 1D 1C 80 23 1D 1D 80 23  1D 1E 80 23 01 CC 01 02  ...#...#...#....
0160: 00 00 1F 80 00 87 01 2C  F8 FF FF 7F F8 FF FF 7F  .......,........
0170: 74 6C 6B 30 1D 20 80 23  1D 21 80 23 1D 22 80 23  tlk0. .#.!.#.".#
0180: 1D 23 80 23 01 CC 01 02  00 00 24 80 00 AF 01 2C  .#.#......$....,
0190: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 1D 25 80 23  ........tlk0.%.#
01A0: 1D 26 80 23 1D 27 80 23  1D 28 80 23 01 CC 01 2C  .&.#.'.#.(.#...,
01B0: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 1D 29 80 23  ........tlk0.).#
01C0: 1D 2A 80 23 1D 2B 80 23  1D 2C 80 23 1B 03 00 00  .*.#.+.#.,.#....
01D0: 06 10 1E F0 FF FF 7F 6F  70 02 00 00 06 80 00 EC  .......op.......
01E0: 01 1D 09 80 23 1D 0A 80  23 01 66 02 02 00 00 0B  ....#...#.f.....
01F0: 80 00 FF 01 1D 0E 80 23  1D 0F 80 23 01 66 02 02  .......#...#.f..
0200: 00 00 10 80 00 12 02 1D  13 80 23 1D 14 80 23 01  ..........#...#.
0210: 66 02 02 00 00 15 80 00  25 02 1D 18 80 23 1D 19  f.......%....#..
0220: 80 23 01 66 02 02 00 00  1A 80 00 38 02 1D 1D 80  .#.f.......8....
0230: 23 1D 1E 80 23 01 66 02  02 00 00 1F 80 00 4B 02  #...#.f.......K.
0240: 1D 22 80 23 1D 23 80 23  01 66 02 02 00 00 24 80  .".#.#.#.f....$.
0250: 00 5E 02 1D 27 80 23 1D  28 80 23 01 66 02 1D 2B  .^..'.#.(.#.f..+
0260: 80 23 1D 2C 80 23 1B 03  00 00 06 10 42 1E F0 FF  .#.,.#......B...
0270: FF 7F 6F 70 02 00 00 06  80 00 83 02 1D 2D 80 23  ..op.........-.#
0280: 01 E1 02 02 00 00 0B 80  00 92 02 1D 2E 80 23 01  ..............#.
0290: E1 02 02 00 00 10 80 00  A1 02 1D 2F 80 23 01 E1  .........../.#..
02A0: 02 02 00 00 15 80 00 B0  02 1D 30 80 23 01 E1 02  ..........0.#...
02B0: 02 00 00 1A 80 00 BF 02  1D 31 80 23 01 E1 02 02  .........1.#....
02C0: 00 00 1F 80 00 CE 02 1D  32 80 23 01 E1 02 02 00  ........2.#.....
02D0: 00 24 80 00 DD 02 1D 33  80 23 01 E1 02 1D 34 80  .$.....3.#....4.
02E0: 23 1B 03 00 00 06 10 42  1E F0 FF FF 7F 6F 70 02  #......B.....op.
02F0: 00 00 06 80 00 06 03 1D  35 80 23 1D 36 80 23 1D  ........5.#.6.#.
0300: 37 80 23 01 9C 03 02 00  00 0B 80 00 1D 03 1D 38  7.#............8
0310: 80 23 1D 39 80 23 1D 3A  80 23 01 9C 03 02 00 00  .#.9.#.:.#......
0320: 10 80 00 34 03 1D 3B 80  23 1D 3C 80 23 1D 3D 80  ...4..;.#.<.#.=.
0330: 23 01 9C 03 02 00 00 15  80 00 4B 03 1D 3E 80 23  #.........K..>.#
0340: 1D 3F 80 23 1D 40 80 23  01 9C 03 02 00 00 1A 80  .?.#.@.#........
0350: 00 62 03 1D 41 80 23 1D  42 80 23 1D 43 80 23 01  .b..A.#.B.#.C.#.
0360: 9C 03 02 00 00 1F 80 00  79 03 1D 44 80 23 1D 45  ........y..D.#.E
0370: 80 23 1D 46 80 23 01 9C  03 02 00 00 24 80 00 90  .#.F.#......$...
0380: 03 1D 47 80 23 1D 48 80  23 1D 49 80 23 01 9C 03  ..G.#.H.#.I.#...
0390: 1D 4A 80 23 1D 4B 80 23  1D 4C 80 23 1B 03 00 00  .J.#.K.#.L.#....
03A0: 06 10 1E F0 FF FF 7F 6F  70 02 00 00 06 80 00 B8  .......op.......
03B0: 03 1D 37 80 23 01 16 04  02 00 00 0B 80 00 C7 03  ..7.#...........
03C0: 1D 3A 80 23 01 16 04 02  00 00 10 80 00 D6 03 1D  .:.#............
03D0: 3D 80 23 01 16 04 02 00  00 15 80 00 E5 03 1D 40  =.#............@
03E0: 80 23 01 16 04 02 00 00  1A 80 00 F4 03 1D 43 80  .#............C.
03F0: 23 01 16 04 02 00 00 1F  80 00 03 04 1D 46 80 23  #............F.#
0400: 01 16 04 02 00 00 24 80  00 12 04 1D 49 80 23 01  ......$.....I.#.
0410: 16 04 1D 4C 80 23 1B                              ...L.#.         
```

## Opcodes

```
  0: 0x0086 [0x1A] CALL_SUBROUTINE(address=0x039D)
  1: 0x0089 [0x21] END_EVENT
  2: 0x008A [0x00] END_REQSTACK()

  3: 0x039D [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[6]
  4: 0x03A2 [0x1E] EventEntity looks at LocalPlayer and starts talking
  5: 0x03A7 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  6: 0x03A8 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  7: 0x03A9 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x03B8
  8: 0x03B1 [0x1D] PRINT_EVENT_MESSAGE(message_id=15713*)
    → "And please thank \u001C\u0000 the next time you see that good samaritan.\u0007The person who said, \u00072'Tis better to give than receive\u00073 probably never had a gift drought as long as mine. I feel fantastic!\u007F1\u0000\u0007"
  9: 0x03B4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x03B5 [0x01] GOTO 0x0416

SUBROUTINE_03B8:
 11: 0x03B8 [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x03C7
 12: 0x03C0 [0x1D] PRINT_EVENT_MESSAGE(message_id=15716*)
    → "I'm actually quite fed up with these ridiculous baubles, but I'm not one for losing face.\u0007If you should see \u001C\u0000 again, please give my regards and say I found the gift rather...quaint.\u007F1\u0000\u0007"
 13: 0x03C3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x03C4 [0x01] GOTO 0x0416

SUBROUTINE_03C7:
 15: 0x03C7 [0x02] IF !(ExtData[1]->WorkLocal[0] == 3*) GOTO 0x03D6
 16: 0x03CF [0x1D] PRINT_EVENT_MESSAGE(message_id=15719*)
    → "Would you be so kind as to tell \u001C\u0000 that I truly appreciate the gift?\u0007I am also thoroughly impressed with your selfless nature, adventurer.\u007F1\u0000\u0007"
 17: 0x03D2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x03D3 [0x01] GOTO 0x0416

SUBROUTINE_03D6:
 19: 0x03D6 [0x02] IF !(ExtData[1]->WorkLocal[0] == 4*) GOTO 0x03E5
 20: 0x03DE [0x1D] PRINT_EVENT_MESSAGE(message_id=15722*)
    → "The finite words of us mere mortals may not be sufficient to convey the depths of my gratitude, but I earnestly hope \u001C\u0000 would appreciate a succinct \u00072Thank you.\u00073\u007F1\u0000\u0007"
 21: 0x03E1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x03E2 [0x01] GOTO 0x0416

SUBROUTINE_03E5:
 23: 0x03E5 [0x02] IF !(ExtData[1]->WorkLocal[0] == 5*) GOTO 0x03F4
 24: 0x03ED [0x1D] PRINT_EVENT_MESSAGE(message_id=15725*)
    → "Well then, I suppose some thanks are in order. But if I find out that this was just some elaborataru scheme to make me lower my guard, I'm going to boppy-wop you both in the noggin!\u007F1\u0000\u0007"
 25: 0x03F0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x03F1 [0x01] GOTO 0x0416

SUBROUTINE_03F4:
 27: 0x03F4 [0x02] IF !(ExtData[1]->WorkLocal[0] == 6*) GOTO 0x0403
 28: 0x03FC [0x1D] PRINT_EVENT_MESSAGE(message_id=15728*)
    → "No, thataru wouldn't be right. Besides, it might not be edible.\u0007Anyway, please be sure to thank \u001C\u0000 for pudding the icing on such a delectable Starcake Chocolation.\u0007Ugh, I'm just terrible!\u007F1\u0000\u0007"
 29: 0x03FF [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x0400 [0x01] GOTO 0x0416

SUBROUTINE_0403:
 31: 0x0403 [0x02] IF !(ExtData[1]->WorkLocal[0] == 7*) GOTO 0x0412
 32: 0x040B [0x1D] PRINT_EVENT_MESSAGE(message_id=15734*)
    → "Don't get the wrrrong idea! It's not like I enjoy the gift or anything!\u0007Just run back to \u001C\u0000 and drop dead! This conversation never happened!\u007F1\u0000\u0007"
 33: 0x040E [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x040F [0x01] GOTO 0x0416

SUBROUTINE_0412:
 35: 0x0412 [0x1D] PRINT_EVENT_MESSAGE(message_id=15731*)
    → "I best start looking for something to give in return. In the meantime, please tell \u001C\u0000 how happy I am to have received this.\u0007And maybe next year I'll remember before it's too late. <Sigh>...One can only hope.\u007F1\u0000\u0007"
 36: 0x0415 [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x0416 [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x008B (786 bytes)
     0x008B: 03 00 00 06 10 1E F0 FF FF 7F 6F 70 02 00 00 06
     0x009B: 80 00 BF 00 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x00AB: 30 1D 07 80 23 1D 08 80 23 1D 09 80 23 1D 0A 80
     0x00BB: 23 01 CC 01 02 00 00 0B 80 00 E7 00 2C F8 FF FF
     0x00CB: 7F F8 FF FF 7F 74 6C 6B 30 1D 0C 80 23 1D 0D 80
     0x00DB: 23 1D 0E 80 23 1D 0F 80 23 01 CC 01 02 00 00 10
     0x00EB: 80 00 0F 01 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x00FB: 30 1D 11 80 23 1D 12 80 23 1D 13 80 23 1D 14 80
     0x010B: 23 01 CC 01 02 00 00 15 80 00 37 01 2C F8 FF FF
     0x011B: 7F F8 FF FF 7F 74 6C 6B 30 1D 16 80 23 1D 17 80
     0x012B: 23 1D 18 80 23 1D 19 80 23 01 CC 01 02 00 00 1A
     0x013B: 80 00 5F 01 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x014B: 30 1D 1B 80 23 1D 1C 80 23 1D 1D 80 23 1D 1E 80
     0x015B: 23 01 CC 01 02 00 00 1F 80 00 87 01 2C F8 FF FF
     0x016B: 7F F8 FF FF 7F 74 6C 6B 30 1D 20 80 23 1D 21 80
     0x017B: 23 1D 22 80 23 1D 23 80 23 01 CC 01 02 00 00 24
     0x018B: 80 00 AF 01 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x019B: 30 1D 25 80 23 1D 26 80 23 1D 27 80 23 1D 28 80
     0x01AB: 23 01 CC 01 2C F8 FF FF 7F F8 FF FF 7F 74 6C 6B
     0x01BB: 30 1D 29 80 23 1D 2A 80 23 1D 2B 80 23 1D 2C 80
     0x01CB: 23 1B 03 00 00 06 10 1E F0 FF FF 7F 6F 70 02 00
     0x01DB: 00 06 80 00 EC 01 1D 09 80 23 1D 0A 80 23 01 66
     0x01EB: 02 02 00 00 0B 80 00 FF 01 1D 0E 80 23 1D 0F 80
     0x01FB: 23 01 66 02 02 00 00 10 80 00 12 02 1D 13 80 23
     0x020B: 1D 14 80 23 01 66 02 02 00 00 15 80 00 25 02 1D
     0x021B: 18 80 23 1D 19 80 23 01 66 02 02 00 00 1A 80 00
     0x022B: 38 02 1D 1D 80 23 1D 1E 80 23 01 66 02 02 00 00
     0x023B: 1F 80 00 4B 02 1D 22 80 23 1D 23 80 23 01 66 02
     0x024B: 02 00 00 24 80 00 5E 02 1D 27 80 23 1D 28 80 23
     0x025B: 01 66 02 1D 2B 80 23 1D 2C 80 23 1B 03 00 00 06
     0x026B: 10 42 1E F0 FF FF 7F 6F 70 02 00 00 06 80 00 83
     0x027B: 02 1D 2D 80 23 01 E1 02 02 00 00 0B 80 00 92 02
     0x028B: 1D 2E 80 23 01 E1 02 02 00 00 10 80 00 A1 02 1D
     0x029B: 2F 80 23 01 E1 02 02 00 00 15 80 00 B0 02 1D 30
     0x02AB: 80 23 01 E1 02 02 00 00 1A 80 00 BF 02 1D 31 80
     0x02BB: 23 01 E1 02 02 00 00 1F 80 00 CE 02 1D 32 80 23
     0x02CB: 01 E1 02 02 00 00 24 80 00 DD 02 1D 33 80 23 01
     0x02DB: E1 02 1D 34 80 23 1B 03 00 00 06 10 42 1E F0 FF
     0x02EB: FF 7F 6F 70 02 00 00 06 80 00 06 03 1D 35 80 23
     0x02FB: 1D 36 80 23 1D 37 80 23 01 9C 03 02 00 00 0B 80
     0x030B: 00 1D 03 1D 38 80 23 1D 39 80 23 1D 3A 80 23 01
     0x031B: 9C 03 02 00 00 10 80 00 34 03 1D 3B 80 23 1D 3C
     0x032B: 80 23 1D 3D 80 23 01 9C 03 02 00 00 15 80 00 4B
     0x033B: 03 1D 3E 80 23 1D 3F 80 23 1D 40 80 23 01 9C 03
     0x034B: 02 00 00 1A 80 00 62 03 1D 41 80 23 1D 42 80 23
     0x035B: 1D 43 80 23 01 9C 03 02 00 00 1F 80 00 79 03 1D
     0x036B: 44 80 23 1D 45 80 23 1D 46 80 23 01 9C 03 02 00
     0x037B: 00 24 80 00 90 03 1D 47 80 23 1D 48 80 23 1D 49
     0x038B: 80 23 01 9C 03 1D 4A 80 23 1D 4B 80 23 1D 4C 80
     0x039B: 23 1B
```