# Event 818

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/8       |
| Offset          | 0x0002    |
| Data Size       | 314 bytes |
| Calculated Size | 314 bytes |
| Instructions    | 59        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:       42 1E F0 FF FF 7F  6F 70 66 00 80 F8 FF FF    B.....opf.....
0010: 7F F8 FF FF 7F 74 6C 6B  30 1D 01 80 23 24 02 80  .....tlk0...#$..
0020: 03 80 04 80 25 02 00 10  04 80 00 F5 00 1D 05 80  ....%...........
0030: 23 1D 06 80 23 1D 07 80  23 1D 08 80 23 66 00 80  #...#...#...#f..
0040: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 31 24 09 80 03  ........tlk1$...
0050: 80 04 80 25 02 00 10 04  80 00 AF 00 42 66 00 80  ...%........Bf..
0060: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 30 1D 0A 80 23  ........tlk0...#
0070: 03 01 10 03 80 66 00 80  F8 FF FF 7F F8 FF FF 7F  .....f..........
0080: 74 6C 6B 31 1D 0B 80 23  66 0C 80 F8 FF FF 7F F8  tlk1...#f.......
0090: FF FF 7F 77 61 76 30 53  F8 FF FF 7F F8 FF FF 7F  ...wav0S........
00A0: 77 61 76 30 5E 69 64 6C  30 1C 0D 80 01 F2 00 02  wav0^idl0.......
00B0: 00 10 03 80 00 F2 00 42  66 0C 80 F8 FF FF 7F F8  .......Bf.......
00C0: FF FF 7F 74 68 6B 31 1D  0E 80 23 66 0C 80 F8 FF  ...thk1...#f....
00D0: FF 7F F8 FF FF 7F 74 68  6B 32 53 F8 FF FF 7F F8  ......thk2S.....
00E0: FF FF 7F 74 68 6B 32 5E  69 64 6C 30 1C 0D 80 01  ...thk2^idl0....
00F0: F2 00 01 38 01 02 00 10  03 80 00 38 01 42 66 0C  ...8.......8.Bf.
0100: 80 F8 FF FF 7F F8 FF FF  7F 74 68 6B 31 1D 0E 80  .........thk1...
0110: 23 66 0C 80 F8 FF FF 7F  F8 FF FF 7F 74 68 6B 32  #f..........thk2
0120: 53 F8 FF FF 7F F8 FF FF  7F 74 68 6B 32 5E 69 64  S........thk2^id
0130: 6C 30 1C 0D 80 01 38 01  20 00 21 00              l0....8. .!.    
```

## Opcodes

```
  0: 0x0002 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0003 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0008 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x0009 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x000A [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
  5: 0x0019 [0x1D] PRINT_EVENT_MESSAGE(message_id=10190*)
    → "Hey, \u007F\u0005[Mister/Miss] Adventurer! Can you spare a momentaru for the ecology of Vana'diel?\u007F1\u0000\u0007"
  6: 0x001C [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x001D [0x24] CREATE_DIALOG(message_id=10191*, default_option=1*, option_flags=0*)
    → "Got a momentaru?\u0007\u000BAlrighty-wighty.\u0007Not rightaru now.\u007F1\u0000\u0007"
  8: 0x0024 [0x25] WAIT_DIALOG_SELECT()
  9: 0x0025 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00F5
 10: 0x002D [0x1D] PRINT_EVENT_MESSAGE(message_id=10192*)
    → "Have you heard of the Maze of Shakhrami?\u007F1\u0000\u0007"
 11: 0x0030 [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x0031 [0x1D] PRINT_EVENT_MESSAGE(message_id=10193*)
    → "Exactaruly, those creepy-weepy caves found between the Tahrongi Canyon and Buburimu Peninsula.\u007F1\u0000\u0007"
 13: 0x0034 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0035 [0x1D] PRINT_EVENT_MESSAGE(message_id=10194*)
    → "There have been signs that some beasties have been feasting on the corpses down there... Ewww!\u007F1\u0000\u0007"
 15: 0x0038 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x0039 [0x1D] PRINT_EVENT_MESSAGE(message_id=10195*)
    → "We've been trying to get an adventurer to go there and exterminataru the creatures, but haven't had much luck. Will you help us?\u007F1\u0000\u0007"
 17: 0x003C [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x003D [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=EventEntity, entity2=EventEntity, action="tlk1")
 19: 0x004C [0x24] CREATE_DIALOG(message_id=10196*, default_option=1*, option_flags=0*)
    → "Take on the task?\u0007\u000BSure, I love mazes!\u0007I get lost in my own Mog House...\u007F1\u0000\u0007"
 20: 0x0053 [0x25] WAIT_DIALOG_SELECT()
 21: 0x0054 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00AF
 22: 0x005C [0x42] SET_CLI_EVENT_CANCEL_DATA()
 23: 0x005D [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 24: 0x006C [0x1D] PRINT_EVENT_MESSAGE(message_id=10197*)
    → "Excellentaru! Bring me back proof that you've trouncy-wounced the beasties, and I'll pay you a reward from the Vana'diel Environmental Resource Management Initiative Network fund.\u007F1\u0000\u0007"
 25: 0x006F [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x0070 [0x03] Work_Zone[1] = 1*
 27: 0x0075 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=49*, entity1=EventEntity, entity2=EventEntity, action="tlk1")
 28: 0x0084 [0x1D] PRINT_EVENT_MESSAGE(message_id=10198*)
    → "Our V.E.R.M.I.N. field agent, Ahko Mhalijikhari, will be waiting in the maze to give you further instructions. Ta-taru and good luck!\u007F1\u0000\u0007"
 29: 0x0087 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x0088 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=40*, entity1=EventEntity, entity2=EventEntity, action="wav0")
 31: 0x0097 [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="wav0")
 32: 0x00A4 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 33: 0x00A9 [0x1C] WAIT(30* ticks)
 34: 0x00AC [0x01] GOTO 0x00F2

SUBROUTINE_00AF:
 35: 0x00AF [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00F2
 36: 0x00B7 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 37: 0x00B8 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=40*, entity1=EventEntity, entity2=EventEntity, action="thk1")
 38: 0x00C7 [0x1D] PRINT_EVENT_MESSAGE(message_id=10199*)
    → "Really? Well, I guess I'll justaru have to ask someone else...\u007F1\u0000\u0007"
 39: 0x00CA [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x00CB [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=40*, entity1=EventEntity, entity2=EventEntity, action="thk2")
 41: 0x00DA [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="thk2")
 42: 0x00E7 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 43: 0x00EC [0x1C] WAIT(30* ticks)
 44: 0x00EF [0x01] GOTO 0x00F2

SUBROUTINE_00F2:
 45: 0x00F2 [0x01] GOTO 0x0138

SUBROUTINE_00F5:
 46: 0x00F5 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0138
 47: 0x00FD [0x42] SET_CLI_EVENT_CANCEL_DATA()
 48: 0x00FE [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=40*, entity1=EventEntity, entity2=EventEntity, action="thk1")
 49: 0x010D [0x1D] PRINT_EVENT_MESSAGE(message_id=10199*)
    → "Really? Well, I guess I'll justaru have to ask someone else...\u007F1\u0000\u0007"
 50: 0x0110 [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x0111 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=40*, entity1=EventEntity, entity2=EventEntity, action="thk2")
 52: 0x0120 [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="thk2")
 53: 0x012D [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 54: 0x0132 [0x1C] WAIT(30* ticks)
 55: 0x0135 [0x01] GOTO 0x0138

SUBROUTINE_0138:
 56: 0x0138 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 57: 0x013A [0x21] END_EVENT
 58: 0x013B [0x00] END_REQSTACK()
```
