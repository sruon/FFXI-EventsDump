# Event 387

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 107/162   |
| Offset          | 0x0C3B    |
| Data Size       | 151 bytes |
| Calculated Size | 151 bytes |
| Instructions    | 30        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0C30:                                   1E F0 FF FF 7F             .....
0C40: 6F 70 29 08 10 E0 0E 01  01 29 0B 10 E0 0E 01 6E  op)......).....n
0C50: 29 08 10 E0 0E 01 02 24  47 80 10 80 10 80 25 02  )......$G.....%.
0C60: 00 10 10 80 00 B7 0C 03  01 10 10 80 29 0B 10 E0  ............)...
0C70: 0E 01 70 29 0B 10 E0 0E  01 71 29 0B 10 E0 0E 01  ..p).....q).....
0C80: 72 4A 10 E0 0E 01 F0 FF  FF 7F 6F 76 F8 FF FF 7F  rJ........ov....
0C90: 29 0B 10 E0 0E 01 73 29  0B 10 E0 0E 01 74 4A 10  ).....s).....tJ.
0CA0: E0 0E 01 F0 FF FF 7F 6F  76 F8 FF FF 7F 29 0B 10  .......ov....)..
0CB0: E0 0E 01 75 01 CE 0C 02  00 10 24 80 00 CE 0C 03  ...u......$.....
0CC0: 01 10 24 80 29 0B 10 E0  0E 01 6F 01 CE 0C 20 00  ..$.).....o... .
0CD0: 21 00                                             !.              
```

## Opcodes

```
  0: 0x0C3B [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0C40 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0C41 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0C42 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x01)
  4: 0x0C49 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x6E)
  5: 0x0C50 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x02)
  6: 0x0C57 [0x24] CREATE_DIALOG(message_id=8215*, default_option=0*, option_flags=0*)
    â†’ "Take on the chore?\u0007\u000BAccept.\u0007Decline.\u007F1\u0000\u0007"
  7: 0x0C5E [0x25] WAIT_DIALOG_SELECT()
  8: 0x0C5F [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0CB7
  9: 0x0C67 [0x03] Work_Zone[1] = 0*
 10: 0x0C6C [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x70)
 11: 0x0C73 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x71)
 12: 0x0C7A [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x72)
 13: 0x0C81 [0x4A] Tosuka-Porika (ID: 17752080/0x010EE010) looks at LocalPlayer
 14: 0x0C8A [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 15: 0x0C8B [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until EventEntity Render.Flags0 and Render.Flags3 conditions are met
 16: 0x0C90 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x73)
 17: 0x0C97 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x74)
 18: 0x0C9E [0x4A] Tosuka-Porika (ID: 17752080/0x010EE010) looks at LocalPlayer
 19: 0x0CA7 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 20: 0x0CA8 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until EventEntity Render.Flags0 and Render.Flags3 conditions are met
 21: 0x0CAD [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x75)
 22: 0x0CB4 [0x01] GOTO 0x0CCE
 23: 0x0CB7 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0CCE
 24: 0x0CBF [0x03] Work_Zone[1] = 1*
 25: 0x0CC4 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x6F)
 26: 0x0CCB [0x01] GOTO 0x0CCE

SUBROUTINE_0CCE:
 27: 0x0CCE [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 28: 0x0CD0 [0x21] END_EVENT
 29: 0x0CD1 [0x00] END_REQSTACK()
```
