# Event 160

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 80/162    |
| Offset          | 0x055D    |
| Data Size       | 778 bytes |
| Calculated Size | 778 bytes |
| Instructions    | 100       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0550:                                         42 46 01               BF.
0560: 45 0F 80 F8 FF FF 7F F8  FF FF 7F 66 64 6F 31 10  E..........fdo1.
0570: 80 1C 11 80 75 00 12 80  75 01 38 13 80 29 08 F0  ....u...u.8..)..
0580: FF FF 7F 06 29 0B F0 FF  FF 7F 32 5C 00 14 80 5C  ....).....2\...\
0590: 01 14 80 1C 15 80 4E 01  F0 FF FF 7F 45 16 80 F8  ......N.....E...
05A0: FF FF 7F F8 FF FF 7F 73  30 33 37 10 80 45 0F 80  .......s037..E..
05B0: F8 FF FF 7F F8 FF FF 7F  66 64 69 31 10 80 29 0B  ........fdi1..).
05C0: 10 E0 0E 01 55 4A 10 E0  0E 01 F0 FF FF 7F 6F 76  ....UJ........ov
05D0: F8 FF FF 7F 4E 00 F0 FF  FF 7F 45 16 80 F8 FF FF  ....N.....E.....
05E0: 7F F8 FF FF 7F 73 30 33  38 10 80 27 0B 10 E0 0E  .....s038..'....
05F0: 01 51 1D 17 80 23 2A 0B  10 E0 0E 01 4A F0 FF FF  .Q...#*.....J...
0600: 7F 10 E0 0E 01 45 16 80  F8 FF FF 7F F8 FF FF 7F  .....E..........
0610: 73 30 33 39 10 80 4B 10  E0 0E 01 18 80 29 0B 10  s039..K......)..
0620: E0 0E 01 57 52 16 80 F8  FF FF 7F F8 FF FF 7F 73  ...WR..........s
0630: 30 33 39 02 09 10 19 80  00 4F 06 45 16 80 F8 FF  039......O.E....
0640: FF 7F F8 FF FF 7F 73 30  38 32 10 80 01 60 06 45  ......s082...`.E
0650: 16 80 F8 FF FF 7F F8 FF  FF 7F 73 30 33 38 10 80  ..........s038..
0660: 4A 10 E0 0E 01 F0 FF FF  7F 6F 76 10 E0 0E 01 29  J........ov....)
0670: 0B 10 E0 0E 01 58 45 16  80 F8 FF FF 7F F8 FF FF  .....XE.........
0680: 7F 73 30 34 30 10 80 29  0B 10 E0 0E 01 5A 4A F0  .s040..).....ZJ.
0690: FF FF 7F 10 E0 0E 01 52  16 80 F8 FF FF 7F F8 FF  .......R........
06A0: FF 7F 73 30 34 30 45 0F  80 F8 FF FF 7F F8 FF FF  ..s040E.........
06B0: 7F 66 64 6F 31 10 80 1C  1A 80 45 16 80 F8 FF FF  .fdo1.....E.....
06C0: 7F F8 FF FF 7F 73 30 34  32 10 80 45 0F 80 F8 FF  .....s042..E....
06D0: FF 7F F8 FF FF 7F 66 64  69 31 10 80 27 0B 10 E0  ......fdi1..'...
06E0: 0E 01 53 2B 10 E0 0E 01  1B 80 23 2B 10 E0 0E 01  ..S+......#+....
06F0: 1C 80 23 52 16 80 F8 FF  FF 7F F8 FF FF 7F 73 30  ..#R..........s0
0700: 34 32 45 16 80 F8 FF FF  7F F8 FF FF 7F 73 30 34  42E..........s04
0710: 33 10 80 2B 10 E0 0E 01  1D 80 23 2B 10 E0 0E 01  3..+......#+....
0720: 1E 80 23 4A F0 FF FF 7F  10 E0 0E 01 2A 0B 10 E0  ..#J........*...
0730: 0E 01 45 0F 80 F8 FF FF  7F F8 FF FF 7F 66 64 6F  ..E..........fdo
0740: 31 10 80 1C 11 80 52 16  80 F8 FF FF 7F F8 FF FF  1.....R.........
0750: 7F 73 30 34 33 45 16 80  F8 FF FF 7F F8 FF FF 7F  .s043E..........
0760: 73 30 34 31 10 80 45 0F  80 F8 FF FF 7F F8 FF FF  s041..E.........
0770: 7F 66 64 69 31 10 80 4B  10 E0 0E 01 18 80 6F 76  .fdi1..K......ov
0780: 10 E0 0E 01 29 0B 10 E0  0E 01 5C 45 16 80 F8 FF  ....).....\E....
0790: FF 7F F8 FF FF 7F 73 30  34 34 10 80 7B 10 E0 0E  ......s044..{...
07A0: 01 27 0B 10 E0 0E 01 52  2B 10 E0 0E 01 1F 80 23  .'.....R+......#
07B0: 2B 10 E0 0E 01 20 80 23  2A 0B 10 E0 0E 01 4A F0  +.... .#*.....J.
07C0: FF FF 7F 10 E0 0E 01 29  0B 10 E0 0E 01 5E 52 16  .......).....^R.
07D0: 80 F8 FF FF 7F F8 FF FF  7F 73 30 34 34 02 09 10  .........s044...
07E0: 19 80 00 F9 07 45 16 80  F8 FF FF 7F F8 FF FF 7F  .....E..........
07F0: 73 30 38 32 10 80 01 0A  08 45 16 80 F8 FF FF 7F  s082.....E......
0800: F8 FF FF 7F 73 30 33 38  10 80 4A 10 E0 0E 01 F0  ....s038..J.....
0810: FF FF 7F 6F 76 F8 FF FF  7F 29 0B 10 E0 0E 01 5F  ...ov....)....._
0820: 29 0B 10 E0 0E 01 60 5D  10 80 21 80 45 0F 80 F8  ).....`]..!.E...
0830: FF FF 7F F8 FF FF 7F 66  64 6F 31 10 80 1C 0F 80  .......fdo1.....
0840: 5C 00 22 80 5C 01 22 80  5D 23 80 24 80 1C 0F 80  \.".\.".]#.$....
0850: 46 00 45 0F 80 F8 FF FF  7F F8 FF FF 7F 66 64 69  F.E..........fdi
0860: 31 10 80 20 00 21 00                              1.. .!.         
```

## Opcodes

```
  0: 0x055D [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x055E [0x46] CAMERA_CONTROL: Disable user control
  2: 0x0560 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  3: 0x0571 [0x1C] WAIT(60* ticks)
  4: 0x0574 [0x75] LOAD_ROOM(Load indoor room, room=394*)
  5: 0x0578 [0x75] LOAD_ROOM(No action)
  6: 0x057A [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
  7: 0x057D [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x06)
  8: 0x0584 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x32)
  9: 0x058B [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 123*
 10: 0x058F [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 123*
 11: 0x0593 [0x1C] WAIT(100* ticks)
 12: 0x0596 [0x4E] SET_ENTITY_HIDE_FLAG: Hide LocalPlayer
 13: 0x059C [0x45] LOAD_SCHEDULED_TASK(work_offset1=138*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s037", work_offset2=0*)
 14: 0x05AD [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 15: 0x05BE [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x55)
 16: 0x05C5 [0x4A] Tosuka-Porika (ID: 17752080/0x010EE010) looks at LocalPlayer
 17: 0x05CE [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 18: 0x05CF [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until EventEntity Render.Flags0 and Render.Flags3 conditions are met
 19: 0x05D4 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 20: 0x05DA [0x45] LOAD_SCHEDULED_TASK(work_offset1=138*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s038", work_offset2=0*)
 21: 0x05EB [0x27] REQ_SET(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x51)
 22: 0x05F2 [0x1D] PRINT_EVENT_MESSAGE(message_id=7661*)
    → "...Hrm!?\u0007Sorry about that.\u0007I was just thinking...\u007F1\u0000\u0007"
 23: 0x05F5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x05F6 [0x2A] GET_REQ_LEVEL(level=11, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010))
 25: 0x05FC [0x4A] LocalPlayer looks at Tosuka-Porika (ID: 17752080/0x010EE010)
 26: 0x0605 [0x45] LOAD_SCHEDULED_TASK(work_offset1=138*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s039", work_offset2=0*)
 27: 0x0616 [0x4B] UPDATE_ENTITY_YAW(entity=Tosuka-Porika (ID: 17752080/0x010EE010), yaw=5.49°*)
 28: 0x061D [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x57)
 29: 0x0624 [0x52] END_LOAD_SCHEDULER: End scheduler "s039" with entities [EventEntity, EventEntity], work=138*
 30: 0x0633 [0x02] IF !(Work_Zone[9] == 8*) GOTO 0x064F
 31: 0x063B [0x45] LOAD_SCHEDULED_TASK(work_offset1=138*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s082", work_offset2=0*)
 32: 0x064C [0x01] GOTO 0x0660

SUBROUTINE_064F:
 33: 0x064F [0x45] LOAD_SCHEDULED_TASK(work_offset1=138*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s038", work_offset2=0*)
 34: 0x0660 [0x4A] Tosuka-Porika (ID: 17752080/0x010EE010) looks at LocalPlayer
 35: 0x0669 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 36: 0x066A [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Tosuka-Porika (ID: 17752080/0x010EE010) Render.Flags0 and Render.Flags3 conditions are met
 37: 0x066F [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x58)
 38: 0x0676 [0x45] LOAD_SCHEDULED_TASK(work_offset1=138*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s040", work_offset2=0*)
 39: 0x0687 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x5A)
 40: 0x068E [0x4A] LocalPlayer looks at Tosuka-Porika (ID: 17752080/0x010EE010)
 41: 0x0697 [0x52] END_LOAD_SCHEDULER: End scheduler "s040" with entities [EventEntity, EventEntity], work=138*
 42: 0x06A6 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 43: 0x06B7 [0x1C] WAIT(120* ticks)
 44: 0x06BA [0x45] LOAD_SCHEDULED_TASK(work_offset1=138*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s042", work_offset2=0*)
 45: 0x06CB [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 46: 0x06DC [0x27] REQ_SET(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x53)
 47: 0x06E3 [0x2B] Tosuka-Porika (ID: 17752080/0x010EE010) [7666*]:
    → "Firstly, do you know the role of the Optistery's Library of Magic?\u007F1\u0000\u0007"
 48: 0x06EA [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0x06EB [0x2B] Tosuka-Porika (ID: 17752080/0x010EE010) [7667*]:
    → "This is a repository for the storage and preservation of innumerable scrolls and books, from ages long past right up to the present.\u007F1\u0000\u0007"
 50: 0x06F2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x06F3 [0x52] END_LOAD_SCHEDULER: End scheduler "s042" with entities [EventEntity, EventEntity], work=138*
 52: 0x0702 [0x45] LOAD_SCHEDULED_TASK(work_offset1=138*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s043", work_offset2=0*)
 53: 0x0713 [0x2B] Tosuka-Porika (ID: 17752080/0x010EE010) [7668*]:
    → "The most important role of our librarians is to consign our entrusted writings to posterity, without ever losing a single one of them.\u007F1\u0000\u0007"
 54: 0x071A [0x23] WAIT_FOR_DIALOG_INTERACTION
 55: 0x071B [0x2B] Tosuka-Porika (ID: 17752080/0x010EE010) [7669*]:
    → "Why, even during that terrible war twenty years ago, we were able to protect almost all of the books.\u007F1\u0000\u0007"
 56: 0x0722 [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x0723 [0x4A] LocalPlayer looks at Tosuka-Porika (ID: 17752080/0x010EE010)
 58: 0x072C [0x2A] GET_REQ_LEVEL(level=11, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010))
 59: 0x0732 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 60: 0x0743 [0x1C] WAIT(60* ticks)
 61: 0x0746 [0x52] END_LOAD_SCHEDULER: End scheduler "s043" with entities [EventEntity, EventEntity], work=138*
 62: 0x0755 [0x45] LOAD_SCHEDULED_TASK(work_offset1=138*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s041", work_offset2=0*)
 63: 0x0766 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 64: 0x0777 [0x4B] UPDATE_ENTITY_YAW(entity=Tosuka-Porika (ID: 17752080/0x010EE010), yaw=5.49°*)
 65: 0x077E [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 66: 0x077F [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Tosuka-Porika (ID: 17752080/0x010EE010) Render.Flags0 and Render.Flags3 conditions are met
 67: 0x0784 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x5C)
 68: 0x078B [0x45] LOAD_SCHEDULED_TASK(work_offset1=138*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s044", work_offset2=0*)
 69: 0x079C [0x7B] Tosuka-Porika (ID: 17752080/0x010EE010) stops talking
 70: 0x07A1 [0x27] REQ_SET(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x52)
 71: 0x07A8 [0x2B] Tosuka-Porika (ID: 17752080/0x010EE010) [7672*]:
    → "Manuscripts, life-threateningly dangerous to those weak in magical power...\u007F1\u0000\u0007"
 72: 0x07AF [0x23] WAIT_FOR_DIALOG_INTERACTION
 73: 0x07B0 [0x2B] Tosuka-Porika (ID: 17752080/0x010EE010) [7673*]:
    → "Books of the dark arts, not to be viewed by mortal eyes... Ancient scrolls not even the Minister of the Optistery is allowed to open...\u007F1\u0000\u0007"
 74: 0x07B7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 75: 0x07B8 [0x2A] GET_REQ_LEVEL(level=11, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010))
 76: 0x07BE [0x4A] LocalPlayer looks at Tosuka-Porika (ID: 17752080/0x010EE010)
 77: 0x07C7 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x5E)
 78: 0x07CE [0x52] END_LOAD_SCHEDULER: End scheduler "s044" with entities [EventEntity, EventEntity], work=138*
 79: 0x07DD [0x02] IF !(Work_Zone[9] == 8*) GOTO 0x07F9
 80: 0x07E5 [0x45] LOAD_SCHEDULED_TASK(work_offset1=138*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s082", work_offset2=0*)
 81: 0x07F6 [0x01] GOTO 0x080A

SUBROUTINE_07F9:
 82: 0x07F9 [0x45] LOAD_SCHEDULED_TASK(work_offset1=138*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s038", work_offset2=0*)
 83: 0x080A [0x4A] Tosuka-Porika (ID: 17752080/0x010EE010) looks at LocalPlayer
 84: 0x0813 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 85: 0x0814 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until EventEntity Render.Flags0 and Render.Flags3 conditions are met
 86: 0x0819 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x5F)
 87: 0x0820 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Tosuka-Porika (ID: 17752080/0x010EE010), tag_num=0x60)
 88: 0x0827 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=300*)
 89: 0x082C [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 90: 0x083D [0x1C] WAIT(200* ticks)
 91: 0x0840 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 151*
 92: 0x0844 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 151*
 93: 0x0848 [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 94: 0x084D [0x1C] WAIT(200* ticks)
 95: 0x0850 [0x46] CAMERA_CONTROL: Restore default settings
 96: 0x0852 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 97: 0x0863 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 98: 0x0865 [0x21] END_EVENT
 99: 0x0866 [0x00] END_REQSTACK()
```
