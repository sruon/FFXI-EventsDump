# 17752131 - Majiji

## Common Data

| Field            | Value                     |
|------------------|---------------------------|
| Zone             | Windurst Waters (ID: 238) |
| Block Size       | 344 bytes                 |
| Total Events     | 13                        |
| References Count | 8                         |

## List of Events

| Event ID                   | Entrypoint   |   Size |   Instructions |
|----------------------------|--------------|--------|----------------|
| [65535](#event-65535)      | 0x0000       |      1 |              1 |
| [65535.1](#event-655351)   | 0x0001       |     16 |              2 |
| [65535.2](#event-655352)   | 0x0011       |     22 |              4 |
| [65535.3](#event-655353)   | 0x0027       |     16 |              2 |
| [65535.4](#event-655354)   | 0x0037       |     22 |              4 |
| [65535.5](#event-655355)   | 0x004D       |     16 |              2 |
| [65535.6](#event-655356)   | 0x005D       |     22 |              4 |
| [65535.7](#event-655357)   | 0x0073       |     16 |              2 |
| [65535.8](#event-655358)   | 0x0083       |     22 |              4 |
| [65535.9](#event-655359)   | 0x0099       |      9 |              3 |
| [435](#event-435)          | 0x00A2       |     33 |             12 |
| [420](#event-420)          | 0x00C3       |      1 |              1 |
| [65535.10](#event-6553510) | 0x00C4       |     45 |             13 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x0055      |          85 |
|       1 | 0x001E      |          30 |
|       2 | 0x20A8      |        8360 |
|       3 | 0x20A9      |        8361 |
|       4 | 0x2084      |        8324 |
|       5 | 0x2085      |        8325 |
|       6 | 0x2086      |        8326 |
|       7 | 0x2087      |        8327 |

## String References

- **8324**: Hold on there! Aren't the two of you forgetting a particularly important kind of magic? Magic isn't just about attacking things and healing people. Listen, and let me explain...
- **8325**: Do you know about enhancement magic? Spells such as Enfire and Phalanx can be cast on weapons and armor, adding a temporary magical aura to them.
- **8326**: To use such enhancement spells, you have to study both black and white magic.
- **8327**: That's why red mages are the best! Not only can you use both kinds of magic, but you can cast it on your weapons and stuff! Red mages always come in handy!
- **8360**: It's true that you can only improve magic with plenty of practice. But the first step is to study a multitude of difficult books.
- **8361**: In order to read such tricky books, you have to have a sense of magic in the first place. It's kinda hard to explain, but it's like an ingrained feeling you just have.

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 65535.1

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 16 bytes |
| Instructions | 2        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    5B 00 80 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 30   [..........tlk0
0010: 00                                                .               
```

#### Opcodes

```
  0: 0x0001 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=85*
  1: 0x0010 [0x00] END_REQSTACK()
```

### Event 65535.2

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0011   |
| Data Size    | 22 bytes |
| Instructions | 4        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0010:    53 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 5E 69   S........tlk0^i
0020: 64 6C 30 1C 01 80 00                              dl0....         
```

#### Opcodes

```
  0: 0x0011 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk0" with entities [EventEntity, EventEntity]
  1: 0x001E [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
  2: 0x0023 [0x1C] WAIT(30* ticks)
  3: 0x0026 [0x00] END_REQSTACK()
```

### Event 65535.3

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0027   |
| Data Size    | 16 bytes |
| Instructions | 2        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0020:                      5B  00 80 F8 FF FF 7F F8 FF         [........
0030: FF 7F 74 6C 6B 31 00                              ..tlk1.         
```

#### Opcodes

```
  0: 0x0027 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=85*
  1: 0x0036 [0x00] END_REQSTACK()
```

### Event 65535.4

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0037   |
| Data Size    | 22 bytes |
| Instructions | 4        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0030:                      53  F8 FF FF 7F F8 FF FF 7F         S........
0040: 74 6C 6B 31 5E 69 64 6C  30 1C 01 80 00           tlk1^idl0....   
```

#### Opcodes

```
  0: 0x0037 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [EventEntity, EventEntity]
  1: 0x0044 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
  2: 0x0049 [0x1C] WAIT(30* ticks)
  3: 0x004C [0x00] END_REQSTACK()
```

### Event 65535.5

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x004D   |
| Data Size    | 16 bytes |
| Instructions | 2        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0040:                                         5B 00 80               [..
0050: F8 FF FF 7F F8 FF FF 7F  62 61 6E 30 00           ........ban0.   
```

#### Opcodes

```
  0: 0x004D [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "ban0" with entities [EventEntity, EventEntity], work=85*
  1: 0x005C [0x00] END_REQSTACK()
```

### Event 65535.6

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x005D   |
| Data Size    | 22 bytes |
| Instructions | 4        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0050:                                         53 F8 FF               S..
0060: FF 7F F8 FF FF 7F 62 61  6E 30 5E 69 64 6C 30 1C  ......ban0^idl0.
0070: 01 80 00                                          ...             
```

#### Opcodes

```
  0: 0x005D [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "ban0" with entities [EventEntity, EventEntity]
  1: 0x006A [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
  2: 0x006F [0x1C] WAIT(30* ticks)
  3: 0x0072 [0x00] END_REQSTACK()
```

### Event 65535.7

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0073   |
| Data Size    | 16 bytes |
| Instructions | 2        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0070:          5B 00 80 F8 FF  FF 7F F8 FF FF 7F 65 68     [..........eh
0080: 65 30 00                                          e0.             
```

#### Opcodes

```
  0: 0x0073 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "ehe0" with entities [EventEntity, EventEntity], work=85*
  1: 0x0082 [0x00] END_REQSTACK()
```

### Event 65535.8

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0083   |
| Data Size    | 22 bytes |
| Instructions | 4        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0080:          53 F8 FF FF 7F  F8 FF FF 7F 65 68 65 30     S........ehe0
0090: 5E 69 64 6C 30 1C 01 80  00                       ^idl0....       
```

#### Opcodes

```
  0: 0x0083 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "ehe0" with entities [EventEntity, EventEntity]
  1: 0x0090 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
  2: 0x0095 [0x1C] WAIT(30* ticks)
  3: 0x0098 [0x00] END_REQSTACK()
```

### Event 65535.9

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0099  |
| Data Size    | 9 bytes |
| Instructions | 3       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0090:                             5E 69 64 6C 30 1C 01           ^idl0..
00A0: 80 00                                             ..              
```

#### Opcodes

```
  0: 0x0099 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
  1: 0x009E [0x1C] WAIT(30* ticks)
  2: 0x00A1 [0x00] END_REQSTACK()
```

### Event 435

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00A2   |
| Data Size    | 33 bytes |
| Instructions | 12       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00A0:       1E F0 FF FF 7F 6F  70 29 08 43 E0 0E 01 01    .....op).C....
00B0: 1D 02 80 23 1D 03 80 23  29 08 43 E0 0E 01 02 20  ...#...#).C.... 
00C0: 00 21 00                                          .!.             
```

#### Opcodes

```
  0: 0x00A2 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x00A7 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x00A8 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x00A9 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Majiji (ID: 17752131/0x010EE043), tag_num=0x01)
  4: 0x00B0 [0x1D] PRINT_EVENT_MESSAGE(message_id=8360*)
    → "It's true that you can only improve magic with plenty of practice. But the first step is to study a multitude of difficult books."
  5: 0x00B3 [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x00B4 [0x1D] PRINT_EVENT_MESSAGE(message_id=8361*)
    → "In order to read such tricky books, you have to have a sense of magic in the first place. It's kinda hard to explain, but it's like an ingrained feeling you just have."
  7: 0x00B7 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x00B8 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Majiji (ID: 17752131/0x010EE043), tag_num=0x02)
  9: 0x00BF [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 10: 0x00C1 [0x21] END_EVENT
 11: 0x00C2 [0x00] END_REQSTACK()
```

### Event 420

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x00C3  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00C0:          00                                          .            
```

#### Opcodes

```
  0: 0x00C3 [0x00] END_REQSTACK()
```

### Event 65535.10

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00C4   |
| Data Size    | 45 bytes |
| Instructions | 13       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00C0:             29 08 43 E0  0E 01 03 1D 04 80 23 1D      ).C.......#.
00D0: 05 80 23 1D 06 80 23 29  08 43 E0 0E 01 04 29 08  ..#...#).C....).
00E0: 43 E0 0E 01 05 1D 07 80  23 29 08 43 E0 0E 01 06  C.......#).C....
00F0: 00                                                .               
```

#### Opcodes

```
  0: 0x00C4 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Majiji (ID: 17752131/0x010EE043), tag_num=0x03)
  1: 0x00CB [0x1D] PRINT_EVENT_MESSAGE(message_id=8324*)
    → "Hold on there! Aren't the two of you forgetting a particularly important kind of magic? Magic isn't just about attacking things and healing people. Listen, and let me explain..."
  2: 0x00CE [0x23] WAIT_FOR_DIALOG_INTERACTION
  3: 0x00CF [0x1D] PRINT_EVENT_MESSAGE(message_id=8325*)
    → "Do you know about enhancement magic? Spells such as Enfire and Phalanx can be cast on weapons and armor, adding a temporary magical aura to them."
  4: 0x00D2 [0x23] WAIT_FOR_DIALOG_INTERACTION
  5: 0x00D3 [0x1D] PRINT_EVENT_MESSAGE(message_id=8326*)
    → "To use such enhancement spells, you have to study both black and white magic."
  6: 0x00D6 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x00D7 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Majiji (ID: 17752131/0x010EE043), tag_num=0x04)
  8: 0x00DE [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Majiji (ID: 17752131/0x010EE043), tag_num=0x05)
  9: 0x00E5 [0x1D] PRINT_EVENT_MESSAGE(message_id=8327*)
    → "That's why red mages are the best! Not only can you use both kinds of magic, but you can cast it on your weapons and stuff! Red mages always come in handy!"
 10: 0x00E8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x00E9 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Majiji (ID: 17752131/0x010EE043), tag_num=0x06)
 12: 0x00F0 [0x00] END_REQSTACK()
```
