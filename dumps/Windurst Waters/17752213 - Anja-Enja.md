# 17752213 - Anja-Enja

## Common Data

| Field            | Value                     |
|------------------|---------------------------|
| Zone             | Windurst Waters (ID: 238) |
| Block Size       | 340 bytes                 |
| Total Events     | 9                         |
| References Count | 16                        |

## List of Events

| Event ID                 | Entrypoint   |   Size |   Instructions |
|--------------------------|--------------|--------|----------------|
| [65535](#event-65535)    | 0x0000       |      1 |              1 |
| [65535.1](#event-655351) | 0x0001       |     16 |              2 |
| [65535.2](#event-655352) | 0x0011       |     22 |              4 |
| [65535.3](#event-655353) | 0x0027       |      9 |              3 |
| [278](#event-278)        | 0x0030       |    120 |             27 |
| [65535.4](#event-655354) | 0x00A8       |     12 |              7 |
| [65535.5](#event-655355) | 0x00B4       |      8 |              5 |
| [65535.6](#event-655356) | 0x00BC       |     12 |              7 |
| [65535.7](#event-655357) | 0x00C8       |     24 |             10 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x0028      |          40 |
|       1 | 0x001E      |          30 |
|       2 | 0x1F0D      |        7949 |
|       3 | 0x1F10      |        7952 |
|       4 | 0x0000      |           0 |
|       5 | 0x0001      |           1 |
|       6 | 0x0002      |           2 |
|       7 | 0x0003      |           3 |
|       8 | 0x1F0E      |        7950 |
|       9 | 0x1F0F      |        7951 |
|      10 | 0x1F11      |        7953 |
|      11 | 0x1F14      |        7956 |
|      12 | 0x1F15      |        7957 |
|      13 | 0x1F16      |        7958 |
|      14 | 0x1F17      |        7959 |
|      15 | 0x1F18      |        7960 |

## String References

- **7949**: Hiya! Are you lost or something? If you're in trouble, Anja-Enja's here to helpy-welpy!
- **7950**: Well, if you ever need help, feel free to ask one of us guards.
- **7951**: Helping out people in need is the calling of us guards in Windurst Waters's "North Winds" troupey-woupey.
- **7952**: Ask for help on...? [Nothing right now./Where are we?/How to leave town./Where's the residential area?]
- **7953**: This is the Windurst Waters district. Just north of here are the Optistery, the Aurastery, and a general goods store. South of here are the Rhinostery and the hatter's.
- **7956**: The quickest way to leave town from here is Odin's Gate, which takes you out to West Sarutabaruta. Head north and pass through the archway of the Optistery's Library of Magic.
- **7957**: Then go over the bridge until you get to the northern gatehouse. (That's where we guards of Windurst Waters meet, you know?) Head through the gate and you'll find yourself outside in West Sarutabaruta.
- **7958**: Windurst's residential area is northeast of here. To get there, first head north and cross the bridge to the east that leads to the Aurastery and Windurst Walls.
- **7959**: On the way, you'll come across a Cardian automaton guard. Turn right when you see him and you'll easily find your way there.
- **7960**: You know about the residential area's Mog Houses, rightaru? If not, just ask the guards at the entrance to the residential area for information.

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 65535.1

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 16 bytes |
| Instructions | 2        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    66 00 80 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 30   f..........tlk0
0010: 00                                                .               
```

#### Opcodes

```
  0: 0x0001 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=40*
  1: 0x0010 [0x00] END_REQSTACK()
```

### Event 65535.2

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0011   |
| Data Size    | 22 bytes |
| Instructions | 4        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0010:    53 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 5E 69   S........tlk0^i
0020: 64 6C 30 1C 01 80 00                              dl0....         
```

#### Opcodes

```
  0: 0x0011 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk0" with entities [EventEntity, EventEntity]
  1: 0x001E [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
  2: 0x0023 [0x1C] WAIT(30* ticks)
  3: 0x0026 [0x00] END_REQSTACK()
```

### Event 65535.3

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0027  |
| Data Size    | 9 bytes |
| Instructions | 3       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0020:                      5E  69 64 6C 30 1C 01 80 00         ^idl0....
```

#### Opcodes

```
  0: 0x0027 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
  1: 0x002C [0x1C] WAIT(30* ticks)
  2: 0x002F [0x00] END_REQSTACK()
```

### Event 278

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x0030    |
| Data Size    | 120 bytes |
| Instructions | 27        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0030: 03 00 00 02 10 1E F0 FF  FF 7F 6F 70 1D 02 80 23  ..........op...#
0040: 24 03 80 04 80 04 80 25  02 00 10 04 80 00 5F 00  $......%......_.
0050: 03 01 10 04 80 29 08 95  E0 0E 01 05 01 A4 00 02  .....)..........
0060: 00 10 05 80 00 76 00 03  01 10 05 80 29 08 95 E0  .....v......)...
0070: 0E 01 06 01 A4 00 02 00  10 06 80 00 8D 00 03 01  ................
0080: 10 06 80 29 08 95 E0 0E  01 07 01 A4 00 02 00 10  ...)............
0090: 07 80 00 A4 00 03 01 10  07 80 29 08 95 E0 0E 01  ..........).....
00A0: 08 01 A4 00 20 00 21 00                           .... .!.        
```

#### Opcodes

```
  0: 0x0030 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  1: 0x0035 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x003A [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x003B [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x003C [0x1D] PRINT_EVENT_MESSAGE(message_id=7949*)
    → "Hiya! Are you lost or something? If you're in trouble, Anja-Enja's here to helpy-welpy!"
  5: 0x003F [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x0040 [0x24] CREATE_DIALOG(message_id=7952*, default_option=0*, option_flags=0*)
    → "Ask for help on...? [Nothing right now./Where are we?/How to leave town./Where's the residential area?]"
  7: 0x0047 [0x25] WAIT_DIALOG_SELECT()
  8: 0x0048 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x005F
  9: 0x0050 [0x03] Work_Zone[1] = 0*
 10: 0x0055 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anja-Enja (ID: 17752213/0x010EE095), tag_num=0x05)
 11: 0x005C [0x01] GOTO 0x00A4
 12: 0x005F [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0076
 13: 0x0067 [0x03] Work_Zone[1] = 1*
 14: 0x006C [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anja-Enja (ID: 17752213/0x010EE095), tag_num=0x06)
 15: 0x0073 [0x01] GOTO 0x00A4
 16: 0x0076 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x008D
 17: 0x007E [0x03] Work_Zone[1] = 2*
 18: 0x0083 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anja-Enja (ID: 17752213/0x010EE095), tag_num=0x07)
 19: 0x008A [0x01] GOTO 0x00A4
 20: 0x008D [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x00A4
 21: 0x0095 [0x03] Work_Zone[1] = 3*
 22: 0x009A [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Anja-Enja (ID: 17752213/0x010EE095), tag_num=0x08)
 23: 0x00A1 [0x01] GOTO 0x00A4

SUBROUTINE_00A4:
 24: 0x00A4 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 25: 0x00A6 [0x21] END_EVENT
 26: 0x00A7 [0x00] END_REQSTACK()
```

### Event 65535.4

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00A8   |
| Data Size    | 12 bytes |
| Instructions | 7        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00A0:                          1D 08 80 23 1D 09 80 23          ...#...#
00B0: 20 00 21 00                                        .!.            
```

#### Opcodes

```
  0: 0x00A8 [0x1D] PRINT_EVENT_MESSAGE(message_id=7950*)
    → "Well, if you ever need help, feel free to ask one of us guards."
  1: 0x00AB [0x23] WAIT_FOR_DIALOG_INTERACTION
  2: 0x00AC [0x1D] PRINT_EVENT_MESSAGE(message_id=7951*)
    → "Helping out people in need is the calling of us guards in Windurst Waters's "North Winds" troupey-woupey."
  3: 0x00AF [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x00B0 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
  5: 0x00B2 [0x21] END_EVENT
  6: 0x00B3 [0x00] END_REQSTACK()
```

### Event 65535.5

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x00B4  |
| Data Size    | 8 bytes |
| Instructions | 5       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00B0:             1D 0A 80 23  20 00 21 00                  ...# .!.    
```

#### Opcodes

```
  0: 0x00B4 [0x1D] PRINT_EVENT_MESSAGE(message_id=7953*)
    → "This is the Windurst Waters district. Just north of here are the Optistery, the Aurastery, and a general goods store. South of here are the Rhinostery and the hatter's."
  1: 0x00B7 [0x23] WAIT_FOR_DIALOG_INTERACTION
  2: 0x00B8 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
  3: 0x00BA [0x21] END_EVENT
  4: 0x00BB [0x00] END_REQSTACK()
```

### Event 65535.6

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00BC   |
| Data Size    | 12 bytes |
| Instructions | 7        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00B0:                                      1D 0B 80 23              ...#
00C0: 1D 0C 80 23 20 00 21 00                           ...# .!.        
```

#### Opcodes

```
  0: 0x00BC [0x1D] PRINT_EVENT_MESSAGE(message_id=7956*)
    → "The quickest way to leave town from here is Odin's Gate, which takes you out to West Sarutabaruta. Head north and pass through the archway of the Optistery's Library of Magic."
  1: 0x00BF [0x23] WAIT_FOR_DIALOG_INTERACTION
  2: 0x00C0 [0x1D] PRINT_EVENT_MESSAGE(message_id=7957*)
    → "Then go over the bridge until you get to the northern gatehouse. (That's where we guards of Windurst Waters meet, you know?) Head through the gate and you'll find yourself outside in West Sarutabaruta."
  3: 0x00C3 [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x00C4 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
  5: 0x00C6 [0x21] END_EVENT
  6: 0x00C7 [0x00] END_REQSTACK()
```

### Event 65535.7

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00C8   |
| Data Size    | 24 bytes |
| Instructions | 10       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00C0:                          1D 0D 80 23 1D 0E 80 23          ...#...#
00D0: 02 00 00 05 80 00 DC 00  1D 0F 80 23 20 00 21 00  ...........# .!.
```

#### Opcodes

```
  0: 0x00C8 [0x1D] PRINT_EVENT_MESSAGE(message_id=7958*)
    → "Windurst's residential area is northeast of here. To get there, first head north and cross the bridge to the east that leads to the Aurastery and Windurst Walls."
  1: 0x00CB [0x23] WAIT_FOR_DIALOG_INTERACTION
  2: 0x00CC [0x1D] PRINT_EVENT_MESSAGE(message_id=7959*)
    → "On the way, you'll come across a Cardian automaton guard. Turn right when you see him and you'll easily find your way there."
  3: 0x00CF [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x00D0 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x00DC
  5: 0x00D8 [0x1D] PRINT_EVENT_MESSAGE(message_id=7960*)
    → "You know about the residential area's Mog Houses, rightaru? If not, just ask the guards at the entrance to the residential area for information."
  6: 0x00DB [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x00DC [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
  8: 0x00DE [0x21] END_EVENT
  9: 0x00DF [0x00] END_REQSTACK()
```
