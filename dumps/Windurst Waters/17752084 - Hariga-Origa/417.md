# Event 417

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 32/40     |
| Offset          | 0x0304    |
| Data Size       | 215 bytes |
| Calculated Size | 215 bytes |
| Instructions    | 33        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0300:             20 01 42 5F  01 50 F8 FF FF 7F F8 FF       .B_.P......
0310: FF 7F 73 68 61 30 29 08  14 E0 0E 01 05 1E F0 FF  ..sha0).........
0320: FF 7F 6F 70 29 0B 14 E0  0E 01 20 4B 14 E0 0E 01  ..op)..... K....
0330: 19 80 1D 30 80 23 45 31  80 F8 FF FF 7F F8 FF FF  ...0.#E1........
0340: 7F 66 64 6F 31 0B 80 1C  32 80 45 31 80 F8 FF FF  .fdo1...2.E1....
0350: 7F F8 FF FF 7F 66 64 69  31 0B 80 29 0B 14 E0 0E  .....fdi1..)....
0360: 01 21 2C F8 FF FF 7F F8  FF FF 7F 73 68 61 30 29  .!,........sha0)
0370: 0B 14 E0 0E 01 22 50 F8  FF FF 7F F8 FF FF 7F 73  ....."P........s
0380: 68 61 30 29 08 14 E0 0E  01 05 29 0B 14 E0 0E 01  ha0)......).....
0390: 23 1E F0 FF FF 7F 6F 70  29 0B 14 E0 0E 01 24 45  #.....op).....$E
03A0: 31 80 F8 FF FF 7F F8 FF  FF 7F 66 64 6F 31 0B 80  1.........fdo1..
03B0: 1C 33 80 5F 00 45 31 80  F8 FF FF 7F F8 FF FF 7F  .3._.E1.........
03C0: 66 64 69 31 0B 80 45 1B  80 F0 FF FF 7F F0 FF FF  fdi1..E.........
03D0: 7F 71 73 74 63 0B 80 20  00 21 00                 .qstc.. .!.     
```

## Opcodes

```
  0: 0x0304 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0306 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0307 [0x5F] MULTI_HANDLER_COMPLEX(mode=0x01 - Toggle Render.Flags0 bit 29)
  3: 0x0309 [0x50] END_SCHEDULER_TASK: End scheduler "sh" with entities [0xFFF8, 0xFFF8], work=[32767, 32767]
  4: 0x0316 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x05)
  5: 0x031D [0x1E] EventEntity looks at LocalPlayer and starts talking
  6: 0x0322 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  7: 0x0323 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  8: 0x0324 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x20)
  9: 0x032B [0x4B] UPDATE_ENTITY_YAW(entity=Hariga-Origa (ID: 17752084/0x010EE014), yaw=16.59°*)
 10: 0x0332 [0x1D] PRINT_EVENT_MESSAGE(message_id=8300*)
    → "Here we go...\u0007Squeak, squeak, squeak...\u0007Swish, swish, swish!\u0001t\u007F1\u0000\u0007"
 11: 0x0335 [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x0336 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 13: 0x0347 [0x1C] WAIT(100* ticks)
 14: 0x034A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 15: 0x035B [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x21)
 16: 0x0362 [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "sha0" with entities [EventEntity, EventEntity]
 17: 0x036F [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x22)
 18: 0x0376 [0x50] END_SCHEDULER_TASK: End scheduler "sh" with entities [0xFFF8, 0xFFF8], work=[32767, 32767]
 19: 0x0383 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x05)
 20: 0x038A [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x23)
 21: 0x0391 [0x1E] EventEntity looks at LocalPlayer and starts talking
 22: 0x0396 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 23: 0x0397 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 24: 0x0398 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x24)
 25: 0x039F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 26: 0x03B0 [0x1C] WAIT(60* ticks)
 27: 0x03B3 [0x5F] MULTI_HANDLER_COMPLEX(mode=0x00 - Toggle Render.Flags0 bit 29)
 28: 0x03B5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 29: 0x03C6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 30: 0x03D7 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 31: 0x03D9 [0x21] END_EVENT
 32: 0x03DA [0x00] END_REQSTACK()
```
