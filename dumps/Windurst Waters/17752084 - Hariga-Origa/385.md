# Event 385

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 18/40     |
| Offset          | 0x0172    |
| Data Size       | 144 bytes |
| Calculated Size | 144 bytes |
| Instructions    | 28        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0170:       20 01 42 5F 01 50  F8 FF FF 7F F8 FF FF 7F     .B_.P........
0180: 73 68 61 30 29 08 14 E0  0E 01 05 1E F0 FF FF 7F  sha0)...........
0190: 6F 70 29 0B 14 E0 0E 01  12 29 0B 14 E0 0E 01 13  op)......)......
01A0: 4B 14 E0 0E 01 19 80 6F  76 14 E0 0E 01 2C F8 FF  K......ov....,..
01B0: FF 7F F8 FF FF 7F 73 68  61 30 29 0B 14 E0 0E 01  ......sha0).....
01C0: 14 50 F8 FF FF 7F F8 FF  FF 7F 73 68 61 30 29 08  .P........sha0).
01D0: 14 E0 0E 01 05 29 0B 14  E0 0E 01 15 1E F0 FF FF  .....)..........
01E0: 7F 6F 70 2B 14 E0 0E 01  1A 80 23 45 1B 80 F0 FF  .op+......#E....
01F0: FF 7F F0 FF FF 7F 71 73  74 63 0B 80 5F 00 20 00  ......qstc.._. .
0200: 21 00                                             !.              
```

## Opcodes

```
  0: 0x0172 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0174 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0175 [0x5F] MULTI_HANDLER_COMPLEX(mode=0x01 - Toggle Render.Flags0 bit 29)
  3: 0x0177 [0x50] END_SCHEDULER_TASK: End scheduler "sh" with entities [0xFFF8, 0xFFF8], work=[32767, 32767]
  4: 0x0184 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x05)
  5: 0x018B [0x1E] EventEntity looks at LocalPlayer and starts talking
  6: 0x0190 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  7: 0x0191 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  8: 0x0192 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x12)
  9: 0x0199 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x13)
 10: 0x01A0 [0x4B] UPDATE_ENTITY_YAW(entity=Hariga-Origa (ID: 17752084/0x010EE014), yaw=16.6°*)
 11: 0x01A7 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 12: 0x01A8 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Hariga-Origa (ID: 17752084/0x010EE014) Render.Flags0 and Render.Flags3 conditions are met
 13: 0x01AD [0x2C] CREATE_SCHEDULER_TASK: Create scheduler "sha0" with entities [EventEntity, EventEntity]
 14: 0x01BA [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x14)
 15: 0x01C1 [0x50] END_SCHEDULER_TASK: End scheduler "sh" with entities [0xFFF8, 0xFFF8], work=[32767, 32767]
 16: 0x01CE [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x05)
 17: 0x01D5 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x15)
 18: 0x01DC [0x1E] EventEntity looks at LocalPlayer and starts talking
 19: 0x01E1 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 20: 0x01E2 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 21: 0x01E3 [0x2B] Hariga-Origa (ID: 17752084/0x010EE014) [8210*]:
    → "Oh, that's right, I had better reward you with something for helping me out there. Let me see... How about this map I have here? I'm sure you'll find this useful in your adventures!\u007F1\u0000\u0007"
 22: 0x01EA [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x01EB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 24: 0x01FC [0x5F] MULTI_HANDLER_COMPLEX(mode=0x00 - Toggle Render.Flags0 bit 29)
 25: 0x01FE [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 26: 0x0200 [0x21] END_EVENT
 27: 0x0201 [0x00] END_REQSTACK()
```
