# Event 381

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 10/40     |
| Offset          | 0x00A3    |
| Data Size       | 134 bytes |
| Calculated Size | 134 bytes |
| Instructions    | 26        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00A0:          79 00 F8 FF FF  7F F0 FF FF 7F 29 08 14     y.........)..
00B0: E0 0E 01 01 29 0B 14 E0  0E 01 0A 29 0B 14 E0 0E  ....)......)....
00C0: 01 0B 5F 01 50 F8 FF FF  7F F8 FF FF 7F 73 68 61  .._.P........sha
00D0: 30 29 08 14 E0 0E 01 05  29 0B 14 E0 0E 01 0C 1E  0)......).......
00E0: F0 FF FF 7F 6F 70 29 0B  14 E0 0E 01 0D 24 0A 80  ....op)......$..
00F0: 0B 80 0B 80 25 02 00 10  0B 80 00 0C 01 03 01 10  ....%...........
0100: 0B 80 29 0B 14 E0 0E 01  0F 01 23 01 02 00 10 0C  ..).......#.....
0110: 80 00 23 01 03 01 10 0C  80 29 0B 14 E0 0E 01 0E  ..#......)......
0120: 01 23 01 5F 00 20 00 21  00                       .#._. .!.       
```

## Opcodes

```
  0: 0x00A3 [0x79] EventEntity looks at LocalPlayer (Basic look)
  1: 0x00AD [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x01)
  2: 0x00B4 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x0A)
  3: 0x00BB [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x0B)
  4: 0x00C2 [0x5F] MULTI_HANDLER_COMPLEX(mode=0x01 - Toggle Render.Flags0 bit 29)
  5: 0x00C4 [0x50] END_SCHEDULER_TASK(first_entity=0xFFF8, first_param=32767, second_entity=0xFFF8, second_param=32767, action_id="sh", third_param=12385)
  6: 0x00D1 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x05)
  7: 0x00D8 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x0C)
  8: 0x00DF [0x1E] EventEntity looks at LocalPlayer and starts talking
  9: 0x00E4 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 10: 0x00E5 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 11: 0x00E6 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x0D)
 12: 0x00ED [0x24] CREATE_DIALOG(message_id=8193*, default_option=0*, option_flags=0*)
    â†’ "Listen to Hariga-Origa's request?\u0007\u000BListen.\u0007Don't listen.\u007F1\u0000\u0007"
 13: 0x00F4 [0x25] WAIT_DIALOG_SELECT()
 14: 0x00F5 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x010C
 15: 0x00FD [0x03] Work_Zone[1] = 0*
 16: 0x0102 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x0F)
 17: 0x0109 [0x01] GOTO 0x0123

SUBROUTINE_010C:
 18: 0x010C [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0123
 19: 0x0114 [0x03] Work_Zone[1] = 1*
 20: 0x0119 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Hariga-Origa (ID: 17752084/0x010EE014), tag_num=0x0E)
 21: 0x0120 [0x01] GOTO 0x0123

SUBROUTINE_0123:
 22: 0x0123 [0x5F] MULTI_HANDLER_COMPLEX(mode=0x00 - Toggle Render.Flags0 bit 29)
 23: 0x0125 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 24: 0x0127 [0x21] END_EVENT
 25: 0x0128 [0x00] END_REQSTACK()
```
