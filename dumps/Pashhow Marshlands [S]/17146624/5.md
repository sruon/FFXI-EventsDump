# Event 5

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/3       |
| Offset          | 0x0B26    |
| Data Size       | 853 bytes |
| Calculated Size | 853 bytes |
| Instructions    | 42        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0B20:                   42 1A  4D 0C 46 01 38 00 80 4E        B.M.F.8..N
0B30: 00 FF A2 05 01 27 10 02  A3 05 01 04 94 01 F0 FF  .....'..........
0B40: FF 7F 94 01 FF A2 05 01  94 01 02 A3 05 01 BA F0  ................
0B50: FF FF 7F 01 80 02 80 03  80 04 80 29 10 FF A2 05  ...........)....
0B60: 01 03 29 10 02 A3 05 01  0A 80 F0 FF FF 7F 80 FF  ..).............
0B70: A2 05 01 80 02 A3 05 01  1C 0C 80 45 55 80 F0 FF  ...........EU...
0B80: FF 7F F0 FF FF 7F 61 66  33 30 0A 80 1A 2C 0C 1C  ......af30...,..
0B90: 1E 80 4A F0 FF FF 7F 02  A3 05 01 6F 76 F0 FF FF  ..J........ov...
0BA0: 7F 62 0F 80 FF A2 05 01  FF A2 05 01 6D 61 69 6E  .b..........main
0BB0: 0A 80 27 10 F0 FF FF 7F  19 48 56 80 23 1C 35 80  ..'......HV.#.5.
0BC0: 1A 4D 0C 1C 0E 80 52 47  80 F0 FF FF 7F F0 FF FF  .M....RG........
0BD0: 7F 00 FE FE FE 46 00 45  54 80 F0 FF FF 7F F0 FF  .....F.ET.......
0BE0: FF 7F 66 64 69 32 0A 80  21 00 45 54 80 F0 FF FF  ..fdi2..!.ET....
0BF0: 7F F0 FF FF 7F 66 64 69  30 0A 80 55 54 80 F0 FF  .....fdi0..UT...
0C00: FF 7F F0 FF FF 7F 66 64  69 30 1B 45 54 80 F0 FF  ......fdi0.ET...
0C10: FF 7F F0 FF FF 7F 66 64  6F 30 0A 80 55 54 80 F0  ......fdo0..UT..
0C20: FF FF 7F F0 FF FF 7F 66  64 6F 30 1B 45 54 80 F0  .......fdo0.ET..
0C30: FF FF 7F F0 FF FF 7F 66  64 69 31 0A 80 55 54 80  .......fdi1..UT.
0C40: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 1B 45 54 80  ........fdi1.ET.
0C50: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 0A 80 55 54  ........fdo1..UT
0C60: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 1B 45 57  .........fdo1.EW
0C70: 80 F0 FF FF 7F F0 FF FF  7F 77 68 69 31 0A 80 55  .........whi1..U
0C80: 57 80 F0 FF FF 7F F0 FF  FF 7F 77 68 69 31 1B 45  W.........whi1.E
0C90: 57 80 F0 FF FF 7F F0 FF  FF 7F 77 68 6F 31 0A 80  W.........who1..
0CA0: 55 57 80 F0 FF FF 7F F0  FF FF 7F 77 68 6F 31 1B  UW.........who1.
0CB0: 45 57 80 F0 FF FF 7F F0  FF FF 7F 77 68 6F 32 0A  EW.........who2.
0CC0: 80 55 57 80 F0 FF FF 7F  F0 FF FF 7F 77 68 6F 32  .UW.........who2
0CD0: 1B 45 57 80 F0 FF FF 7F  F0 FF FF 7F 77 68 6F 33  .EW.........who3
0CE0: 0A 80 55 57 80 F0 FF FF  7F F0 FF FF 7F 77 68 6F  ..UW.........who
0CF0: 33 1B 62 39 80 F0 FF FF  7F F0 FF FF 7F 6D 61 69  3.b9.........mai
0D00: 6E 0A 80 1C 10 80 45 54  80 F0 FF FF 7F F0 FF FF  n.....ET........
0D10: 7F 66 64 6F 31 0A 80 55  54 80 F0 FF FF 7F F0 FF  .fdo1..UT.......
0D20: FF 7F 66 64 6F 31 1B 45  54 80 F0 FF FF 7F F0 FF  ..fdo1.ET.......
0D30: FF 7F 66 64 69 31 0A 80  62 3A 80 F0 FF FF 7F F0  ..fdi1..b:......
0D40: FF FF 7F 6D 61 69 6E 0A  80 1C 0E 80 55 54 80 F0  ...main.....UT..
0D50: FF FF 7F F0 FF FF 7F 66  64 69 31 1B 45 54 80 F0  .......fdi1.ET..
0D60: FF FF 7F F0 FF FF 7F 62  6C 6F 6E 0A 80 45 57 80  .......blon..EW.
0D70: F0 FF FF 7F F0 FF FF 7F  62 6C 6F 6E 0A 80 1B 45  ........blon...E
0D80: 57 80 F0 FF FF 7F F0 FF  FF 7F 77 68 69 30 0A 80  W.........whi0..
0D90: 55 57 80 F0 FF FF 7F F0  FF FF 7F 77 68 69 30 1B  UW.........whi0.
0DA0: 45 57 80 F0 FF FF 7F F0  FF FF 7F 77 68 6F 30 0A  EW.........who0.
0DB0: 80 55 57 80 F0 FF FF 7F  F0 FF FF 7F 77 68 6F 30  .UW.........who0
0DC0: 1B 45 58 80 F0 FF FF 7F  F0 FF FF 7F 65 66 6F 6E  .EX.........efon
0DD0: 0A 80 55 58 80 F0 FF FF  7F F0 FF FF 7F 65 66 6F  ..UX.........efo
0DE0: 6E 1B 45 54 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  n.ET.........fdi
0DF0: 73 0A 80 1B 45 54 80 F0  FF FF 7F F0 FF FF 7F 66  s...ET.........f
0E00: 64 6F 73 0A 80 55 54 80  F0 FF FF 7F F0 FF FF 7F  dos..UT.........
0E10: 66 64 6F 73 1B 45 54 80  F0 FF FF 7F F0 FF FF 7F  fdos.ET.........
0E20: 66 64 69 66 0A 80 1B 45  54 80 F0 FF FF 7F F0 FF  fdif...ET.......
0E30: FF 7F 66 64 6F 66 0A 80  55 54 80 F0 FF FF 7F F0  ..fdof..UT......
0E40: FF FF 7F 66 64 6F 66 1B  45 54 80 F0 FF FF 7F F0  ...fdof.ET......
0E50: FF FF 7F 66 64 69 70 0A  80 1B 45 54 80 F0 FF FF  ...fdip...ET....
0E60: 7F F0 FF FF 7F 66 64 6F  70 0A 80 55 54 80 F0 FF  .....fdop..UT...
0E70: FF 7F F0 FF FF 7F 66 64  6F 70 1B                 ......fdop.     
```

## Opcodes

```
  0: 0x0B26 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0B27 [0x1A] CALL_SUBROUTINE(address=0x0C4D)
  2: 0x0B2A [0x46] CAMERA_CONTROL: Disable user control
  3: 0x0B2C [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  4: 0x0B2F [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17146623/0x0105A2FF)
  5: 0x0B35 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17146626/0x0105A302), tag_num=0x04)
  6: 0x0B3C [0x94] LocalPlayer->Render.Flags3 ^= 0x01
  7: 0x0B42 [0x94] Unnamed NPC (ID: 17146623/0x0105A2FF)->Render.Flags3 ^= 0x01
  8: 0x0B48 [0x94] Unnamed NPC (ID: 17146626/0x0105A302)->Render.Flags3 ^= 0x01
  9: 0x0B4E [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-457.873*, pos_z=-365.572*, pos_y=24.999*, direction=301.8°*)
 10: 0x0B5B [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 17146623/0x0105A2FF), tag_num=0x03)
 11: 0x0B62 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Unnamed NPC (ID: 17146626/0x0105A302), tag_num=0x0A)
 12: 0x0B69 [0x80] LOAD_WAIT(entity=LocalPlayer)
 13: 0x0B6E [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17146623/0x0105A2FF))
 14: 0x0B73 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17146626/0x0105A302))
 15: 0x0B78 [0x1C] WAIT(15* ticks)
 16: 0x0B7B [0x45] LOAD_SCHEDULED_TASK(work_offset1=325*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="af30", work_offset2=0*)
 17: 0x0B8C [0x1A] CALL_SUBROUTINE(address=0x0C2C)
 18: 0x0B8F [0x1C] WAIT(60* ticks)
 19: 0x0B92 [0x4A] LocalPlayer looks at Unnamed NPC (ID: 17146626/0x0105A302)
 20: 0x0B9B [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 21: 0x0B9C [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 22: 0x0BA1 [0x62] LOAD_EVENT_SCHEDULER (arg=5012): Load scheduler "main" with entities [Unnamed NPC (ID: 17146623/0x0105A2FF), Unnamed NPC (ID: 17146623/0x0105A2FF)], work=[3*, 0*]
 23: 0x0BB2 [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0x19)
 24: 0x0BB9 [0x48] [System] [7881*]:
    → "There is a sealed letter which appears to have been dropped...\u007F5\u0001\u007F1\u0000\u0007"
 25: 0x0BBC [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x0BBD [0x1C] WAIT(120* ticks)
 27: 0x0BC0 [0x1A] CALL_SUBROUTINE(address=0x0C4D)
 28: 0x0BC3 [0x1C] WAIT(30* ticks)
 29: 0x0BC6 [0x52] END_LOAD_SCHEDULER: End scheduler 0xFEFEFE00 with entities [LocalPlayer, LocalPlayer], work=380*
 30: 0x0BD5 [0x46] CAMERA_CONTROL: Restore default settings
 31: 0x0BD7 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
 32: 0x0BE8 [0x21] END_EVENT
 33: 0x0BE9 [0x00] END_REQSTACK()

 34: 0x0C2C [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 35: 0x0C3D [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1")
 36: 0x0C4C [0x1B] RETURN

SUBROUTINE_0C4D:
 37: 0x0C4D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 38: 0x0C5E [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
 39: 0x0C6D [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x0BEA (66 bytes)
     0x0BEA: 45 54 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 30 0A
     0x0BFA: 80 55 54 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 30
     0x0C0A: 1B 45 54 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 30
     0x0C1A: 0A 80 55 54 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F
     0x0C2A: 30 1B
# Data Section: 0x0C6E (525 bytes)
     0x0C6E: 45 57 80 F0 FF FF 7F F0 FF FF 7F 77 68 69 31 0A
     0x0C7E: 80 55 57 80 F0 FF FF 7F F0 FF FF 7F 77 68 69 31
     0x0C8E: 1B 45 57 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F 31
     0x0C9E: 0A 80 55 57 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x0CAE: 31 1B 45 57 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x0CBE: 32 0A 80 55 57 80 F0 FF FF 7F F0 FF FF 7F 77 68
     0x0CCE: 6F 32 1B 45 57 80 F0 FF FF 7F F0 FF FF 7F 77 68
     0x0CDE: 6F 33 0A 80 55 57 80 F0 FF FF 7F F0 FF FF 7F 77
     0x0CEE: 68 6F 33 1B 62 39 80 F0 FF FF 7F F0 FF FF 7F 6D
     0x0CFE: 61 69 6E 0A 80 1C 10 80 45 54 80 F0 FF FF 7F F0
     0x0D0E: FF FF 7F 66 64 6F 31 0A 80 55 54 80 F0 FF FF 7F
     0x0D1E: F0 FF FF 7F 66 64 6F 31 1B 45 54 80 F0 FF FF 7F
     0x0D2E: F0 FF FF 7F 66 64 69 31 0A 80 62 3A 80 F0 FF FF
     0x0D3E: 7F F0 FF FF 7F 6D 61 69 6E 0A 80 1C 0E 80 55 54
     0x0D4E: 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 31 1B 45 54
     0x0D5E: 80 F0 FF FF 7F F0 FF FF 7F 62 6C 6F 6E 0A 80 45
     0x0D6E: 57 80 F0 FF FF 7F F0 FF FF 7F 62 6C 6F 6E 0A 80
     0x0D7E: 1B 45 57 80 F0 FF FF 7F F0 FF FF 7F 77 68 69 30
     0x0D8E: 0A 80 55 57 80 F0 FF FF 7F F0 FF FF 7F 77 68 69
     0x0D9E: 30 1B 45 57 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x0DAE: 30 0A 80 55 57 80 F0 FF FF 7F F0 FF FF 7F 77 68
     0x0DBE: 6F 30 1B 45 58 80 F0 FF FF 7F F0 FF FF 7F 65 66
     0x0DCE: 6F 6E 0A 80 55 58 80 F0 FF FF 7F F0 FF FF 7F 65
     0x0DDE: 66 6F 6E 1B 45 54 80 F0 FF FF 7F F0 FF FF 7F 66
     0x0DEE: 64 69 73 0A 80 1B 45 54 80 F0 FF FF 7F F0 FF FF
     0x0DFE: 7F 66 64 6F 73 0A 80 55 54 80 F0 FF FF 7F F0 FF
     0x0E0E: FF 7F 66 64 6F 73 1B 45 54 80 F0 FF FF 7F F0 FF
     0x0E1E: FF 7F 66 64 69 66 0A 80 1B 45 54 80 F0 FF FF 7F
     0x0E2E: F0 FF FF 7F 66 64 6F 66 0A 80 55 54 80 F0 FF FF
     0x0E3E: 7F F0 FF FF 7F 66 64 6F 66 1B 45 54 80 F0 FF FF
     0x0E4E: 7F F0 FF FF 7F 66 64 69 70 0A 80 1B 45 54 80 F0
     0x0E5E: FF FF 7F F0 FF FF 7F 66 64 6F 70 0A 80 55 54 80
     0x0E6E: F0 FF FF 7F F0 FF FF 7F 66 64 6F 70 1B
```