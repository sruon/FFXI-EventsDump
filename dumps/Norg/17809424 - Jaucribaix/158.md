# Event 158

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 23/39     |
| Offset          | 0x0A38    |
| Data Size       | 616 bytes |
| Calculated Size | 616 bytes |
| Instructions    | 86        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0A30:                          02 08 10 01 80 00 41 0A          ......A.
0A40: 42 1A BD 18 03 02 10 6D  80 66 03 80 F8 FF FF 7F  B......m.f......
0A50: F8 FF FF 7F 74 68 6B 31  02 09 10 01 80 00 67 0A  ....thk1......g.
0A60: 1D 6E 80 23 01 6B 0A 1D  6F 80 23 24 07 80 01 80  .n.#.k..o.#$....
0A70: 08 80 25 02 00 10 01 80  00 BA 0A 1D 70 80 23 66  ..%.........p.#f
0A80: 03 80 F8 FF FF 7F F8 FF  FF 7F 74 68 6B 32 53 F8  ..........thk2S.
0A90: FF FF 7F F8 FF FF 7F 74  68 6B 32 02 08 10 01 80  .......thk2.....
0AA0: 00 B4 0A 45 19 80 F0 FF  FF 7F F0 FF FF 7F 66 64  ...E..........fd
0AB0: 69 32 08 80 01 9E 0C 01  BA 0A 42 03 01 10 01 80  i2........B.....
0AC0: 66 03 80 F8 FF FF 7F F8  FF FF 7F 74 68 6B 32 53  f..........thk2S
0AD0: F8 FF FF 7F F8 FF FF 7F  74 68 6B 32 1A FB 18 1D  ........thk2....
0AE0: 71 80 23 5E 69 64 6C 30  5C 00 61 80 5C 01 61 80  q.#^idl0\.a.\.a.
0AF0: 5C 02 61 80 5C 03 61 80  5D 4D 80 4E 80 1A 0E 14  \.a.\.a.]M.N....
0B00: 45 48 80 F0 FF FF 7F F0  FF FF 7F 61 6E 30 33 08  EH.........an03.
0B10: 80 2B 03 C0 0F 01 72 80  23 45 48 80 F0 FF FF 7F  .+....r.#EH.....
0B20: F0 FF FF 7F 61 6E 30 39  08 80 5B 22 80 03 C0 0F  ....an09..["....
0B30: 01 03 C0 0F 01 66 74 6B  30 2B 03 C0 0F 01 73 80  .....ftk0+....s.
0B40: 23 2B 03 C0 0F 01 74 80  23 5B 22 80 03 C0 0F 01  #+....t.#[".....
0B50: 03 C0 0F 01 66 74 6B 31  53 03 C0 0F 01 03 C0 0F  ....ftk1S.......
0B60: 01 66 74 6B 31 2B 03 C0  0F 01 75 80 23 52 48 80  .ftk1+....u.#RH.
0B70: F0 FF FF 7F F0 FF FF 7F  61 6E 30 39 5B 22 80 03  ........an09["..
0B80: C0 0F 01 03 C0 0F 01 74  68 6B 30 45 48 80 F0 FF  .......thk0EH...
0B90: FF 7F F0 FF FF 7F 61 6E  31 30 08 80 2B 03 C0 0F  ......an10..+...
0BA0: 01 76 80 23 2B 03 C0 0F  01 77 80 23 5B 22 80 03  .v.#+....w.#["..
0BB0: C0 0F 01 03 C0 0F 01 74  68 6B 31 53 03 C0 0F 01  .......thk1S....
0BC0: 03 C0 0F 01 74 68 6B 31  52 48 80 F0 FF FF 7F F0  ....thk1RH......
0BD0: FF FF 7F 61 6E 31 30 45  48 80 F0 FF FF 7F F0 FF  ...an10EH.......
0BE0: FF 7F 61 6E 31 31 08 80  2B 03 C0 0F 01 78 80 23  ..an11..+....x.#
0BF0: 52 48 80 F0 FF FF 7F F0  FF FF 7F 61 6E 31 31 45  RH.........an11E
0C00: 48 80 F0 FF FF 7F F0 FF  FF 7F 61 6E 31 32 08 80  H.........an12..
0C10: 5B 22 80 03 C0 0F 01 03  C0 0F 01 79 62 74 30 2B  [".........ybt0+
0C20: 03 C0 0F 01 79 80 23 53  03 C0 0F 01 03 C0 0F 01  ....y.#S........
0C30: 79 62 74 30 5B 22 80 03  C0 0F 01 03 C0 0F 01 74  ybt0[".........t
0C40: 6C 6B 30 2B 03 C0 0F 01  7A 80 23 5B 22 80 03 C0  lk0+....z.#["...
0C50: 0F 01 03 C0 0F 01 74 6C  6B 31 5D 08 80 5F 80 1C  ......tlk1].._..
0C60: 1E 80 1A 8F 16 1C 57 80  53 03 C0 0F 01 03 C0 0F  ......W.S.......
0C70: 01 74 6C 6B 31 5C 00 60  80 5C 01 60 80 5C 02 60  .tlk1\.`.\.`.\.`
0C80: 80 5C 03 60 80 9A 5D 61  80 4E 80 46 00 45 19 80  .\.`..]a.N.F.E..
0C90: F0 FF FF 7F F0 FF FF 7F  66 64 69 32 08 80 21 00  ........fdi2..!.
```

## Opcodes

```
  0: 0x0A38 [0x02] IF !(Work_Zone[8] == 1*) GOTO 0x0A41
  1: 0x0A40 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0A41 [0x1A] CALL_SUBROUTINE(address=0x18BD)
  3: 0x0A44 [0x03] Work_Zone[2] = 13868*
  4: 0x0A49 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [EventEntity, EventEntity], work=20*
  5: 0x0A58 [0x02] IF !(Work_Zone[9] == 1*) GOTO 0x0A67
  6: 0x0A60 [0x1D] PRINT_EVENT_MESSAGE(message_id=10735*)
    → "So, you've finally decided to help.\u007F1\u0000\u0007"
  7: 0x0A63 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x0A64 [0x01] GOTO 0x0A6B
  9: 0x0A67 [0x1D] PRINT_EVENT_MESSAGE(message_id=10702*)
    → "\u0008! Once again, trouble is brewing in Norg, and we require your services.\u007F1\u0000\u0007"
 10: 0x0A6A [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_0A6B:
 11: 0x0A6B [0x24] CREATE_DIALOG(message_id=10190*, default_option=1*, option_flags=0*)
    → "Listen to Jaucribaix's request?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 12: 0x0A72 [0x25] WAIT_DIALOG_SELECT()
 13: 0x0A73 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0ABA
 14: 0x0A7B [0x1D] PRINT_EVENT_MESSAGE(message_id=10703*)
    → "I see. So you are busy...\u0007However, there is still time. I pray that you will return to us quickly.\u007F1\u0000\u0007"
 15: 0x0A7E [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x0A7F [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [EventEntity, EventEntity], work=20*
 17: 0x0A8E [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk2" with entities [EventEntity, EventEntity]
 18: 0x0A9B [0x02] IF !(Work_Zone[8] == 1*) GOTO 0x0AB4
 19: 0x0AA3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 20: 0x0AB4 [0x01] GOTO 0x0C9E

SUBROUTINE_0ABA:
 21: 0x0ABA [0x42] SET_CLI_EVENT_CANCEL_DATA()
 22: 0x0ABB [0x03] Work_Zone[1] = 1*
 23: 0x0AC0 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [EventEntity, EventEntity], work=20*
 24: 0x0ACF [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk2" with entities [EventEntity, EventEntity]
 25: 0x0ADC [0x1A] CALL_SUBROUTINE(address=0x18FB)
 26: 0x0ADF [0x1D] PRINT_EVENT_MESSAGE(message_id=10704*)
    → "Your gratitude is appreciated by all of us here in Norg. Now let us proceed to Gilgamesh's chambers.\u007F1\u0000\u0007"
 27: 0x0AE2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x0AE3 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 29: 0x0AE8 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 127*
 30: 0x0AEC [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 127*
 31: 0x0AF0 [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 127*
 32: 0x0AF4 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 127*
 33: 0x0AF8 [0x5D] SET_MUSIC_VOLUME(volume=96*, fade_time=120*)
 34: 0x0AFD [0x1A] CALL_SUBROUTINE(address=0x140E)
 35: 0x0B00 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "an03" with entities [LocalPlayer, LocalPlayer], work=[216*, 0*]
 36: 0x0B11 [0x2B] Gilgamesh (ID: 17809411/0x010FC003) [10705*]:
    → "Arrrg, welcome back, \u0008.\u0007Let me fill ya in on the predicament we've got ourselves into.\u007F1\u0000\u0007"
 37: 0x0B18 [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x0B19 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "an09" with entities [LocalPlayer, LocalPlayer], work=[216*, 0*]
 39: 0x0B2A [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "ftk0" with entities [Gilgamesh (ID: 17809411/0x010FC003), Gilgamesh (ID: 17809411/0x010FC003)], work=566*
 40: 0x0B39 [0x2B] Gilgamesh (ID: 17809411/0x010FC003) [10706*]:
    → "A thief's robbed us of one of our treasures.\u0007Me thinks it be another band o'pirates. I've got me men out on the trail of 'em now.\u007F1\u0000\u0007"
 41: 0x0B40 [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x0B41 [0x2B] Gilgamesh (ID: 17809411/0x010FC003) [10707*]:
    → "Ya may think that problems between pirates should be solved by pirates--and yer right. But this time, the situation's a wee bit more complicated.\u007F1\u0000\u0007"
 43: 0x0B48 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x0B49 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "ftk1" with entities [Gilgamesh (ID: 17809411/0x010FC003), Gilgamesh (ID: 17809411/0x010FC003)], work=566*
 45: 0x0B58 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "ftk1" with entities [Gilgamesh (ID: 17809411/0x010FC003), Gilgamesh (ID: 17809411/0x010FC003)]
 46: 0x0B65 [0x2B] Gilgamesh (ID: 17809411/0x010FC003) [10708*]:
    → "The item the thief stole was an ancient helmet left by me ancestors called \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000. But this ain't no ordinary helmet.\u007F1\u0000\u0007"
 47: 0x0B6C [0x23] WAIT_FOR_DIALOG_INTERACTION
 48: 0x0B6D [0x52] END_LOAD_SCHEDULER: End scheduler "an09" with entities [LocalPlayer, LocalPlayer], work=216*
 49: 0x0B7C [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk0" with entities [Gilgamesh (ID: 17809411/0x010FC003), Gilgamesh (ID: 17809411/0x010FC003)], work=566*
 50: 0x0B8B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "an10" with entities [LocalPlayer, LocalPlayer], work=[216*, 0*]
 51: 0x0B9C [0x2B] Gilgamesh (ID: 17809411/0x010FC003) [10709*]:
    → "It's said that me father trapped the spirit of an evil demon in that helmet after a grueling battle in the Northlands. He put numerous magical seals on it t'keep the beast at bay.\u007F1\u0000\u0007"
 52: 0x0BA3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 53: 0x0BA4 [0x2B] Gilgamesh (ID: 17809411/0x010FC003) [10710*]:
    → "This probably be the reason that our rival pirates decided t'lay their grimy hands on it.\u007F1\u0000\u0007"
 54: 0x0BAB [0x23] WAIT_FOR_DIALOG_INTERACTION
 55: 0x0BAC [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk1" with entities [Gilgamesh (ID: 17809411/0x010FC003), Gilgamesh (ID: 17809411/0x010FC003)], work=566*
 56: 0x0BBB [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk1" with entities [Gilgamesh (ID: 17809411/0x010FC003), Gilgamesh (ID: 17809411/0x010FC003)]
 57: 0x0BC8 [0x52] END_LOAD_SCHEDULER: End scheduler "an10" with entities [LocalPlayer, LocalPlayer], work=216*
 58: 0x0BD7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "an11" with entities [LocalPlayer, LocalPlayer], work=[216*, 0*]
 59: 0x0BE8 [0x2B] Gilgamesh (ID: 17809411/0x010FC003) [10711*]:
    → "T'make a long story short, I need ya t'find the man that had the nerve t'rob me, and get that helmet back. Not too difficult fer an adventurer like you, eh?\u007F1\u0000\u0007"
 60: 0x0BEF [0x23] WAIT_FOR_DIALOG_INTERACTION
 61: 0x0BF0 [0x52] END_LOAD_SCHEDULER: End scheduler "an11" with entities [LocalPlayer, LocalPlayer], work=216*
 62: 0x0BFF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "an12" with entities [LocalPlayer, LocalPlayer], work=[216*, 0*]
 63: 0x0C10 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "ybt0" with entities [Gilgamesh (ID: 17809411/0x010FC003), Gilgamesh (ID: 17809411/0x010FC003)], work=566*
 64: 0x0C1F [0x2B] Gilgamesh (ID: 17809411/0x010FC003) [10712*]:
    → "And if fer some reason, the magic seal on the helmet were to be broken, we'll need ya t'...well, ya know what we'll need ya t'do then.\u007F1\u0000\u0007"
 65: 0x0C26 [0x23] WAIT_FOR_DIALOG_INTERACTION
 66: 0x0C27 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "ybt0" with entities [Gilgamesh (ID: 17809411/0x010FC003), Gilgamesh (ID: 17809411/0x010FC003)]
 67: 0x0C34 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [Gilgamesh (ID: 17809411/0x010FC003), Gilgamesh (ID: 17809411/0x010FC003)], work=566*
 68: 0x0C43 [0x2B] Gilgamesh (ID: 17809411/0x010FC003) [10713*]:
    → "Because of the sensitive nature of this problem, not many here in Norg have been informed of what has happened. However, the men I have sent to track down the thieves should have some good information fer ya, but first ya have t'search them out.\u007F1\u0000\u0007"
 69: 0x0C4A [0x23] WAIT_FOR_DIALOG_INTERACTION
 70: 0x0C4B [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk1" with entities [Gilgamesh (ID: 17809411/0x010FC003), Gilgamesh (ID: 17809411/0x010FC003)], work=566*
 71: 0x0C5A [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=60*)
 72: 0x0C5F [0x1C] WAIT(30* ticks)
 73: 0x0C62 [0x1A] CALL_SUBROUTINE(address=0x168F)
 74: 0x0C65 [0x1C] WAIT(15* ticks)
 75: 0x0C68 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlk1" with entities [Gilgamesh (ID: 17809411/0x010FC003), Gilgamesh (ID: 17809411/0x010FC003)]
 76: 0x0C75 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 209*
 77: 0x0C79 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 209*
 78: 0x0C7D [0x5C] MUSIC_CONTROL: Set Combat (Solo) music to song 209*
 79: 0x0C81 [0x5C] MUSIC_CONTROL: Set Combat (Party) music to song 209*
 80: 0x0C85 [0x9A] WAIT_MUSIC_SERVER()
 81: 0x0C86 [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=120*)
 82: 0x0C8B [0x46] CAMERA_CONTROL: Restore default settings
 83: 0x0C8D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]

SUBROUTINE_0C9E:
 84: 0x0C9E [0x21] END_EVENT
 85: 0x0C9F [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0AB7 [0x01] GOTO 0x0ABA
```