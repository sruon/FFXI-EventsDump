# Event 130

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 521 bytes |
| Calculated Size | 521 bytes |
| Instructions    | 103       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1E F0 FF FF 7F 6F 70  03 09 10 00 80 02 08 10   .....op........
0010: 01 80 00 2B 00 5B 02 80  F8 FF FF 7F F8 FF FF 7F  ...+.[..........
0020: 74 6C 6B 30 1D 03 80 23  01 46 00 1D 04 80 23 5B  tlk0...#.F....#[
0030: 02 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D 05  ..........tlk0..
0040: 80 23 1D 06 80 23 5E 69  64 6C 30 24 07 80 01 80  .#...#^idl0$....
0050: 08 80 25 02 00 10 08 80  00 7C 00 1D 09 80 23 03  ..%......|....#.
0060: 01 00 0A 80 1A CF 00 03  01 10 00 00 42 02 00 00  ............B...
0070: 0B 80 01 79 00 1D 0C 80  23 01 90 00 02 00 10 01  ...y....#.......
0080: 80 00 90 00 1D 0D 80 23  03 01 10 0B 80 01 90 00  .......#........
0090: 21 00 24 0E 80 08 80 08  80 25 02 00 10 08 80 00  !.$......%......
00A0: A5 00 01 A5 00 03 00 00  00 10 24 0F 80 01 80 10  ..........$.....
00B0: 80 25 02 00 10 01 80 00  C0 00 01 92 00 01 CE 00  .%..............
00C0: 02 00 10 11 80 00 CE 00  01 92 00 01 CE 00 1B 06  ................
00D0: 00 00 24 12 80 08 80 08  80 25 02 00 10 13 80 00  ..$......%......
00E0: EA 00 03 00 00 13 80 01  00 01 02 00 10 14 80 00  ................
00F0: FB 00 03 00 00 0B 80 1B  01 00 01 03 00 00 00 10  ................
0100: 02 01 00 13 80 04 51 01  02 00 00 13 80 04 51 01  ......Q.......Q.
0110: 24 15 80 08 80 08 80 25  02 00 10 16 80 00 2B 01  $......%......+.
0120: 08 00 00 13 80 01 CF 00  01 51 01 02 00 10 13 80  .........Q......
0130: 00 3B 01 07 00 00 16 80  01 51 01 02 00 10 14 80  .;.......Q......
0140: 00 4C 01 03 00 00 0B 80  1B 01 51 01 07 00 00 00  .L........Q.....
0150: 10 02 01 00 17 80 04 A2  01 02 00 00 17 80 04 A2  ................
0160: 01 24 18 80 08 80 08 80  25 02 00 10 16 80 00 7C  .$......%......|
0170: 01 08 00 00 16 80 01 00  01 01 A2 01 02 00 10 13  ................
0180: 80 00 8C 01 07 00 00 16  80 01 A2 01 02 00 10 14  ................
0190: 80 00 9D 01 03 00 00 0B  80 1B 01 A2 01 07 00 00  ................
01A0: 00 10 02 01 00 19 80 04  E3 01 02 00 00 19 80 04  ................
01B0: E3 01 24 1A 80 08 80 0B  80 25 02 00 10 16 80 00  ..$......%......
01C0: CD 01 08 00 00 16 80 01  51 01 01 E3 01 02 00 10  ........Q.......
01D0: 14 80 00 DE 01 03 00 00  0B 80 1B 01 E3 01 07 00  ................
01E0: 00 00 10 24 0F 80 01 80  08 80 25 02 00 10 01 80  ...$......%.....
01F0: 00 F9 01 01 CF 00 01 09  02 02 00 10 11 80 00 09  ................
0200: 02 03 00 00 0B 80 01 09  02 1B                    ..........      
```

## Opcodes

```
  0: 0x0001 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0006 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0007 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0008 [0x03] Work_Zone[9] = 9800*
  4: 0x000D [0x02] IF !(Work_Zone[8] == 1*) GOTO 0x002B
  5: 0x0015 [0x5B] LOAD_EXT_SCHEDULER(work_offset=35*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
  6: 0x0024 [0x1D] PRINT_EVENT_MESSAGE(message_id=10591*)
    → "Ye want ter change yer wyvern's name again? Jes pay me fee of 
\u0007 gil, an' oi can 'elp yer.\u007F1\u0000\u0007"
  7: 0x0027 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x0028 [0x01] GOTO 0x0046

SUBROUTINE_002B:
  9: 0x002B [0x1D] PRINT_EVENT_MESSAGE(message_id=10588*)
    → "Oi spy ye've got a gran' wyvern dare witcha.\u007F1\u0000\u0007"
 10: 0x002E [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x002F [0x5B] LOAD_EXT_SCHEDULER(work_offset=35*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 12: 0x003E [0x1D] PRINT_EVENT_MESSAGE(message_id=10589*)
    → "Ye gave a name ter yer wyvern whaen yer made yer pact, roi? Well, I'll let ye in on a secret. Did ye know ye can change yer wyvern's name?\u007F1\u0000\u0007"
 13: 0x0041 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0042 [0x1D] PRINT_EVENT_MESSAGE(message_id=10590*)
    → "If ye pay me fee of 
\u0007 gil, oi can 'elp yer. Waaat do yer say? You can alwus back oyt at any time.\u007F1\u0000\u0007"
 15: 0x0045 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x0046 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 17: 0x004B [0x24] CREATE_DIALOG(message_id=10592*, default_option=1*, option_flags=0*)
    → "Ask the woman for her help?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 18: 0x0052 [0x25] WAIT_DIALOG_SELECT()
 19: 0x0053 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x007C
 20: 0x005B [0x1D] PRINT_EVENT_MESSAGE(message_id=10594*)
    → "Choose a new name from de followin'. An' don't go givin' yer wyvern de seem name, now, hear?\u007F1\u0000\u0007"
 21: 0x005E [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x005F [0x03] ExtData[1]->WorkLocal[1] = 116*
 23: 0x0064 [0x1A] CALL_SUBROUTINE(address=0x00CF)
 24: 0x0067 [0x03] Work_Zone[1] = ExtData[1]->WorkLocal[0]
 25: 0x006C [0x42] SET_CLI_EVENT_CANCEL_DATA()
 26: 0x006D [0x02] IF !(ExtData[1]->WorkLocal[0] == 1073741824*) GOTO 0x0079
 27: 0x0075 [0x1D] PRINT_EVENT_MESSAGE(message_id=10595*)
    → "Waaat a gran' name ye 'av chosen. Good day!\u007F1\u0000\u0007"
 28: 0x0078 [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x0079 [0x01] GOTO 0x0090

SUBROUTINE_007C:
 30: 0x007C [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0090
 31: 0x0084 [0x1D] PRINT_EVENT_MESSAGE(message_id=10593*)
    → "A wyvern's name is a part av its destiny. A change may be good for it. Come back if ye change yer mind.\u007F1\u0000\u0007"
 32: 0x0087 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x0088 [0x03] Work_Zone[1] = 1073741824*
 34: 0x008D [0x01] GOTO 0x0090

SUBROUTINE_0090:
 35: 0x0090 [0x21] END_EVENT
 36: 0x0091 [0x00] END_REQSTACK()

 37: 0x00CF [0x06] ExtData[1]->WorkLocal[0] = 0
 38: 0x00D2 [0x24] CREATE_DIALOG(message_id=10597*, default_option=0*, option_flags=0*)
    → "Select a name for your wyvern.\u0007\u000BAzure\u0007Cerulean\u0007Rygor\u0007Firewing\u0007Delphyne\u0007Ember\u0007Rover\u0007Max\u0007Buster\u0007Duke\u0007Oscar\u0007Maggie\u0007Jessie\u0007Lady\u0007Hien\u0007Raiden\u0007Lumiere\u0007Eisenzahn\u0007Pfeil\u0007Wuffi\u0007George\u0007Donryu\u0007Qiqiru\u0007Karav-Marav\u0007Oboro\u0007Darug-Borug\u0007Mikan\u0007Vhiki\u0007Sasavi\u0007Tatang\u0007Look at the next list.\u0007Quit\u007F1\u0000\u0007"
 39: 0x00D9 [0x25] WAIT_DIALOG_SELECT()
 40: 0x00DA [0x02] IF !(Work_Zone[0] == 30*) GOTO 0x00EA
 41: 0x00E2 [0x03] ExtData[1]->WorkLocal[0] = 30*
 42: 0x00E7 [0x01] GOTO 0x0100

SUBROUTINE_00EA:
 43: 0x00EA [0x02] IF !(Work_Zone[0] == 31*) GOTO 0x00FB
 44: 0x00F2 [0x03] ExtData[1]->WorkLocal[0] = 1073741824*
 45: 0x00F7 [0x1B] RETURN

SUBROUTINE_00FB:
 46: 0x00FB [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[0]
 47: 0x0100 [0x02] IF !(ExtData[1]->WorkLocal[1] < 30*) GOTO 0x0151
 48: 0x0108 [0x02] IF !(ExtData[1]->WorkLocal[0] < 30*) GOTO 0x0151
 49: 0x0110 [0x24] CREATE_DIALOG(message_id=10598*, default_option=0*, option_flags=0*)
    → "Select a name for your wyvern.\u0007\u000BNanaja\u0007Khocha\u0007Dino\u0007Chomper\u0007Huffy\u0007Pouncer\u0007Fido\u0007Lucy\u0007Jake\u0007Rocky\u0007Rex\u0007Rusty\u0007Himmelskralle\u0007Gizmo\u0007Spike\u0007Sylvester\u0007Milo\u0007Tom\u0007Toby\u0007Felix\u0007Komet\u0007Bo\u0007Molly\u0007Unryu\u0007Daisy\u0007Baron\u0007Ginger\u0007Muffin\u0007Lumineux\u0007Look at the previous list.\u0007Look at the next list.\u0007Quit\u007F1\u0000\u0007"
 50: 0x0117 [0x25] WAIT_DIALOG_SELECT()
 51: 0x0118 [0x02] IF !(Work_Zone[0] == 29*) GOTO 0x012B
 52: 0x0120 [0x08] ExtData[1]->WorkLocal[0] -= 30*
 53: 0x0125 [0x01] GOTO 0x00CF

SUBROUTINE_012B:
 54: 0x012B [0x02] IF !(Work_Zone[0] == 30*) GOTO 0x013B
 55: 0x0133 [0x07] ExtData[1]->WorkLocal[0] += 29*
 56: 0x0138 [0x01] GOTO 0x0151

SUBROUTINE_013B:
 57: 0x013B [0x02] IF !(Work_Zone[0] == 31*) GOTO 0x014C
 58: 0x0143 [0x03] ExtData[1]->WorkLocal[0] = 1073741824*
 59: 0x0148 [0x1B] RETURN

SUBROUTINE_014C:
 60: 0x014C [0x07] ExtData[1]->WorkLocal[0] += Work_Zone[0]
 61: 0x0151 [0x02] IF !(ExtData[1]->WorkLocal[1] < 59*) GOTO 0x01A2
 62: 0x0159 [0x02] IF !(ExtData[1]->WorkLocal[0] < 59*) GOTO 0x01A2
 63: 0x0161 [0x24] CREATE_DIALOG(message_id=10599*, default_option=0*, option_flags=0*)
    → "Select a name for your wyvern.\u0007\u000BQuatrevents\u0007Toryu\u0007Tataba\u0007Etoilazuree\u0007Grisnuage\u0007Belorage\u0007Centonnerre\u0007Nouvellune\u0007Missy\u0007Amedeo\u0007Tranchevent\u0007Soufflefeu\u0007Etoile\u0007Tonnerre\u0007Nuage\u0007Foudre\u0007Hyuh\u0007Orage\u0007Lune\u0007Astre\u0007Waffenzahn\u0007Soleil\u0007Courageux\u0007Koffla-Paffla\u0007Venteuse\u0007Lunaire\u0007Tora\u0007Celeste\u0007Galja-Mogalja\u0007Look at the previous list.\u0007Look at the next list.\u0007Quit\u007F1\u0000\u0007"
 64: 0x0168 [0x25] WAIT_DIALOG_SELECT()
 65: 0x0169 [0x02] IF !(Work_Zone[0] == 29*) GOTO 0x017C
 66: 0x0171 [0x08] ExtData[1]->WorkLocal[0] -= 29*
 67: 0x0176 [0x01] GOTO 0x0100

SUBROUTINE_017C:
 68: 0x017C [0x02] IF !(Work_Zone[0] == 30*) GOTO 0x018C
 69: 0x0184 [0x07] ExtData[1]->WorkLocal[0] += 29*
 70: 0x0189 [0x01] GOTO 0x01A2

SUBROUTINE_018C:
 71: 0x018C [0x02] IF !(Work_Zone[0] == 31*) GOTO 0x019D
 72: 0x0194 [0x03] ExtData[1]->WorkLocal[0] = 1073741824*
 73: 0x0199 [0x1B] RETURN

SUBROUTINE_019D:
 74: 0x019D [0x07] ExtData[1]->WorkLocal[0] += Work_Zone[0]
 75: 0x01A2 [0x02] IF !(ExtData[1]->WorkLocal[1] < 88*) GOTO 0x01E3
 76: 0x01AA [0x02] IF !(ExtData[1]->WorkLocal[0] < 88*) GOTO 0x01E3
 77: 0x01B2 [0x24] CREATE_DIALOG(message_id=10600*, default_option=0*, option_flags=1073741824*)
    → "Select a name for your wyvern.\u0007\u000BGaboh\u0007Vhyun\u0007Orageuse\u0007Stellaire\u0007Solaire\u0007Wirbelwind\u0007Blutkralle\u0007Bogen\u0007Junker\u0007Flink\u0007Knirps\u0007Bodo\u0007Soryu\u0007Wawaro\u0007Totona\u0007Levian-Movian\u0007Kagero\u0007Joseph\u0007Paparal\u0007Coco\u0007Ringo\u0007Nonomi\u0007Teter\u0007Gigima\u0007Gogodavi\u0007Rurumo\u0007Tupah\u0007Jyubih\u0007Majha\u0007Look at the previous list.\u0007Look at the next list.\u0007Quit\u007F1\u0000\u0007"
 78: 0x01B9 [0x25] WAIT_DIALOG_SELECT()
 79: 0x01BA [0x02] IF !(Work_Zone[0] == 29*) GOTO 0x01CD
 80: 0x01C2 [0x08] ExtData[1]->WorkLocal[0] -= 29*
 81: 0x01C7 [0x01] GOTO 0x0151

SUBROUTINE_01CD:
 82: 0x01CD [0x02] IF !(Work_Zone[0] == 31*) GOTO 0x01DE
 83: 0x01D5 [0x03] ExtData[1]->WorkLocal[0] = 1073741824*
 84: 0x01DA [0x1B] RETURN

SUBROUTINE_01DE:
 85: 0x01DE [0x07] ExtData[1]->WorkLocal[0] += Work_Zone[0]
 86: 0x01E3 [0x24] CREATE_DIALOG(message_id=10586*, default_option=1*, option_flags=0*)
    → "Is this the name you really want?\u0007\u000BThis is the one.\u0007I need more time to think.\u0007Forget about it.\u007F1\u0000\u0007"
 87: 0x01EA [0x25] WAIT_DIALOG_SELECT()
 88: 0x01EB [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x01F9
 89: 0x01F3 [0x01] GOTO 0x00CF

SUBROUTINE_01F9:
 90: 0x01F9 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0209
 91: 0x0201 [0x03] ExtData[1]->WorkLocal[0] = 1073741824*
 92: 0x0206 [0x01] GOTO 0x0209

SUBROUTINE_0209:
 93: 0x0209 [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x0092 (61 bytes)
     0x0092: 24 0E 80 08 80 08 80 25 02 00 10 08 80 00 A5 00
     0x00A2: 01 A5 00 03 00 00 00 10 24 0F 80 01 80 10 80 25
     0x00B2: 02 00 10 01 80 00 C0 00 01 92 00 01 CE 00 02 00
     0x00C2: 10 11 80 00 CE 00 01 92 00 01 CE 00 1B
# Dead code (unreachable instructions):
     0x00F8 [0x01] GOTO 0x0100
# Dead code (unreachable instructions):
     0x0128 [0x01] GOTO 0x0151
# Dead code (unreachable instructions):
     0x0149 [0x01] GOTO 0x0151
# Dead code (unreachable instructions):
     0x0179 [0x01] GOTO 0x01A2
# Dead code (unreachable instructions):
     0x019A [0x01] GOTO 0x01A2
# Dead code (unreachable instructions):
     0x01CA [0x01] GOTO 0x01E3
# Dead code (unreachable instructions):
     0x01DB [0x01] GOTO 0x01E3
# Dead code (unreachable instructions):
     0x01F6 [0x01] GOTO 0x0209
```