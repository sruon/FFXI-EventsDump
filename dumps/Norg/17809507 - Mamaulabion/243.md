# Event 243

## Metadata

| Field           | Value      |
|-----------------|------------|
| Event Index     | 11/11      |
| Offset          | 0x04CE     |
| Data Size       | 1117 bytes |
| Calculated Size | 1117 bytes |
| Instructions    | 36         |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
04C0:                                            1A BC                ..
04D0: 05 66 1B 80 F8 FF FF 7F  F8 FF FF 7F 6F 72 6F 30  .f..........oro0
04E0: 1D 2D 80 23 66 1B 80 F8  FF FF 7F F8 FF FF 7F 6F  .-.#f..........o
04F0: 72 6F 31 53 F8 FF FF 7F  F8 FF FF 7F 6F 72 6F 30  ro1S........oro0
0500: 66 00 80 F8 FF FF 7F F8  FF FF 7F 74 68 6B 31 1C  f..........thk1.
0510: 2E 80 1D 2F 80 23 1D 30  80 23 66 00 80 F8 FF FF  .../.#.0.#f.....
0520: 7F F8 FF FF 7F 74 68 6B  32 24 31 80 03 80 03 80  .....thk2$1.....
0530: 25 02 00 10 03 80 00 41  05 03 01 10 03 80 01 65  %......A.......e
0540: 05 02 00 10 0F 80 00 65  05 42 6E F0 FF FF 7F 32  .......e.Bn....2
0550: 80 99 F0 FF FF 7F 1C 33  80 1D 34 80 23 03 01 10  .......3..4.#...
0560: 0F 80 01 65 05 21 00 42  1A FD 06 46 01 38 35 80  ...e.!.B...F.85.
0570: 29 10 F0 FF FF 7F 26 80  F0 FF FF 7F 1C 0F 80 45  ).....&........E
0580: 02 80 F0 FF FF 7F F0 FF  FF 7F 71 73 30 31 03 80  ..........qs01..
0590: 45 36 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 32 03  E6.........fdi2.
05A0: 80 1B 1A FD 06 1C 2E 80  46 00 45 36 80 F0 FF FF  ........F.E6....
05B0: 7F F0 FF FF 7F 66 64 69  32 03 80 1B 86 00 F8 FF  .....fdi2.......
05C0: FF 7F 1E F0 FF FF 7F 6F  70 1B 66 03 80 F8 FF FF  .......op.f.....
05D0: 7F F8 FF FF 7F 74 6C 6B  30 1B 66 03 80 F8 FF FF  .....tlk0.f.....
05E0: 7F F8 FF FF 7F 74 6C 6B  31 1B 66 37 80 F8 FF FF  .....tlk1.f7....
05F0: 7F F8 FF FF 7F 74 6C 6B  30 1B 66 00 80 F8 FF FF  .....tlk0.f.....
0600: 7F F8 FF FF 7F 74 6C 6B  30 1B 66 2E 80 F8 FF FF  .....tlk0.f.....
0610: 7F F8 FF FF 7F 74 6C 6B  30 1B 66 38 80 F8 FF FF  .....tlk0.f8....
0620: 7F F8 FF FF 7F 74 6C 6B  30 1B 66 39 80 F8 FF FF  .....tlk0.f9....
0630: 7F F8 FF FF 7F 74 6C 6B  30 1B 66 3A 80 F8 FF FF  .....tlk0.f:....
0640: 7F F8 FF FF 7F 74 6C 6B  30 1B 5B 3B 80 F8 FF FF  .....tlk0.[;....
0650: 7F F8 FF FF 7F 74 6C 6B  30 1B 5B 3C 80 F8 FF FF  .....tlk0.[<....
0660: 7F F8 FF FF 7F 74 6C 6B  30 1B 5B 3D 80 F8 FF FF  .....tlk0.[=....
0670: 7F F8 FF FF 7F 74 6C 6B  30 1B 5B 3E 80 F8 FF FF  .....tlk0.[>....
0680: 7F F8 FF FF 7F 74 6C 6B  30 1B 5B 3A 80 F8 FF FF  .....tlk0.[:....
0690: 7F F8 FF FF 7F 74 6C 62  30 1B 45 36 80 F0 FF FF  .....tlb0.E6....
06A0: 7F F0 FF FF 7F 66 64 69  30 03 80 55 36 80 F0 FF  .....fdi0..U6...
06B0: FF 7F F0 FF FF 7F 66 64  69 30 1B 45 36 80 F0 FF  ......fdi0.E6...
06C0: FF 7F F0 FF FF 7F 66 64  6F 30 03 80 55 36 80 F0  ......fdo0..U6..
06D0: FF FF 7F F0 FF FF 7F 66  64 6F 30 1B 45 36 80 F0  .......fdo0.E6..
06E0: FF FF 7F F0 FF FF 7F 66  64 69 31 03 80 55 36 80  .......fdi1..U6.
06F0: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 1B 45 36 80  ........fdi1.E6.
0700: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 03 80 55 36  ........fdo1..U6
0710: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 1B 45 2C  .........fdo1.E,
0720: 80 F0 FF FF 7F F0 FF FF  7F 77 68 69 31 03 80 55  .........whi1..U
0730: 2C 80 F0 FF FF 7F F0 FF  FF 7F 77 68 69 31 1B 45  ,.........whi1.E
0740: 2C 80 F0 FF FF 7F F0 FF  FF 7F 77 68 6F 31 03 80  ,.........who1..
0750: 55 2C 80 F0 FF FF 7F F0  FF FF 7F 77 68 6F 31 1B  U,.........who1.
0760: 45 2C 80 F0 FF FF 7F F0  FF FF 7F 77 68 6F 32 03  E,.........who2.
0770: 80 55 2C 80 F0 FF FF 7F  F0 FF FF 7F 77 68 6F 32  .U,.........who2
0780: 1B 45 2C 80 F0 FF FF 7F  F0 FF FF 7F 77 68 6F 33  .E,.........who3
0790: 03 80 55 2C 80 F0 FF FF  7F F0 FF FF 7F 77 68 6F  ..U,.........who
07A0: 33 1B 62 0F 80 F0 FF FF  7F F0 FF FF 7F 6D 61 69  3.b..........mai
07B0: 6E 03 80 1C 23 80 45 36  80 F0 FF FF 7F F0 FF FF  n...#.E6........
07C0: 7F 66 64 6F 31 03 80 55  36 80 F0 FF FF 7F F0 FF  .fdo1..U6.......
07D0: FF 7F 66 64 6F 31 1B 45  36 80 F0 FF FF 7F F0 FF  ..fdo1.E6.......
07E0: FF 7F 66 64 69 31 03 80  62 3F 80 F0 FF FF 7F F0  ..fdi1..b?......
07F0: FF FF 7F 6D 61 69 6E 03  80 1C 2E 80 55 36 80 F0  ...main.....U6..
0800: FF FF 7F F0 FF FF 7F 66  64 69 31 1B 45 36 80 F0  .......fdi1.E6..
0810: FF FF 7F F0 FF FF 7F 62  6C 6F 6E 03 80 45 2C 80  .......blon..E,.
0820: F0 FF FF 7F F0 FF FF 7F  62 6C 6F 6E 03 80 1B 45  ........blon...E
0830: 2C 80 F0 FF FF 7F F0 FF  FF 7F 77 68 69 30 03 80  ,.........whi0..
0840: 55 2C 80 F0 FF FF 7F F0  FF FF 7F 77 68 69 30 1B  U,.........whi0.
0850: 45 2C 80 F0 FF FF 7F F0  FF FF 7F 77 68 6F 30 03  E,.........who0.
0860: 80 55 2C 80 F0 FF FF 7F  F0 FF FF 7F 77 68 6F 30  .U,.........who0
0870: 1B 45 02 80 F0 FF FF 7F  F0 FF FF 7F 65 66 6F 6E  .E..........efon
0880: 03 80 55 02 80 F0 FF FF  7F F0 FF FF 7F 65 66 6F  ..U..........efo
0890: 6E 1B 45 36 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  n.E6.........fdi
08A0: 73 03 80 1B 45 36 80 F0  FF FF 7F F0 FF FF 7F 66  s...E6.........f
08B0: 64 6F 73 03 80 55 36 80  F0 FF FF 7F F0 FF FF 7F  dos..U6.........
08C0: 66 64 6F 73 1B 45 36 80  F0 FF FF 7F F0 FF FF 7F  fdos.E6.........
08D0: 66 64 69 66 03 80 1B 45  36 80 F0 FF FF 7F F0 FF  fdif...E6.......
08E0: FF 7F 66 64 6F 66 03 80  55 36 80 F0 FF FF 7F F0  ..fdof..U6......
08F0: FF FF 7F 66 64 6F 66 1B  45 36 80 F0 FF FF 7F F0  ...fdof.E6......
0900: FF FF 7F 66 64 69 70 03  80 1B 45 36 80 F0 FF FF  ...fdip...E6....
0910: 7F F0 FF FF 7F 66 64 6F  70 03 80 55 36 80 F0 FF  .....fdop..U6...
0920: FF 7F F0 FF FF 7F 66 64  6F 70 1B                 ......fdop.     
```

## Opcodes

```
  0: 0x04CE [0x1A] CALL_SUBROUTINE(address=0x05BC)
  1: 0x04D1 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=26*, entity1=EventEntity, entity2=EventEntity, action="oro0")
  2: 0x04E0 [0x1D] PRINT_EVENT_MESSAGE(message_id=10884*)
    → "Why, if it ithn't \u0008! Tho good of you to pay your old friend Mama a vith--\u0007What!? You went and mithplathed the prethiouth ring I gave you!? I...I can't believe I'm hearing thith...\u007F1\u0000\u0007"
  3: 0x04E3 [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x04E4 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=26*, entity1=EventEntity, entity2=EventEntity, action="oro1")
  5: 0x04F3 [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="oro0")
  6: 0x0500 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=20*, entity1=EventEntity, entity2=EventEntity, action="thk1")
  7: 0x050F [0x1C] WAIT(30* ticks)
  8: 0x0512 [0x1D] PRINT_EVENT_MESSAGE(message_id=10885*)
    → "Why, I'm abtholutely thtruck thpeethleth that you would treat the token of my apprethiathion with thuch callouthneth.\u0007<Thigh>... What'th done ith done, I thuppothe. And the hangdog exthprethion you wear ith evidenthe enough of your remorthe.\u007F1\u0000\u0007"
  9: 0x0515 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x0516 [0x1D] PRINT_EVENT_MESSAGE(message_id=10886*)
    → "Being the kindly thoul that I am, I've dethided to give you another chanthe. Deliver me the thelfthame itemth ath latht time, and I thall whip up another ring for you. How doeth that thound, hmmm?\u007F1\u0000\u0007"
 11: 0x0519 [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x051A [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=20*, entity1=EventEntity, entity2=EventEntity, action="thk2")
 13: 0x0529 [0x24] CREATE_DIALOG(message_id=10887*, default_option=0*, option_flags=0*)
    → "Tho, what will it be?\u0007\u000BPerhapth another time.\u0007I'll do it!\u007F1\u0000\u0007"
 14: 0x0530 [0x25] WAIT_DIALOG_SELECT()
 15: 0x0531 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0541
 16: 0x0539 [0x03] Work_Zone[1] = 0*
 17: 0x053E [0x01] GOTO 0x0565

SUBROUTINE_0541:
 18: 0x0541 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0565
 19: 0x0549 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 20: 0x054A [0x6E] LocalPlayer uses emote 7*
 21: 0x0551 [0x99] Wait for LocalPlayer animation to complete
 22: 0x0556 [0x1C] WAIT(90* ticks)
 23: 0x0559 [0x1D] PRINT_EVENT_MESSAGE(message_id=10888*)
    → "Very well, \u007F\u0005[mithter/mithy]. I thall await retheipt of the thuper thpethial itemth onthe more...jutht like the good old dayth! Tee-hee!\u007F1\u0000\u0007"
 24: 0x055C [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x055D [0x03] Work_Zone[1] = 1*
 26: 0x0562 [0x01] GOTO 0x0565

SUBROUTINE_0565:
 27: 0x0565 [0x21] END_EVENT
 28: 0x0566 [0x00] END_REQSTACK()

 29: 0x05BC [0x86] EventEntity->Render.Flags3 = Flags3  // No change (flag=0)
 30: 0x05C2 [0x1E] EventEntity looks at LocalPlayer and starts talking
 31: 0x05C7 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 32: 0x05C8 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 33: 0x05C9 [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x0567 (85 bytes)
     0x0567: 42 1A FD 06 46 01 38 35 80 29 10 F0 FF FF 7F 26
     0x0577: 80 F0 FF FF 7F 1C 0F 80 45 02 80 F0 FF FF 7F F0
     0x0587: FF FF 7F 71 73 30 31 03 80 45 36 80 F0 FF FF 7F
     0x0597: F0 FF FF 7F 66 64 69 32 03 80 1B 1A FD 06 1C 2E
     0x05A7: 80 46 00 45 36 80 F0 FF FF 7F F0 FF FF 7F 66 64
     0x05B7: 69 32 03 80 1B
# Data Section: 0x05CA (865 bytes)
     0x05CA: 66 03 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1B
     0x05DA: 66 03 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 31 1B
     0x05EA: 66 37 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1B
     0x05FA: 66 00 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1B
     0x060A: 66 2E 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1B
     0x061A: 66 38 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1B
     0x062A: 66 39 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1B
     0x063A: 66 3A 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1B
     0x064A: 5B 3B 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1B
     0x065A: 5B 3C 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1B
     0x066A: 5B 3D 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1B
     0x067A: 5B 3E 80 F8 FF FF 7F F8 FF FF 7F 74 6C 6B 30 1B
     0x068A: 5B 3A 80 F8 FF FF 7F F8 FF FF 7F 74 6C 62 30 1B
     0x069A: 45 36 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 30 03
     0x06AA: 80 55 36 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 30
     0x06BA: 1B 45 36 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 30
     0x06CA: 03 80 55 36 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F
     0x06DA: 30 1B 45 36 80 F0 FF FF 7F F0 FF FF 7F 66 64 69
     0x06EA: 31 03 80 55 36 80 F0 FF FF 7F F0 FF FF 7F 66 64
     0x06FA: 69 31 1B 45 36 80 F0 FF FF 7F F0 FF FF 7F 66 64
     0x070A: 6F 31 03 80 55 36 80 F0 FF FF 7F F0 FF FF 7F 66
     0x071A: 64 6F 31 1B 45 2C 80 F0 FF FF 7F F0 FF FF 7F 77
     0x072A: 68 69 31 03 80 55 2C 80 F0 FF FF 7F F0 FF FF 7F
     0x073A: 77 68 69 31 1B 45 2C 80 F0 FF FF 7F F0 FF FF 7F
     0x074A: 77 68 6F 31 03 80 55 2C 80 F0 FF FF 7F F0 FF FF
     0x075A: 7F 77 68 6F 31 1B 45 2C 80 F0 FF FF 7F F0 FF FF
     0x076A: 7F 77 68 6F 32 03 80 55 2C 80 F0 FF FF 7F F0 FF
     0x077A: FF 7F 77 68 6F 32 1B 45 2C 80 F0 FF FF 7F F0 FF
     0x078A: FF 7F 77 68 6F 33 03 80 55 2C 80 F0 FF FF 7F F0
     0x079A: FF FF 7F 77 68 6F 33 1B 62 0F 80 F0 FF FF 7F F0
     0x07AA: FF FF 7F 6D 61 69 6E 03 80 1C 23 80 45 36 80 F0
     0x07BA: FF FF 7F F0 FF FF 7F 66 64 6F 31 03 80 55 36 80
     0x07CA: F0 FF FF 7F F0 FF FF 7F 66 64 6F 31 1B 45 36 80
     0x07DA: F0 FF FF 7F F0 FF FF 7F 66 64 69 31 03 80 62 3F
     0x07EA: 80 F0 FF FF 7F F0 FF FF 7F 6D 61 69 6E 03 80 1C
     0x07FA: 2E 80 55 36 80 F0 FF FF 7F F0 FF FF 7F 66 64 69
     0x080A: 31 1B 45 36 80 F0 FF FF 7F F0 FF FF 7F 62 6C 6F
     0x081A: 6E 03 80 45 2C 80 F0 FF FF 7F F0 FF FF 7F 62 6C
     0x082A: 6F 6E 03 80 1B 45 2C 80 F0 FF FF 7F F0 FF FF 7F
     0x083A: 77 68 69 30 03 80 55 2C 80 F0 FF FF 7F F0 FF FF
     0x084A: 7F 77 68 69 30 1B 45 2C 80 F0 FF FF 7F F0 FF FF
     0x085A: 7F 77 68 6F 30 03 80 55 2C 80 F0 FF FF 7F F0 FF
     0x086A: FF 7F 77 68 6F 30 1B 45 02 80 F0 FF FF 7F F0 FF
     0x087A: FF 7F 65 66 6F 6E 03 80 55 02 80 F0 FF FF 7F F0
     0x088A: FF FF 7F 65 66 6F 6E 1B 45 36 80 F0 FF FF 7F F0
     0x089A: FF FF 7F 66 64 69 73 03 80 1B 45 36 80 F0 FF FF
     0x08AA: 7F F0 FF FF 7F 66 64 6F 73 03 80 55 36 80 F0 FF
     0x08BA: FF 7F F0 FF FF 7F 66 64 6F 73 1B 45 36 80 F0 FF
     0x08CA: FF 7F F0 FF FF 7F 66 64 69 66 03 80 1B 45 36 80
     0x08DA: F0 FF FF 7F F0 FF FF 7F 66 64 6F 66 03 80 55 36
     0x08EA: 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 66 1B 45 36
     0x08FA: 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 70 03 80 1B
     0x090A: 45 36 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 70 03
     0x091A: 80 55 36 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 70
     0x092A: 1B
```