# Event 5

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/9       |
| Offset          | 0x0001    |
| Data Size       | 240 bytes |
| Calculated Size | 240 bytes |
| Instructions    | 38        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    24 00 80 01 80 02 80  25 02 00 10 01 80 00 1C   $......%.......
0010: 00 03 01 10 03 80 01 EF  00 01 1C 00 42 1A 9A 39  ............B..9
0020: 46 01 3B F0 FF FF 7F 00  00 01 00 02 00 02 00 00  F.;.............
0030: 04 80 02 5C 00 47 00 05  80 06 80 07 80 08 80 47  ...\.G.........G
0040: 01 29 10 F0 FF FF 7F 03  45 09 80 F0 FF FF 7F F0  .)......E.......
0050: FF FF 7F 73 64 30 32 02  80 01 80 00 47 00 0A 80  ...sd02.....G...
0060: 0B 80 07 80 0C 80 47 01  29 10 F0 FF FF 7F 02 45  ......G.)......E
0070: 09 80 F0 FF FF 7F F0 FF  FF 7F 73 64 30 31 02 80  ..........sd01..
0080: 27 10 32 C0 0F 01 05 1A  BB 39 1C 0D 80 02 00 00  '.2......9......
0090: 04 80 02 9F 00 29 10 F0  FF FF 7F 05 01 A6 00 29  .....).........)
00A0: 10 F0 FF FF 7F 04 27 10  32 C0 0F 01 06 1C 0D 80  ......'.2.......
00B0: 1A 9A 39 02 00 00 04 80  02 CD 00 52 09 80 F0 FF  ..9........R....
00C0: FF 7F F0 FF FF 7F 73 64  30 32 01 DC 00 52 09 80  ......sd02...R..
00D0: F0 FF FF 7F F0 FF FF 7F  73 64 30 31 46 00 45 0E  ........sd01F.E.
00E0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 32 02 80 21  .........fdi2..!
00F0: 00                                                .               
```

## Opcodes

```
  0: 0x0001 [0x24] CREATE_DIALOG(message_id=10315*, default_option=1*, option_flags=0*)
    → "Open the door?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
  1: 0x0008 [0x25] WAIT_DIALOG_SELECT()
  2: 0x0009 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x001C
  3: 0x0011 [0x03] Work_Zone[1] = 1073741824*
  4: 0x0016 [0x01] GOTO 0x00EF

SUBROUTINE_001C:
  5: 0x001C [0x42] SET_CLI_EVENT_CANCEL_DATA()
  6: 0x001D [0x1A] CALL_SUBROUTINE(address=0x399A)
  7: 0x0020 [0x46] CAMERA_CONTROL: Disable user control
  8: 0x0022 [0x3B] GET_ENTITY_POSITION(entity=LocalPlayer, x_destination=ExtData[1]->WorkLocal[0], y_destination=ExtData[1]->WorkLocal[1], z_destination=ExtData[1]->WorkLocal[2])
  9: 0x002D [0x02] IF !(ExtData[1]->WorkLocal[0] <= 101969*) GOTO 0x005C
 10: 0x0035 [0x47] UPDATE_PLAYER_POS(99.789*, -11.999*, -7.086*, yaw=178.4°*)
 11: 0x003F [0x47] WAIT_PLAYER_POS_UPDATE
 12: 0x0041 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x03)
 13: 0x0048 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "sd02" with entities [LocalPlayer, LocalPlayer], work=[215*, 0*]
 14: 0x0059 [0x01] GOTO 0x0080

SUBROUTINE_005C:
 15: 0x005C [0x47] UPDATE_PLAYER_POS(103.857*, -11.968*, -7.086*, yaw=1.1°*)
 16: 0x0066 [0x47] WAIT_PLAYER_POS_UPDATE
 17: 0x0068 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x02)
 18: 0x006F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "sd01" with entities [LocalPlayer, LocalPlayer], work=[215*, 0*]
 19: 0x0080 [0x27] REQ_SET(priority=0x10, entity_id=Oaken Door (ID: 17809458/0x010FC032), tag_num=0x05)
 20: 0x0087 [0x1A] CALL_SUBROUTINE(address=0x39BB)
 21: 0x008A [0x1C] WAIT(45* ticks)
 22: 0x008D [0x02] IF !(ExtData[1]->WorkLocal[0] <= 101969*) GOTO 0x009F
 23: 0x0095 [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x05)
 24: 0x009C [0x01] GOTO 0x00A6

SUBROUTINE_009F:
 25: 0x009F [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x04)
 26: 0x00A6 [0x27] REQ_SET(priority=0x10, entity_id=Oaken Door (ID: 17809458/0x010FC032), tag_num=0x06)
 27: 0x00AD [0x1C] WAIT(45* ticks)
 28: 0x00B0 [0x1A] CALL_SUBROUTINE(address=0x399A)
 29: 0x00B3 [0x02] IF !(ExtData[1]->WorkLocal[0] <= 101969*) GOTO 0x00CD
 30: 0x00BB [0x52] END_LOAD_SCHEDULER: End scheduler "sd02" with entities [LocalPlayer, LocalPlayer], work=215*
 31: 0x00CA [0x01] GOTO 0x00DC

SUBROUTINE_00CD:
 32: 0x00CD [0x52] END_LOAD_SCHEDULER: End scheduler "sd01" with entities [LocalPlayer, LocalPlayer], work=215*
 33: 0x00DC [0x46] CAMERA_CONTROL: Restore default settings
 34: 0x00DE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 35: 0x00EF [0x21] END_EVENT
 36: 0x00F0 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0019 [0x01] GOTO 0x001C
```