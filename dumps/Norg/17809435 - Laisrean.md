# 17809435 - Laisrean

## Common Data

| Field            | Value          |
|------------------|----------------|
| Zone             | Norg (ID: 252) |
| Block Size       | 724 bytes      |
| Total Events     | 10             |
| References Count | 30             |

## List of Events

| Event ID              | Entrypoint   |   Size |   Instructions |
|-----------------------|--------------|--------|----------------|
| [65535](#event-65535) | 0x0000       |      1 |              1 |
| [83](#event-83)       | 0x0001       |     12 |              6 |
| [33](#event-33)       | 0x000D       |    162 |             36 |
| [34](#event-34)       | 0x00AF       |     60 |             12 |
| [35](#event-35)       | 0x00EB       |    253 |             40 |
| [250](#event-250)     | 0x01E8       |     12 |              3 |
| [252](#event-252)     | 0x01F4       |     12 |              3 |
| [254](#event-254)     | 0x0200       |     12 |              3 |
| [258](#event-258)     | 0x020C       |     12 |              3 |
| [260](#event-260)     | 0x0218       |     12 |              3 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x286D      |       10349 |
|       1 | 0x001D      |          29 |
|       2 | 0x0001      |           1 |
|       3 | 0x2823      |       10275 |
|       4 | 0x2820      |       10272 |
|       5 | 0x2821      |       10273 |
|       6 | 0x0000      |           0 |
|       7 | 0x0012      |          18 |
|       8 | 0x2822      |       10274 |
|       9 | 0x000B      |          11 |
|      10 | 0x2824      |       10276 |
|      11 | 0x0002      |           2 |
|      12 | 0x2825      |       10277 |
|      13 | 0x2826      |       10278 |
|      14 | 0x2827      |       10279 |
|      15 | 0x2828      |       10280 |
|      16 | 0x2829      |       10281 |
|      17 | 0x282A      |       10282 |
|      18 | 0x282B      |       10283 |
|      19 | 0x00C9      |         201 |
|      20 | 0x000A      |          10 |
|      21 | 0x0014      |          20 |
|      22 | 0x001E      |          30 |
|      23 | 0x0028      |          40 |
|      24 | 0x0032      |          50 |
|      25 | 0x003C      |          60 |
|      26 | 0x0005      |           5 |
|      27 | 0x0050      |          80 |
|      28 | 0x00EE      |         238 |
|      29 | 0x0236      |         566 |

## String References

- **10272**: Wait! You're one of those adventurers, aren't you? You're supposed to help people out, right? Right?
- **10273**: Can I ask you a favor? Can I? [I guess./I'm pretty busy right now.]
- **10274**: Busy? Then who's going to help me? Who, [man/lady], who? Tell me who!
- **10275**: You're back!
- **10276**: Great! If it wasn't for you, who knows what I'd do. I really need some help. This should be no problem for you. Really, it shouldn't.
- **10277**: You know that the cave you used to get here is called the Sea Serpent Grotto, right? And you already know about those fishy-looking Sahagin that live down there, don't you?
- **10278**: Well, I need you to go and get me something from their hidden vault. That's not too hard, is it? I mean, this is a matter of life or death! Life or death!
- **10279**: Before the Sahagin took over, the pirates here used to use the grotto as a storage area. To protect their treasure from thieves...and themselves, they built numerous hidden doors.
- **10280**: Recently the Sahagin have added tricks and traps to those doors, so you have to watch out. There's no way I could do it myself, but you? You can do it! I know you can!
- **10281**: From what I heard, the treasure vault is not that deep in the grotto. All you have to do is go down there and bring me back something--anything! You're not going to back out on me, are you? Are you?
- **10282**: You're back! You did it! I can't believe it! So, what did you bring me? 6? I heard that the Sahagin worship these things. Pretty good work for a fish, wouldn't you say?
- **10283**: Oh yeah, your reward. Here, take this. What am I going to do with this? That's none of your business!
- **10349**: We deal in all sorts of goods that you won't find in your everyday living room. No sir-ee. Looking at stuff like this reminds me of how diverse this wide, wide world is.

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 83

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 12 bytes |
| Instructions | 6        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1A 0A 01 1A 18 01 1D  00 80 23 21 00            .........#!.   
```

#### Opcodes

```
  0: 0x0001 [0x1A] CALL_SUBROUTINE(address=0x010A)
  1: 0x0004 [0x1A] CALL_SUBROUTINE(address=0x0118)
  2: 0x0007 [0x1D] PRINT_EVENT_MESSAGE(message_id=10349*)
    → "We deal in all sorts of goods that you won't find in your everyday living room. No sir-ee. Looking at stuff like this reminds me of how diverse this wide, wide world is."
  3: 0x000A [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x000B [0x21] END_EVENT
  5: 0x000C [0x00] END_REQSTACK()
```

### Event 33

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x000D    |
| Data Size    | 162 bytes |
| Instructions | 35        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:                                         1A 0A 01               ...
0010: 6E F8 FF FF 7F 01 80 99  F8 FF FF 7F 02 09 10 02  n...............
0020: 80 00 2B 00 1D 03 80 23  01 2F 00 1D 04 80 23 99  ..+....#./....#.
0030: F8 FF FF 7F 24 05 80 06  80 06 80 25 02 00 10 02  ....$......%....
0040: 80 00 5F 00 6E F8 FF FF  7F 07 80 99 F8 FF FF 7F  .._.n...........
0050: 1D 08 80 23 99 F8 FF FF  7F 01 AD 00 01 5F 00 42  ...#........._.B
0060: 03 01 10 02 80 6E F8 FF  FF 7F 09 80 99 F8 FF FF  .....n..........
0070: 7F 1D 0A 80 23 99 F8 FF  FF 7F 66 0B 80 F8 FF FF  ....#.....f.....
0080: 7F F8 FF FF 7F 74 6C 64  30 1D 0C 80 23 1D 0D 80  .....tld0...#...
0090: 23 66 0B 80 F8 FF FF 7F  F8 FF FF 7F 74 6C 64 31  #f..........tld1
00A0: 53 F8 FF FF 7F F8 FF FF  7F 74 6C 64 31 21 00     S........tld1!. 
```

#### Opcodes

```
  0: 0x000D [0x1A] CALL_SUBROUTINE(address=0x010A)
  1: 0x0010 [0x6E] EventEntity uses emote 29*
  2: 0x0017 [0x99] Wait for EventEntity animation to complete
  3: 0x001C [0x02] IF !(Work_Zone[9] == 1*) GOTO 0x002B
  4: 0x0024 [0x1D] PRINT_EVENT_MESSAGE(message_id=10275*)
    → "You're back!"
  5: 0x0027 [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x0028 [0x01] GOTO 0x002F
  7: 0x002B [0x1D] PRINT_EVENT_MESSAGE(message_id=10272*)
    → "Wait! You're one of those adventurers, aren't you? You're supposed to help people out, right? Right?"
  8: 0x002E [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_002F:
  9: 0x002F [0x99] Wait for EventEntity animation to complete
 10: 0x0034 [0x24] CREATE_DIALOG(message_id=10273*, default_option=0*, option_flags=0*)
    → "Can I ask you a favor? Can I? [I guess./I'm pretty busy right now.]"
 11: 0x003B [0x25] WAIT_DIALOG_SELECT()
 12: 0x003C [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x005F
 13: 0x0044 [0x6E] EventEntity uses emote 18*
 14: 0x004B [0x99] Wait for EventEntity animation to complete
 15: 0x0050 [0x1D] PRINT_EVENT_MESSAGE(message_id=10274*)
    → "Busy? Then who's going to help me? Who, [man/lady], who? Tell me who!"
 16: 0x0053 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x0054 [0x99] Wait for EventEntity animation to complete
 18: 0x0059 [0x01] GOTO 0x00AD

SUBROUTINE_005F:
 19: 0x005F [0x42] SET_CLI_EVENT_CANCEL_DATA()
 20: 0x0060 [0x03] Work_Zone[1] = 1*
 21: 0x0065 [0x6E] EventEntity uses emote 11*
 22: 0x006C [0x99] Wait for EventEntity animation to complete
 23: 0x0071 [0x1D] PRINT_EVENT_MESSAGE(message_id=10276*)
    → "Great! If it wasn't for you, who knows what I'd do. I really need some help. This should be no problem for you. Really, it shouldn't."
 24: 0x0074 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x0075 [0x99] Wait for EventEntity animation to complete
 26: 0x007A [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tld0" with entities [EventEntity, EventEntity], work=2*
 27: 0x0089 [0x1D] PRINT_EVENT_MESSAGE(message_id=10277*)
    → "You know that the cave you used to get here is called the Sea Serpent Grotto, right? And you already know about those fishy-looking Sahagin that live down there, don't you?"
 28: 0x008C [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x008D [0x1D] PRINT_EVENT_MESSAGE(message_id=10278*)
    → "Well, I need you to go and get me something from their hidden vault. That's not too hard, is it? I mean, this is a matter of life or death! Life or death!"
 30: 0x0090 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x0091 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tld1" with entities [EventEntity, EventEntity], work=2*
 32: 0x00A0 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tld1" with entities [EventEntity, EventEntity]

SUBROUTINE_00AD:
 33: 0x00AD [0x21] END_EVENT
 34: 0x00AE [0x00] END_REQSTACK()
```

#### Data or dead code:

```
# Dead code (unreachable instructions):
     0x005C [0x01] GOTO 0x005F
```

### Event 34

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00AF   |
| Data Size    | 60 bytes |
| Instructions | 12       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00A0:                                               1A                 .
00B0: 0A 01 66 0B 80 F8 FF FF  7F F8 FF FF 7F 74 6C 64  ..f..........tld
00C0: 30 1D 0E 80 23 1D 0F 80  23 1D 10 80 23 66 0B 80  0...#...#...#f..
00D0: F8 FF FF 7F F8 FF FF 7F  74 6C 64 31 53 F8 FF FF  ........tld1S...
00E0: 7F F8 FF FF 7F 74 6C 64  31 21 00                 .....tld1!.     
```

#### Opcodes

```
  0: 0x00AF [0x1A] CALL_SUBROUTINE(address=0x010A)
  1: 0x00B2 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tld0" with entities [EventEntity, EventEntity], work=2*
  2: 0x00C1 [0x1D] PRINT_EVENT_MESSAGE(message_id=10279*)
    → "Before the Sahagin took over, the pirates here used to use the grotto as a storage area. To protect their treasure from thieves...and themselves, they built numerous hidden doors."
  3: 0x00C4 [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x00C5 [0x1D] PRINT_EVENT_MESSAGE(message_id=10280*)
    → "Recently the Sahagin have added tricks and traps to those doors, so you have to watch out. There's no way I could do it myself, but you? You can do it! I know you can!"
  5: 0x00C8 [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x00C9 [0x1D] PRINT_EVENT_MESSAGE(message_id=10281*)
    → "From what I heard, the treasure vault is not that deep in the grotto. All you have to do is go down there and bring me back something--anything! You're not going to back out on me, are you? Are you?"
  7: 0x00CC [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x00CD [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tld1" with entities [EventEntity, EventEntity], work=2*
  9: 0x00DC [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tld1" with entities [EventEntity, EventEntity]
 10: 0x00E9 [0x21] END_EVENT
 11: 0x00EA [0x00] END_REQSTACK()
```

### Event 35

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x00EB    |
| Data Size    | 253 bytes |
| Instructions | 14        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00E0:                                   42 1A 0A 01 1D             B....
00F0: 11 80 23 1D 12 80 23 45  13 80 F0 FF FF 7F F0 FF  ..#...#E........
0100: FF 7F 71 73 74 63 06 80  21 00 86 00 F8 FF FF 7F  ..qstc..!.......
0110: 1E F0 FF FF 7F 6F 70 1B  66 06 80 F8 FF FF 7F F8  .....op.f.......
0120: FF FF 7F 74 6C 6B 30 1B  66 06 80 F8 FF FF 7F F8  ...tlk0.f.......
0130: FF FF 7F 74 6C 6B 31 1B  66 14 80 F8 FF FF 7F F8  ...tlk1.f.......
0140: FF FF 7F 74 6C 6B 30 1B  66 15 80 F8 FF FF 7F F8  ...tlk0.f.......
0150: FF FF 7F 74 6C 6B 30 1B  66 16 80 F8 FF FF 7F F8  ...tlk0.f.......
0160: FF FF 7F 74 6C 6B 30 1B  66 17 80 F8 FF FF 7F F8  ...tlk0.f.......
0170: FF FF 7F 74 6C 6B 30 1B  66 18 80 F8 FF FF 7F F8  ...tlk0.f.......
0180: FF FF 7F 74 6C 6B 30 1B  66 19 80 F8 FF FF 7F F8  ...tlk0.f.......
0190: FF FF 7F 74 6C 6B 30 1B  5B 1A 80 F8 FF FF 7F F8  ...tlk0.[.......
01A0: FF FF 7F 74 6C 6B 30 1B  5B 1B 80 F8 FF FF 7F F8  ...tlk0.[.......
01B0: FF FF 7F 74 6C 6B 30 1B  5B 1C 80 F8 FF FF 7F F8  ...tlk0.[.......
01C0: FF FF 7F 74 6C 6B 30 1B  5B 1D 80 F8 FF FF 7F F8  ...tlk0.[.......
01D0: FF FF 7F 74 6C 6B 30 1B  5B 19 80 F8 FF FF 7F F8  ...tlk0.[.......
01E0: FF FF 7F 74 6C 62 30 1B                           ...tlb0.        
```

#### Opcodes

```
  0: 0x00EB [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x00EC [0x1A] CALL_SUBROUTINE(address=0x010A)
  2: 0x00EF [0x1D] PRINT_EVENT_MESSAGE(message_id=10282*)
    → "You're back! You did it! I can't believe it! So, what did you bring me? 6? I heard that the Sahagin worship these things. Pretty good work for a fish, wouldn't you say?"
  3: 0x00F2 [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x00F3 [0x1D] PRINT_EVENT_MESSAGE(message_id=10283*)
    → "Oh yeah, your reward. Here, take this. What am I going to do with this? That's none of your business!"
  5: 0x00F6 [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x00F7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
  7: 0x0108 [0x21] END_EVENT
  8: 0x0109 [0x00] END_REQSTACK()

SUBROUTINE_010A:
  9: 0x010A [0x86] EventEntity->Render.Flags3 = Flags3  // No change (flag=0)
 10: 0x0110 [0x1E] EventEntity looks at LocalPlayer and starts talking
 11: 0x0115 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 12: 0x0116 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 13: 0x0117 [0x1B] RETURN
```

#### Data or dead code:

```
# Dead code (unreachable instructions):
     0x0118 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=0*
     0x0127 [0x1B] RETURN
     0x0128 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=0*
     0x0137 [0x1B] RETURN
     0x0138 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=10*
     0x0147 [0x1B] RETURN
     0x0148 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
     0x0157 [0x1B] RETURN
     0x0158 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
     0x0167 [0x1B] RETURN
     0x0168 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=40*
     0x0177 [0x1B] RETURN
     0x0178 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=50*
     0x0187 [0x1B] RETURN
     0x0188 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=60*
     0x0197 [0x1B] RETURN
     0x0198 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=5*
     0x01A7 [0x1B] RETURN
     0x01A8 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=80*
     0x01B7 [0x1B] RETURN
     0x01B8 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=238*
     0x01C7 [0x1B] RETURN
     0x01C8 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=566*
     0x01D7 [0x1B] RETURN
     0x01D8 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlb0" with entities [EventEntity, EventEntity], work=60*
     0x01E7 [0x1B] RETURN
```

### Event 250

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x01E8   |
| Data Size    | 12 bytes |
| Instructions | 3        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
01E0:                          92 01 F8 FF FF 7F 80 F8          ........
01F0: FF FF 7F 00                                       ....            
```

#### Opcodes

```
  0: 0x01E8 [0x92] EventEntity->Render.Flags3 ^= 0x01
  1: 0x01EE [0x80] LOAD_WAIT(entity=EventEntity)
  2: 0x01F3 [0x00] END_REQSTACK()
```

### Event 252

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x01F4   |
| Data Size    | 12 bytes |
| Instructions | 3        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
01F0:             92 01 F8 FF  FF 7F 80 F8 FF FF 7F 00      ............
```

#### Opcodes

```
  0: 0x01F4 [0x92] EventEntity->Render.Flags3 ^= 0x01
  1: 0x01FA [0x80] LOAD_WAIT(entity=EventEntity)
  2: 0x01FF [0x00] END_REQSTACK()
```

### Event 254

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0200   |
| Data Size    | 12 bytes |
| Instructions | 3        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0200: 92 01 F8 FF FF 7F 80 F8  FF FF 7F 00              ............    
```

#### Opcodes

```
  0: 0x0200 [0x92] EventEntity->Render.Flags3 ^= 0x01
  1: 0x0206 [0x80] LOAD_WAIT(entity=EventEntity)
  2: 0x020B [0x00] END_REQSTACK()
```

### Event 258

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x020C   |
| Data Size    | 12 bytes |
| Instructions | 3        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0200:                                      92 01 F8 FF              ....
0210: FF 7F 80 F8 FF FF 7F 00                           ........        
```

#### Opcodes

```
  0: 0x020C [0x92] EventEntity->Render.Flags3 ^= 0x01
  1: 0x0212 [0x80] LOAD_WAIT(entity=EventEntity)
  2: 0x0217 [0x00] END_REQSTACK()
```

### Event 260

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0218   |
| Data Size    | 12 bytes |
| Instructions | 3        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0210:                          92 01 F8 FF FF 7F 80 F8          ........
0220: FF FF 7F 00                                       ....            
```

#### Opcodes

```
  0: 0x0218 [0x92] EventEntity->Render.Flags3 ^= 0x01
  1: 0x021E [0x80] LOAD_WAIT(entity=EventEntity)
  2: 0x0223 [0x00] END_REQSTACK()
```
