# 17809418 - Heillal

## Common Data

| Field            | Value          |
|------------------|----------------|
| Zone             | Norg (ID: 252) |
| Block Size       | 332 bytes      |
| Total Events     | 3              |
| References Count | 14             |

## List of Events

| Event ID              | Entrypoint   |   Size |   Instructions |
|-----------------------|--------------|--------|----------------|
| [65535](#event-65535) | 0x0000       |      1 |              1 |
| [64](#event-64)       | 0x0001       |     16 |              8 |
| [281](#event-281)     | 0x0011       |    231 |             36 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x2868      |       10344 |
|       1 | 0x2869      |       10345 |
|       2 | 0x3033      |       12339 |
|       3 | 0x0000      |           0 |
|       4 | 0x000A      |          10 |
|       5 | 0x0014      |          20 |
|       6 | 0x001E      |          30 |
|       7 | 0x0028      |          40 |
|       8 | 0x0032      |          50 |
|       9 | 0x003C      |          60 |
|      10 | 0x0005      |           5 |
|      11 | 0x0050      |          80 |
|      12 | 0x00EE      |         238 |
|      13 | 0x0236      |         566 |

## String References

- **10344**: For guys like us that live on the sea, you adventurers sure come in handy. You're our only source of info from the mainland.
- **10345**: But once you head out into the wide open sea...now that's our territory. If we get your ship in our sights, there's no escapin'. We may be friends today, but who knows about tomorrow?
- **12339**: Go right on in. The boss is waitin' for ya.

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 64

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 16 bytes |
| Instructions | 8        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1A 1A 00 1A 28 00 1D  00 80 23 1D 01 80 23 21   ....(....#...#!
0010: 00                                                .               
```

#### Opcodes

```
  0: 0x0001 [0x1A] CALL_SUBROUTINE(address=0x001A)
  1: 0x0004 [0x1A] CALL_SUBROUTINE(address=0x0028)
  2: 0x0007 [0x1D] PRINT_EVENT_MESSAGE(message_id=10344*)
    → "For guys like us that live on the sea, you adventurers sure come in handy. You're our only source of info from the mainland."
  3: 0x000A [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x000B [0x1D] PRINT_EVENT_MESSAGE(message_id=10345*)
    → "But once you head out into the wide open sea...now that's our territory. If we get your ship in our sights, there's no escapin'. We may be friends today, but who knows about tomorrow?"
  5: 0x000E [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x000F [0x21] END_EVENT
  7: 0x0010 [0x00] END_REQSTACK()
```

### Event 281

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x0011    |
| Data Size    | 231 bytes |
| Instructions | 10        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0010:    1A 1A 00 1D 02 80 23  21 00 86 00 F8 FF FF 7F   ......#!.......
0020: 1E F0 FF FF 7F 6F 70 1B  66 03 80 F8 FF FF 7F F8  .....op.f.......
0030: FF FF 7F 74 6C 6B 30 1B  66 03 80 F8 FF FF 7F F8  ...tlk0.f.......
0040: FF FF 7F 74 6C 6B 31 1B  66 04 80 F8 FF FF 7F F8  ...tlk1.f.......
0050: FF FF 7F 74 6C 6B 30 1B  66 05 80 F8 FF FF 7F F8  ...tlk0.f.......
0060: FF FF 7F 74 6C 6B 30 1B  66 06 80 F8 FF FF 7F F8  ...tlk0.f.......
0070: FF FF 7F 74 6C 6B 30 1B  66 07 80 F8 FF FF 7F F8  ...tlk0.f.......
0080: FF FF 7F 74 6C 6B 30 1B  66 08 80 F8 FF FF 7F F8  ...tlk0.f.......
0090: FF FF 7F 74 6C 6B 30 1B  66 09 80 F8 FF FF 7F F8  ...tlk0.f.......
00A0: FF FF 7F 74 6C 6B 30 1B  5B 0A 80 F8 FF FF 7F F8  ...tlk0.[.......
00B0: FF FF 7F 74 6C 6B 30 1B  5B 0B 80 F8 FF FF 7F F8  ...tlk0.[.......
00C0: FF FF 7F 74 6C 6B 30 1B  5B 0C 80 F8 FF FF 7F F8  ...tlk0.[.......
00D0: FF FF 7F 74 6C 6B 30 1B  5B 0D 80 F8 FF FF 7F F8  ...tlk0.[.......
00E0: FF FF 7F 74 6C 6B 30 1B  5B 09 80 F8 FF FF 7F F8  ...tlk0.[.......
00F0: FF FF 7F 74 6C 62 30 1B                           ...tlb0.        
```

#### Opcodes

```
  0: 0x0011 [0x1A] CALL_SUBROUTINE(address=0x001A)
  1: 0x0014 [0x1D] PRINT_EVENT_MESSAGE(message_id=12339*)
    → "Go right on in. The boss is waitin' for ya."
  2: 0x0017 [0x23] WAIT_FOR_DIALOG_INTERACTION
  3: 0x0018 [0x21] END_EVENT
  4: 0x0019 [0x00] END_REQSTACK()

SUBROUTINE_001A:
  5: 0x001A [0x86] EventEntity->Render.Flags3 = Flags3  // No change (flag=0)
  6: 0x0020 [0x1E] EventEntity looks at LocalPlayer and starts talking
  7: 0x0025 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  8: 0x0026 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  9: 0x0027 [0x1B] RETURN
```

#### Data or dead code:

```
# Dead code (unreachable instructions):
     0x0028 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=0*
     0x0037 [0x1B] RETURN
     0x0038 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=0*
     0x0047 [0x1B] RETURN
     0x0048 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=10*
     0x0057 [0x1B] RETURN
     0x0058 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
     0x0067 [0x1B] RETURN
     0x0068 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
     0x0077 [0x1B] RETURN
     0x0078 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=40*
     0x0087 [0x1B] RETURN
     0x0088 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=50*
     0x0097 [0x1B] RETURN
     0x0098 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=60*
     0x00A7 [0x1B] RETURN
     0x00A8 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=5*
     0x00B7 [0x1B] RETURN
     0x00B8 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=80*
     0x00C7 [0x1B] RETURN
     0x00C8 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=238*
     0x00D7 [0x1B] RETURN
     0x00D8 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=566*
     0x00E7 [0x1B] RETURN
     0x00E8 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlb0" with entities [EventEntity, EventEntity], work=60*
     0x00F7 [0x1B] RETURN
```
