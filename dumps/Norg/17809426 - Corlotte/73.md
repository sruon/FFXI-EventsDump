# Event 73

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 308 bytes |
| Calculated Size | 308 bytes |
| Instructions    | 23        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1A 57 00 66 00 80 F8  FF FF 7F F8 FF FF 7F 64   .W.f..........d
0010: 69 73 30 1D 01 80 23 7B  F8 FF FF 7F 4B F8 FF FF  is0...#{....K...
0020: 7F 02 80 6F 76 F8 FF FF  7F 66 00 80 F8 FF FF 7F  ...ov....f......
0030: F8 FF FF 7F 70 6F 69 30  1D 03 80 23 66 00 80 F8  ....poi0...#f...
0040: FF FF 7F F8 FF FF 7F 70  6F 69 31 1C 04 80 1A 57  .......poi1....W
0050: 00 1D 05 80 23 21 00 86  00 F8 FF FF 7F 1E F0 FF  ....#!..........
0060: FF 7F 6F 70 1B 66 06 80  F8 FF FF 7F F8 FF FF 7F  ..op.f..........
0070: 74 6C 6B 30 1B 66 06 80  F8 FF FF 7F F8 FF FF 7F  tlk0.f..........
0080: 74 6C 6B 31 1B 66 07 80  F8 FF FF 7F F8 FF FF 7F  tlk1.f..........
0090: 74 6C 6B 30 1B 66 08 80  F8 FF FF 7F F8 FF FF 7F  tlk0.f..........
00A0: 74 6C 6B 30 1B 66 00 80  F8 FF FF 7F F8 FF FF 7F  tlk0.f..........
00B0: 74 6C 6B 30 1B 66 09 80  F8 FF FF 7F F8 FF FF 7F  tlk0.f..........
00C0: 74 6C 6B 30 1B 66 0A 80  F8 FF FF 7F F8 FF FF 7F  tlk0.f..........
00D0: 74 6C 6B 30 1B 66 0B 80  F8 FF FF 7F F8 FF FF 7F  tlk0.f..........
00E0: 74 6C 6B 30 1B 5B 0C 80  F8 FF FF 7F F8 FF FF 7F  tlk0.[..........
00F0: 74 6C 6B 30 1B 5B 0D 80  F8 FF FF 7F F8 FF FF 7F  tlk0.[..........
0100: 74 6C 6B 30 1B 5B 0E 80  F8 FF FF 7F F8 FF FF 7F  tlk0.[..........
0110: 74 6C 6B 30 1B 5B 0F 80  F8 FF FF 7F F8 FF FF 7F  tlk0.[..........
0120: 74 6C 6B 30 1B 5B 0B 80  F8 FF FF 7F F8 FF FF 7F  tlk0.[..........
0130: 74 6C 62 30 1B                                    tlb0.           
```

## Opcodes

```
  0: 0x0001 [0x1A] CALL_SUBROUTINE(address=0x0057)
  1: 0x0004 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "dis0" with entities [EventEntity, EventEntity], work=30*
  2: 0x0013 [0x1D] PRINT_EVENT_MESSAGE(message_id=10323*)
    → "You're lookin' for a Rent-a-Room, are ya? What? You miss your bed in yer homeland, eh? Poor adventurer! Ya have any tissue? I can't stop crying.\u007F1\u0000\u0007"
  3: 0x0016 [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x0017 [0x7B] EventEntity stops talking
  5: 0x001C [0x4B] UPDATE_ENTITY_YAW(entity=EventEntity, yaw=14.53°*)
  6: 0x0023 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  7: 0x0024 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until EventEntity Render.Flags0 and Render.Flags3 conditions are met
  8: 0x0029 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "poi0" with entities [EventEntity, EventEntity], work=30*
  9: 0x0038 [0x1D] PRINT_EVENT_MESSAGE(message_id=10324*)
    → "Go down those stairs and turn right. Head through that cave and you'll find the auction house.\u007F1\u0000\u0007"
 10: 0x003B [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x003C [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "poi1" with entities [EventEntity, EventEntity], work=30*
 12: 0x004B [0x1C] WAIT(45* ticks)
 13: 0x004E [0x1A] CALL_SUBROUTINE(address=0x0057)
 14: 0x0051 [0x1D] PRINT_EVENT_MESSAGE(message_id=10325*)
    → "In front of the auction house you'll find some moogles. Ya can cuddle up with one of those if yer afraid of the dark.\u007F1\u0000\u0007"
 15: 0x0054 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x0055 [0x21] END_EVENT
 17: 0x0056 [0x00] END_REQSTACK()

SUBROUTINE_0057:
 18: 0x0057 [0x86] EventEntity->Render.Flags3 = Flags3  // No change (flag=0)
 19: 0x005D [0x1E] EventEntity looks at LocalPlayer and starts talking
 20: 0x0062 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 21: 0x0063 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 22: 0x0064 [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0065 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=0*
     0x0074 [0x1B] RETURN
     0x0075 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=0*
     0x0084 [0x1B] RETURN
     0x0085 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=10*
     0x0094 [0x1B] RETURN
     0x0095 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
     0x00A4 [0x1B] RETURN
     0x00A5 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
     0x00B4 [0x1B] RETURN
     0x00B5 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=40*
     0x00C4 [0x1B] RETURN
     0x00C5 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=50*
     0x00D4 [0x1B] RETURN
     0x00D5 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=60*
     0x00E4 [0x1B] RETURN
     0x00E5 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=5*
     0x00F4 [0x1B] RETURN
     0x00F5 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=80*
     0x0104 [0x1B] RETURN
     0x0105 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=238*
     0x0114 [0x1B] RETURN
     0x0115 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=566*
     0x0124 [0x1B] RETURN
     0x0125 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlb0" with entities [EventEntity, EventEntity], work=60*
     0x0134 [0x1B] RETURN
```