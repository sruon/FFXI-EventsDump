# Event 77

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 297 bytes |
| Calculated Size | 297 bytes |
| Instructions    | 24        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1A 4C 00 1A 5A 00 1D  00 80 23 1D 01 80 23 66   .L..Z....#...#f
0010: 02 80 F8 FF FF 7F F8 FF  FF 7F 74 65 6E 30 1D 03  ..........ten0..
0020: 80 23 66 02 80 F8 FF FF  7F F8 FF FF 7F 74 68 6B  .#f..........thk
0030: 31 1C 04 80 1D 05 80 23  66 02 80 F8 FF FF 7F F8  1......#f.......
0040: FF FF 7F 74 68 6B 32 1C  04 80 21 00 86 00 F8 FF  ...thk2...!.....
0050: FF 7F 1E F0 FF FF 7F 6F  70 1B 66 02 80 F8 FF FF  .......op.f.....
0060: 7F F8 FF FF 7F 74 6C 6B  30 1B 66 02 80 F8 FF FF  .....tlk0.f.....
0070: 7F F8 FF FF 7F 74 6C 6B  31 1B 66 06 80 F8 FF FF  .....tlk1.f.....
0080: 7F F8 FF FF 7F 74 6C 6B  30 1B 66 07 80 F8 FF FF  .....tlk0.f.....
0090: 7F F8 FF FF 7F 74 6C 6B  30 1B 66 08 80 F8 FF FF  .....tlk0.f.....
00A0: 7F F8 FF FF 7F 74 6C 6B  30 1B 66 09 80 F8 FF FF  .....tlk0.f.....
00B0: 7F F8 FF FF 7F 74 6C 6B  30 1B 66 0A 80 F8 FF FF  .....tlk0.f.....
00C0: 7F F8 FF FF 7F 74 6C 6B  30 1B 66 0B 80 F8 FF FF  .....tlk0.f.....
00D0: 7F F8 FF FF 7F 74 6C 6B  30 1B 5B 0C 80 F8 FF FF  .....tlk0.[.....
00E0: 7F F8 FF FF 7F 74 6C 6B  30 1B 5B 0D 80 F8 FF FF  .....tlk0.[.....
00F0: 7F F8 FF FF 7F 74 6C 6B  30 1B 5B 0E 80 F8 FF FF  .....tlk0.[.....
0100: 7F F8 FF FF 7F 74 6C 6B  30 1B 5B 0F 80 F8 FF FF  .....tlk0.[.....
0110: 7F F8 FF FF 7F 74 6C 6B  30 1B 5B 0B 80 F8 FF FF  .....tlk0.[.....
0120: 7F F8 FF FF 7F 74 6C 62  30 1B                    .....tlb0.      
```

## Opcodes

```
  0: 0x0001 [0x1A] CALL_SUBROUTINE(address=0x004C)
  1: 0x0004 [0x1A] CALL_SUBROUTINE(address=0x005A)
  2: 0x0007 [0x1D] PRINT_EVENT_MESSAGE(message_id=10317*)
    → "That guy Rafid over there was the only survivor after a sea monster attacked his ship.\u007F1\u0000\u0007"
  3: 0x000A [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x000B [0x1D] PRINT_EVENT_MESSAGE(message_id=10318*)
    → "One of our ships found him floating in the water and brought him back here. He is lucky to be alive, but he has lost his memory.\u007F1\u0000\u0007"
  5: 0x000E [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x000F [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "ten0" with entities [EventEntity, EventEntity], work=0*
  7: 0x001E [0x1D] PRINT_EVENT_MESSAGE(message_id=10319*)
    → "Though even with the loss, he hasn't forgot the tricks of his trade. He's one of the best workers we have here.\u007F1\u0000\u0007"
  8: 0x0021 [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x0022 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk1" with entities [EventEntity, EventEntity], work=0*
 10: 0x0031 [0x1C] WAIT(45* ticks)
 11: 0x0034 [0x1D] PRINT_EVENT_MESSAGE(message_id=10320*)
    → "Get his memory back? I'd like to see that as much as the next guy. If only there was some way...\u007F1\u0000\u0007"
 12: 0x0037 [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x0038 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "thk2" with entities [EventEntity, EventEntity], work=0*
 14: 0x0047 [0x1C] WAIT(45* ticks)
 15: 0x004A [0x21] END_EVENT
 16: 0x004B [0x00] END_REQSTACK()

SUBROUTINE_004C:
 17: 0x004C [0x86] EventEntity->Render.Flags3 = Flags3  // No change (flag=0)
 18: 0x0052 [0x1E] EventEntity looks at LocalPlayer and starts talking
 19: 0x0057 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 20: 0x0058 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 21: 0x0059 [0x1B] RETURN

SUBROUTINE_005A:
 22: 0x005A [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=0*
 23: 0x0069 [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x006A [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk1" with entities [EventEntity, EventEntity], work=0*
     0x0079 [0x1B] RETURN
     0x007A [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=10*
     0x0089 [0x1B] RETURN
     0x008A [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=20*
     0x0099 [0x1B] RETURN
     0x009A [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=30*
     0x00A9 [0x1B] RETURN
     0x00AA [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=40*
     0x00B9 [0x1B] RETURN
     0x00BA [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=50*
     0x00C9 [0x1B] RETURN
     0x00CA [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=60*
     0x00D9 [0x1B] RETURN
     0x00DA [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=5*
     0x00E9 [0x1B] RETURN
     0x00EA [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=80*
     0x00F9 [0x1B] RETURN
     0x00FA [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=238*
     0x0109 [0x1B] RETURN
     0x010A [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=566*
     0x0119 [0x1B] RETURN
     0x011A [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlb0" with entities [EventEntity, EventEntity], work=60*
     0x0129 [0x1B] RETURN
```