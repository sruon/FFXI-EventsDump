# Event 237

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/7       |
| Offset          | 0x0001    |
| Data Size       | 276 bytes |
| Calculated Size | 276 bytes |
| Instructions    | 79        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    03 00 00 02 10 03 01  00 03 10 03 02 00 04 10   ...............
0010: 03 03 00 05 10 03 04 00  06 10 03 05 00 07 10 03  ................
0020: 06 00 08 10 03 07 00 09  10 1E F0 FF FF 7F 6F 70  ..............op
0030: 02 00 00 00 80 00 43 00  1D 01 80 23 1D 02 80 23  ......C....#...#
0040: 01 47 00 1D 03 80 23 24  04 80 00 80 00 80 25 02  .G....#$......%.
0050: 00 10 00 80 00 FA 00 03  01 10 05 80 43 00 43 01  ............C.C.
0060: 03 00 00 02 10 02 00 00  00 80 00 75 00 1D 06 80  ...........u....
0070: 23 1D 07 80 23 03 01 10  08 80 43 00 43 01 1D 09  #...#.....C.C...
0080: 80 23 03 01 10 08 80 43  00 43 01 1D 0A 80 23 03  .#.....C.C....#.
0090: 01 10 0B 80 43 00 43 01  1D 0C 80 23 03 01 10 0D  ....C.C....#....
00A0: 80 43 00 43 01 02 02 10  00 80 00 E5 00 1D 0E 80  .C.C............
00B0: 23 24 0F 80 0B 80 00 80  25 02 00 10 00 80 00 D2  #$......%.......
00C0: 00 03 01 10 10 80 43 00  43 01 03 01 10 00 80 01  ......C.C.......
00D0: E2 00 02 00 10 0B 80 00  E2 00 03 01 10 00 80 01  ................
00E0: E2 00 01 F7 00 03 01 10  08 80 43 00 43 01 1D 11  ..........C.C...
00F0: 80 23 03 01 10 00 80 01  0E 01 02 00 10 0B 80 00  .#..............
0100: 0E 01 1D 12 80 23 03 01  10 00 80 01 0E 01 5E 69  .....#........^i
0110: 64 6C 30 21 00                                    dl0!.           
```

## Opcodes

```
  0: 0x0001 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  1: 0x0006 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[3]
  2: 0x000B [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[4]
  3: 0x0010 [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[5]
  4: 0x0015 [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[6]
  5: 0x001A [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[7]
  6: 0x001F [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[8]
  7: 0x0024 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[9]
  8: 0x0029 [0x1E] EventEntity looks at LocalPlayer and starts talking
  9: 0x002E [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 10: 0x002F [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 11: 0x0030 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x0043
 12: 0x0038 [0x1D] PRINT_EVENT_MESSAGE(message_id=9958*)
    → "You... Yes, the description fits.\u0007I daresay, you're the one \u00072she\u00073 sent, yes?\u007F1\u0000\u0007"
 13: 0x003B [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x003C [0x1D] PRINT_EVENT_MESSAGE(message_id=9960*)
    → "At my client's behest, I have procured the item you require. But alas, doing so drained far more of my time and resources than had been reckoned. As recompense for having exerted undue effort, I would ask a favor of you. Do as I say, and you may consider the item yours.\u007F1\u0000\u0007"
 15: 0x003F [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x0040 [0x01] GOTO 0x0047
 17: 0x0043 [0x1D] PRINT_EVENT_MESSAGE(message_id=9959*)
    → "Can I count on you to aid my investigation once more?\u007F1\u0000\u0007"
 18: 0x0046 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_0047:
 19: 0x0047 [0x24] CREATE_DIALOG(message_id=9961*, default_option=0*, option_flags=0*)
    → "Do as he says?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 20: 0x004E [0x25] WAIT_DIALOG_SELECT()
 21: 0x004F [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00FA
 22: 0x0057 [0x03] Work_Zone[1] = 2*
 23: 0x005C [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 24: 0x005E [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 25: 0x0060 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
 26: 0x0065 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x0075
 27: 0x006D [0x1D] PRINT_EVENT_MESSAGE(message_id=9962*)
    → " Very good. I knew I could count on us being on the same page.\u0007 Now then, without further ado, I shall explain the task to you. It truly is simple.\u007F1\u0000\u0007"
 28: 0x0070 [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x0071 [0x1D] PRINT_EVENT_MESSAGE(message_id=9963*)
    → "You are to investigate a number of creatures dwelling within the Sea Serpent Grotto in my stead.\u007F1\u0000\u0007"
 30: 0x0074 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x0075 [0x03] Work_Zone[1] = 4*
 32: 0x007A [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 33: 0x007C [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 34: 0x007E [0x1D] PRINT_EVENT_MESSAGE(message_id=9964*)
    → "Should you not possess \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000 and \u0001\u0005%\u0002\u0001\u0000\u0000, I can furnish you with both for a nominal fee of 800 gil.\u007F1\u0000\u0007"
 35: 0x0081 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x0082 [0x03] Work_Zone[1] = 4*
 37: 0x0087 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 38: 0x0089 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 39: 0x008B [0x1D] PRINT_EVENT_MESSAGE(message_id=9965*)
    → "Using the \u0001\u0005#\u0002\u0000\u0000\u0000 will turn \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000 into \u0001\u0001\u0001 \u0001\u0005$\u0002\u0002\u0000\u0000--a visual record of the subject's physical characteristics.\u007F1\u0000\u0007"
 40: 0x008E [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x008F [0x03] Work_Zone[1] = 1*
 42: 0x0094 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 43: 0x0096 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 44: 0x0098 [0x1D] PRINT_EVENT_MESSAGE(message_id=9966*)
    → "I'm currently investigating the \u001C\u0000, the \u001C\u0001, and the \u001C\u0002.\u007F1\u0000\u0007"
 45: 0x009B [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x009C [0x03] Work_Zone[1] = 6*
 47: 0x00A1 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 48: 0x00A3 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 49: 0x00A5 [0x02] IF !(Work_Zone[2] == 0*) GOTO 0x00E5
 50: 0x00AD [0x1D] PRINT_EVENT_MESSAGE(message_id=9971*)
    → "Do you require \u0001\u0001\u0001 \u0001\u0005$\u0002\u0001\u0000\u0000 and \u0001\u0005%\u0002\u0002\u0000\u0000?\u0007I can provide you with both for a nominal fee of 800 gil.\u007F1\u0000\u0007"
 51: 0x00B0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x00B1 [0x24] CREATE_DIALOG(message_id=9972*, default_option=1*, option_flags=0*)
    → "Buy for 800 gil? (You have 
\u0003)\u0007\u000BYes, please.\u0007No, thank you.\u007F1\u0000\u0007"
 53: 0x00B8 [0x25] WAIT_DIALOG_SELECT()
 54: 0x00B9 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00D2
 55: 0x00C1 [0x03] Work_Zone[1] = 5*
 56: 0x00C6 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 57: 0x00C8 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 58: 0x00CA [0x03] Work_Zone[1] = 0*
 59: 0x00CF [0x01] GOTO 0x00E2
 60: 0x00D2 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00E2
 61: 0x00DA [0x03] Work_Zone[1] = 0*
 62: 0x00DF [0x01] GOTO 0x00E2

SUBROUTINE_00E2:
 63: 0x00E2 [0x01] GOTO 0x00F7
 64: 0x00E5 [0x03] Work_Zone[1] = 4*
 65: 0x00EA [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 66: 0x00EC [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 67: 0x00EE [0x1D] PRINT_EVENT_MESSAGE(message_id=9973*)
    → "Should you not possess \u0001\u0001\u0001 \u0001\u0005$\u0002\u0000\u0000\u0000 and \u0001\u0005%\u0002\u0001\u0000\u0000, I can furnish you with both for a nominal fee.\u0007I've recently depleted my stores, however, so you will have to wait until the next shipment arrives.\u007F1\u0000\u0007"
 68: 0x00F1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 69: 0x00F2 [0x03] Work_Zone[1] = 0*

SUBROUTINE_00F7:
 70: 0x00F7 [0x01] GOTO 0x010E
 71: 0x00FA [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x010E
 72: 0x0102 [0x1D] PRINT_EVENT_MESSAGE(message_id=9968*)
    → "That is most disappointing...\u0007\u00072She\u00073 would not be pleased to hear of this.\u007F1\u0000\u0007"
 73: 0x0105 [0x23] WAIT_FOR_DIALOG_INTERACTION
 74: 0x0106 [0x03] Work_Zone[1] = 0*
 75: 0x010B [0x01] GOTO 0x010E

SUBROUTINE_010E:
 76: 0x010E [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 77: 0x0113 [0x21] END_EVENT
 78: 0x0114 [0x00] END_REQSTACK()
```
