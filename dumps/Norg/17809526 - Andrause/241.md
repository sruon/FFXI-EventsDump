# Event 241

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 6/7       |
| Offset          | 0x01C5    |
| Data Size       | 229 bytes |
| Calculated Size | 229 bytes |
| Instructions    | 59        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
01C0:                42 1E F0  FF FF 7F 6F 70 03 01 10       B.....op...
01D0: 19 80 43 00 43 01 03 00  00 02 10 02 00 00 00 80  ..C.C...........
01E0: 00 E7 01 1D 1A 80 23 03  01 10 1B 80 43 00 43 01  ......#.....C.C.
01F0: 03 01 00 03 10 02 01 00  0B 80 80 0D 02 1D 1C 80  ................
0200: 23 1D 1D 80 23 03 01 10  1E 80 01 A7 02 02 01 00  #...#...........
0210: 05 80 80 5A 02 1D 1F 80  23 03 01 10 15 80 43 00  ...Z....#.....C.
0220: 43 01 03 00 00 02 10 02  00 00 0B 80 80 37 02 03  C............7..
0230: 01 10 20 80 01 57 02 02  00 00 05 80 80 47 02 03  .. ..W.......G..
0240: 01 10 21 80 01 57 02 02  00 00 15 80 80 57 02 03  ..!..W.......W..
0250: 01 10 22 80 01 57 02 01  A7 02 02 01 00 15 80 80  .."..W..........
0260: A7 02 1D 23 80 23 03 01  10 15 80 43 00 43 01 03  ...#.#.....C.C..
0270: 00 00 02 10 02 00 00 0B  80 80 84 02 03 01 10 20  ............... 
0280: 80 01 A4 02 02 00 00 05  80 80 94 02 03 01 10 21  ...............!
0290: 80 01 A4 02 02 00 00 15  80 80 A4 02 03 01 10 22  ..............."
02A0: 80 01 A4 02 01 A7 02 2E  21 00                    ........!.      
```

## Opcodes

```
  0: 0x01C5 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x01C6 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x01CB [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x01CC [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x01CD [0x03] Work_Zone[1] = 7*
  5: 0x01D2 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
  6: 0x01D4 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
  7: 0x01D6 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  8: 0x01DB [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x01E7
  9: 0x01E3 [0x1D] PRINT_EVENT_MESSAGE(message_id=9969*)
    → "Ah, yes...\u007F1\u0000\u0007"
 10: 0x01E6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 11: 0x01E7 [0x03] Work_Zone[1] = 8*
 12: 0x01EC [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 13: 0x01EE [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 14: 0x01F0 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[3]
 15: 0x01F5 [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x020D
 16: 0x01FD [0x1D] PRINT_EVENT_MESSAGE(message_id=9976*)
    → "I've eagerly awaited your return.\u0007With this image of the \u001C\u0000, I hold your task fulfilled.\u007F1\u0000\u0007"
 17: 0x0200 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x0201 [0x1D] PRINT_EVENT_MESSAGE(message_id=9977*)
    → "As promised, I relinquish this to you.\u0007Should another be required, you shall find me here.\u007F1\u0000\u0007"
 19: 0x0204 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x0205 [0x03] Work_Zone[1] = 13*
 21: 0x020A [0x01] GOTO 0x02A7
 22: 0x020D [0x02] IF !(ExtData[1]->WorkLocal[1] == 2*) GOTO 0x025A
 23: 0x0215 [0x1D] PRINT_EVENT_MESSAGE(message_id=9975*)
    → "Ah, a positively imposing image of the \u001C\u0000!\u0007All that remains, then, is one of the \u001C\u0001.\u007F1\u0000\u0007"
 24: 0x0218 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x0219 [0x03] Work_Zone[1] = 3*
 26: 0x021E [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 27: 0x0220 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 28: 0x0222 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
 29: 0x0227 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x0237
 30: 0x022F [0x03] Work_Zone[1] = 10*
 31: 0x0234 [0x01] GOTO 0x0257
 32: 0x0237 [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x0247
 33: 0x023F [0x03] Work_Zone[1] = 11*
 34: 0x0244 [0x01] GOTO 0x0257
 35: 0x0247 [0x02] IF !(ExtData[1]->WorkLocal[0] == 3*) GOTO 0x0257
 36: 0x024F [0x03] Work_Zone[1] = 12*
 37: 0x0254 [0x01] GOTO 0x0257

SUBROUTINE_0257:
 38: 0x0257 [0x01] GOTO 0x02A7
 39: 0x025A [0x02] IF !(ExtData[1]->WorkLocal[1] == 3*) GOTO 0x02A7
 40: 0x0262 [0x1D] PRINT_EVENT_MESSAGE(message_id=9970*)
    → "A truly menacing image of the \u001C\u0000!\u0007All that remains, then, is one each of the \u001C\u0001 and the \u001C\u0002.\u007F1\u0000\u0007"
 41: 0x0265 [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x0266 [0x03] Work_Zone[1] = 3*
 43: 0x026B [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 44: 0x026D [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 45: 0x026F [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
 46: 0x0274 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x0284
 47: 0x027C [0x03] Work_Zone[1] = 10*
 48: 0x0281 [0x01] GOTO 0x02A4
 49: 0x0284 [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x0294
 50: 0x028C [0x03] Work_Zone[1] = 11*
 51: 0x0291 [0x01] GOTO 0x02A4
 52: 0x0294 [0x02] IF !(ExtData[1]->WorkLocal[0] == 3*) GOTO 0x02A4
 53: 0x029C [0x03] Work_Zone[1] = 12*
 54: 0x02A1 [0x01] GOTO 0x02A4

SUBROUTINE_02A4:
 55: 0x02A4 [0x01] GOTO 0x02A7

SUBROUTINE_02A7:
 56: 0x02A7 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
 57: 0x02A8 [0x21] END_EVENT
 58: 0x02A9 [0x00] END_REQSTACK()
```
