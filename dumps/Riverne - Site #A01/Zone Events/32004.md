# Event 32004

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 7/57      |
| Offset          | 0x0FF0    |
| Data Size       | 975 bytes |
| Calculated Size | 975 bytes |
| Instructions    | 2         |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0FF0: 21 00 24 0C 80 05 80 00  80 25 02 00 10 00 80 00  !.$......%......
1000: 08 10 05 01 00 01 08 10  1B 79 00 F0 FF FF 7F F0  .........y......
1010: FF FF 7F 42 46 01 37 90  80 91 80 92 80 93 80 45  ...BF.7........E
1020: 94 80 F0 FF FF 7F F0 FF  FF 7F 62 61 63 6B 00 80  ..........back..
1030: 1C 1B 80 45 0E 80 F0 FF  FF 7F F0 FF FF 7F 66 64  ...E..........fd
1040: 69 31 00 80 9F 95 80 F8  FF FF 7F F8 FF FF 7F 6D  i1.............m
1050: 61 69 6E 00 80 1C 2E 80  92 01 F0 FF FF 7F 45 0E  ain...........E.
1060: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 32 00 80 55  .........fdo2..U
1070: 0E 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 32 92 00  ..........fdo2..
1080: F0 FF FF 7F 02 03 00 00  80 80 8F 10 01 8F 10 45  ...............E
1090: 0E 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 32 00 80  ..........fdo2..
10A0: 55 0E 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 32 78  U..........fdo2x
10B0: 92 01 F0 FF FF 7F 6C F0  FF FF 7F 00 80 00 80 4E  ......l........N
10C0: 00 F0 FF FF 7F 02 00 00  05 80 80 D9 10 37 96 80  .............7..
10D0: 97 80 98 80 99 80 01 15  11 02 00 00 09 80 80 ED  ................
10E0: 10 37 00 80 00 80 00 80  00 80 01 15 11 02 00 00  .7..............
10F0: 0A 80 80 01 11 37 00 80  00 80 00 80 00 80 01 15  .....7..........
1100: 11 02 00 00 0B 80 80 15  11 37 00 80 00 80 00 80  .........7......
1110: 00 80 01 15 11 45 94 80  F0 FF FF 7F F0 FF FF 7F  .....E..........
1120: 62 61 63 6B 00 80 1C 1B  80 45 0E 80 F0 FF FF 7F  back.....E......
1130: F0 FF FF 7F 66 64 69 31  00 80 55 0E 80 F0 FF FF  ....fdi1..U.....
1140: 7F F0 FF FF 7F 66 64 69  31 9F 9A 80 F8 FF FF 7F  .....fdi1.......
1150: F8 FF FF 7F 6D 61 69 6E  00 80 1C 9B 80 92 00 F0  ....main........
1160: FF FF 7F 46 00 1B 46 01  1A 6C 11 1B 45 0E 80 F0  ...F..F..l..E...
1170: FF FF 7F F0 FF FF 7F 66  64 6F 32 00 80 55 0E 80  .......fdo2..U..
1180: F0 FF FF 7F F0 FF FF 7F  66 64 6F 32 92 01 F0 FF  ........fdo2....
1190: FF 7F 37 4C 80 4D 80 4E  80 4F 80 45 94 80 F0 FF  ..7L.M.N.O.E....
11A0: FF 7F F0 FF FF 7F 62 61  63 6B 00 80 6C F0 FF FF  ......back..l...
11B0: 7F 00 80 00 80 1C 1B 80  45 0E 80 F0 FF FF 7F F0  ........E.......
11C0: FF FF 7F 66 64 69 31 00  80 55 0E 80 F0 FF FF 7F  ...fdi1..U......
11D0: F0 FF FF 7F 66 64 69 31  9F 9A 80 F8 FF FF 7F F8  ....fdi1........
11E0: FF FF 7F 6D 61 69 6E 00  80 1C 9B 80 46 00 1B 24  ...main.....F..$
11F0: 9C 80 05 80 00 80 25 02  00 10 00 80 00 05 12 05  ......%.........
1200: 1D 00 01 05 12 1B 05 1E  00 1B 46 01 37 9D 80 9E  ..........F.7...
1210: 80 98 80 9F 80 45 94 80  F0 FF FF 7F F0 FF FF 7F  .....E..........
1220: 62 61 63 6B 00 80 45 0E  80 F0 FF FF 7F F0 FF FF  back..E.........
1230: 7F 66 64 69 31 00 80 55  0E 80 F0 FF FF 7F F0 FF  .fdi1..U........
1240: FF 7F 66 64 69 31 9F 95  80 F8 FF FF 7F F8 FF FF  ..fdi1..........
1250: 7F 6D 61 69 6E 00 80 1C  2E 80 45 0E 80 F0 FF FF  .main.....E.....
1260: 7F F0 FF FF 7F 66 64 6F  32 00 80 55 0E 80 F0 FF  .....fdo2..U....
1270: FF 7F F0 FF FF 7F 66 64  6F 32 92 01 F0 FF FF 7F  ......fdo2......
1280: 37 4C 80 4D 80 4E 80 4F  80 45 94 80 F0 FF FF 7F  7L.M.N.O.E......
1290: F0 FF FF 7F 62 61 63 6B  00 80 1C 1B 80 45 0E 80  ....back.....E..
12A0: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 00 80 55 0E  ........fdi1..U.
12B0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 31 9F 9A 80  .........fdi1...
12C0: F8 FF FF 7F F8 FF FF 7F  6D 61 69 6E 00 80 1C 9B  ........main....
12D0: 80 46 00 1B 6C F0 FF FF  7F 00 80 00 80 46 01 92  .F..l........F..
12E0: 01 F0 FF FF 7F 37 4C 80  4D 80 4E 80 4F 80 45 94  .....7L.M.N.O.E.
12F0: 80 F0 FF FF 7F F0 FF FF  7F 62 61 63 6B 00 80 45  .........back..E
1300: 0E 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 31 00 80  ..........fdi1..
1310: 55 0E 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 31 9F  U..........fdi1.
1320: 9A 80 F8 FF FF 7F F8 FF  FF 7F 6D 61 69 6E 00 80  ..........main..
1330: 1C 9B 80 46 00 1B 02 03  00 00 80 80 41 13 01 41  ...F........A..A
1340: 13 1B 02 00 00 05 80 80  61 13 03 09 00 96 80 03  ........a.......
1350: 0A 00 97 80 03 0B 00 98  80 03 0C 00 99 80 01 BE  ................
1360: 13 02 00 00 09 80 80 80  13 03 09 00 00 80 03 0A  ................
1370: 00 00 80 03 0B 00 00 80  03 0C 00 00 80 01 BE 13  ................
1380: 02 00 00 0A 80 80 9F 13  03 09 00 00 80 03 0A 00  ................
1390: 00 80 03 0B 00 00 80 03  0C 00 00 80 01 BE 13 02  ................
13A0: 00 00 0B 80 80 BE 13 03  09 00 00 80 03 0A 00 00  ................
13B0: 80 03 0B 00 00 80 03 0C  00 00 80 01 BE 13 1B     ............... 
```

## Opcodes

```
  0: 0x0FF0 [0x21] END_EVENT
  1: 0x0FF1 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0FF2 [0x24] CREATE_DIALOG(message_id=7227*, default_option=1*, option_flags=0*)
    → "Enter the battlefield?\u0007\u000BEnter.\u0007Decline.\u007F1\u0000\u0007"
     0x0FF9 [0x25] WAIT_DIALOG_SELECT()
     0x0FFA [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x1008
     0x1002 [0x05] ExtData[1]->WorkLocal[1] = 1
     0x1005 [0x01] GOTO 0x1008
     0x1008 [0x1B] RETURN
     0x1009 [0x79] LocalPlayer looks at LocalPlayer (Basic look)
     0x1013 [0x42] SET_CLI_EVENT_CANCEL_DATA()
     0x1014 [0x46] CAMERA_CONTROL: Disable user control
     0x1016 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=189.732*, z=347.641*, y=-0.172*, direction=321.1°*
     0x101F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
     0x1030 [0x1C] WAIT(10* ticks)
     0x1033 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1044 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[71*, 0*]
     0x1055 [0x1C] WAIT(60* ticks)
     0x1058 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
     0x105E [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x106F [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=200*
     0x107E [0x92] LocalPlayer->Render.Flags3 = Flags3  // No change (flag=0)
     0x1084 [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x108F
     0x108C [0x01] GOTO 0x108F
     0x108F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x10A0 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=200*
     0x10AF [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
     0x10B0 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
     0x10B6 [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=0*, fade_time=0*)
     0x10BF [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
     0x10C5 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x10D9
     0x10CD [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=52.396*, z=-707.495*, y=75.499*, direction=121.5°*
     0x10D6 [0x01] GOTO 0x1115
     0x10D9 [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x10ED
     0x10E1 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=0.000*, z=0.000*, y=0.000*, direction=0.0°*
     0x10EA [0x01] GOTO 0x1115
     0x10ED [0x02] IF !(ExtData[1]->WorkLocal[0] == 3*) GOTO 0x1101
     0x10F5 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=0.000*, z=0.000*, y=0.000*, direction=0.0°*
     0x10FE [0x01] GOTO 0x1115
     0x1101 [0x02] IF !(ExtData[1]->WorkLocal[0] == 4*) GOTO 0x1115
     0x1109 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=0.000*, z=0.000*, y=0.000*, direction=0.0°*
     0x1112 [0x01] GOTO 0x1115
     0x1115 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
     0x1126 [0x1C] WAIT(10* ticks)
     0x1129 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x113A [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x1149 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[72*, 0*]
     0x115A [0x1C] WAIT(120* ticks)
     0x115D [0x92] LocalPlayer->Render.Flags3 = Flags3  // No change (flag=0)
     0x1163 [0x46] CAMERA_CONTROL: Restore default settings
     0x1165 [0x1B] RETURN
     0x1166 [0x46] CAMERA_CONTROL: Disable user control
     0x1168 [0x1A] CALL_SUBROUTINE(address=0x116C)
     0x116B [0x1B] RETURN
     0x116C [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x117D [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=200*
     0x118C [0x92] LocalPlayer->Render.Flags3 ^= 0x01
     0x1192 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=186.548*, z=345.589*, y=-0.500*, direction=303.4°*
     0x119B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
     0x11AC [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=0*, fade_time=0*)
     0x11B5 [0x1C] WAIT(10* ticks)
     0x11B8 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x11C9 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x11D8 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[72*, 0*]
     0x11E9 [0x1C] WAIT(120* ticks)
     0x11EC [0x46] CAMERA_CONTROL: Restore default settings
     0x11EE [0x1B] RETURN
     0x11EF [0x24] CREATE_DIALOG(message_id=7228*, default_option=1*, option_flags=0*)
    → "Leave the battlefield?\u0007\u000BRun away.\u0007Stay.\u007F1\u0000\u0007"
     0x11F6 [0x25] WAIT_DIALOG_SELECT()
     0x11F7 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x1205
     0x11FF [0x05] ExtData[1]->WorkLocal[29] = 1
     0x1202 [0x01] GOTO 0x1205
     0x1205 [0x1B] RETURN
     0x1206 [0x05] ExtData[1]->WorkLocal[30] = 1
     0x1209 [0x1B] RETURN
     0x120A [0x46] CAMERA_CONTROL: Disable user control
     0x120C [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=53.759*, z=-704.553*, y=75.499*, direction=307.1°*
     0x1215 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
     0x1226 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1237 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x1246 [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[71*, 0*]
     0x1257 [0x1C] WAIT(60* ticks)
     0x125A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x126B [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo2" with entities [LocalPlayer, LocalPlayer], work=200*
     0x127A [0x92] LocalPlayer->Render.Flags3 ^= 0x01
     0x1280 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=186.548*, z=345.589*, y=-0.500*, direction=303.4°*
     0x1289 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
     0x129A [0x1C] WAIT(10* ticks)
     0x129D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x12AE [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x12BD [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[72*, 0*]
     0x12CE [0x1C] WAIT(120* ticks)
     0x12D1 [0x46] CAMERA_CONTROL: Restore default settings
     0x12D3 [0x1B] RETURN
     0x12D4 [0x6C] FADE_ENTITY_COLOR(entity_id=LocalPlayer, end_alpha=0*, fade_time=0*)
     0x12DD [0x46] CAMERA_CONTROL: Disable user control
     0x12DF [0x92] LocalPlayer->Render.Flags3 ^= 0x01
     0x12E5 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=186.548*, z=345.589*, y=-0.500*, direction=303.4°*
     0x12EE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "back" with entities [LocalPlayer, LocalPlayer], work=[108*, 0*]
     0x12FF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x1310 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x131F [0x9F] LOAD_SCHEDULED_TASK_ALT: Load scheduler "main" with entities [EventEntity, EventEntity], work=[72*, 0*]
     0x1330 [0x1C] WAIT(120* ticks)
     0x1333 [0x46] CAMERA_CONTROL: Restore default settings
     0x1335 [0x1B] RETURN
     0x1336 [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x1341
     0x133E [0x01] GOTO 0x1341
     0x1341 [0x1B] RETURN
     0x1342 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x1361
     0x134A [0x03] ExtData[1]->WorkLocal[9] = 52396*
     0x134F [0x03] ExtData[1]->WorkLocal[10] = 4294259801*
     0x1354 [0x03] ExtData[1]->WorkLocal[11] = 75499*
     0x1359 [0x03] ExtData[1]->WorkLocal[12] = 1382*
     0x135E [0x01] GOTO 0x13BE
     0x1361 [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x1380
     0x1369 [0x03] ExtData[1]->WorkLocal[9] = 0*
     0x136E [0x03] ExtData[1]->WorkLocal[10] = 0*
     0x1373 [0x03] ExtData[1]->WorkLocal[11] = 0*
     0x1378 [0x03] ExtData[1]->WorkLocal[12] = 0*
     0x137D [0x01] GOTO 0x13BE
     0x1380 [0x02] IF !(ExtData[1]->WorkLocal[0] == 3*) GOTO 0x139F
     0x1388 [0x03] ExtData[1]->WorkLocal[9] = 0*
     0x138D [0x03] ExtData[1]->WorkLocal[10] = 0*
     0x1392 [0x03] ExtData[1]->WorkLocal[11] = 0*
     0x1397 [0x03] ExtData[1]->WorkLocal[12] = 0*
     0x139C [0x01] GOTO 0x13BE
     0x139F [0x02] IF !(ExtData[1]->WorkLocal[0] == 4*) GOTO 0x13BE
     0x13A7 [0x03] ExtData[1]->WorkLocal[9] = 0*
     0x13AC [0x03] ExtData[1]->WorkLocal[10] = 0*
     0x13B1 [0x03] ExtData[1]->WorkLocal[11] = 0*
     0x13B6 [0x03] ExtData[1]->WorkLocal[12] = 0*
     0x13BB [0x01] GOTO 0x13BE
     0x13BE [0x1B] RETURN
```