# Event 20054

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/23      |
| Offset          | 0x0292    |
| Data Size       | 527 bytes |
| Calculated Size | 527 bytes |
| Instructions    | 37        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0290:       42 03 00 00 03 10  06 01 10 4A F0 FF FF 7F    B........J....
02A0: F8 FF FF 7F 4A F8 FF FF  7F F0 FF FF 7F 6F 76 F8  ....J........ov.
02B0: FF FF 7F 6E F8 FF FF 7F  08 80 99 F8 FF FF 7F 1C  ...n............
02C0: 09 80 1D 0A 80 1C 0B 80  23 5F 06 09 80 F8 FF FF  ........#_......
02D0: 7F F8 FF FF 7F 74 6C 6B  30 0C 80 1D 0D 80 23 1D  .....tlk0.....#.
02E0: 0E 80 5F 07 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 30  .._.........tlk0
02F0: 23 5F 06 09 80 F8 FF FF  7F F8 FF FF 7F 74 6C 6B  #_...........tlk
0300: 31 0F 80 24 10 80 01 80  00 00 25 02 00 10 01 80  1..$......%.....
0310: 00 2A 03 1D 11 80 5F 07  F8 FF FF 7F F8 FF FF 7F  .*...._.........
0320: 74 6C 6B 31 23 21 00 01  74 04 02 00 10 03 80 00  tlk1#!..t.......
0330: 48 03 5F 07 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 31  H._.........tlk1
0340: 03 01 10 03 80 01 74 04  02 00 10 05 80 00 66 03  ......t.......f.
0350: 5F 07 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 31 03 01  _.........tlk1..
0360: 10 05 80 01 74 04 02 00  10 12 80 00 84 03 5F 07  ....t........._.
0370: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 31 03 01 10 12  ........tlk1....
0380: 80 01 74 04 02 00 10 13  80 00 A2 03 5F 07 F8 FF  ..t........._...
0390: FF 7F F8 FF FF 7F 74 6C  6B 31 03 01 10 13 80 01  ......tlk1......
03A0: 74 04 02 00 10 14 80 00  C0 03 5F 07 F8 FF FF 7F  t........._.....
03B0: F8 FF FF 7F 74 6C 6B 31  03 01 10 14 80 01 74 04  ....tlk1......t.
03C0: 02 00 10 15 80 00 DE 03  5F 07 F8 FF FF 7F F8 FF  ........_.......
03D0: FF 7F 74 6C 6B 31 03 01  10 15 80 01 74 04 02 00  ..tlk1......t...
03E0: 10 16 80 00 FC 03 5F 07  F8 FF FF 7F F8 FF FF 7F  ......_.........
03F0: 74 6C 6B 31 03 01 10 16  80 01 74 04 02 00 10 08  tlk1......t.....
0400: 80 00 1A 04 5F 07 F8 FF  FF 7F F8 FF FF 7F 74 6C  ...._.........tl
0410: 6B 31 03 01 10 08 80 01  74 04 02 00 10 17 80 00  k1......t.......
0420: 38 04 5F 07 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 31  8._.........tlk1
0430: 03 01 10 17 80 01 74 04  02 00 10 18 80 00 56 04  ......t.......V.
0440: 5F 07 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 31 03 01  _.........tlk1..
0450: 10 18 80 01 74 04 02 00  10 19 80 00 74 04 5F 07  ....t.......t._.
0460: F8 FF FF 7F F8 FF FF 7F  74 6C 6B 31 03 01 10 19  ........tlk1....
0470: 80 01 74 04 5F 06 09 80  F8 FF FF 7F F8 FF FF 7F  ..t._...........
0480: 70 61 73 30 1A 80 1C 1B  80 1D 1C 80 5F 07 F8 FF  pas0........_...
0490: FF 7F F8 FF FF 7F 70 61  73 30 23 48 1D 80 23 21  ......pas0#H..#!
04A0: 00                                                .               
```

## Opcodes

```
  0: 0x0292 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0293 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[3]
  2: 0x0298 [0x06] Work_Zone[1] = 0
  3: 0x029B [0x4A] LocalPlayer looks at EventEntity
  4: 0x02A4 [0x4A] EventEntity looks at LocalPlayer
  5: 0x02AD [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  6: 0x02AE [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until EventEntity Render.Flags0 and Render.Flags3 conditions are met
  7: 0x02B3 [0x6E] EventEntity uses emote 8*
  8: 0x02BA [0x99] Wait for EventEntity animation to complete
  9: 0x02BF [0x1C] WAIT(40* ticks)
 10: 0x02C2 [0x1D] PRINT_EVENT_MESSAGE(message_id=10857*)
    → "There you are! I've been looking-wooking all over for you.\u007F1\u0000\u0007"
 11: 0x02C5 [0x1C] WAIT(50* ticks)
 12: 0x02C8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 13: 0x02C9 [0x5F] MULTI_HANDLER_COMPLEX(mode=0x06 - Load ext scheduler with flag (OpCode 0x5B mode 1, flag 1), ref=References[9], entity1=EventEntity, entity2=EventEntity, string="tlk0", extra=References[12])
 14: 0x02DB [0x1D] PRINT_EVENT_MESSAGE(message_id=10858*)
    → "I received a couple lettarus addressed to you.\u007F1\u0000\u0007"
 15: 0x02DE [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x02DF [0x1D] PRINT_EVENT_MESSAGE(message_id=10859*)
    → "They all come in...uniquely colored envelope-wenvelopes and are signed \u00072D.\u00073 What do you want to do with them?\u007F1\u0000\u0007"
 17: 0x02E2 [0x5F] MULTI_HANDLER_COMPLEX(mode=0x07 - Wait scheduler task (OpCode 0x53))
 18: 0x02F0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x02F1 [0x5F] MULTI_HANDLER_COMPLEX(mode=0x06 - Load ext scheduler with flag (OpCode 0x5B mode 1, flag 1), ref=References[9], entity1=EventEntity, entity2=EventEntity, string="tlk1", extra=References[15])
 20: 0x0303 [0x24] CREATE_DIALOG(message_id=10860*, default_option=0*, option_flags=0x00)
    → "Open which one?\u0007\u000BNone for the nonce.\u0007The white one.\u0007The green one.\u0007The silver one.\u0007The purple one.\u0007The black one.\u0007The blue one.\u0007The gold one.\u0007The yellow one.\u0007The brown one.\u0007The red one.\u0007The rainbow one.\u007F1\u0000\u0007"
 21: 0x030A [0x25] WAIT_DIALOG_SELECT()
 22: 0x030B [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x032A
 23: 0x0313 [0x1D] PRINT_EVENT_MESSAGE(message_id=10861*)
    → "I wouldn't open any if I were you, either. You never know what crazy-wazy stuff people deliver these days. I'd feel bad about throwing another person's property away, though, so I'll hold onto them for safekeeping.\u007F1\u0000\u0007"
 24: 0x0316 [0x5F] MULTI_HANDLER_COMPLEX(mode=0x07 - Wait scheduler task (OpCode 0x53))
 25: 0x0324 [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x0325 [0x21] END_EVENT
 27: 0x0326 [0x00] END_REQSTACK()

SUBROUTINE_0474:
 28: 0x0474 [0x5F] MULTI_HANDLER_COMPLEX(mode=0x06 - Load ext scheduler with flag (OpCode 0x5B mode 1, flag 1), ref=References[9], entity1=EventEntity, entity2=EventEntity, string="pas0", extra=References[26])
 29: 0x0486 [0x1C] WAIT(70* ticks)
 30: 0x0489 [0x1D] PRINT_EVENT_MESSAGE(message_id=10862*)
    → "Here you go. I hope it doesn't contain anything too suspectaru.\u007F1\u0000\u0007"
 31: 0x048C [0x5F] MULTI_HANDLER_COMPLEX(mode=0x07 - Wait scheduler task (OpCode 0x53))
 32: 0x049A [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x049B [0x48] [System] [10863*]:
    → "The envelope contains a briefing for a new objective.\u007F1\u0000\u0007"
 34: 0x049E [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x049F [0x21] END_EVENT
 36: 0x04A0 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0327 [0x01] GOTO 0x0474
```