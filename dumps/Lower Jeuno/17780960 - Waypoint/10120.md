# Event 10120

## Metadata

| Field           | Value      |
|-----------------|------------|
| Event Index     | 2/3        |
| Offset          | 0x0001     |
| Data Size       | 1022 bytes |
| Calculated Size | 1022 bytes |
| Instructions    | 69         |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 03 00 00 02 10 24  00 80 01 80 02 80 25 02   B.....$......%.
0010: 00 10 01 80 00 22 00 03  01 10 03 80 01 5B 01 01  .....".......[..
0020: 22 00 1A D1 01 46 01 38  04 80 94 01 F0 FF FF 7F  "....F.8........
0030: 94 01 F8 FF FF 7F BA F0  FF FF 7F 05 80 06 80 02  ................
0040: 80 07 80 80 F0 FF FF 7F  80 F8 FF FF 7F 4A F0 FF  .............J..
0050: FF 7F F8 FF FF 7F 6F 76  F0 FF FF 7F 29 10 F0 FF  ......ov....)...
0060: FF 7F 5E 45 08 80 F0 FF  FF 7F F0 FF FF 7F 61 64  ..^E..........ad
0070: 30 31 02 80 1A B0 01 CD  09 80 F8 FF FF 7F F8 FF  01..............
0080: FF 7F 73 30 30 30 02 80  1C 0A 80 1C 0B 80 52 08  ..s000........R.
0090: 80 F0 FF FF 7F F0 FF FF  7F 61 64 30 31 45 08 80  .........ad01E..
00A0: F0 FF FF 7F F0 FF FF 7F  61 64 30 33 02 80 1C 0C  ........ad03....
00B0: 80 CD 09 80 F8 FF FF 7F  F0 FF FF 7F 6D 61 69 6E  ............main
00C0: 02 80 1C 0D 80 92 01 F0  FF FF 7F 1C 0B 80 52 08  ..............R.
00D0: 80 F0 FF FF 7F F0 FF FF  7F 61 64 30 33 45 08 80  .........ad03E..
00E0: F0 FF FF 7F F0 FF FF 7F  61 64 30 34 02 80 CD 09  ........ad04....
00F0: 80 F8 FF FF 7F F8 FF FF  7F 73 74 70 30 02 80 1C  .........stp0...
0100: 0A 80 1A 13 02 1C 0C 80  1A D1 01 1A F2 01 52 08  ..............R.
0110: 80 F0 FF FF 7F F0 FF FF  7F 61 64 30 34 45 08 80  .........ad04E..
0120: F0 FF FF 7F F0 FF FF 7F  30 62 6C 66 02 80 CD 09  ........0blf....
0130: 80 F8 FF FF 7F F0 FF FF  7F 61 31 32 38 02 80 1C  .........a128...
0140: 0E 80 AB 11 02 80 1C 01  80 03 01 10 01 80 02 00  ................
0150: 00 02 80 00 59 01 30 21  00 46 00 45 0F 80 F0 FF  ....Y.0!.F.E....
0160: FF 7F F0 FF FF 7F 66 64  69 32 02 80 21 00 45 0F  ......fdi2..!.E.
0170: 80 F0 FF FF 7F F0 FF FF  7F 66 64 69 30 02 80 55  .........fdi0..U
0180: 0F 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 30 1B 45  ..........fdi0.E
0190: 0F 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 30 02 80  ..........fdo0..
01A0: 55 0F 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 30 1B  U..........fdo0.
01B0: 45 0F 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 31 02  E..........fdi1.
01C0: 80 55 0F 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 31  .U..........fdi1
01D0: 1B 45 0F 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 31  .E..........fdo1
01E0: 02 80 55 0F 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  ..U..........fdo
01F0: 31 1B 45 10 80 F0 FF FF  7F F0 FF FF 7F 77 68 69  1.E..........whi
0200: 31 02 80 55 10 80 F0 FF  FF 7F F0 FF FF 7F 77 68  1..U..........wh
0210: 69 31 1B 45 10 80 F0 FF  FF 7F F0 FF FF 7F 77 68  i1.E..........wh
0220: 6F 31 02 80 55 10 80 F0  FF FF 7F F0 FF FF 7F 77  o1..U..........w
0230: 68 6F 31 1B 45 10 80 F0  FF FF 7F F0 FF FF 7F 77  ho1.E..........w
0240: 68 6F 32 02 80 55 10 80  F0 FF FF 7F F0 FF FF 7F  ho2..U..........
0250: 77 68 6F 32 1B 45 10 80  F0 FF FF 7F F0 FF FF 7F  who2.E..........
0260: 77 68 6F 33 02 80 55 10  80 F0 FF FF 7F F0 FF FF  who3..U.........
0270: 7F 77 68 6F 33 1B 62 01  80 F0 FF FF 7F F0 FF FF  .who3.b.........
0280: 7F 6D 61 69 6E 02 80 1C  11 80 45 0F 80 F0 FF FF  .main.....E.....
0290: 7F F0 FF FF 7F 66 64 6F  31 02 80 55 0F 80 F0 FF  .....fdo1..U....
02A0: FF 7F F0 FF FF 7F 66 64  6F 31 1B 45 0F 80 F0 FF  ......fdo1.E....
02B0: FF 7F F0 FF FF 7F 66 64  69 31 02 80 62 12 80 F0  ......fdi1..b...
02C0: FF FF 7F F0 FF FF 7F 6D  61 69 6E 02 80 1C 0B 80  .......main.....
02D0: 55 0F 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 31 1B  U..........fdi1.
02E0: 45 0F 80 F0 FF FF 7F F0  FF FF 7F 62 6C 6F 6E 02  E..........blon.
02F0: 80 45 10 80 F0 FF FF 7F  F0 FF FF 7F 62 6C 6F 6E  .E..........blon
0300: 02 80 1B 45 10 80 F0 FF  FF 7F F0 FF FF 7F 77 68  ...E..........wh
0310: 69 30 02 80 55 10 80 F0  FF FF 7F F0 FF FF 7F 77  i0..U..........w
0320: 68 69 30 1B 45 10 80 F0  FF FF 7F F0 FF FF 7F 77  hi0.E..........w
0330: 68 6F 30 02 80 55 10 80  F0 FF FF 7F F0 FF FF 7F  ho0..U..........
0340: 77 68 6F 30 1B 45 13 80  F0 FF FF 7F F0 FF FF 7F  who0.E..........
0350: 65 66 6F 6E 02 80 55 13  80 F0 FF FF 7F F0 FF FF  efon..U.........
0360: 7F 65 66 6F 6E 1B 45 0F  80 F0 FF FF 7F F0 FF FF  .efon.E.........
0370: 7F 66 64 69 73 02 80 1B  45 0F 80 F0 FF FF 7F F0  .fdis...E.......
0380: FF FF 7F 66 64 6F 73 02  80 55 0F 80 F0 FF FF 7F  ...fdos..U......
0390: F0 FF FF 7F 66 64 6F 73  1B 45 0F 80 F0 FF FF 7F  ....fdos.E......
03A0: F0 FF FF 7F 66 64 69 66  02 80 1B 45 0F 80 F0 FF  ....fdif...E....
03B0: FF 7F F0 FF FF 7F 66 64  6F 66 02 80 55 0F 80 F0  ......fdof..U...
03C0: FF FF 7F F0 FF FF 7F 66  64 6F 66 1B 45 0F 80 F0  .......fdof.E...
03D0: FF FF 7F F0 FF FF 7F 66  64 69 70 02 80 1B 45 0F  .......fdip...E.
03E0: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 70 02 80 55  .........fdop..U
03F0: 0F 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 70 1B     ..........fdop. 
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  2: 0x0007 [0x24] CREATE_DIALOG(message_id=10346*, default_option=1*, option_flags=0*)
    → "Activate this waypoint?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
  3: 0x000E [0x25] WAIT_DIALOG_SELECT()
  4: 0x000F [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0022
  5: 0x0017 [0x03] Work_Zone[1] = 1073741824*
  6: 0x001C [0x01] GOTO 0x015B

SUBROUTINE_0022:
  7: 0x0022 [0x1A] CALL_SUBROUTINE(address=0x01D1)
  8: 0x0025 [0x46] CAMERA_CONTROL: Disable user control
  9: 0x0027 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 10: 0x002A [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 11: 0x0030 [0x94] EventEntity->Render.Flags3 ^= 0x01
 12: 0x0036 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-33.418*, pos_z=-31.636*, pos_y=0.000*, direction=194.5°*)
 13: 0x0043 [0x80] LOAD_WAIT(entity=LocalPlayer)
 14: 0x0048 [0x80] LOAD_WAIT(entity=EventEntity)
 15: 0x004D [0x4A] LocalPlayer looks at EventEntity
 16: 0x0056 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 17: 0x0057 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 18: 0x005C [0x29] REQ_SET_WAIT(priority=0x10, entity_id=LocalPlayer, tag_num=0x5E)
 19: 0x0063 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ad01" with entities [LocalPlayer, LocalPlayer], work=[561*, 0*]
 20: 0x0074 [0x1A] CALL_SUBROUTINE(address=0x01B0)
 21: 0x0077 [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "s000" with entities [EventEntity, EventEntity], work=[140*, 0*]
 22: 0x0088 [0x1C] WAIT(120* ticks)
 23: 0x008B [0x1C] WAIT(30* ticks)
 24: 0x008E [0x52] END_LOAD_SCHEDULER: End scheduler "ad01" with entities [LocalPlayer, LocalPlayer], work=561*
 25: 0x009D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ad03" with entities [LocalPlayer, LocalPlayer], work=[561*, 0*]
 26: 0x00AE [0x1C] WAIT(60* ticks)
 27: 0x00B1 [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "main" with entities [EventEntity, LocalPlayer], work=[140*, 0*]
 28: 0x00C2 [0x1C] WAIT(90* ticks)
 29: 0x00C5 [0x92] LocalPlayer->Render.Flags3 ^= 0x01
 30: 0x00CB [0x1C] WAIT(30* ticks)
 31: 0x00CE [0x52] END_LOAD_SCHEDULER: End scheduler "ad03" with entities [LocalPlayer, LocalPlayer], work=561*
 32: 0x00DD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ad04" with entities [LocalPlayer, LocalPlayer], work=[561*, 0*]
 33: 0x00EE [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "stp0" with entities [EventEntity, EventEntity], work=[140*, 0*]
 34: 0x00FF [0x1C] WAIT(120* ticks)
 35: 0x0102 [0x1A] CALL_SUBROUTINE(address=0x0213)
 36: 0x0105 [0x1C] WAIT(60* ticks)
 37: 0x0108 [0x1A] CALL_SUBROUTINE(address=0x01D1)
 38: 0x010B [0x1A] CALL_SUBROUTINE(address=0x01F2)
 39: 0x010E [0x52] END_LOAD_SCHEDULER: End scheduler "ad04" with entities [LocalPlayer, LocalPlayer], work=561*
 40: 0x011D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "0blf" with entities [LocalPlayer, LocalPlayer], work=[561*, 0*]
 41: 0x012E [0xCD] LOAD_SCHEDULED_TASK_ALT4: Load scheduler "a128" with entities [EventEntity, LocalPlayer], work=[140*, 0*]
 42: 0x013F [0x1C] WAIT(15* ticks)
 43: 0x0142 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 44: 0x0146 [0x1C] WAIT(1* ticks)
 45: 0x0149 [0x03] Work_Zone[1] = 1*
 46: 0x014E [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x0159
 47: 0x0156 [0x30] SET_UCOFF_CONTINUE_ZERO()
 48: 0x0157 [0x21] END_EVENT
 49: 0x0158 [0x00] END_REQSTACK()

SUBROUTINE_0159:
 50: 0x0159 [0x46] CAMERA_CONTROL: Restore default settings
 51: 0x015B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 52: 0x016C [0x21] END_EVENT
 53: 0x016D [0x00] END_REQSTACK()

 54: 0x01B0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 55: 0x01C1 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
 56: 0x01D0 [0x1B] RETURN

SUBROUTINE_01D1:
 57: 0x01D1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 58: 0x01E2 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
 59: 0x01F1 [0x1B] RETURN

SUBROUTINE_01F2:
 60: 0x01F2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 61: 0x0203 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=201*
 62: 0x0212 [0x1B] RETURN

SUBROUTINE_0213:
 63: 0x0213 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 64: 0x0224 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=201*
 65: 0x0233 [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x001F [0x01] GOTO 0x0022
# Data Section: 0x016E (66 bytes)
     0x016E: 45 0F 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 30 02
     0x017E: 80 55 0F 80 F0 FF FF 7F F0 FF FF 7F 66 64 69 30
     0x018E: 1B 45 0F 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F 30
     0x019E: 02 80 55 0F 80 F0 FF FF 7F F0 FF FF 7F 66 64 6F
     0x01AE: 30 1B
# Data Section: 0x0234 (459 bytes)
     0x0234: 45 10 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F 32 02
     0x0244: 80 55 10 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F 32
     0x0254: 1B 45 10 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F 33
     0x0264: 02 80 55 10 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F
     0x0274: 33 1B 62 01 80 F0 FF FF 7F F0 FF FF 7F 6D 61 69
     0x0284: 6E 02 80 1C 11 80 45 0F 80 F0 FF FF 7F F0 FF FF
     0x0294: 7F 66 64 6F 31 02 80 55 0F 80 F0 FF FF 7F F0 FF
     0x02A4: FF 7F 66 64 6F 31 1B 45 0F 80 F0 FF FF 7F F0 FF
     0x02B4: FF 7F 66 64 69 31 02 80 62 12 80 F0 FF FF 7F F0
     0x02C4: FF FF 7F 6D 61 69 6E 02 80 1C 0B 80 55 0F 80 F0
     0x02D4: FF FF 7F F0 FF FF 7F 66 64 69 31 1B 45 0F 80 F0
     0x02E4: FF FF 7F F0 FF FF 7F 62 6C 6F 6E 02 80 45 10 80
     0x02F4: F0 FF FF 7F F0 FF FF 7F 62 6C 6F 6E 02 80 1B 45
     0x0304: 10 80 F0 FF FF 7F F0 FF FF 7F 77 68 69 30 02 80
     0x0314: 55 10 80 F0 FF FF 7F F0 FF FF 7F 77 68 69 30 1B
     0x0324: 45 10 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F 30 02
     0x0334: 80 55 10 80 F0 FF FF 7F F0 FF FF 7F 77 68 6F 30
     0x0344: 1B 45 13 80 F0 FF FF 7F F0 FF FF 7F 65 66 6F 6E
     0x0354: 02 80 55 13 80 F0 FF FF 7F F0 FF FF 7F 65 66 6F
     0x0364: 6E 1B 45 0F 80 F0 FF FF 7F F0 FF FF 7F 66 64 69
     0x0374: 73 02 80 1B 45 0F 80 F0 FF FF 7F F0 FF FF 7F 66
     0x0384: 64 6F 73 02 80 55 0F 80 F0 FF FF 7F F0 FF FF 7F
     0x0394: 66 64 6F 73 1B 45 0F 80 F0 FF FF 7F F0 FF FF 7F
     0x03A4: 66 64 69 66 02 80 1B 45 0F 80 F0 FF FF 7F F0 FF
     0x03B4: FF 7F 66 64 6F 66 02 80 55 0F 80 F0 FF FF 7F F0
     0x03C4: FF FF 7F 66 64 6F 66 1B 45 0F 80 F0 FF FF 7F F0
     0x03D4: FF FF 7F 66 64 69 70 02 80 1B 45 0F 80 F0 FF FF
     0x03E4: 7F F0 FF FF 7F 66 64 6F 70 02 80 55 0F 80 F0 FF
     0x03F4: FF 7F F0 FF FF 7F 66 64 6F 70 1B
```