# Event 230

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/103     |
| Offset          | 0x0001    |
| Data Size       | 320 bytes |
| Calculated Size | 320 bytes |
| Instructions    | 87        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    20 01 3A F8 FF FF 7F  00 00 1E F0 FF FF 7F 03    .:............
0010: 01 00 02 10 03 02 00 03  10 1D 00 80 23 42 02 01  ............#B..
0020: 00 01 80 01 3F 01 3D 01  00 02 80 03 80 03 08 10  ....?.=.........
0030: 04 80 24 05 80 02 80 01  00 25 02 00 10 02 80 00  ..$......%......
0040: 4C 00 39 00 00 1D 06 80  23 01 3F 01 02 00 10 03  L.9.....#.?.....
0050: 80 00 A5 00 03 09 10 07  80 1D 08 80 23 1D 09 80  ............#...
0060: 23 24 0A 80 03 80 02 80  25 02 00 10 02 80 00 90  #$......%.......
0070: 00 03 01 10 0B 80 43 00  43 01 02 03 10 03 80 00  ......C.C.......
0080: 89 00 1D 0C 80 23 01 8D  00 1D 0D 80 23 01 A2 00  .....#......#...
0090: 02 00 10 03 80 00 A2 00  39 00 00 1D 06 80 23 01  ........9.....#.
00A0: A2 00 01 3F 01 02 00 10  0E 80 00 F4 00 03 03 10  ...?............
00B0: 02 00 03 09 10 0F 80 1D  10 80 23 1D 11 80 23 24  ..........#...#$
00C0: 12 80 03 80 02 80 25 02  00 10 02 80 00 DF 00 1D  ......%.........
00D0: 13 80 23 1D 14 80 23 03  01 10 15 80 01 F1 00 02  ..#...#.........
00E0: 00 10 03 80 00 F1 00 39  00 00 1D 06 80 23 01 F1  .......9.....#..
00F0: 00 01 3F 01 02 00 10 16  80 00 3F 01 03 03 10 02  ..?.......?.....
0100: 00 03 09 10 0F 80 1D 17  80 23 1D 18 80 23 24 12  .........#...#$.
0110: 80 03 80 02 80 25 02 00  10 02 80 00 2A 01 1D 19  .....%......*...
0120: 80 23 03 01 10 1A 80 01  3C 01 02 00 10 03 80 00  .#......<.......
0130: 3C 01 39 00 00 1D 06 80  23 01 3C 01 01 3F 01 21  <.9.....#.<..?.!
0140: 00                                                .               
```

## Opcodes

```
  0: 0x0001 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0003 [0x3A] CONVERT_YAW_TO_BYTE(entity=EventEntity, result_destination=ExtData[1]->WorkLocal[0])
  2: 0x000A [0x1E] EventEntity looks at LocalPlayer and starts talking
  3: 0x000F [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
  4: 0x0014 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[3]
  5: 0x0019 [0x1D] PRINT_EVENT_MESSAGE(message_id=7728*)
    → "Welcome to the Chamber of Commerce and Industry. We assist the community with job placement and labor arbitration.\u007F1\u0000\u0007"
  6: 0x001C [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x001D [0x42] SET_CLI_EVENT_CANCEL_DATA()
  8: 0x001E [0x02] IF !(ExtData[1]->WorkLocal[1] == 4294967295*) GOTO 0x013F
  9: 0x0026 [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x01, bit_index_work_offset=0x8002, condition_work_offset=0x8003)
 10: 0x002D [0x03] Work_Zone[8] = 8*
 11: 0x0032 [0x24] CREATE_DIALOG(message_id=7729*, default_option=0*, option_flags=0x01)
    → "What can I help you with?\u0007\u000BOh, nothing.\u0007I'd like \u0001\u00056\u0002\u0006\u0000\u0000.\u0007I'd like to start a petition.\u0007I want to learn about petitions.\u007F1\u0000\u0007"
 12: 0x0039 [0x25] WAIT_DIALOG_SELECT()
 13: 0x003A [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x004C
 14: 0x0042 [0x39] SET_ENTITY_DIRECTION(direction=0.0°)
 15: 0x0045 [0x1D] PRINT_EVENT_MESSAGE(message_id=7730*)
    → "Have a nice day. Next!\u007F1\u0000\u0007"
 16: 0x0048 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x0049 [0x01] GOTO 0x013F
 18: 0x004C [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00A5
 19: 0x0054 [0x03] Work_Zone[9] = 500000*
 20: 0x0059 [0x1D] PRINT_EVENT_MESSAGE(message_id=7731*)
    → "The \u0001\u00053\u0002\u0006\u0000\u0000 costs 
\u0007 gil. Convenient routes connect Jeuno with the three allied nations. Passes are non-transferable, but never expire.\u007F1\u0000\u0007"
 21: 0x005C [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x005D [0x1D] PRINT_EVENT_MESSAGE(message_id=7732*)
    → "The archduke occasionally issues them, but His Grace is not an easy man to meet.\u007F1\u0000\u0007"
 23: 0x0060 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x0061 [0x24] CREATE_DIALOG(message_id=7733*, default_option=1*, option_flags=0*)
    → "Purchase \u0001\u00056\u0002\u0006\u0000\u0000?\u0007\u000BYes, please.\u0007No, not right now.\u007F1\u0000\u0007"
 25: 0x0068 [0x25] WAIT_DIALOG_SELECT()
 26: 0x0069 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0090
 27: 0x0071 [0x03] Work_Zone[1] = 10*
 28: 0x0076 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 29: 0x0078 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 30: 0x007A [0x02] IF !(Work_Zone[3] == 1*) GOTO 0x0089
 31: 0x0082 [0x1D] PRINT_EVENT_MESSAGE(message_id=7734*)
    → "Thank you very much. Safe and pleasant journeys to you!\u007F1\u0000\u0007"
 32: 0x0085 [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x0086 [0x01] GOTO 0x008D
 34: 0x0089 [0x1D] PRINT_EVENT_MESSAGE(message_id=7735*)
    → "Um, you don't have enough money.\u007F1\u0000\u0007"
 35: 0x008C [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x008D [0x01] GOTO 0x00A2
 37: 0x0090 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00A2
 38: 0x0098 [0x39] SET_ENTITY_DIRECTION(direction=0.0°)
 39: 0x009B [0x1D] PRINT_EVENT_MESSAGE(message_id=7730*)
    → "Have a nice day. Next!\u007F1\u0000\u0007"
 40: 0x009E [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x009F [0x01] GOTO 0x00A2

SUBROUTINE_00A2:
 42: 0x00A2 [0x01] GOTO 0x013F
 43: 0x00A5 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x00F4
 44: 0x00AD [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[2]
 45: 0x00B2 [0x03] Work_Zone[9] = 555*
 46: 0x00B7 [0x1D] PRINT_EVENT_MESSAGE(message_id=7736*)
    → "Oh, that clock tower? Yes, it's quite run down, so it's scheduled for demolition. The city needs a crane there, as ships anchor right beneath it.\u007F1\u0000\u0007"
 47: 0x00BA [0x23] WAIT_FOR_DIALOG_INTERACTION
 48: 0x00BB [0x1D] PRINT_EVENT_MESSAGE(message_id=7737*)
    → "Of course, if enough people oppose the plan, the authorities might reconsider. You'll need at least 
\u0001 signatories for the petition to be accepted.\u007F1\u0000\u0007"
 49: 0x00BE [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x00BF [0x24] CREATE_DIALOG(message_id=7738*, default_option=1*, option_flags=0*)
    → "Would you like a petition ledger?\u0007\u000BYes.\u0007No, thanks.\u007F1\u0000\u0007"
 51: 0x00C6 [0x25] WAIT_DIALOG_SELECT()
 52: 0x00C7 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00DF
 53: 0x00CF [0x1D] PRINT_EVENT_MESSAGE(message_id=7739*)
    → "Okay. Come back and submit the ledger once you have 
\u0001 signatures.\u007F1\u0000\u0007"
 54: 0x00D2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 55: 0x00D3 [0x1D] PRINT_EVENT_MESSAGE(message_id=7740*)
    → "Find people who are interested in your cause. Of course, please try to respect people who don't share your views.\u007F1\u0000\u0007"
 56: 0x00D6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x00D7 [0x03] Work_Zone[1] = 20*
 58: 0x00DC [0x01] GOTO 0x00F1
 59: 0x00DF [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00F1
 60: 0x00E7 [0x39] SET_ENTITY_DIRECTION(direction=0.0°)
 61: 0x00EA [0x1D] PRINT_EVENT_MESSAGE(message_id=7730*)
    → "Have a nice day. Next!\u007F1\u0000\u0007"
 62: 0x00ED [0x23] WAIT_FOR_DIALOG_INTERACTION
 63: 0x00EE [0x01] GOTO 0x00F1

SUBROUTINE_00F1:
 64: 0x00F1 [0x01] GOTO 0x013F
 65: 0x00F4 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x013F
 66: 0x00FC [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[2]
 67: 0x0101 [0x03] Work_Zone[9] = 555*
 68: 0x0106 [0x1D] PRINT_EVENT_MESSAGE(message_id=7742*)
    → "Gather 
\u0001 signatures for the petition. People who are interested in your cause should sign. And please respect those of differing views.\u007F1\u0000\u0007"
 69: 0x0109 [0x23] WAIT_FOR_DIALOG_INTERACTION
 70: 0x010A [0x1D] PRINT_EVENT_MESSAGE(message_id=7743*)
    → "We can issue you a new \u0001\u0005#\u0002\u0007\u0000\u0000 if you like. Of course, you'll have to start over with any signatures you've collected.\u007F1\u0000\u0007"
 71: 0x010D [0x23] WAIT_FOR_DIALOG_INTERACTION
 72: 0x010E [0x24] CREATE_DIALOG(message_id=7738*, default_option=1*, option_flags=0*)
    → "Would you like a petition ledger?\u0007\u000BYes.\u0007No, thanks.\u007F1\u0000\u0007"
 73: 0x0115 [0x25] WAIT_DIALOG_SELECT()
 74: 0x0116 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x012A
 75: 0x011E [0x1D] PRINT_EVENT_MESSAGE(message_id=7745*)
    → "Very well. I'll prepare the necessary paperwork.\u007F1\u0000\u0007"
 76: 0x0121 [0x23] WAIT_FOR_DIALOG_INTERACTION
 77: 0x0122 [0x03] Work_Zone[1] = 30*
 78: 0x0127 [0x01] GOTO 0x013C
 79: 0x012A [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x013C
 80: 0x0132 [0x39] SET_ENTITY_DIRECTION(direction=0.0°)
 81: 0x0135 [0x1D] PRINT_EVENT_MESSAGE(message_id=7730*)
    → "Have a nice day. Next!\u007F1\u0000\u0007"
 82: 0x0138 [0x23] WAIT_FOR_DIALOG_INTERACTION
 83: 0x0139 [0x01] GOTO 0x013C

SUBROUTINE_013C:
 84: 0x013C [0x01] GOTO 0x013F

SUBROUTINE_013F:
 85: 0x013F [0x21] END_EVENT
 86: 0x0140 [0x00] END_REQSTACK()
```
