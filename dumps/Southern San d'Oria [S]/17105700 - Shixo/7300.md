# Event 7300

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 374 bytes |
| Calculated Size | 374 bytes |
| Instructions    | 68        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    03 00 00 03 10 03 09  00 04 10 1A 10 00 21 00   .............!.
0010: 4A 24 03 05 01 F0 FF FF  7F 1D 00 80 23 1D 01 80  J$..........#...
0020: 23 06 02 00 06 03 00 06  01 00 02 02 00 02 80 00  #...............
0030: 0C 01 1A 0D 01 03 02 10  00 00 03 03 10 03 80 03  ................
0040: 09 17 04 80 03 04 10 05  80 03 0A 17 04 80 03 01  ................
0050: 00 06 80 0F 01 00 09 00  3D 01 00 02 80 07 80 24  ........=......$
0060: 08 80 03 00 01 00 25 02  00 10 02 80 00 75 00 05  ......%......u..
0070: 02 00 01 80 00 02 00 10  07 80 00 80 00 01 80 00  ................
0080: 03 03 00 00 10 02 03 00  02 80 02 09 01 03 05 00  ................
0090: 03 00 0C 05 00 9D 00 27  01 06 00 05 00 07 05 00  .......'........
00A0: 09 80 9D 00 27 01 07 00  05 00 03 19 17 06 00 02  ....'...........
00B0: 03 00 07 80 80 BE 00 1D  0A 80 23 01 BE 00 1D 0B  ..........#.....
00C0: 80 23 24 0C 80 07 80 02  80 25 02 00 10 02 80 00  .#$......%......
00D0: FE 00 02 00 00 07 00 04  F7 00 42 1D 0D 80 23 05  ..........B...#.
00E0: 02 00 40 02 80 0E 80 01  10 07 80 40 09 80 0F 80  ..@........@....
00F0: 01 10 03 00 01 FB 00 1D  10 80 23 01 09 01 02 00  ..........#.....
0100: 10 07 80 00 09 01 01 09  01 01 2A 00 1B 06 08 00  ..........*.....
0110: 02 08 00 11 80 03 26 01  9D 05 27 01 02 80 08 00  ......&...'.....
0120: 0B 08 00 01 10 01 1B 03  10 04 10 05 10 06 10 07  ................
0130: 10 08 10 09 10 00 17 01  17 02 17 03 17 04 17 05  ................
0140: 17 06 17 07 17 08 17 09  17 0A 17 0B 17 0C 17 0D  ................
0150: 17 0E 17 0F 17 10 17 11  17 12 17 13 17 14 17 15  ................
0160: 17 16 17 17 17 18 17 19  17 1A 17 1B 17 1C 17 1D  ................
0170: 17 1E 17 1F 17 02 10                              .......         
```

## Opcodes

```
  0: 0x0001 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[3]
  1: 0x0006 [0x03] ExtData[1]->WorkLocal[9] = Work_Zone[4]
  2: 0x000B [0x1A] CALL_SUBROUTINE(address=0x0010)
  3: 0x000E [0x21] END_EVENT
  4: 0x000F [0x00] END_REQSTACK()

SUBROUTINE_0010:
  5: 0x0010 [0x4A] Shixo (ID: 17105700/0x01050324) looks at LocalPlayer
  6: 0x0019 [0x1D] PRINT_EVENT_MESSAGE(message_id=15620*)
    → "You wanna be let in on a little secret? I found some goods of a most...vexing quality. Care for a glimpse?\u007F1\u0000\u0007"
  7: 0x001C [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x001D [0x1D] PRINT_EVENT_MESSAGE(message_id=15621*)
    → "These are a bit too precious to trade for just mere gil, but I'd be willing to part with 'em for some Allied Notes.\u007F1\u0000\u0007"
  9: 0x0020 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x0021 [0x06] ExtData[1]->WorkLocal[2] = 0
 11: 0x0024 [0x06] ExtData[1]->WorkLocal[3] = 0
 12: 0x0027 [0x06] ExtData[1]->WorkLocal[1] = 0

SUBROUTINE_002A:
 13: 0x002A [0x02] IF !(ExtData[1]->WorkLocal[2] == 0*) GOTO 0x010C
 14: 0x0032 [0x1A] CALL_SUBROUTINE(address=0x010D)
 15: 0x0035 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[0]
 16: 0x003A [0x03] Work_Zone[3] = 10131*
 17: 0x003F [0x03] Work_Zone_1700[9] = 1000*
 18: 0x0044 [0x03] Work_Zone[4] = 10163*
 19: 0x0049 [0x03] Work_Zone_1700[10] = 1000*
 20: 0x004E [0x03] ExtData[1]->WorkLocal[1] = 4294967295*
 21: 0x0053 [0x0F] ExtData[1]->WorkLocal[1] ^= ExtData[1]->WorkLocal[9]
 22: 0x0058 [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x01, bit_index_work_offset=0x8002, condition_work_offset=0x8007)
 23: 0x005F [0x24] CREATE_DIALOG(message_id=15622*, default_option=0x0003, option_flags=0x01)
    → "Which would you like? (
\u0000 note\u007F\u0012\u0000[/s])\u0007\u000BNone for the nonce.\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0001\u0000\u0000: 
\u0011 note\u007F\u0012\u0011[/s].\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0002\u0000\u0000: 
\u0012 note\u007F\u0012\u0012[/s].\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0003\u0000\u0000: 
\u0013 note\u007F\u0012\u0013[/s].\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0004\u0000\u0000: 
\u0014 note\u007F\u0012\u0014[/s].\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0005\u0000\u0000: 
\u0015 note\u007F\u0012\u0015[/s].\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0006\u0000\u0000: 
\u0016 note\u007F\u0012\u0016[/s].\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0007\u0000\u0000: 
\u0017 note\u007F\u0012\u0017[/s].\u0007\u007F\u0000\u0001\u0001\u0005#\u0002\u0008\u0000\u0000: 
\u0018 note\u007F\u0012\u0018[/s].\u007F1\u0000\u0007"
 24: 0x0066 [0x25] WAIT_DIALOG_SELECT()
 25: 0x0067 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0075
 26: 0x006F [0x05] ExtData[1]->WorkLocal[2] = 1
 27: 0x0072 [0x01] GOTO 0x0080
 28: 0x0075 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0080
 29: 0x007D [0x01] GOTO 0x0080

SUBROUTINE_0080:
 30: 0x0080 [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[0]
 31: 0x0085 [0x02] IF !(ExtData[1]->WorkLocal[3] <= 0*) GOTO 0x0109
 32: 0x008D [0x03] ExtData[1]->WorkLocal[5] = ExtData[1]->WorkLocal[3]
 33: 0x0092 [0x0C] ExtData[1]->WorkLocal[5]--
 34: 0x0095 [0x9D] ExtData[1]->WorkLocal[6] = 0x0127[ExtData[1]->WorkLocal[5]] // Read WORD
 35: 0x009D [0x07] ExtData[1]->WorkLocal[5] += 16*
 36: 0x00A2 [0x9D] ExtData[1]->WorkLocal[7] = 0x0127[ExtData[1]->WorkLocal[5]] // Read WORD
 37: 0x00AA [0x03] Work_Zone_1700[25] = ExtData[1]->WorkLocal[6]
 38: 0x00AF [0x02] IF !(ExtData[1]->WorkLocal[3] == 1*) GOTO 0x00BE
 39: 0x00B7 [0x1D] PRINT_EVENT_MESSAGE(message_id=15626*)
    → "The merchant who sold 'em to me claimed that you can use 'em to call people to help you in battle. Bah. What fool'd believe in that hocus-pocus?\u007F1\u0000\u0007"
 40: 0x00BA [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x00BB [0x01] GOTO 0x00BE

SUBROUTINE_00BE:
 42: 0x00BE [0x1D] PRINT_EVENT_MESSAGE(message_id=15623*)
    → "Sure 'bout this \u0001\u0005#\u0002!\u0000\u0000?\u007F1\u0000\u0007"
 43: 0x00C1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x00C2 [0x24] CREATE_DIALOG(message_id=15624*, default_option=1*, option_flags=0*)
    → "Purchase the \u0001\u0005#\u0002!\u0000\u0000?\u0007\u000BLet the exchange begin!\u0007On second thought, no.\u007F1\u0000\u0007"
 45: 0x00C9 [0x25] WAIT_DIALOG_SELECT()
 46: 0x00CA [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00FE
 47: 0x00D2 [0x02] IF !(ExtData[1]->WorkLocal[0] < ExtData[1]->WorkLocal[7]) GOTO 0x00F7
 48: 0x00DA [0x42] SET_CLI_EVENT_CANCEL_DATA()
 49: 0x00DB [0x1D] PRINT_EVENT_MESSAGE(message_id=15625*)
    → "Then the deal is sealed!\u0007(Hahaha, what a sucker!)\u007F1\u0000\u0007"
 50: 0x00DE [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x00DF [0x05] ExtData[1]->WorkLocal[2] = 1
 52: 0x00E2 [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=15*, target=Work_Zone[1], source=1*)
 53: 0x00EB [0x40] SET_BIT_WORK_RANGE(start_bit=16*, end_bit=31*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[3])
 54: 0x00F4 [0x01] GOTO 0x00FB
 55: 0x00F7 [0x1D] PRINT_EVENT_MESSAGE(message_id=15627*)
    → "You tryin' to cheat me? That's not nearly enough notes!\u007F1\u0000\u0007"
 56: 0x00FA [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_00FB:
 57: 0x00FB [0x01] GOTO 0x0109
 58: 0x00FE [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0109
 59: 0x0106 [0x01] GOTO 0x0109

SUBROUTINE_0109:
 60: 0x0109 [0x01] GOTO 0x002A
 61: 0x010C [0x1B] RETURN

SUBROUTINE_010D:
 62: 0x010D [0x06] ExtData[1]->WorkLocal[8] = 0

SUBROUTINE_0110:
 63: 0x0110 [0x02] IF !(ExtData[1]->WorkLocal[8] >= 40*) GOTO 0x0126
 64: 0x0118 [0x9D] 0x0127[ExtData[1]->WorkLocal[8] * 2] = 0* // Write WORD
 65: 0x0120 [0x0B] ExtData[1]->WorkLocal[8]++
 66: 0x0123 [0x01] GOTO 0x0110
 67: 0x0126 [0x1B] RETURN
```

## Data or dead code:

```
# Data Section: 0x0127 (80 bytes)
     0x0127: 03 10 04 10 05 10 06 10 07 10 08 10 09 10 00 17
     0x0137: 01 17 02 17 03 17 04 17 05 17 06 17 07 17 08 17
     0x0147: 09 17 0A 17 0B 17 0C 17 0D 17 0E 17 0F 17 10 17
     0x0157: 11 17 12 17 13 17 14 17 15 17 16 17 17 17 18 17
     0x0167: 19 17 1A 17 1B 17 1C 17 1D 17 1E 17 1F 17 02 10
```