# Event 177

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/10      |
| Offset          | 0x0535    |
| Data Size       | 568 bytes |
| Calculated Size | 568 bytes |
| Instructions    | 94        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0530:                42 1A 8C  18 46 01 38 04 80 43 00       B...F.8..C.
0540: 43 01 03 00 00 09 10 6A  00 80 02 80 03 80 5C 00  C......j......\.
0550: 3A 80 5C 01 3A 80 9A 34  3B 80 77 3C 80 1F 80 1C  :.\.:..4;.w<....
0560: 1F 80 AB 09 2F 00 C9 02  05 01 2F 00 C8 02 05 01  ..../...../.....
0570: 2F 00 CA 02 05 01 4E 00  C9 02 05 01 4E 00 C8 02  /.....N.....N...
0580: 05 01 4E 00 CA 02 05 01  92 01 C9 02 05 01 92 01  ..N.............
0590: C8 02 05 01 92 01 CA 02  05 01 BA C9 02 05 01 3D  ...............=
05A0: 80 3E 80 3F 80 40 80 BA  C8 02 05 01 41 80 42 80  .>.?.@......A.B.
05B0: 43 80 44 80 BA CA 02 05  01 45 80 46 80 47 80 44  C.D......E.F.G.D
05C0: 80 94 01 C9 02 05 01 94  01 C8 02 05 01 94 01 CA  ................
05D0: 02 05 01 4B CA 02 05 01  48 80 6F 76 CA 02 05 01  ...K....H.ov....
05E0: 80 C9 02 05 01 80 C8 02  05 01 80 CA 02 05 01 1C  ................
05F0: 0F 80 45 12 80 F8 FF FF  7F F8 FF FF 7F 73 30 34  ..E..........s04
0600: 30 00 80 1A E3 18 2B C7  02 05 01 49 80 23 55 12  0.....+....I.#U.
0610: 80 F8 FF FF 7F F8 FF FF  7F 73 30 34 30 45 12 80  .........s040E..
0620: F8 FF FF 7F F8 FF FF 7F  73 30 34 31 00 80 2B C7  ........s041..+.
0630: 02 05 01 4A 80 23 55 12  80 F8 FF FF 7F F8 FF FF  ...J.#U.........
0640: 7F 73 30 34 31 45 12 80  F8 FF FF 7F F8 FF FF 7F  .s041E..........
0650: 73 31 32 34 00 80 4B C8  02 05 01 4B 80 6F 76 C8  s124..K....K.ov.
0660: 02 05 01 66 2E 80 C8 02  05 01 C8 02 05 01 73 68  ...f..........sh
0670: 61 30 1C 4C 80 53 C8 02  05 01 C8 02 05 01 73 68  a0.L.S........sh
0680: 61 30 52 12 80 F8 FF FF  7F F8 FF FF 7F 73 31 32  a0R..........s12
0690: 34 45 12 80 F8 FF FF 7F  F8 FF FF 7F 73 30 33 38  4E..........s038
06A0: 00 80 2B C7 02 05 01 4D  80 23 1C 4E 80 1A 4A 18  ..+....M.#.N..J.
06B0: 27 10 CA 02 05 01 04 52  12 80 F8 FF FF 7F F8 FF  '......R........
06C0: FF 7F 73 30 33 38 45 12  80 F8 FF FF 7F F8 FF FF  ..s038E.........
06D0: 7F 73 30 33 39 00 80 1A  E3 18 1C 4E 80 66 2E 80  .s039......N.f..
06E0: C8 02 05 01 C8 02 05 01  73 68 61 31 53 C8 02 05  ........sha1S...
06F0: 01 C8 02 05 01 73 68 61  31 1C 22 80 4B C8 02 05  .....sha1.".K...
0700: 01 4F 80 6F 76 C8 02 05  01 1C 32 80 2B C7 02 05  .O.ov.....2.+...
0710: 01 50 80 23 1C 51 80 5D  00 80 02 80 55 12 80 F8  .P.#.Q.]....U...
0720: FF FF 7F F8 FF FF 7F 73  30 33 39 1A 6B 18 1C 0F  .......s039.k...
0730: 80 AB 11 00 80 1C 1F 80  35 52 80 78 1C 0F 80 AB  ........5R.x....
0740: 0A 02 00 00 00 80 00 4C  07 30 21 00 5D 37 80 02  .......L.0!.]7..
0750: 80 6A 38 80 02 80 2F 80  46 00 45 39 80 F0 FF FF  .j8.../.F.E9....
0760: 7F F0 FF FF 7F 66 64 69  32 00 80 21 00           .....fdi2..!.   
```

## Opcodes

```
  0: 0x0535 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0536 [0x1A] CALL_SUBROUTINE(address=0x188C)
  2: 0x0539 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x053B [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  4: 0x053E [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
  5: 0x0540 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
  6: 0x0542 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[9]
  7: 0x0547 [0x6A] CHANGE_SOUND_VOLUME: Set Effects/Zone volume to 0*, fade_time=120*
  8: 0x054E [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 122*
  9: 0x0552 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 122*
 10: 0x0556 [0x9A] WAIT_MUSIC_SERVER()
 11: 0x0557 [0x34] LOAD_UNLOAD_ZONE(zone_id=89*)
 12: 0x055A [0x77] SET_EVENT_TIME_WEATHER(hour=17*, weather=1*)
 13: 0x055F [0x1C] WAIT(1* ticks)
 14: 0x0562 [0xAB] EventEntity->UnknownFlag = 1 // Enable unknown flag
 15: 0x0564 [0x2F] Unnamed NPC (ID: 17105609/0x010502C9)->Render.Flags0 &= ~0x80000 // Bit 19
 16: 0x056A [0x2F] Unnamed NPC (ID: 17105608/0x010502C8)->Render.Flags0 &= ~0x80000 // Bit 19
 17: 0x0570 [0x2F] Unnamed NPC (ID: 17105610/0x010502CA)->Render.Flags0 &= ~0x80000 // Bit 19
 18: 0x0576 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17105609/0x010502C9)
 19: 0x057C [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17105608/0x010502C8)
 20: 0x0582 [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17105610/0x010502CA)
 21: 0x0588 [0x92] Unnamed NPC (ID: 17105609/0x010502C9)->Render.Flags3 ^= 0x01
 22: 0x058E [0x92] Unnamed NPC (ID: 17105608/0x010502C8)->Render.Flags3 ^= 0x01
 23: 0x0594 [0x92] Unnamed NPC (ID: 17105610/0x010502CA)->Render.Flags3 ^= 0x01
 24: 0x059A [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17105609/0x010502C9), pos_x=-483.222*, pos_z=-583.822*, pos_y=17.515*, direction=334.7°*)
 25: 0x05A7 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17105608/0x010502C8), pos_x=-171.026*, pos_z=-344.642*, pos_y=-26.017*, direction=62.7°*)
 26: 0x05B4 [0xBA] SET_ENTITY_POSITION(entity_id=Unnamed NPC (ID: 17105610/0x010502CA), pos_x=-154.258*, pos_z=-346.448*, pos_y=-23.108*, direction=62.7°*)
 27: 0x05C1 [0x94] Unnamed NPC (ID: 17105609/0x010502C9)->Render.Flags3 ^= 0x01
 28: 0x05C7 [0x94] Unnamed NPC (ID: 17105608/0x010502C8)->Render.Flags3 ^= 0x01
 29: 0x05CD [0x94] Unnamed NPC (ID: 17105610/0x010502CA)->Render.Flags3 ^= 0x01
 30: 0x05D3 [0x4B] UPDATE_ENTITY_YAW(entity=Unnamed NPC (ID: 17105610/0x010502CA), yaw=11.63°*)
 31: 0x05DA [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 32: 0x05DB [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Unnamed NPC (ID: 17105610/0x010502CA) Render.Flags0 and Render.Flags3 conditions are met
 33: 0x05E0 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17105609/0x010502C9))
 34: 0x05E5 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17105608/0x010502C8))
 35: 0x05EA [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17105610/0x010502CA))
 36: 0x05EF [0x1C] WAIT(15* ticks)
 37: 0x05F2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s040" with entities [EventEntity, EventEntity], work=[388*, 0*]
 38: 0x0603 [0x1A] CALL_SUBROUTINE(address=0x18E3)
 39: 0x0606 [0x2B] Nichais (ID: 17105607/0x010502C7) [13576*]:
    → "The legend itself has been passed down for hundreds of years now.\u0007The oldest existing literature on the subject claims that the wyrm's ancestral home lies somewhere in the Far East.\u007F1\u0000\u0007"
 40: 0x060D [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x060E [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "s040" with entities [EventEntity, EventEntity], work=388*
 42: 0x061D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s041" with entities [EventEntity, EventEntity], work=[388*, 0*]
 43: 0x062E [0x2B] Nichais (ID: 17105607/0x010502C7) [13577*]:
    → "Many finer details of the stories differ from one another, but one astonishing fact seems to be agreed upon by all the sources I have had the chance to study.\u0007They say that the wyrm relished in taking on the form of an elegant young Elvaan maiden, under the guise of which she would call upon villages and hamlets.\u007F1\u0000\u0007"
 44: 0x0635 [0x23] WAIT_FOR_DIALOG_INTERACTION
 45: 0x0636 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "s041" with entities [EventEntity, EventEntity], work=388*
 46: 0x0645 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s124" with entities [EventEntity, EventEntity], work=[388*, 0*]
 47: 0x0656 [0x4B] UPDATE_ENTITY_YAW(entity=Unnamed NPC (ID: 17105608/0x010502C8), yaw=9.89°*)
 48: 0x065D [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 49: 0x065E [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Unnamed NPC (ID: 17105608/0x010502C8) Render.Flags0 and Render.Flags3 conditions are met
 50: 0x0663 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "sha0" with entities [Unnamed NPC (ID: 17105608/0x010502C8), Unnamed NPC (ID: 17105608/0x010502C8)], work=39*
 51: 0x0672 [0x1C] WAIT(130* ticks)
 52: 0x0675 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "sha0" with entities [Unnamed NPC (ID: 17105608/0x010502C8), Unnamed NPC (ID: 17105608/0x010502C8)]
 53: 0x0682 [0x52] END_LOAD_SCHEDULER: End scheduler "s124" with entities [EventEntity, EventEntity], work=388*
 54: 0x0691 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s038" with entities [EventEntity, EventEntity], work=[388*, 0*]
 55: 0x06A2 [0x2B] Nichais (ID: 17105607/0x010502C7) [13578*]:
    → "Until one day she capriciously took wing and bore the high winds to our continent of Quon, settling in the harsh environs of Grauberg.\u0007There she met a great and mighty warrior, and they bound themselves to their words and to each other, entering into a noble and timeless oath.\u007F1\u0000\u0007"
 56: 0x06A9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x06AA [0x1C] WAIT(100* ticks)
 58: 0x06AD [0x1A] CALL_SUBROUTINE(address=0x184A)
 59: 0x06B0 [0x27] REQ_SET(priority=0x10, entity_id=Unnamed NPC (ID: 17105610/0x010502CA), tag_num=0x04)
 60: 0x06B7 [0x52] END_LOAD_SCHEDULER: End scheduler "s038" with entities [EventEntity, EventEntity], work=388*
 61: 0x06C6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s039" with entities [EventEntity, EventEntity], work=[388*, 0*]
 62: 0x06D7 [0x1A] CALL_SUBROUTINE(address=0x18E3)
 63: 0x06DA [0x1C] WAIT(100* ticks)
 64: 0x06DD [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "sha1" with entities [Unnamed NPC (ID: 17105608/0x010502C8), Unnamed NPC (ID: 17105608/0x010502C8)], work=39*
 65: 0x06EC [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "sha1" with entities [Unnamed NPC (ID: 17105608/0x010502C8), Unnamed NPC (ID: 17105608/0x010502C8)]
 66: 0x06F9 [0x1C] WAIT(25* ticks)
 67: 0x06FC [0x4B] UPDATE_ENTITY_YAW(entity=Unnamed NPC (ID: 17105608/0x010502C8), yaw=0.35°*)
 68: 0x0703 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 69: 0x0704 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Unnamed NPC (ID: 17105608/0x010502C8) Render.Flags0 and Render.Flags3 conditions are met
 70: 0x0709 [0x1C] WAIT(30* ticks)
 71: 0x070C [0x2B] Nichais (ID: 17105607/0x010502C7) [13579*]:
    → "A pact born of honor, and swearing protection.\u0007The Eastdrake thus became the \u00072Mountain's Eye,\u00073 vowing to give her life in defense of the peak, the warrior, and his line, for all of time.\u007F1\u0000\u0007"
 72: 0x0713 [0x23] WAIT_FOR_DIALOG_INTERACTION
 73: 0x0714 [0x1C] WAIT(135* ticks)
 74: 0x0717 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=120*)
 75: 0x071C [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "s039" with entities [EventEntity, EventEntity], work=388*
 76: 0x072B [0x1A] CALL_SUBROUTINE(address=0x186B)
 77: 0x072E [0x1C] WAIT(15* ticks)
 78: 0x0731 [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
 79: 0x0735 [0x1C] WAIT(1* ticks)
 80: 0x0738 [0x35] LOAD_ZONE_NO_CLOSE(zone_id=80*)
 81: 0x073B [0x78] ENABLE_GAME_TIMER_RESET_WEATHER()
 82: 0x073C [0x1C] WAIT(15* ticks)
 83: 0x073F [0xAB] EventEntity->UnknownFlag = 0 // Disable unknown flag
 84: 0x0741 [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x074C
 85: 0x0749 [0x30] SET_UCOFF_CONTINUE_ZERO()
 86: 0x074A [0x21] END_EVENT
 87: 0x074B [0x00] END_REQSTACK()
 88: 0x074C [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=120*)
 89: 0x0751 [0x6A] CHANGE_SOUND_VOLUME: Set Effects/System/Zone volume to 999*, fade_time=120*
 90: 0x0758 [0x46] CAMERA_CONTROL: Restore default settings
 91: 0x075A [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 92: 0x076B [0x21] END_EVENT
 93: 0x076C [0x00] END_REQSTACK()
```
