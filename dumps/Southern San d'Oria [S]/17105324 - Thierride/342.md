# Event 342

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 11/18     |
| Offset          | 0x0B78    |
| Data Size       | 534 bytes |
| Calculated Size | 534 bytes |
| Instructions    | 80        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0B70:                          42 20 01 46 01 45 01 80          B .F.E..
0B80: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 02 80 1C 03  ........fdo1....
0B90: 80 38 04 80 45 05 80 F0  FF FF 7F F0 FF FF 7F 6B  .8..E..........k
0BA0: 6F 30 31 02 80 4E 00 F8  FF FF 7F 92 01 AC 01 05  o01..N..........
0BB0: 01 29 0F F0 FF FF 7F 07  29 0F AF 01 05 01 02 80  .)......).......
0BC0: F0 FF FF 7F 80 AC 01 05  01 80 AF 01 05 01 1E F0  ................
0BD0: FF FF 7F 79 00 F0 FF FF  7F AC 01 05 01 45 01 80  ...y.........E..
0BE0: F0 FF FF 7F F0 FF FF 7F  66 64 69 31 02 80 1C 03  ........fdi1....
0BF0: 80 1D 45 80 23 52 05 80  F0 FF FF 7F F0 FF FF 7F  ..E.#R..........
0C00: 6B 6F 30 31 45 05 80 F0  FF FF 7F F0 FF FF 7F 6B  ko01E..........k
0C10: 6F 30 32 02 80 03 02 10  41 80 1D 46 80 23 6E AC  o02.....A..F.#n.
0C20: 01 05 01 0C 80 99 AC 01  05 01 1D 47 80 23 99 AC  ...........G.#..
0C30: 01 05 01 52 05 80 F0 FF  FF 7F F0 FF FF 7F 6B 6F  ...R..........ko
0C40: 30 32 45 05 80 F0 FF FF  7F F0 FF FF 7F 6B 6F 30  02E..........ko0
0C50: 36 02 80 6E AC 01 05 01  0A 80 99 AC 01 05 01 1D  6..n............
0C60: 48 80 23 99 AC 01 05 01  4B AC 01 05 01 49 80 6F  H.#.....K....I.o
0C70: 76 AC 01 05 01 1D 4A 80  23 79 00 AC 01 05 01 AF  v.....J.#y......
0C80: 01 05 01 1C 4B 80 52 05  80 F0 FF FF 7F F0 FF FF  ....K.R.........
0C90: 7F 6B 6F 30 36 45 01 80  F0 FF FF 7F F0 FF FF 7F  .ko06E..........
0CA0: 6F 76 6C 31 02 80 45 05  80 F0 FF FF 7F F0 FF FF  ovl1..E.........
0CB0: 7F 6B 6F 31 34 02 80 1D  4C 80 23 03 02 10 4D 80  .ko14...L.#...M.
0CC0: 55 05 80 F0 FF FF 7F F0  FF FF 7F 6B 6F 31 34 1C  U..........ko14.
0CD0: 3D 80 7B AC 01 05 01 45  05 80 F0 FF FF 7F F0 FF  =.{....E........
0CE0: FF 7F 6B 6F 30 32 02 80  1E F0 FF FF 7F 6F 70 1D  ..ko02.......op.
0CF0: 4E 80 23 66 4F 80 F8 FF  FF 7F F8 FF FF 7F 70 61  N.#fO.........pa
0D00: 73 30 1C 19 80 52 05 80  F0 FF FF 7F F0 FF FF 7F  s0...R..........
0D10: 6B 6F 30 32 45 05 80 F0  FF FF 7F F0 FF FF 7F 6B  ko02E..........k
0D20: 6F 31 35 02 80 1C 19 80  1D 50 80 23 1C 19 80 6E  o15......P.#...n
0D30: AC 01 05 01 51 80 99 AC  01 05 01 99 AC 01 05 01  ....Q...........
0D40: 1C 52 80 45 01 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .R.E..........fd
0D50: 6F 31 02 80 1C 03 80 52  05 80 F0 FF FF 7F F0 FF  o1.....R........
0D60: FF 7F 6B 6F 31 35 46 00  45 01 80 F0 FF FF 7F F0  ..ko15F.E.......
0D70: FF FF 7F 66 64 69 31 02  80 20 00 45 2F 80 F8 FF  ...fdi1.. .E/...
0D80: FF 7F F8 FF FF 7F 71 73  74 63 02 80 21 00        ......qstc..!.  
```

## Opcodes

```
  0: 0x0B78 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0B79 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  2: 0x0B7B [0x46] CAMERA_CONTROL: Disable user control
  3: 0x0B7D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
  4: 0x0B8E [0x1C] WAIT(60* ticks)
  5: 0x0B91 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  6: 0x0B94 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ko01" with entities [LocalPlayer, LocalPlayer], work=[341*, 0*]
  7: 0x0BA5 [0x4E] SET_ENTITY_HIDE_FLAG: Show EventEntity
  8: 0x0BAB [0x92] Thierride (ID: 17105324/0x010501AC)->Render.Flags3 ^= 0x01
  9: 0x0BB1 [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=LocalPlayer, tag_num=0x07)
 10: 0x0BB8 [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=Unnamed NPC (ID: 17105327/0x010501AF), tag_num=0x02)
 11: 0x0BBF [0x80] LOAD_WAIT(entity=LocalPlayer)
 12: 0x0BC4 [0x80] LOAD_WAIT(entity=Thierride (ID: 17105324/0x010501AC))
 13: 0x0BC9 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17105327/0x010501AF))
 14: 0x0BCE [0x1E] EventEntity looks at LocalPlayer and starts talking
 15: 0x0BD3 [0x79] LocalPlayer looks at Thierride (ID: 17105324/0x010501AC) (Basic look)
 16: 0x0BDD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 17: 0x0BEE [0x1C] WAIT(60* ticks)
 18: 0x0BF1 [0x1D] PRINT_EVENT_MESSAGE(message_id=7571*)
    → "Ah, superb timing!\u007F1\u0000\u0007"
 19: 0x0BF4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x0BF5 [0x52] END_LOAD_SCHEDULER: End scheduler "ko01" with entities [LocalPlayer, LocalPlayer], work=341*
 21: 0x0C04 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ko02" with entities [LocalPlayer, LocalPlayer], work=[341*, 0*]
 22: 0x0C15 [0x03] Work_Zone[2] = 1019*
 23: 0x0C1A [0x1D] PRINT_EVENT_MESSAGE(message_id=7572*)
    → "Since that day, I was able to make arrangements through my knight friend.\u007F1\u0000\u0007"
 24: 0x0C1D [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x0C1E [0x6E] Thierride (ID: 17105324/0x010501AC) uses emote 36*
 26: 0x0C25 [0x99] Wait for Thierride (ID: 17105324/0x010501AC) animation to complete
 27: 0x0C2A [0x1D] PRINT_EVENT_MESSAGE(message_id=7573*)
    → "The knights have agreed to deliver \u0001\u0005%\u0002\u0000\u0000\u0000 to me--on the condition that I make the bean dish for their rations! This will surely keep me busy for a while.\u007F1\u0000\u0007"
 28: 0x0C2D [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x0C2E [0x99] Wait for Thierride (ID: 17105324/0x010501AC) animation to complete
 30: 0x0C33 [0x52] END_LOAD_SCHEDULER: End scheduler "ko02" with entities [LocalPlayer, LocalPlayer], work=341*
 31: 0x0C42 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ko06" with entities [LocalPlayer, LocalPlayer], work=[341*, 0*]
 32: 0x0C53 [0x6E] Thierride (ID: 17105324/0x010501AC) uses emote 22*
 33: 0x0C5A [0x99] Wait for Thierride (ID: 17105324/0x010501AC) animation to complete
 34: 0x0C5F [0x1D] PRINT_EVENT_MESSAGE(message_id=7574*)
    → "Though my plans for the diner have been postponed, I appreciate this opportunity to contribute in my own small way to the war effort.\u0007Heheh...\u007F1\u0000\u0007"
 35: 0x0C62 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x0C63 [0x99] Wait for Thierride (ID: 17105324/0x010501AC) animation to complete
 37: 0x0C68 [0x4B] UPDATE_ENTITY_YAW(entity=Thierride (ID: 17105324/0x010501AC), yaw=12.1°*)
 38: 0x0C6F [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 39: 0x0C70 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Thierride (ID: 17105324/0x010501AC) Render.Flags0 and Render.Flags3 conditions are met
 40: 0x0C75 [0x1D] PRINT_EVENT_MESSAGE(message_id=7575*)
    → "The sooner the war ends, the sooner I can return to sea and resume working as a fisherman.\u007F1\u0000\u0007"
 41: 0x0C78 [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x0C79 [0x79] Thierride (ID: 17105324/0x010501AC) looks at Unnamed NPC (ID: 17105327/0x010501AF) (Basic look)
 43: 0x0C83 [0x1C] WAIT(45* ticks)
 44: 0x0C86 [0x52] END_LOAD_SCHEDULER: End scheduler "ko06" with entities [LocalPlayer, LocalPlayer], work=341*
 45: 0x0C95 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 46: 0x0CA6 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ko14" with entities [LocalPlayer, LocalPlayer], work=[341*, 0*]
 47: 0x0CB7 [0x1D] PRINT_EVENT_MESSAGE(message_id=7576*)
    → "Until then, I shall leave my anchor lowered right here, in San d'Oria.\u0000\u0007"
 48: 0x0CBA [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0x0CBB [0x03] Work_Zone[2] = 5704*
 50: 0x0CC0 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "ko14" with entities [LocalPlayer, LocalPlayer], work=341*
 51: 0x0CCF [0x1C] WAIT(120* ticks)
 52: 0x0CD2 [0x7B] Thierride (ID: 17105324/0x010501AC) stops talking
 53: 0x0CD7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ko02" with entities [LocalPlayer, LocalPlayer], work=[341*, 0*]
 54: 0x0CE8 [0x1E] EventEntity looks at LocalPlayer and starts talking
 55: 0x0CED [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 56: 0x0CEE [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 57: 0x0CEF [0x1D] PRINT_EVENT_MESSAGE(message_id=7577*)
    → "I've been wanting you to taste my new specialty, \u0001\u0005#\u0002\u0000\u0000\u0000. After all, it is to you that this dish owes its existence.\u007F1\u0000\u0007"
 58: 0x0CF2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0x0CF3 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "pas0" with entities [EventEntity, EventEntity], work=20*
 60: 0x0D02 [0x1C] WAIT(90* ticks)
 61: 0x0D05 [0x52] END_LOAD_SCHEDULER: End scheduler "ko02" with entities [LocalPlayer, LocalPlayer], work=341*
 62: 0x0D14 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ko15" with entities [LocalPlayer, LocalPlayer], work=[341*, 0*]
 63: 0x0D25 [0x1C] WAIT(90* ticks)
 64: 0x0D28 [0x1D] PRINT_EVENT_MESSAGE(message_id=7578*)
    → "Please drop by anytime. I look forward to seeing you again.\u0000\u0007"
 65: 0x0D2B [0x23] WAIT_FOR_DIALOG_INTERACTION
 66: 0x0D2C [0x1C] WAIT(90* ticks)
 67: 0x0D2F [0x6E] Thierride (ID: 17105324/0x010501AC) uses emote 9*
 68: 0x0D36 [0x99] Wait for Thierride (ID: 17105324/0x010501AC) animation to complete
 69: 0x0D3B [0x99] Wait for Thierride (ID: 17105324/0x010501AC) animation to complete
 70: 0x0D40 [0x1C] WAIT(180* ticks)
 71: 0x0D43 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 72: 0x0D54 [0x1C] WAIT(60* ticks)
 73: 0x0D57 [0x52] END_LOAD_SCHEDULER: End scheduler "ko15" with entities [LocalPlayer, LocalPlayer], work=341*
 74: 0x0D66 [0x46] CAMERA_CONTROL: Restore default settings
 75: 0x0D68 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 76: 0x0D79 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 77: 0x0D7B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [EventEntity, EventEntity], work=[201*, 0*]
 78: 0x0D8C [0x21] END_EVENT
 79: 0x0D8D [0x00] END_REQSTACK()
```
