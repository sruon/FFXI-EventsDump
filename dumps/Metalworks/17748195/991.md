# Event 991

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/4       |
| Offset          | 0x042F    |
| Data Size       | 760 bytes |
| Calculated Size | 760 bytes |
| Instructions    | 108       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0420:                                               02                 .
0430: 02 10 00 80 00 58 04 4A  2C D0 0E 01 F0 FF FF 7F  .....X.J,.......
0440: 6F 76 2C D0 0E 01 2B 2C  D0 0E 01 26 80 23 2B 2C  ov,...+,...&.#+,
0450: D0 0E 01 27 80 23 21 00  42 02 09 10 02 80 00 78  ...'.#!.B......x
0460: 04 4A 2C D0 0E 01 F0 FF  FF 7F 6F 76 2C D0 0E 01  .J,.......ov,...
0470: 2B 2C D0 0E 01 28 80 23  5D 02 80 06 80 45 04 80  +,...(.#]....E..
0480: F0 FF FF 7F F0 FF FF 7F  66 64 6F 31 02 80 55 04  ........fdo1..U.
0490: 80 F0 FF FF 7F F0 FF FF  7F 66 64 6F 31 46 01 38  .........fdo1F.8
04A0: 05 80 75 00 06 80 75 01  92 01 2B D0 0E 01 92 01  ..u...u...+.....
04B0: 2C D0 0E 01 94 01 2B D0  0E 01 94 01 2C D0 0E 01  ,.....+.....,...
04C0: 94 01 F0 FF FF 7F BA 2C  D0 0E 01 07 80 02 80 08  .......,........
04D0: 80 09 80 BA F0 FF FF 7F  0A 80 0B 80 08 80 0C 80  ................
04E0: 4A 2C D0 0E 01 F0 FF FF  7F 4A F0 FF FF 7F 2C D0  J,.......J....,.
04F0: 0E 01 6F 76 2C D0 0E 01  80 2C D0 0E 01 1C 0D 80  ..ov,....,......
0500: 45 04 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 31 02  E..........fdi1.
0510: 80 02 87 7F 1E 80 80 2D  05 45 0E 80 F8 FF FF 7F  .......-.E......
0520: F8 FF FF 7F 73 74 31 30  02 80 01 5A 05 02 87 7F  ....st10...Z....
0530: 1F 80 80 49 05 45 0E 80  F8 FF FF 7F F8 FF FF 7F  ...I.E..........
0540: 73 74 31 30 02 80 01 5A  05 45 0E 80 F8 FF FF 7F  st10...Z.E......
0550: F8 FF FF 7F 73 30 31 30  02 80 1C 0F 80 27 10 F0  ....s010.....'..
0560: FF FF 7F B8 1C 29 80 2A  10 F0 FF FF 7F 66 0D 80  .....).*.....f..
0570: 2C D0 0E 01 2C D0 0E 01  74 6C 6B 30 2B 2C D0 0E  ,...,...tlk0+,..
0580: 01 2A 80 1C 10 80 23 66  0D 80 2C D0 0E 01 2C D0  .*....#f..,...,.
0590: 0E 01 74 6C 6B 31 02 87  7F 1E 80 80 B0 05 52 0E  ..tlk1........R.
05A0: 80 F8 FF FF 7F F8 FF FF  7F 73 74 31 30 01 D9 05  .........st10...
05B0: 02 87 7F 1F 80 80 CA 05  52 0E 80 F8 FF FF 7F F8  ........R.......
05C0: FF FF 7F 73 74 31 30 01  D9 05 52 0E 80 F8 FF FF  ...st10...R.....
05D0: 7F F8 FF FF 7F 73 30 31  30 45 0E 80 F8 FF FF 7F  .....s010E......
05E0: F8 FF FF 7F 73 30 31 31  02 80 2B 2C D0 0E 01 2B  ....s011..+,...+
05F0: 80 23 2B 2C D0 0E 01 2C  80 23 1C 0D 80 7B 2C D0  .#+,...,.#...{,.
0600: 0E 01 27 10 2C D0 0E 01  59 7B F0 FF FF 7F 27 10  ..'.,...Y{....'.
0610: F0 FF FF 7F BF 1C 2D 80  52 0E 80 F8 FF FF 7F F8  ......-.R.......
0620: FF FF 7F 73 30 31 31 45  0E 80 F8 FF FF 7F F8 FF  ...s011E........
0630: FF 7F 73 30 31 32 02 80  2A 10 2C D0 0E 01 4A F0  ..s012..*.,...J.
0640: FF FF 7F 2C D0 0E 01 1C  10 80 52 0E 80 F8 FF FF  ...,......R.....
0650: 7F F8 FF FF 7F 73 30 31  32 45 0E 80 F8 FF FF 7F  .....s012E......
0660: F8 FF FF 7F 73 30 31 33  02 80 81 00 2C D0 0E 01  ....s013....,...
0670: 1C 0F 80 2B 2C D0 0E 01  27 80 23 1C 10 80 81 01  ...+,...'.#.....
0680: 2C D0 0E 01 27 10 2C D0  0E 01 5A 52 0E 80 F8 FF  ,...'.,...ZR....
0690: FF 7F F8 FF FF 7F 73 30  31 33 45 0E 80 F8 FF FF  ......s013E.....
06A0: 7F F8 FF FF 7F 73 30 31  34 02 80 2B 2C D0 0E 01  .....s014..+,...
06B0: 2E 80 1C 0D 80 4A F0 FF  FF 7F 2C D0 0E 01 1C 2F  .....J....,..../
06C0: 80 27 10 4E D0 0E 01 03  1C 10 80 45 04 80 F0 FF  .'.N.......E....
06D0: FF 7F F0 FF FF 7F 66 64  6F 31 02 80 55 04 80 F0  ......fdo1..U...
06E0: FF FF 7F F0 FF FF 7F 66  64 6F 31 52 0E 80 F8 FF  .......fdo1R....
06F0: FF 7F F8 FF FF 7F 73 30  31 34 5C 00 25 80 5C 01  ......s014\.%.\.
0700: 25 80 9A 5D 09 80 10 80  1C 14 80 AB 11 02 80 1C  %..]............
0710: 00 80 46 00 45 04 80 F0  FF FF 7F F0 FF FF 7F 66  ..F.E..........f
0720: 64 69 32 02 80 21 00                              di2..!.         
```

## Opcodes

```
  0: 0x042F [0x02] IF !(Work_Zone[2] == 1*) GOTO 0x0458
  1: 0x0437 [0x4A] Raibaht (ID: 17748012/0x010ED02C) looks at LocalPlayer
  2: 0x0440 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x0441 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Raibaht (ID: 17748012/0x010ED02C) Render.Flags0 and Render.Flags3 conditions are met
  4: 0x0446 [0x2B] Raibaht (ID: 17748012/0x010ED02C) [7438*]:
    → "Talk to Midras. He'll know which explosives you need.\u007F1\u0000\u0007"
  5: 0x044D [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x044E [0x2B] Raibaht (ID: 17748012/0x010ED02C) [7436*]:
    → "That kid would always be hanging around the port docks when something was on his mind. If they have docks over in Adoulin, I'm guessing that's where he'd be.\u007F1\u0000\u0007"
  7: 0x0455 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x0456 [0x21] END_EVENT
  9: 0x0457 [0x00] END_REQSTACK()

SUBROUTINE_0458:
 10: 0x0458 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 11: 0x0459 [0x02] IF !(Work_Zone[9] == 0*) GOTO 0x0478
 12: 0x0461 [0x4A] Raibaht (ID: 17748012/0x010ED02C) looks at LocalPlayer
 13: 0x046A [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 14: 0x046B [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Raibaht (ID: 17748012/0x010ED02C) Render.Flags0 and Render.Flags3 conditions are met
 15: 0x0470 [0x2B] Raibaht (ID: 17748012/0x010ED02C) [7432*]:
    → "You're back. Not so loud.\u007F1\u0000\u0007"
 16: 0x0477 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x0478 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=300*)
 18: 0x047D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 19: 0x048E [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
 20: 0x049D [0x46] CAMERA_CONTROL: Disable user control
 21: 0x049F [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 22: 0x04A2 [0x75] LOAD_ROOM(Load indoor room, room=300*)
 23: 0x04A6 [0x75] LOAD_ROOM(No action)
 24: 0x04A8 [0x92] Cid (ID: 17748011/0x010ED02B)->Render.Flags3 ^= 0x01
 25: 0x04AE [0x92] Raibaht (ID: 17748012/0x010ED02C)->Render.Flags3 ^= 0x01
 26: 0x04B4 [0x94] Cid (ID: 17748011/0x010ED02B)->Render.Flags3 ^= 0x01
 27: 0x04BA [0x94] Raibaht (ID: 17748012/0x010ED02C)->Render.Flags3 ^= 0x01
 28: 0x04C0 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 29: 0x04C6 [0xBA] SET_ENTITY_POSITION(entity_id=References[17715244], pos_x=-49.500*, pos_z=0.000*, pos_y=-10.000*, direction=11.2°*)
 30: 0x04D3 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-47.000*, pos_z=-0.500*, pos_y=-10.000*, direction=191.2°*)
 31: 0x04E0 [0x4A] Raibaht (ID: 17748012/0x010ED02C) looks at LocalPlayer
 32: 0x04E9 [0x4A] LocalPlayer looks at Raibaht (ID: 17748012/0x010ED02C)
 33: 0x04F2 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 34: 0x04F3 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Raibaht (ID: 17748012/0x010ED02C) Render.Flags0 and Render.Flags3 conditions are met
 35: 0x04F8 [0x80] LOAD_WAIT(entity=Raibaht (ID: 17748012/0x010ED02C))
 36: 0x04FD [0x1C] WAIT(60* ticks)
 37: 0x0500 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi1", work_offset2=0*)
 38: 0x0511 [0x02] IF !(LocalPlayer->Race == 5*) GOTO 0x052D
 39: 0x0519 [0x45] LOAD_SCHEDULED_TASK(work_offset1=783*, entity1=EventEntity, entity2=EventEntity, scheduler_id="st10", work_offset2=0*)
 40: 0x052A [0x01] GOTO 0x055A

SUBROUTINE_052D:
 41: 0x052D [0x02] IF !(LocalPlayer->Race == 6*) GOTO 0x0549
 42: 0x0535 [0x45] LOAD_SCHEDULED_TASK(work_offset1=783*, entity1=EventEntity, entity2=EventEntity, scheduler_id="st10", work_offset2=0*)
 43: 0x0546 [0x01] GOTO 0x055A

SUBROUTINE_0549:
 44: 0x0549 [0x45] LOAD_SCHEDULED_TASK(work_offset1=783*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s010", work_offset2=0*)
 45: 0x055A [0x1C] WAIT(30* ticks)
 46: 0x055D [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0xB8)
 47: 0x0564 [0x1C] WAIT(150* ticks)
 48: 0x0567 [0x2A] GET_REQ_LEVEL(level=16, entity_id=LocalPlayer)
 49: 0x056D [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=60*, entity1=Raibaht (ID: 17748012/0x010ED02C), entity2=Raibaht (ID: 17748012/0x010ED02C), action="tlk0")
 50: 0x057C [0x2B] Raibaht (ID: 17748012/0x010ED02C) [7433*]:
    → "Hrmmm... You know who knows the right explosive mixtures for the bedrock in Palborough better than anyone?\u007F1\u0000\u0007"
 51: 0x0583 [0x1C] WAIT(120* ticks)
 52: 0x0586 [0x23] WAIT_FOR_DIALOG_INTERACTION
 53: 0x0587 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=60*, entity1=Raibaht (ID: 17748012/0x010ED02C), entity2=Raibaht (ID: 17748012/0x010ED02C), action="tlk1")
 54: 0x0596 [0x02] IF !(LocalPlayer->Race == 5*) GOTO 0x05B0
 55: 0x059E [0x52] END_LOAD_SCHEDULER: End scheduler "st10" with entities [EventEntity, EventEntity], work=783*
 56: 0x05AD [0x01] GOTO 0x05D9

SUBROUTINE_05B0:
 57: 0x05B0 [0x02] IF !(LocalPlayer->Race == 6*) GOTO 0x05CA
 58: 0x05B8 [0x52] END_LOAD_SCHEDULER: End scheduler "st10" with entities [EventEntity, EventEntity], work=783*
 59: 0x05C7 [0x01] GOTO 0x05D9

SUBROUTINE_05CA:
 60: 0x05CA [0x52] END_LOAD_SCHEDULER: End scheduler "s010" with entities [EventEntity, EventEntity], work=783*
 61: 0x05D9 [0x45] LOAD_SCHEDULED_TASK(work_offset1=783*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s011", work_offset2=0*)
 62: 0x05EA [0x2B] Raibaht (ID: 17748012/0x010ED02C) [7434*]:
    → "That's right. Midras.\u007F1\u0000\u0007"
 63: 0x05F1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 64: 0x05F2 [0x2B] Raibaht (ID: 17748012/0x010ED02C) [7435*]:
    → "I don't know if he'd be willing to help, but he's the one you need to talk to.\u007F1\u0000\u0007"
 65: 0x05F9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 66: 0x05FA [0x1C] WAIT(60* ticks)
 67: 0x05FD [0x7B] Raibaht (ID: 17748012/0x010ED02C) stops talking
 68: 0x0602 [0x27] REQ_SET(priority=0x10, entity_id=Raibaht (ID: 17748012/0x010ED02C), tag_num=0x59)
 69: 0x0609 [0x7B] LocalPlayer stops talking
 70: 0x060E [0x27] REQ_SET(priority=0x10, entity_id=LocalPlayer, tag_num=0xBF)
 71: 0x0615 [0x1C] WAIT(10* ticks)
 72: 0x0618 [0x52] END_LOAD_SCHEDULER: End scheduler "s011" with entities [EventEntity, EventEntity], work=783*
 73: 0x0627 [0x45] LOAD_SCHEDULED_TASK(work_offset1=783*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s012", work_offset2=0*)
 74: 0x0638 [0x2A] GET_REQ_LEVEL(level=16, entity_id=Raibaht (ID: 17748012/0x010ED02C))
 75: 0x063E [0x4A] LocalPlayer looks at Raibaht (ID: 17748012/0x010ED02C)
 76: 0x0647 [0x1C] WAIT(120* ticks)
 77: 0x064A [0x52] END_LOAD_SCHEDULER: End scheduler "s012" with entities [EventEntity, EventEntity], work=783*
 78: 0x0659 [0x45] LOAD_SCHEDULED_TASK(work_offset1=783*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s013", work_offset2=0*)
 79: 0x066A [0x81] SET_ENTITY_BLINKING(blink_flag=0x00, entity=Raibaht (ID: 17748012/0x010ED02C))
 80: 0x0670 [0x1C] WAIT(30* ticks)
 81: 0x0673 [0x2B] Raibaht (ID: 17748012/0x010ED02C) [7436*]:
    → "That kid would always be hanging around the port docks when something was on his mind. If they have docks over in Adoulin, I'm guessing that's where he'd be.\u007F1\u0000\u0007"
 82: 0x067A [0x23] WAIT_FOR_DIALOG_INTERACTION
 83: 0x067B [0x1C] WAIT(120* ticks)
 84: 0x067E [0x81] SET_ENTITY_BLINKING(blink_flag=0x01, entity=Raibaht (ID: 17748012/0x010ED02C))
 85: 0x0684 [0x27] REQ_SET(priority=0x10, entity_id=Raibaht (ID: 17748012/0x010ED02C), tag_num=0x5A)
 86: 0x068B [0x52] END_LOAD_SCHEDULER: End scheduler "s013" with entities [EventEntity, EventEntity], work=783*
 87: 0x069A [0x45] LOAD_SCHEDULED_TASK(work_offset1=783*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s014", work_offset2=0*)
 88: 0x06AB [0x2B] Raibaht (ID: 17748012/0x010ED02C) [7437*]:
    → "I've got to get back to work now.\u0000\u0007"
 89: 0x06B2 [0x1C] WAIT(60* ticks)
 90: 0x06B5 [0x4A] LocalPlayer looks at Raibaht (ID: 17748012/0x010ED02C)
 91: 0x06BE [0x1C] WAIT(180* ticks)
 92: 0x06C1 [0x27] REQ_SET(priority=0x10, entity_id=Door:Cid's Lab (ID: 17748046/0x010ED04E), tag_num=0x03)
 93: 0x06C8 [0x1C] WAIT(120* ticks)
 94: 0x06CB [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1", work_offset2=0*)
 95: 0x06DC [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdo1")
 96: 0x06EB [0x52] END_LOAD_SCHEDULER: End scheduler "s014" with entities [EventEntity, EventEntity], work=783*
 97: 0x06FA [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 154*
 98: 0x06FE [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 154*
 99: 0x0702 [0x9A] WAIT_MUSIC_SERVER()
100: 0x0703 [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=120*)
101: 0x0708 [0x1C] WAIT(15* ticks)
102: 0x070B [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
103: 0x070F [0x1C] WAIT(1* ticks)
104: 0x0712 [0x46] CAMERA_CONTROL: Restore default settings
105: 0x0714 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=LocalPlayer, entity2=LocalPlayer, scheduler_id="fdi2", work_offset2=0*)
106: 0x0725 [0x21] END_EVENT
107: 0x0726 [0x00] END_REQSTACK()
```
