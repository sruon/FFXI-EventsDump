# Event 102

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 18/41     |
| Offset          | 0x0849    |
| Data Size       | 277 bytes |
| Calculated Size | 277 bytes |
| Instructions    | 64        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0840:                             20 01 42 1E F0 FF FF            .B....
0850: 7F 1A 26 09 02 06 10 09  80 03 61 08 03 06 10 09  ..&.......a.....
0860: 80 03 09 10 06 10 02 09  10 2F 80 05 75 08 1D 67  ........./..u..g
0870: 80 23 01 08 09 02 09 10  31 80 80 84 08 1D 68 80  .#......1.....h.
0880: 23 01 08 09 02 09 10 33  80 80 93 08 1D 69 80 23  #......3.....i.#
0890: 01 08 09 02 09 10 35 80  80 AE 08 1D 6A 80 23 02  ......5.....j.#.
08A0: 05 10 09 80 00 AB 08 1D  6B 80 23 01 08 09 02 09  ........k.#.....
08B0: 10 37 80 80 C9 08 1D 6C  80 23 02 05 10 27 80 00  .7.....l.#...'..
08C0: C6 08 1D 6B 80 23 01 08  09 02 09 10 1D 80 80 E4  ...k.#..........
08D0: 08 1D 6D 80 23 02 05 10  1F 80 00 E1 08 1D 6B 80  ..m.#.........k.
08E0: 23 01 08 09 02 09 10 1E  80 80 08 09 02 07 10 27  #..............'
08F0: 80 00 FB 08 1D 6E 80 23  01 05 09 1D 6F 80 23 1D  .....n.#....o.#.
0900: 70 80 23 21 00 01 08 09  1A 38 09 03 08 10 1F 80  p.#!.....8......
0910: 45 71 80 F0 FF FF 7F F0  FF FF 7F 71 73 74 63 09  Eq.........qstc.
0920: 80 48 72 80 21 00 6F 70  66 21 80 F8 FF FF 7F F8  .Hr.!.opf!......
0930: FF FF 7F 74 6C 6B 30 1B  5E 69 64 6C 30 1B 6F 70  ...tlk0.^idl0.op
0940: 66 21 80 F8 FF FF 7F F8  FF FF 7F 70 61 73 30 1B  f!.........pas0.
0950: 53 F8 FF FF 7F F8 FF FF  7F 70 61 73 30 1B        S........pas0.  
```

## Opcodes

```
  0: 0x0849 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x084B [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x084C [0x1E] EventEntity looks at LocalPlayer and starts talking
  3: 0x0851 [0x1A] CALL_SUBROUTINE(address=0x0926)
  4: 0x0854 [0x02] IF !(Work_Zone[6] >= 0*) GOTO 0x0861
  5: 0x085C [0x03] Work_Zone[6] = 0*
  6: 0x0861 [0x03] Work_Zone[9] = Work_Zone[6]
  7: 0x0866 [0x02] IF !(Work_Zone[9] > 4*) GOTO 0x0875
  8: 0x086E [0x1D] PRINT_EVENT_MESSAGE(message_id=6811*)
    → "...\u0007Not bad. Not good, but not bad.\u0007From now on your blacksmith title will be \u000C\u0007[amateur/recruit/initiate/novice/apprentice].\u0007Keep up the good work, rookie.\u007F1\u0000\u0007"
  9: 0x0871 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x0872 [0x01] GOTO 0x0908
 11: 0x0875 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x0884
 12: 0x087D [0x1D] PRINT_EVENT_MESSAGE(message_id=6812*)
    → "Hmm... \u0007I see that you're starting to get the hang of this.\u0007From now on, your blacksmith title will be journeyman!\u0007I look forward to seeing your next work.\u007F1\u0000\u0007"
 13: 0x0880 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0881 [0x01] GOTO 0x0908
 15: 0x0884 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x0893
 16: 0x088C [0x1D] PRINT_EVENT_MESSAGE(message_id=6838*)
    → "...\u0007Very well done. I grant you the title of craftsman.\u0007I expect you to work hard to uphold the techniques of our guild.\u007F1\u0000\u0007"
 17: 0x088F [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x0890 [0x01] GOTO 0x0908
 19: 0x0893 [0x02] IF !(Work_Zone[9] == 7*) GOTO 0x08AE
 20: 0x089B [0x1D] PRINT_EVENT_MESSAGE(message_id=6813*)
    → "...\u0007Excellent! I see that you are finally starting to make a name for yourself.\u0007From now on, your blacksmith title will be artisan!\u0007That's quite some talent you have!\u007F1\u0000\u0007"
 21: 0x089E [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x089F [0x02] IF !(Work_Zone[5] == 0*) GOTO 0x08AB
 23: 0x08A7 [0x1D] PRINT_EVENT_MESSAGE(message_id=6868*)
    → "Be warned. Dabbling in other disciplines is all well and good, but reach the rank of \u000C\u0003[artisan/adept/veteran] in another guild and you'll soon find your skills as a blacksmith dulling.\u007F1\u0000\u0007"
 24: 0x08AA [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x08AB [0x01] GOTO 0x0908
 26: 0x08AE [0x02] IF !(Work_Zone[9] == 8*) GOTO 0x08C9
 27: 0x08B6 [0x1D] PRINT_EVENT_MESSAGE(message_id=6814*)
    → "...\u0007There is nothing more I can teach you. From today on, I am honored to call you an adept, my rival...and my friend!\u007F1\u0000\u0007"
 28: 0x08B9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x08BA [0x02] IF !(Work_Zone[5] == 1*) GOTO 0x08C6
 30: 0x08C2 [0x1D] PRINT_EVENT_MESSAGE(message_id=6868*)
    → "Be warned. Dabbling in other disciplines is all well and good, but reach the rank of \u000C\u0003[artisan/adept/veteran] in another guild and you'll soon find your skills as a blacksmith dulling.\u007F1\u0000\u0007"
 31: 0x08C5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x08C6 [0x01] GOTO 0x0908
 33: 0x08C9 [0x02] IF !(Work_Zone[9] == 9*) GOTO 0x08E4
 34: 0x08D1 [0x1D] PRINT_EVENT_MESSAGE(message_id=6815*)
    → "...\u0007You've done one heck of a job here! Now that you've become a veteran, I'll have to work harder to see that you don't steal away any of my customers. Ha ha ha!\u007F1\u0000\u0007"
 35: 0x08D4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x08D5 [0x02] IF !(Work_Zone[5] == 2*) GOTO 0x08E1
 37: 0x08DD [0x1D] PRINT_EVENT_MESSAGE(message_id=6868*)
    → "Be warned. Dabbling in other disciplines is all well and good, but reach the rank of \u000C\u0003[artisan/adept/veteran] in another guild and you'll soon find your skills as a blacksmith dulling.\u007F1\u0000\u0007"
 38: 0x08E0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x08E1 [0x01] GOTO 0x0908
 40: 0x08E4 [0x02] IF !(Work_Zone[9] == 10*) GOTO 0x0908
 41: 0x08EC [0x02] IF !(Work_Zone[7] == 1*) GOTO 0x08FB
 42: 0x08F4 [0x1D] PRINT_EVENT_MESSAGE(message_id=6861*)
    → "Look at the shine on this steel! Why, I've a mind to send it to the display case as is.\u0007A fitting debut for the newest expert of our guild!\u007F1\u0000\u0007"
 43: 0x08F7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x08F8 [0x01] GOTO 0x0905
 45: 0x08FB [0x1D] PRINT_EVENT_MESSAGE(message_id=6862*)
    → "You made this, you say?\u0007Well, how in blazes am I supposed to know that if it doesn't have your signature!?\u007F1\u0000\u0007"
 46: 0x08FE [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x08FF [0x1D] PRINT_EVENT_MESSAGE(message_id=6863*)
    → "Dull minds make for dull blades--you'll never rise to expert status if you can't follow a few simple directions.\u0007Get back to the forge, and try to keep your wits about you this time.\u007F1\u0000\u0007"
 48: 0x0902 [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0x0903 [0x21] END_EVENT
 50: 0x0904 [0x00] END_REQSTACK()
 51: 0x0905 [0x01] GOTO 0x0908

SUBROUTINE_0908:
 52: 0x0908 [0x1A] CALL_SUBROUTINE(address=0x0938)
 53: 0x090B [0x03] Work_Zone[8] = 2*
 54: 0x0910 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "qstc" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
 55: 0x0921 [0x48] [System] [6878*]:
    → "You are now recognized as \u000C\u0004[an amateur/a recruit/an initiate/a novice/an apprentice/a journeyman/a craftsman/an artisan/an adept/a veteran/an expert/an authority/a luminary/a master/a grandmaster/a legend] of the \u000C\u0006[Fishermen's/Carpenters'/Blacksmiths'/Goldsmiths'/Weavers'/Tanners'/Boneworkers'/Alchemists'/Culinarians'] Guild.\u0000\u0007"
 56: 0x0924 [0x21] END_EVENT
 57: 0x0925 [0x00] END_REQSTACK()

SUBROUTINE_0926:
 58: 0x0926 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 59: 0x0927 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
 60: 0x0928 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=60*
 61: 0x0937 [0x1B] RETURN

SUBROUTINE_0938:
 62: 0x0938 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 63: 0x093D [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x093E [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
     0x093F [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
     0x0940 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "pas0" with entities [EventEntity, EventEntity], work=60*
     0x094F [0x1B] RETURN
     0x0950 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "pas0" with entities [EventEntity, EventEntity]
     0x095D [0x1B] RETURN
```