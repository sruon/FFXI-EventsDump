# Event 604

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/17      |
| Offset          | 0x0004    |
| Data Size       | 147 bytes |
| Calculated Size | 147 bytes |
| Instructions    | 35        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:             3B F0 FF FF  7F 00 00 02 00 01 00 02      ;...........
0010: 00 00 00 80 03 6F 00 02  00 00 01 80 02 35 00 02  .....o.......5..
0020: 02 00 02 80 03 2A 00 01  6F 00 02 02 00 03 80 02  .....*..o.......
0030: 35 00 01 6F 00 4A 30 D0  0E 01 F0 FF FF 7F 2B 30  5..o.J0.......+0
0040: D0 0E 01 04 80 23 24 05  80 06 80 06 80 25 02 00  .....#$......%..
0050: 10 06 80 00 6C 00 46 01  4C 1C 07 80 29 0A F0 FF  ....l.F.L...)...
0060: FF 7F 1E 4D 1C 08 80 46  00 01 6C 00 01 95 00 24  ...M...F..l....$
0070: 09 80 06 80 06 80 25 02  00 10 06 80 00 95 00 46  ......%........F
0080: 01 4C 1C 07 80 29 0A F0  FF FF 7F 1F 4D 1C 08 80  .L...)......M...
0090: 46 00 01 95 00 21 00                              F....!.         
```

## Opcodes

```
  0: 0x0004 [0x3B] GET_ENTITY_POSITION(entity=LocalPlayer, x_destination=ExtData[1]->WorkLocal[0], y_destination=ExtData[1]->WorkLocal[2], z_destination=ExtData[1]->WorkLocal[1])
  1: 0x000F [0x02] IF !(ExtData[1]->WorkLocal[0] >= 95624*) GOTO 0x006F
  2: 0x0017 [0x02] IF !(ExtData[1]->WorkLocal[0] <= 94000*) GOTO 0x0035
  3: 0x001F [0x02] IF !(ExtData[1]->WorkLocal[2] >= 4294964296*) GOTO 0x002A
  4: 0x0027 [0x01] GOTO 0x006F

SUBROUTINE_002A:
  5: 0x002A [0x02] IF !(ExtData[1]->WorkLocal[2] <= 3000*) GOTO 0x0035
  6: 0x0032 [0x01] GOTO 0x006F

SUBROUTINE_0035:
  7: 0x0035 [0x4A] Iron Eater (ID: 17748016/0x010ED030) looks at LocalPlayer
  8: 0x003E [0x2B] Iron Eater (ID: 17748016/0x010ED030) [7991*]:
    → "These doors lead to the President's Office.\u007F1\u0000\u0007"
  9: 0x0045 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x0046 [0x24] CREATE_DIALOG(message_id=7992*, default_option=0*, option_flags=0*)
    → "Enter the President's Office?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 11: 0x004D [0x25] WAIT_DIALOG_SELECT()
 12: 0x004E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x006C
 13: 0x0056 [0x46] CAMERA_CONTROL: Disable user control
 14: 0x0058 [0x4C] EventEntity->StatusEvent = 8 // Open door
 15: 0x0059 [0x1C] WAIT(30* ticks)
 16: 0x005C [0x29] REQ_SET_WAIT(priority=0x0A, entity_id=LocalPlayer, tag_num=0x1E)
 17: 0x0063 [0x4D] EventEntity->StatusEvent = 9 // Close door
 18: 0x0064 [0x1C] WAIT(60* ticks)
 19: 0x0067 [0x46] CAMERA_CONTROL: Restore default settings
 20: 0x0069 [0x01] GOTO 0x006C

SUBROUTINE_006C:
 21: 0x006C [0x01] GOTO 0x0095

SUBROUTINE_006F:
 22: 0x006F [0x24] CREATE_DIALOG(message_id=7993*, default_option=0*, option_flags=0*)
    → "Exit the President's Office?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 23: 0x0076 [0x25] WAIT_DIALOG_SELECT()
 24: 0x0077 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0095
 25: 0x007F [0x46] CAMERA_CONTROL: Disable user control
 26: 0x0081 [0x4C] EventEntity->StatusEvent = 8 // Open door
 27: 0x0082 [0x1C] WAIT(30* ticks)
 28: 0x0085 [0x29] REQ_SET_WAIT(priority=0x0A, entity_id=LocalPlayer, tag_num=0x1F)
 29: 0x008C [0x4D] EventEntity->StatusEvent = 9 // Close door
 30: 0x008D [0x1C] WAIT(60* ticks)
 31: 0x0090 [0x46] CAMERA_CONTROL: Restore default settings
 32: 0x0092 [0x01] GOTO 0x0095

SUBROUTINE_0095:
 33: 0x0095 [0x21] END_EVENT
 34: 0x0096 [0x00] END_REQSTACK()
```
