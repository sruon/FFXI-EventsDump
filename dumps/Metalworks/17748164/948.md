# Event 948

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 27/31     |
| Offset          | 0xD201    |
| Data Size       | 692 bytes |
| Calculated Size | 692 bytes |
| Instructions    | 80        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
D200:    42 45 02 80 F8 FF FF  7F F8 FF FF 7F 66 64 6F   BE..........fdo
D210: 31 00 80 55 02 80 F8 FF  FF 7F F8 FF FF 7F 66 64  1..U..........fd
D220: 6F 31 46 01 75 00 9C 80  75 01 38 04 80 92 01 C6  o1F.u...u.8.....
D230: D0 0E 01 92 01 C8 D0 0E  01 92 01 25 D0 0E 01 2F  ...........%.../
D240: 00 C8 D0 0E 01 BA 25 D0  0E 01 D2 81 D3 81 D4 81  ......%.........
D250: D5 81 BA F0 FF FF 7F FD  81 FE 81 D8 81 FF 81 BA  ................
D260: C8 D0 0E 01 E3 81 E4 81  D4 81 E5 81 80 25 D0 0E  .............%..
D270: 01 80 F0 FF FF 7F 80 C8  D0 0E 01 4A F0 FF FF 7F  ...........J....
D280: C6 D0 0E 01 4A C6 D0 0E  01 F0 FF FF 7F 1C 07 80  ....J...........
D290: 45 DD 81 F8 FF FF 7F F8  FF FF 7F 73 31 37 31 00  E..........s171.
D2A0: 80 1C 21 80 45 02 80 F8  FF FF 7F F8 FF FF 7F 66  ..!.E..........f
D2B0: 64 69 31 00 80 55 02 80  F8 FF FF 7F F8 FF FF 7F  di1..U..........
D2C0: 66 64 69 31 66 00 80 C6  D0 0E 01 C6 D0 0E 01 74  fdi1f..........t
D2D0: 6C 6B 30 2B C6 D0 0E 01  00 82 23 66 00 80 C6 D0  lk0+......#f....
D2E0: 0E 01 C6 D0 0E 01 74 65  6E 30 4E 00 C8 D0 0E 01  ......ten0N.....
D2F0: 80 C8 D0 0E 01 27 05 C8  D0 0E 01 05 1C 07 80 52  .....'.........R
D300: DD 81 F8 FF FF 7F F8 FF  FF 7F 73 31 37 31 45 DD  ..........s171E.
D310: 81 F8 FF FF 7F F8 FF FF  7F 73 31 37 32 00 80 4A  .........s172..J
D320: C6 D0 0E 01 C8 D0 0E 01  2B C8 D0 0E 01 01 82 23  ........+......#
D330: 2A 05 C8 D0 0E 01 4A F0  FF FF 7F C8 D0 0E 01 2B  *.....J........+
D340: C8 D0 0E 01 02 82 23 52  DD 81 F8 FF FF 7F F8 FF  ......#R........
D350: FF 7F 73 31 37 32 45 DD  81 F8 FF FF 7F F8 FF FF  ..s172E.........
D360: 7F 73 31 37 33 00 80 4A  C6 D0 0E 01 C8 D0 0E 01  .s173..J........
D370: 66 68 80 C8 D0 0E 01 C8  D0 0E 01 74 6C 62 30 2B  fh.........tlb0+
D380: C8 D0 0E 01 03 82 23 52  DD 81 F8 FF FF 7F F8 FF  ......#R........
D390: FF 7F 73 31 37 33 45 DD  81 F8 FF FF 7F F8 FF FF  ..s173E.........
D3A0: 7F 73 31 37 34 00 80 2B  C8 D0 0E 01 04 82 23 2B  .s174..+......#+
D3B0: C8 D0 0E 01 05 82 23 52  DD 81 F8 FF FF 7F F8 FF  ......#R........
D3C0: FF 7F 73 31 37 34 45 DD  81 F8 FF FF 7F F8 FF FF  ..s174E.........
D3D0: 7F 73 31 37 38 00 80 2B  C8 D0 0E 01 06 82 23 2B  .s178..+......#+
D3E0: C8 D0 0E 01 07 82 23 52  DD 81 F8 FF FF 7F F8 FF  ......#R........
D3F0: FF 7F 73 31 37 38 45 DD  81 F8 FF FF 7F F8 FF FF  ..s178E.........
D400: 7F 73 31 37 36 00 80 2B  C8 D0 0E 01 08 82 23 52  .s176..+......#R
D410: DD 81 F8 FF FF 7F F8 FF  FF 7F 73 31 37 36 45 DD  ..........s176E.
D420: 81 F8 FF FF 7F F8 FF FF  7F 73 31 37 37 00 80 66  .........s177..f
D430: 68 80 C8 D0 0E 01 C8 D0  0E 01 74 6C 62 31 2B C8  h.........tlb1+.
D440: D0 0E 01 09 82 23 52 DD  81 F8 FF FF 7F F8 FF FF  .....#R.........
D450: 7F 73 31 37 37 45 DD 81  F8 FF FF 7F F8 FF FF 7F  .s177E..........
D460: 73 31 37 35 00 80 2B C8  D0 0E 01 0A 82 23 45 02  s175..+......#E.
D470: 80 F8 FF FF 7F F8 FF FF  7F 66 64 6F 31 00 80 55  .........fdo1..U
D480: 02 80 F8 FF FF 7F F8 FF  FF 7F 66 64 6F 31 52 DD  ..........fdo1R.
D490: 81 F8 FF FF 7F F8 FF FF  7F 73 31 37 35 46 00 1C  .........s175F..
D4A0: 01 80 45 02 80 F8 FF FF  7F F8 FF FF 7F 66 64 69  ..E..........fdi
D4B0: 31 00 80 21 00                                    1..!.           
```

## Opcodes

```
  0: 0xD201 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0xD202 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  2: 0xD213 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
  3: 0xD222 [0x46] CAMERA_CONTROL: Disable user control
  4: 0xD224 [0x75] LOAD_ROOM(Load indoor room, room=299*)
  5: 0xD228 [0x75] LOAD_ROOM(No action)
  6: 0xD22A [0x38] SET_CLIENT_EVENT_MODE(mode=27*)
  7: 0xD22D [0x92] Leonhardt (ID: 17748166/0x010ED0C6)->Render.Flags3 ^= 0x01
  8: 0xD233 [0x92] Anneliese (ID: 17748168/0x010ED0C8)->Render.Flags3 ^= 0x01
  9: 0xD239 [0x92] Tomasa (ID: 17748005/0x010ED025)->Render.Flags3 ^= 0x01
 10: 0xD23F [0x2F] Anneliese (ID: 17748168/0x010ED0C8)->Render.Flags0 &= ~0x80000 // Bit 19
 11: 0xD245 [0xBA] SET_ENTITY_POSITION(entity_id=References[17715237], pos_x=-13.766*, pos_z=-18.958*, pos_y=-10.000*, direction=180.2°*)
 12: 0xD252 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-16.577*, pos_z=-26.115*, pos_y=-9.999*, direction=14.8°*)
 13: 0xD25F [0xBA] SET_ENTITY_POSITION(entity_id=References[17715400], pos_x=-12.771*, pos_z=-21.024*, pos_y=-10.000*, direction=271.2°*)
 14: 0xD26C [0x80] LOAD_WAIT(entity=Tomasa (ID: 17748005/0x010ED025))
 15: 0xD271 [0x80] LOAD_WAIT(entity=LocalPlayer)
 16: 0xD276 [0x80] LOAD_WAIT(entity=Anneliese (ID: 17748168/0x010ED0C8))
 17: 0xD27B [0x4A] LocalPlayer looks at Leonhardt (ID: 17748166/0x010ED0C6)
 18: 0xD284 [0x4A] Leonhardt (ID: 17748166/0x010ED0C6) looks at LocalPlayer
 19: 0xD28D [0x1C] WAIT(30* ticks)
 20: 0xD290 [0x45] LOAD_SCHEDULED_TASK(work_offset1=332*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s171", work_offset2=0*)
 21: 0xD2A1 [0x1C] WAIT(15* ticks)
 22: 0xD2A4 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 23: 0xD2B5 [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1")
 24: 0xD2C4 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=0*, entity1=Leonhardt (ID: 17748166/0x010ED0C6), entity2=Leonhardt (ID: 17748166/0x010ED0C6), action="tlk0")
 25: 0xD2D3 [0x2B] Leonhardt (ID: 17748166/0x010ED0C6) [10747*]:
    → "Thanks for sticking up for me, \u007F\u0005[sir/ma'am].\u0007I'm sorry you had to feel the edge of Miss Aileen's tongue...\u007F1\u0000\u0007"
 26: 0xD2DA [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0xD2DB [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=0*, entity1=Leonhardt (ID: 17748166/0x010ED0C6), entity2=Leonhardt (ID: 17748166/0x010ED0C6), action="ten0")
 28: 0xD2EA [0x4E] SET_ENTITY_HIDE_FLAG: Show Anneliese (ID: 17748168/0x010ED0C8)
 29: 0xD2F0 [0x80] LOAD_WAIT(entity=Anneliese (ID: 17748168/0x010ED0C8))
 30: 0xD2F5 [0x27] REQ_SET(priority=0x05, entity_id=Anneliese (ID: 17748168/0x010ED0C8), tag_num=0x05)
 31: 0xD2FC [0x1C] WAIT(30* ticks)
 32: 0xD2FF [0x52] END_LOAD_SCHEDULER: End scheduler "s171" with entities [EventEntity, EventEntity], work=332*
 33: 0xD30E [0x45] LOAD_SCHEDULED_TASK(work_offset1=332*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s172", work_offset2=0*)
 34: 0xD31F [0x4A] Leonhardt (ID: 17748166/0x010ED0C6) looks at Anneliese (ID: 17748168/0x010ED0C8)
 35: 0xD328 [0x2B] Anneliese (ID: 17748168/0x010ED0C8) [10748*]:
    → "It certainly is a sharp one.\u007F1\u0000\u0007"
 36: 0xD32F [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0xD330 [0x2A] GET_REQ_LEVEL(level=5, entity_id=Anneliese (ID: 17748168/0x010ED0C8))
 38: 0xD336 [0x4A] LocalPlayer looks at Anneliese (ID: 17748168/0x010ED0C8)
 39: 0xD33F [0x2B] Anneliese (ID: 17748168/0x010ED0C8) [10749*]:
    → "I apologize for her outburst.\u0007You didn't deserve to be treated like that.\u007F1\u0000\u0007"
 40: 0xD346 [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0xD347 [0x52] END_LOAD_SCHEDULER: End scheduler "s172" with entities [EventEntity, EventEntity], work=332*
 42: 0xD356 [0x45] LOAD_SCHEDULED_TASK(work_offset1=332*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s173", work_offset2=0*)
 43: 0xD367 [0x4A] Leonhardt (ID: 17748166/0x010ED0C6) looks at Anneliese (ID: 17748168/0x010ED0C8)
 44: 0xD370 [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=13*, entity1=Anneliese (ID: 17748168/0x010ED0C8), entity2=Anneliese (ID: 17748168/0x010ED0C8), action="tlb0")
 45: 0xD37F [0x2B] Anneliese (ID: 17748168/0x010ED0C8) [10750*]:
    → "She's seen some hard times and never quite recovered.\u007F1\u0000\u0007"
 46: 0xD386 [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0xD387 [0x52] END_LOAD_SCHEDULER: End scheduler "s173" with entities [EventEntity, EventEntity], work=332*
 48: 0xD396 [0x45] LOAD_SCHEDULED_TASK(work_offset1=332*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s174", work_offset2=0*)
 49: 0xD3A7 [0x2B] Anneliese (ID: 17748168/0x010ED0C8) [10751*]:
    → "You see, Aileen had this childhood friend during the time of the Great War...\u007F1\u0000\u0007"
 50: 0xD3AE [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0xD3AF [0x2B] Anneliese (ID: 17748168/0x010ED0C8) [10752*]:
    → "But one day, her friend apparently left town without a word to Aileen.\u007F1\u0000\u0007"
 52: 0xD3B6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 53: 0xD3B7 [0x52] END_LOAD_SCHEDULER: End scheduler "s174" with entities [EventEntity, EventEntity], work=332*
 54: 0xD3C6 [0x45] LOAD_SCHEDULED_TASK(work_offset1=332*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s178", work_offset2=0*)
 55: 0xD3D7 [0x2B] Anneliese (ID: 17748168/0x010ED0C8) [10753*]:
    → "Aileen spent days waiting under a tree by the river in the Bastok Markets for her friend to appear.\u0007She wouldn't accept the fact that her companion had simply abandoned her.\u007F1\u0000\u0007"
 56: 0xD3DE [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0xD3DF [0x2B] Anneliese (ID: 17748168/0x010ED0C8) [10754*]:
    → "As you can guess, Aileen never saw the girl again.\u007F1\u0000\u0007"
 58: 0xD3E6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0xD3E7 [0x52] END_LOAD_SCHEDULER: End scheduler "s178" with entities [EventEntity, EventEntity], work=332*
 60: 0xD3F6 [0x45] LOAD_SCHEDULED_TASK(work_offset1=332*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s176", work_offset2=0*)
 61: 0xD407 [0x2B] Anneliese (ID: 17748168/0x010ED0C8) [10755*]:
    → "She acts as if the disappearance of her friend doesn't bother her, but it's obvious she was deeply hurt.\u007F1\u0000\u0007"
 62: 0xD40E [0x23] WAIT_FOR_DIALOG_INTERACTION
 63: 0xD40F [0x52] END_LOAD_SCHEDULER: End scheduler "s176" with entities [EventEntity, EventEntity], work=332*
 64: 0xD41E [0x45] LOAD_SCHEDULED_TASK(work_offset1=332*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s177", work_offset2=0*)
 65: 0xD42F [0x66] LOAD_EXT_SCHEDULER_MAIN(work_offset=13*, entity1=Anneliese (ID: 17748168/0x010ED0C8), entity2=Anneliese (ID: 17748168/0x010ED0C8), action="tlb1")
 66: 0xD43E [0x2B] Anneliese (ID: 17748168/0x010ED0C8) [10756*]:
    → "Of course, that doesn't excuse her terrible manners towards a customer.\u007F1\u0000\u0007"
 67: 0xD445 [0x23] WAIT_FOR_DIALOG_INTERACTION
 68: 0xD446 [0x52] END_LOAD_SCHEDULER: End scheduler "s177" with entities [EventEntity, EventEntity], work=332*
 69: 0xD455 [0x45] LOAD_SCHEDULED_TASK(work_offset1=332*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s175", work_offset2=0*)
 70: 0xD466 [0x2B] Anneliese (ID: 17748168/0x010ED0C8) [10757*]:
    → "Up until now I've just closed my eyes to her behavior.\u0007Perhaps that wasn't the wisest course...\u007F1\u0000\u0007"
 71: 0xD46D [0x23] WAIT_FOR_DIALOG_INTERACTION
 72: 0xD46E [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 73: 0xD47F [0x55] WAIT_LOAD_SCHEDULER(work_offset=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1")
 74: 0xD48E [0x52] END_LOAD_SCHEDULER: End scheduler "s175" with entities [EventEntity, EventEntity], work=332*
 75: 0xD49D [0x46] CAMERA_CONTROL: Restore default settings
 76: 0xD49F [0x1C] WAIT(120* ticks)
 77: 0xD4A2 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 78: 0xD4B3 [0x21] END_EVENT
 79: 0xD4B4 [0x00] END_REQSTACK()
```
