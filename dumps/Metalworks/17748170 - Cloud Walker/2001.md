# Event 2001

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 805 bytes |
| Calculated Size | 805 bytes |
| Instructions    | 150       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1E F0 FF FF 7F 1D 00  80 23 1D 01 80 23 1A DA   ........#...#..
0010: 02 24 02 80 03 80 03 80  25 02 00 10 03 80 00 29  .$......%......)
0020: 00 03 01 10 04 80 01 00  01 02 00 10 04 80 00 92  ................
0030: 00 02 04 00 03 80 01 4A  00 1D 05 80 23 03 01 10  .......J....#...
0040: 04 80 03 09 00 04 80 01  8F 00 02 88 7F 06 80 03  ................
0050: 63 00 1D 07 80 23 03 01  10 04 80 03 09 00 08 80  c....#..........
0060: 01 8F 00 3E 05 00 8B 7F  70 00 01 77 01 01 8F 00  ...>....p..w....
0070: 3E 05 00 08 80 7D 00 01  03 01 01 8F 00 1D 09 80  >....}..........
0080: 23 1D 0A 80 23 03 01 10  04 80 03 09 00 0B 80 01  #...#...........
0090: 00 01 02 00 10 08 80 00  B8 00 1D 0C 80 23 1D 0D  .............#..
00A0: 80 23 1D 0E 80 23 1D 0F  80 23 1D 10 80 23 1D 11  .#...#...#...#..
00B0: 80 23 01 11 00 01 00 01  02 00 10 0B 80 00 D2 00  .#..............
00C0: 1D 12 80 23 1D 13 80 23  1D 14 80 23 01 11 00 01  ...#...#...#....
00D0: 00 01 02 00 10 15 80 00  00 01 1D 16 80 23 1D 17  .............#..
00E0: 80 23 1D 18 80 23 1D 19  80 23 1D 1A 80 23 1D 1B  .#...#...#...#..
00F0: 80 23 1D 1C 80 23 1D 1D  80 23 01 11 00 01 00 01  .#...#...#......
0100: 01 1F 03 02 02 00 03 80  01 31 01 02 02 00 01 00  .........1......
0110: 01 24 01 1D 1E 80 23 03  01 10 04 80 03 09 00 15  .$....#.........
0120: 80 01 2E 01 03 01 10 08  80 03 09 00 1F 80 01 74  ...............t
0130: 01 03 03 10 01 00 1D 20  80 23 24 21 80 04 80 03  ....... .#$!....
0140: 80 25 02 00 10 03 80 00  5F 01 1D 22 80 23 1D 23  .%......_..".#.#
0150: 80 23 03 01 10 08 80 03  09 00 24 80 01 74 01 02  .#........$..t..
0160: 00 10 04 80 00 74 01 03  01 10 04 80 03 09 00 03  .....t..........
0170: 80 01 74 01 01 1F 03 02  07 00 03 80 00 94 01 1D  ..t.............
0180: 09 80 23 1D 0A 80 23 03  01 10 04 80 03 09 00 25  ..#...#........%
0190: 80 01 D0 01 02 8B 7F 08  00 00 B1 01 1D 09 80 23  ...............#
01A0: 1D 0A 80 23 03 01 10 04  80 03 09 00 26 80 01 D0  ...#........&...
01B0: 01 3E 06 00 08 00 BE 01  01 D3 01 01 D0 01 1D 09  .>..............
01C0: 80 23 1D 0A 80 23 03 01  10 04 80 03 09 00 27 80  .#...#........'.
01D0: 01 1F 03 02 02 00 03 80  01 33 02 02 02 00 01 00  .........3......
01E0: 01 F4 01 1D 1E 80 23 03  01 10 04 80 03 09 00 28  ......#........(
01F0: 80 01 30 02 02 03 00 03  80 01 26 02 02 03 00 01  ..0.......&.....
0200: 00 01 19 02 1D 29 80 23  1D 2A 80 23 03 01 10 04  .....).#.*.#....
0210: 80 03 09 00 2B 80 01 23  02 03 01 10 15 80 03 09  ....+..#........
0220: 00 2C 80 01 30 02 03 01  10 15 80 03 09 00 2D 80  .,..0.........-.
0230: 01 D7 02 02 03 00 03 80  01 99 02 02 03 00 01 00  ................
0240: 01 58 02 1D 29 80 23 1D  2A 80 23 03 01 10 04 80  .X..).#.*.#.....
0250: 03 09 00 2E 80 01 96 02  1D 2F 80 23 24 21 80 04  ........./.#$!..
0260: 80 03 80 25 02 00 10 03  80 00 81 02 1D 22 80 23  ...%.........".#
0270: 1D 23 80 23 03 01 10 15  80 03 09 00 30 80 01 96  .#.#........0...
0280: 02 02 00 10 04 80 00 96  02 03 01 10 04 80 03 09  ................
0290: 00 03 80 01 96 02 01 D7  02 1D 2F 80 23 24 21 80  ........../.#$!.
02A0: 04 80 03 80 25 02 00 10  03 80 00 C2 02 1D 22 80  ....%.........".
02B0: 23 1D 23 80 23 03 01 10  15 80 03 09 00 31 80 01  #.#.#........1..
02C0: D7 02 02 00 10 04 80 00  D7 02 03 01 10 04 80 03  ................
02D0: 09 00 03 80 01 D7 02 01  1F 03 41 03 80 04 80 02  ..........A.....
02E0: 10 01 00 41 08 80 0B 80  02 10 02 00 41 15 80 26  ...A........A..&
02F0: 80 02 10 04 00 41 27 80  32 80 02 10 05 00 41 33  .....A'.2.....A3
0300: 80 2B 80 02 10 06 00 41  2E 80 2E 80 02 10 08 00  .+.....A........
0310: 41 34 80 35 80 02 10 03  00 03 07 00 03 10 1B 03  A4.5............
0320: 02 10 09 00 21 00                                 ....!.          
```

## Opcodes

```
  0: 0x0001 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0006 [0x1D] PRINT_EVENT_MESSAGE(message_id=10816*)
    → "Greetings, friend. I am Registrar Cloud Walker.\u0007My duty is to issue marriage certificates to married couples.\u007F1\u0000\u0007"
  2: 0x0009 [0x23] WAIT_FOR_DIALOG_INTERACTION
  3: 0x000A [0x1D] PRINT_EVENT_MESSAGE(message_id=10817*)
    → "What can I do for you today?\u007F1\u0000\u0007"
  4: 0x000D [0x23] WAIT_FOR_DIALOG_INTERACTION
  5: 0x000E [0x1A] CALL_SUBROUTINE(address=0x02DA)
  6: 0x0011 [0x24] CREATE_DIALOG(message_id=10846*, default_option=0*, option_flags=0*)
    → "What would you like to do?\u0007\u000BNothing.\u0007Request a marriage certificate.\u0007Learn about marriage certificates.\u0007Learn about wedding ceremonies.\u0007Learn about ceremonial items.\u007F1\u0000\u0007"
  7: 0x0018 [0x25] WAIT_DIALOG_SELECT()
  8: 0x0019 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0029
  9: 0x0021 [0x03] Work_Zone[1] = 1*
 10: 0x0026 [0x01] GOTO 0x0100
 11: 0x0029 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0092
 12: 0x0031 [0x02] IF !(ExtData[1]->WorkLocal[4] == 0*) GOTO 0x004A
 13: 0x0039 [0x1D] PRINT_EVENT_MESSAGE(message_id=10835*)
    → "It looks like you already have a marriage certificate in your possession.\u0007I'm afraid I'm not authorized to issue you another.\u007F1\u0000\u0007"
 14: 0x003C [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x003D [0x03] Work_Zone[1] = 1*
 16: 0x0042 [0x03] ExtData[1]->WorkLocal[9] = 1*
 17: 0x0047 [0x01] GOTO 0x008F
 18: 0x004A [0x02] IF !(LocalPlayer->JobLevel >= 20*) GOTO 0x0063
 19: 0x0052 [0x1D] PRINT_EVENT_MESSAGE(message_id=10836*)
    → "Your current job level must be level 
\u0002 or higher if you wish to receive a marriage certificate.\u007F1\u0000\u0007"
 20: 0x0055 [0x23] WAIT_FOR_DIALOG_INTERACTION
 21: 0x0056 [0x03] Work_Zone[1] = 1*
 22: 0x005B [0x03] ExtData[1]->WorkLocal[9] = 2*
 23: 0x0060 [0x01] GOTO 0x008F
 24: 0x0063 [0x3E] IF !(ExtData[1]->WorkLocal[5] bit (LocalPlayer->Render.Flags01 >> 25) & 1) GOTO 0x0070
 25: 0x006A [0x01] GOTO 0x0177

SUBROUTINE_0100:
 26: 0x0100 [0x01] GOTO 0x031F

SUBROUTINE_0103:
 27: 0x0103 [0x02] IF !(ExtData[1]->WorkLocal[2] == 0*) GOTO 0x0131
 28: 0x010B [0x02] IF !(ExtData[1]->WorkLocal[2] == ExtData[1]->WorkLocal[1]) GOTO 0x0124
 29: 0x0113 [0x1D] PRINT_EVENT_MESSAGE(message_id=10839*)
    → "It looks like you've already been issued a marriage certificate by another nation.\u0007A misplaced certificate can be reissued, but only by the same officiating body that you originally received it from.\u007F1\u0000\u0007"
 30: 0x0116 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x0117 [0x03] Work_Zone[1] = 1*
 32: 0x011C [0x03] ExtData[1]->WorkLocal[9] = 4*
 33: 0x0121 [0x01] GOTO 0x012E
 34: 0x0124 [0x03] Work_Zone[1] = 2*
 35: 0x0129 [0x03] ExtData[1]->WorkLocal[9] = 100*
 36: 0x012E [0x01] GOTO 0x0174
 37: 0x0131 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[1]
 38: 0x0136 [0x1D] PRINT_EVENT_MESSAGE(message_id=10843*)
    → "Accepting a marriage certificate from our nation will render you ineligible to receive one from another.\u007F1\u0000\u0007"
 39: 0x0139 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x013A [0x24] CREATE_DIALOG(message_id=10847*, default_option=1*, option_flags=0*)
    → "Have a marriage certificate issued?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 41: 0x0141 [0x25] WAIT_DIALOG_SELECT()
 42: 0x0142 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x015F
 43: 0x014A [0x1D] PRINT_EVENT_MESSAGE(message_id=10844*)
    → "By the power vested in me by the Republic of Bastok, I hereby pronounce you husband and wife.\u007F1\u0000\u0007"
 44: 0x014D [0x23] WAIT_FOR_DIALOG_INTERACTION
 45: 0x014E [0x1D] PRINT_EVENT_MESSAGE(message_id=10845*)
    → "You are all now officially permitted to eat, drink, sing, and have a joyous night!\u007F1\u0000\u0007"
 46: 0x0151 [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x0152 [0x03] Work_Zone[1] = 2*
 48: 0x0157 [0x03] ExtData[1]->WorkLocal[9] = 101*
 49: 0x015C [0x01] GOTO 0x0174
 50: 0x015F [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0174
 51: 0x0167 [0x03] Work_Zone[1] = 1*
 52: 0x016C [0x03] ExtData[1]->WorkLocal[9] = 0*
 53: 0x0171 [0x01] GOTO 0x0174

SUBROUTINE_0174:
 54: 0x0174 [0x01] GOTO 0x031F

SUBROUTINE_0177:
 55: 0x0177 [0x02] IF !(ExtData[1]->WorkLocal[7] == 0*) GOTO 0x0194
 56: 0x017F [0x1D] PRINT_EVENT_MESSAGE(message_id=10837*)
    → "I'm afraid I'm not authorized to issue you a marriage certificate.\u007F1\u0000\u0007"
 57: 0x0182 [0x23] WAIT_FOR_DIALOG_INTERACTION
 58: 0x0183 [0x1D] PRINT_EVENT_MESSAGE(message_id=10838*)
    → "Married couples wishing to receive marriage certificates should form a party while the husband is wearing his \u001E\u0005matrimony ring\u001E\u0001, and his wife, her \u001E\u0005matrimony band\u001E\u0001. After that, speak to an official in charge, and the certificates will be drawn up for you.\u007F1\u0000\u0007"
 59: 0x0186 [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x0187 [0x03] Work_Zone[1] = 1*
 61: 0x018C [0x03] ExtData[1]->WorkLocal[9] = 5*
 62: 0x0191 [0x01] GOTO 0x01D0
 63: 0x0194 [0x02] IF !((LocalPlayer->Render.Flags01 >> 25) & 1 == ExtData[1]->WorkLocal[8]) GOTO 0x01B1
 64: 0x019C [0x1D] PRINT_EVENT_MESSAGE(message_id=10837*)
    → "I'm afraid I'm not authorized to issue you a marriage certificate.\u007F1\u0000\u0007"
 65: 0x019F [0x23] WAIT_FOR_DIALOG_INTERACTION
 66: 0x01A0 [0x1D] PRINT_EVENT_MESSAGE(message_id=10838*)
    → "Married couples wishing to receive marriage certificates should form a party while the husband is wearing his \u001E\u0005matrimony ring\u001E\u0001, and his wife, her \u001E\u0005matrimony band\u001E\u0001. After that, speak to an official in charge, and the certificates will be drawn up for you.\u007F1\u0000\u0007"
 67: 0x01A3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 68: 0x01A4 [0x03] Work_Zone[1] = 1*
 69: 0x01A9 [0x03] ExtData[1]->WorkLocal[9] = 6*
 70: 0x01AE [0x01] GOTO 0x01D0
 71: 0x01B1 [0x3E] IF !(ExtData[1]->WorkLocal[6] bit ExtData[1]->WorkLocal[8]) GOTO 0x01BE
 72: 0x01B8 [0x01] GOTO 0x01D3

SUBROUTINE_01D3:
 73: 0x01D3 [0x02] IF !(ExtData[1]->WorkLocal[2] == 0*) GOTO 0x0233
 74: 0x01DB [0x02] IF !(ExtData[1]->WorkLocal[2] == ExtData[1]->WorkLocal[1]) GOTO 0x01F4
 75: 0x01E3 [0x1D] PRINT_EVENT_MESSAGE(message_id=10839*)
    → "It looks like you've already been issued a marriage certificate by another nation.\u0007A misplaced certificate can be reissued, but only by the same officiating body that you originally received it from.\u007F1\u0000\u0007"
 76: 0x01E6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 77: 0x01E7 [0x03] Work_Zone[1] = 1*
 78: 0x01EC [0x03] ExtData[1]->WorkLocal[9] = 11*
 79: 0x01F1 [0x01] GOTO 0x0230
 80: 0x01F4 [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x0226
 81: 0x01FC [0x02] IF !(ExtData[1]->WorkLocal[3] == ExtData[1]->WorkLocal[1]) GOTO 0x0219
 82: 0x0204 [0x1D] PRINT_EVENT_MESSAGE(message_id=10840*)
    → "It looks like your spouse's marriage certificate was issued by another nation.\u007F1\u0000\u0007"
 83: 0x0207 [0x23] WAIT_FOR_DIALOG_INTERACTION
 84: 0x0208 [0x1D] PRINT_EVENT_MESSAGE(message_id=10841*)
    → "It looks like your spouse's marriage certificate was issued by another nation.\u0007If you want one of your own, you'll have to speak with the same officiating body that issued your spouse's.\u007F1\u0000\u0007"
 85: 0x020B [0x23] WAIT_FOR_DIALOG_INTERACTION
 86: 0x020C [0x03] Work_Zone[1] = 1*
 87: 0x0211 [0x03] ExtData[1]->WorkLocal[9] = 12*
 88: 0x0216 [0x01] GOTO 0x0223
 89: 0x0219 [0x03] Work_Zone[1] = 4*
 90: 0x021E [0x03] ExtData[1]->WorkLocal[9] = 102*
 91: 0x0223 [0x01] GOTO 0x0230
 92: 0x0226 [0x03] Work_Zone[1] = 4*
 93: 0x022B [0x03] ExtData[1]->WorkLocal[9] = 103*
 94: 0x0230 [0x01] GOTO 0x02D7
 95: 0x0233 [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x0299
 96: 0x023B [0x02] IF !(ExtData[1]->WorkLocal[3] == ExtData[1]->WorkLocal[1]) GOTO 0x0258
 97: 0x0243 [0x1D] PRINT_EVENT_MESSAGE(message_id=10840*)
    → "It looks like your spouse's marriage certificate was issued by another nation.\u007F1\u0000\u0007"
 98: 0x0246 [0x23] WAIT_FOR_DIALOG_INTERACTION
 99: 0x0247 [0x1D] PRINT_EVENT_MESSAGE(message_id=10841*)
    → "It looks like your spouse's marriage certificate was issued by another nation.\u0007If you want one of your own, you'll have to speak with the same officiating body that issued your spouse's.\u007F1\u0000\u0007"
100: 0x024A [0x23] WAIT_FOR_DIALOG_INTERACTION
101: 0x024B [0x03] Work_Zone[1] = 1*
102: 0x0250 [0x03] ExtData[1]->WorkLocal[9] = 13*
103: 0x0255 [0x01] GOTO 0x0296
104: 0x0258 [0x1D] PRINT_EVENT_MESSAGE(message_id=10842*)
    → "Accepting a marriage certificate from our nation will render you ineligible to receive one from another.\u0007Also, the nation of issuance for your marriage certificate must be the same as your partner's.\u007F1\u0000\u0007"
105: 0x025B [0x23] WAIT_FOR_DIALOG_INTERACTION
106: 0x025C [0x24] CREATE_DIALOG(message_id=10847*, default_option=1*, option_flags=0*)
    → "Have a marriage certificate issued?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
107: 0x0263 [0x25] WAIT_DIALOG_SELECT()
108: 0x0264 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0281
109: 0x026C [0x1D] PRINT_EVENT_MESSAGE(message_id=10844*)
    → "By the power vested in me by the Republic of Bastok, I hereby pronounce you husband and wife.\u007F1\u0000\u0007"
110: 0x026F [0x23] WAIT_FOR_DIALOG_INTERACTION
111: 0x0270 [0x1D] PRINT_EVENT_MESSAGE(message_id=10845*)
    → "You are all now officially permitted to eat, drink, sing, and have a joyous night!\u007F1\u0000\u0007"
112: 0x0273 [0x23] WAIT_FOR_DIALOG_INTERACTION
113: 0x0274 [0x03] Work_Zone[1] = 4*
114: 0x0279 [0x03] ExtData[1]->WorkLocal[9] = 104*
115: 0x027E [0x01] GOTO 0x0296
116: 0x0281 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0296
117: 0x0289 [0x03] Work_Zone[1] = 1*
118: 0x028E [0x03] ExtData[1]->WorkLocal[9] = 0*
119: 0x0293 [0x01] GOTO 0x0296

SUBROUTINE_0296:
120: 0x0296 [0x01] GOTO 0x02D7
121: 0x0299 [0x1D] PRINT_EVENT_MESSAGE(message_id=10842*)
    → "Accepting a marriage certificate from our nation will render you ineligible to receive one from another.\u0007Also, the nation of issuance for your marriage certificate must be the same as your partner's.\u007F1\u0000\u0007"
122: 0x029C [0x23] WAIT_FOR_DIALOG_INTERACTION
123: 0x029D [0x24] CREATE_DIALOG(message_id=10847*, default_option=1*, option_flags=0*)
    → "Have a marriage certificate issued?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
124: 0x02A4 [0x25] WAIT_DIALOG_SELECT()
125: 0x02A5 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x02C2
126: 0x02AD [0x1D] PRINT_EVENT_MESSAGE(message_id=10844*)
    → "By the power vested in me by the Republic of Bastok, I hereby pronounce you husband and wife.\u007F1\u0000\u0007"
127: 0x02B0 [0x23] WAIT_FOR_DIALOG_INTERACTION
128: 0x02B1 [0x1D] PRINT_EVENT_MESSAGE(message_id=10845*)
    → "You are all now officially permitted to eat, drink, sing, and have a joyous night!\u007F1\u0000\u0007"
129: 0x02B4 [0x23] WAIT_FOR_DIALOG_INTERACTION
130: 0x02B5 [0x03] Work_Zone[1] = 4*
131: 0x02BA [0x03] ExtData[1]->WorkLocal[9] = 105*
132: 0x02BF [0x01] GOTO 0x02D7
133: 0x02C2 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x02D7
134: 0x02CA [0x03] Work_Zone[1] = 1*
135: 0x02CF [0x03] ExtData[1]->WorkLocal[9] = 0*
136: 0x02D4 [0x01] GOTO 0x02D7

SUBROUTINE_02D7:
137: 0x02D7 [0x01] GOTO 0x031F

SUBROUTINE_02DA:
138: 0x02DA [0x41] ExtData[1]->WorkLocal[1] = Work_Zone[2] (bits 0*-1*)
139: 0x02E3 [0x41] ExtData[1]->WorkLocal[2] = Work_Zone[2] (bits 2*-3*)
140: 0x02EC [0x41] ExtData[1]->WorkLocal[4] = Work_Zone[2] (bits 4*-6*)
141: 0x02F5 [0x41] ExtData[1]->WorkLocal[5] = Work_Zone[2] (bits 7*-9*)
142: 0x02FE [0x41] ExtData[1]->WorkLocal[6] = Work_Zone[2] (bits 10*-12*)
143: 0x0307 [0x41] ExtData[1]->WorkLocal[8] = Work_Zone[2] (bits 13*-13*)
144: 0x0310 [0x41] ExtData[1]->WorkLocal[3] = Work_Zone[2] (bits 14*-15*)
145: 0x0319 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[3]
146: 0x031E [0x1B] RETURN

SUBROUTINE_031F:
147: 0x031F [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[9]
148: 0x0324 [0x21] END_EVENT
149: 0x0325 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x006D [0x01] GOTO 0x008F
     0x007A [0x01] GOTO 0x008F
     0x00B5 [0x01] GOTO 0x0100
     0x00CF [0x01] GOTO 0x0100
     0x00FD [0x01] GOTO 0x0100
# Dead code (unreachable instructions):
     0x01BB [0x01] GOTO 0x01D0
```