# Event 866

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/16      |
| Offset          | 0x07BC    |
| Data Size       | 524 bytes |
| Calculated Size | 524 bytes |
| Instructions    | 75        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
07B0:                                      20 01 42 46               .BF
07C0: 01 45 02 80 F8 FF FF 7F  F8 FF FF 7F 66 64 6F 31  .E..........fdo1
07D0: 00 80 1C 03 80 38 2D 80  29 08 F0 FF FF 7F 5D 75  .....8-.).....]u
07E0: 00 23 80 75 01 29 0B 2C  D0 0E 01 39 29 0B F0 FF  .#.u.).,...9)...
07F0: FF 7F 61 4A F0 FF FF 7F  2C D0 0E 01 4A 2C D0 0E  ..aJ....,...J,..
0800: 01 F0 FF FF 7F 6F 76 F0  FF FF 7F 6F 76 2C D0 0E  .....ov....ov,..
0810: 01 4E 00 2C D0 0E 01 80  2C D0 0E 01 92 01 2C D0  .N.,....,.....,.
0820: 0E 01 45 24 80 F8 FF FF  7F F8 FF FF 7F 73 30 30  ..E$.........s00
0830: 35 00 80 45 02 80 F8 FF  FF 7F F8 FF FF 7F 66 64  5..E..........fd
0840: 69 31 00 80 29 08 2C D0  0E 01 1F 2B 2C D0 0E 01  i1..).,....+,...
0850: 2E 80 23 2B 2C D0 0E 01  2F 80 23 29 08 2C D0 0E  ..#+,.../.#).,..
0860: 01 20 52 24 80 F8 FF FF  7F F8 FF FF 7F 73 30 30  . R$.........s00
0870: 35 02 09 10 0E 80 00 8D  08 45 24 80 F8 FF FF 7F  5........E$.....
0880: F8 FF FF 7F 73 30 30 36  00 80 01 BA 08 02 09 10  ....s006........
0890: 0F 80 00 A9 08 45 24 80  F8 FF FF 7F F8 FF FF 7F  .....E$.........
08A0: 73 30 30 36 00 80 01 BA  08 45 24 80 F8 FF FF 7F  s006.....E$.....
08B0: F8 FF FF 7F 73 30 30 34  00 80 29 08 2C D0 0E 01  ....s004..).,...
08C0: 21 2B 2C D0 0E 01 30 80  23 29 08 2C D0 0E 01 22  !+,...0.#).,..."
08D0: 2B 2C D0 0E 01 31 80 23  29 08 2C D0 0E 01 1D 2B  +,...1.#).,....+
08E0: 2C D0 0E 01 32 80 23 29  08 2C D0 0E 01 1E 02 09  ,...2.#).,......
08F0: 10 0E 80 00 08 09 52 24  80 F8 FF FF 7F F8 FF FF  ......R$........
0900: 7F 73 30 30 36 01 31 09  02 09 10 0F 80 00 22 09  .s006.1.......".
0910: 52 24 80 F8 FF FF 7F F8  FF FF 7F 73 30 30 36 01  R$.........s006.
0920: 31 09 52 24 80 F8 FF FF  7F F8 FF FF 7F 73 30 30  1.R$.........s00
0930: 34 24 33 80 00 80 00 80  25 02 00 10 00 80 00 73  4$3.....%......s
0940: 09 03 01 10 12 80 45 02  80 F0 FF FF 7F F0 FF FF  ......E.........
0950: 7F 6F 76 6C 31 00 80 45  24 80 F8 FF FF 7F F8 FF  .ovl1..E$.......
0960: FF 7F 73 30 30 35 00 80  2B 2C D0 0E 01 34 80 23  ..s005..+,...4.#
0970: 01 83 09 02 00 10 12 80  00 83 09 03 01 10 21 80  ..............!.
0980: 01 83 09 45 02 80 F0 FF  FF 7F F0 FF FF 7F 66 64  ...E..........fd
0990: 6F 31 00 80 1C 03 80 52  24 80 F8 FF FF 7F F8 FF  o1.....R$.......
09A0: FF 7F 73 30 30 35 4E 00  F0 FF FF 7F 80 F0 FF FF  ..s005N.........
09B0: 7F 46 00 45 02 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .F.E..........fd
09C0: 69 31 00 80 20 00 21 00                           i1.. .!.        
```

## Opcodes

```
  0: 0x07BC [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x07BE [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x07BF [0x46] CAMERA_CONTROL: Disable user control
  3: 0x07C1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
  4: 0x07D2 [0x1C] WAIT(60* ticks)
  5: 0x07D5 [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
  6: 0x07D8 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=LocalPlayer, tag_num=0x5D)
  7: 0x07DF [0x75] LOAD_ROOM(Load indoor room, room=300*)
  8: 0x07E3 [0x75] LOAD_ROOM(No action)
  9: 0x07E5 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=Raibaht (ID: 17748012/0x010ED02C), tag_num=0x39)
 10: 0x07EC [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x61)
 11: 0x07F3 [0x4A] LocalPlayer looks at Raibaht (ID: 17748012/0x010ED02C)
 12: 0x07FC [0x4A] Raibaht (ID: 17748012/0x010ED02C) looks at LocalPlayer
 13: 0x0805 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 14: 0x0806 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 15: 0x080B [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 16: 0x080C [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Raibaht (ID: 17748012/0x010ED02C) Render.Flags0 and Render.Flags3 conditions are met
 17: 0x0811 [0x4E] SET_ENTITY_HIDE_FLAG: Show Raibaht (ID: 17748012/0x010ED02C)
 18: 0x0817 [0x80] LOAD_WAIT(entity=Raibaht (ID: 17748012/0x010ED02C))
 19: 0x081C [0x92] Raibaht (ID: 17748012/0x010ED02C)->Render.Flags3 ^= 0x01
 20: 0x0822 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s005" with entities [EventEntity, EventEntity], work=[25*, 0*]
 21: 0x0833 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 22: 0x0844 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Raibaht (ID: 17748012/0x010ED02C), tag_num=0x1F)
 23: 0x084B [0x2B] Raibaht (ID: 17748012/0x010ED02C) [9944*]:
    → "...\u0007We have a slight problem...\u0007The chief asked an adventurer to bring him a highly advanced altimeter from Jeuno.\u007F1\u0000\u0007"
 24: 0x0852 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x0853 [0x2B] Raibaht (ID: 17748012/0x010ED02C) [9945*]:
    → "However, while the adventurer was traveling through the Duchy, he was stopped and arrested for attempting to transport the restricted item.\u007F1\u0000\u0007"
 26: 0x085A [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x085B [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Raibaht (ID: 17748012/0x010ED02C), tag_num=0x20)
 28: 0x0862 [0x52] END_LOAD_SCHEDULER: End scheduler "s005" with entities [EventEntity, EventEntity], work=25*
 29: 0x0871 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x088D
 30: 0x0879 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s006" with entities [EventEntity, EventEntity], work=[25*, 0*]
 31: 0x088A [0x01] GOTO 0x08BA
 32: 0x088D [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x08A9
 33: 0x0895 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s006" with entities [EventEntity, EventEntity], work=[25*, 0*]
 34: 0x08A6 [0x01] GOTO 0x08BA
 35: 0x08A9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s004" with entities [EventEntity, EventEntity], work=[25*, 0*]

SUBROUTINE_08BA:
 36: 0x08BA [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Raibaht (ID: 17748012/0x010ED02C), tag_num=0x21)
 37: 0x08C1 [0x2B] Raibaht (ID: 17748012/0x010ED02C) [9946*]:
    → "While the adventurer was able to hide the \u0001\u00053\u0002\u0001\u0000\u0000 before he was taken into custody, he has been ordered to defeat an unknown beast in Delkfutt's Tower before he can return home.\u007F1\u0000\u0007"
 38: 0x08C8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x08C9 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Raibaht (ID: 17748012/0x010ED02C), tag_num=0x22)
 40: 0x08D0 [0x2B] Raibaht (ID: 17748012/0x010ED02C) [9947*]:
    → "We do not have the time to wait for him, and that is why we need your assistance again. Would you travel to Delkfutt's Tower, ask the adventurer where he hid the \u0001\u00053\u0002\u0001\u0000\u0000, then find it and bring it back here?\u007F1\u0000\u0007"
 41: 0x08D7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x08D8 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Raibaht (ID: 17748012/0x010ED02C), tag_num=0x1D)
 43: 0x08DF [0x2B] Raibaht (ID: 17748012/0x010ED02C) [9948*]:
    → "You may use this \u0001\u00053\u0002\u0002\u0000\u0000. If you put the \u0001\u00053\u0002\u0001\u0000\u0000 in it, the Ducal Guard and the customs officials at the air travel agency should not find the item.\u007F1\u0000\u0007"
 44: 0x08E6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 45: 0x08E7 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Raibaht (ID: 17748012/0x010ED02C), tag_num=0x1E)
 46: 0x08EE [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x0908
 47: 0x08F6 [0x52] END_LOAD_SCHEDULER: End scheduler "s006" with entities [EventEntity, EventEntity], work=25*
 48: 0x0905 [0x01] GOTO 0x0931
 49: 0x0908 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x0922
 50: 0x0910 [0x52] END_LOAD_SCHEDULER: End scheduler "s006" with entities [EventEntity, EventEntity], work=25*
 51: 0x091F [0x01] GOTO 0x0931
 52: 0x0922 [0x52] END_LOAD_SCHEDULER: End scheduler "s004" with entities [EventEntity, EventEntity], work=25*

SUBROUTINE_0931:
 53: 0x0931 [0x24] CREATE_DIALOG(message_id=9949*, default_option=0*, option_flags=0*)
    → "Accept the job?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 54: 0x0938 [0x25] WAIT_DIALOG_SELECT()
 55: 0x0939 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0973
 56: 0x0941 [0x03] Work_Zone[1] = 1*
 57: 0x0946 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "ovl1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 58: 0x0957 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s005" with entities [EventEntity, EventEntity], work=[25*, 0*]
 59: 0x0968 [0x2B] Raibaht (ID: 17748012/0x010ED02C) [9950*]:
    → "The adventurer we seek has been ordered to defeat a monster known as Orna. Find the monster...and you will find him.\u007F1\u0000\u0007"
 60: 0x096F [0x23] WAIT_FOR_DIALOG_INTERACTION
 61: 0x0970 [0x01] GOTO 0x0983
 62: 0x0973 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0983
 63: 0x097B [0x03] Work_Zone[1] = 2*
 64: 0x0980 [0x01] GOTO 0x0983

SUBROUTINE_0983:
 65: 0x0983 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 66: 0x0994 [0x1C] WAIT(60* ticks)
 67: 0x0997 [0x52] END_LOAD_SCHEDULER: End scheduler "s005" with entities [EventEntity, EventEntity], work=25*
 68: 0x09A6 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 69: 0x09AC [0x80] LOAD_WAIT(entity=LocalPlayer)
 70: 0x09B1 [0x46] CAMERA_CONTROL: Restore default settings
 71: 0x09B3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
 72: 0x09C4 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 73: 0x09C6 [0x21] END_EVENT
 74: 0x09C7 [0x00] END_REQSTACK()
```
