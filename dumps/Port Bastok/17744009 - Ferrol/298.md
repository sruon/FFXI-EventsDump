# Event 298

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 14/19     |
| Offset          | 0x034A    |
| Data Size       | 180 bytes |
| Calculated Size | 180 bytes |
| Instructions    | 41        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0340:                                1E F0 FF FF 7F 4A            .....J
0350: 88 C0 0E 01 F0 FF FF 7F  6F 70 1D 28 80 23 1D 29  ........op.(.#.)
0360: 80 23 24 2A 80 0D 80 06  10 25 02 00 10 0D 80 00  .#$*.....%......
0370: EA 03 42 03 01 10 05 80  4A 89 C0 0E 01 88 C0 0E  ..B.....J.......
0380: 01 6F 76 89 C0 0E 01 6E  F8 FF FF 7F 05 80 99 F8  .ov....n........
0390: FF FF 7F 1D 2B 80 23 6F  76 88 C0 0E 01 6E 88 C0  ....+.#ov....n..
03A0: 0E 01 1A 80 99 88 C0 0E  01 2B 88 C0 0E 01 2C 80  .........+....,.
03B0: 23 73 2D 80 88 C0 0E 01  F0 FF FF 7F 1C 2E 80 2B  #s-............+
03C0: 88 C0 0E 01 2F 80 23 4A  89 C0 0E 01 F0 FF FF 7F  ..../.#J........
03D0: 1C 16 80 45 16 80 F8 FF  FF 7F F8 FF FF 7F 66 64  ...E..........fd
03E0: 6F 32 0D 80 1C 30 80 01  FA 03 02 00 10 27 80 00  o2...0.......'..
03F0: FA 03 03 01 10 31 80 01  FA 03 20 00 21 00        .....1.... .!.  
```

## Opcodes

```
  0: 0x034A [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x034F [0x4A] Juroro (ID: 17744008/0x010EC088) looks at LocalPlayer
  2: 0x0358 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x0359 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x035A [0x1D] PRINT_EVENT_MESSAGE(message_id=8655*)
    → "Are you and Carbuncle ready to fight the prime avatar as a level 
\u0003 summoner?\u007F1\u0000\u0007"
  5: 0x035D [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x035E [0x1D] PRINT_EVENT_MESSAGE(message_id=8656*)
    → "Also, regardless of whether you defeat the avatar or not, you will be unable to re-enter the protocrystal again for a number of days.\u007F1\u0000\u0007"
  7: 0x0361 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x0362 [0x24] CREATE_DIALOG(message_id=8657*, default_option=0*, option_flags=0x1006)
    → "Are you sure you are ready?\u0007\u000BOff to \u000C\u0002[Ifrit's Cauldron/the Quicksand Caves/the Den of Rancor/Cape Teriggan/Fei'Yin/the Boyahda Tree]!\u0007My dog ate my \u001E\u0005mini tuning fork\u001E\u0001.\u0007Not just yet...\u007F1\u0000\u0007"
  9: 0x0369 [0x25] WAIT_DIALOG_SELECT()
 10: 0x036A [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x03EA
 11: 0x0372 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 12: 0x0373 [0x03] Work_Zone[1] = 1*
 13: 0x0378 [0x4A] Ferrol (ID: 17744009/0x010EC089) looks at Juroro (ID: 17744008/0x010EC088)
 14: 0x0381 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 15: 0x0382 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Ferrol (ID: 17744009/0x010EC089) Render.Flags0 and Render.Flags3 conditions are met
 16: 0x0387 [0x6E] EventEntity uses emote 1*
 17: 0x038E [0x99] Wait for EventEntity animation to complete
 18: 0x0393 [0x1D] PRINT_EVENT_MESSAGE(message_id=8658*)
    → "Ma'am, our adventurer has completed \u007F\u0005[his/her] preparations and requests a warp.\u007F1\u0000\u0007"
 19: 0x0396 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x0397 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 21: 0x0398 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Juroro (ID: 17744008/0x010EC088) Render.Flags0 and Render.Flags3 conditions are met
 22: 0x039D [0x6E] Juroro (ID: 17744008/0x010EC088) uses emote 7*
 23: 0x03A4 [0x99] Wait for Juroro (ID: 17744008/0x010EC088) animation to complete
 24: 0x03A9 [0x2B] Juroro (ID: 17744008/0x010EC088) [8659*]:
    → "...\u0007Alacazimzam-scooby-dooby...\u0007...\u0000\u0007"
 25: 0x03B0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x03B1 [0x73] Juroro (ID: 17744008/0x010EC088) casts magic 261* on LocalPlayer
 27: 0x03BC [0x1C] WAIT(30* ticks)
 28: 0x03BF [0x2B] Juroro (ID: 17744008/0x010EC088) [8660*]:
    → "Sha-mone!\u0000\u0007"
 29: 0x03C6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x03C7 [0x4A] Ferrol (ID: 17744009/0x010EC089) looks at LocalPlayer
 31: 0x03D0 [0x1C] WAIT(200* ticks)
 32: 0x03D3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo2" with entities [EventEntity, EventEntity], work=[200*, 0*]
 33: 0x03E4 [0x1C] WAIT(120* ticks)
 34: 0x03E7 [0x01] GOTO 0x03FA

SUBROUTINE_03EA:
 35: 0x03EA [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x03FA
 36: 0x03F2 [0x03] Work_Zone[1] = 3*
 37: 0x03F7 [0x01] GOTO 0x03FA

SUBROUTINE_03FA:
 38: 0x03FA [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 39: 0x03FC [0x21] END_EVENT
 40: 0x03FD [0x00] END_REQSTACK()
```
