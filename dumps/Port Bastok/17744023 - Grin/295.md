# Event 295

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 752 bytes |
| Calculated Size | 752 bytes |
| Instructions    | 136       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    1E F0 FF FF 7F 03 00  00 02 10 03 01 00 05 10   ...............
0010: 43 00 43 01 02 04 10 00  80 80 23 00 1D 01 80 23  C.C.......#....#
0020: 01 9A 00 02 04 10 02 80  80 55 00 1D 03 80 23 24  .........U....#$
0030: 04 80 00 80 05 80 25 02  00 10 05 80 00 4A 00 1D  ......%......J..
0040: 06 80 23 42 1A 9C 00 01  52 00 1D 07 80 23 1D 08  ..#B....R....#..
0050: 80 23 01 9A 00 02 04 10  09 80 80 64 00 1D 0A 80  .#.........d....
0060: 23 01 9A 00 1D 0B 80 23  1D 0C 80 23 1D 0D 80 23  #......#...#...#
0070: 24 0E 80 05 80 05 80 25  02 00 10 05 80 00 8B 00  $......%........
0080: 42 1D 0F 80 23 1A 9C 00  01 9A 00 02 00 10 00 80  B...#...........
0090: 00 9A 00 1D 10 80 23 01  9A 00 21 00 46 01 1A 97  ......#...!.F...
00A0: 02 38 11 80 22 01 4E 01  F0 FF FF 7F 4E 00 98 C0  .8..".N.....N...
00B0: 0E 01 80 98 C0 0E 01 1A  DF 02 67 05 80 05 80 02  ..........g.....
00C0: 01 00 00 80 80 EA 00 45  09 80 F0 FF FF 7F F0 FF  .......E........
00D0: FF 7F 73 77 73 64 05 80  55 09 80 F0 FF FF 7F F0  ..swsd..U.......
00E0: FF FF 7F 73 77 73 64 01  6B 01 02 01 00 02 80 80  ...swsd.k.......
00F0: 15 01 45 09 80 F0 FF FF  7F F0 FF FF 7F 73 77 62  ..E..........swb
0100: 73 05 80 55 09 80 F0 FF  FF 7F F0 FF FF 7F 73 77  s..U..........sw
0110: 62 73 01 6B 01 02 01 00  09 80 80 40 01 45 09 80  bs.k.......@.E..
0120: F0 FF FF 7F F0 FF FF 7F  73 77 77 73 05 80 55 09  ........swws..U.
0130: 80 F0 FF FF 7F F0 FF FF  7F 73 77 77 73 01 6B 01  .........swws.k.
0140: 02 01 00 12 80 80 6B 01  45 09 80 F0 FF FF 7F F0  ......k.E.......
0150: FF FF 7F 73 77 6B 7A 05  80 55 09 80 F0 FF FF 7F  ...swkz..U......
0160: F0 FF FF 7F 73 77 6B 7A  01 6B 01 67 05 80 05 80  ....swkz.k.g....
0170: 02 01 00 00 80 80 9B 01  45 09 80 F0 FF FF 7F F0  ........E.......
0180: FF FF 7F 73 32 33 32 05  80 55 09 80 F0 FF FF 7F  ...s232..U......
0190: F0 FF FF 7F 73 32 33 32  01 1C 02 02 01 00 02 80  ....s232........
01A0: 80 C6 01 45 09 80 F0 FF  FF 7F F0 FF FF 7F 73 32  ...E..........s2
01B0: 33 36 05 80 55 09 80 F0  FF FF 7F F0 FF FF 7F 73  36..U..........s
01C0: 32 33 36 01 1C 02 02 01  00 09 80 80 F1 01 45 09  236...........E.
01D0: 80 F0 FF FF 7F F0 FF FF  7F 73 32 34 30 05 80 55  .........s240..U
01E0: 09 80 F0 FF FF 7F F0 FF  FF 7F 73 32 34 30 01 1C  ..........s240..
01F0: 02 02 01 00 12 80 80 1C  02 45 09 80 F0 FF FF 7F  .........E......
0200: F0 FF FF 7F 73 32 35 30  05 80 55 09 80 F0 FF FF  ....s250..U.....
0210: 7F F0 FF FF 7F 73 32 35  30 01 1C 02 68 1D 13 80  .....s250...h...
0220: 23 24 14 80 00 80 05 80  25 02 00 10 05 80 00 88  #$......%.......
0230: 02 1A 97 02 46 00 1C 15  80 4E 01 98 C0 0E 01 4E  ....F....N.....N
0240: 00 F0 FF FF 7F 38 05 80  22 00 80 F8 FF FF 7F 1A  .....8..".......
0250: CD 02 43 00 43 01 02 03  10 00 00 04 65 02 1D 16  ..C.C.......e...
0260: 80 23 01 85 02 1D 07 80  23 1D 08 80 23 43 00 43  .#......#...#C.C
0270: 01 02 03 10 00 00 04 80  02 1D 16 80 23 01 85 02  ............#...
0280: 03 01 10 00 80 01 96 02  02 00 10 00 80 00 96 02  ................
0290: 01 6B 01 01 96 02 1B 45  17 80 F8 FF FF 7F F8 FF  .k.....E........
02A0: FF 7F 66 64 6F 30 05 80  1C 15 80 1B 45 17 80 F8  ..fdo0......E...
02B0: FF FF 7F F8 FF FF 7F 66  64 6F 31 05 80 55 17 80  .......fdo1..U..
02C0: F8 FF FF 7F F8 FF FF 7F  66 64 6F 31 1B 45 17 80  ........fdo1.E..
02D0: F8 FF FF 7F F8 FF FF 7F  66 64 69 31 05 80 1B 45  ........fdi1...E
02E0: 17 80 F8 FF FF 7F F8 FF  FF 7F 66 64 69 30 05 80  ..........fdi0..
02F0: 1B                                                .               
```

## Opcodes

```
  0: 0x0001 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0006 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  2: 0x000B [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[5]
  3: 0x0010 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
  4: 0x0012 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
  5: 0x0014 [0x02] IF !(Work_Zone[4] == 1*) GOTO 0x0023
  6: 0x001C [0x1D] PRINT_EVENT_MESSAGE(message_id=8877*)
    → "You were unable to meet with the rightful owner of the item?\u0007Well, thank you for your help, in any case. I will hand the item over to the airship authorities.\u007F1\u0000\u0007"
  7: 0x001F [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x0020 [0x01] GOTO 0x009A

SUBROUTINE_0023:
  9: 0x0023 [0x02] IF !(Work_Zone[4] == 2*) GOTO 0x0055
 10: 0x002B [0x1D] PRINT_EVENT_MESSAGE(message_id=8878*)
    → "What, you've forgotten already?\u007F1\u0000\u0007"
 11: 0x002E [0x23] WAIT_FOR_DIALOG_INTERACTION
 12: 0x002F [0x24] CREATE_DIALOG(message_id=8879*, default_option=1*, option_flags=0*)
    → "Have you forgotten?\u0007\u000BYes.\u0007No.\u007F1\u0000\u0007"
 13: 0x0036 [0x25] WAIT_DIALOG_SELECT()
 14: 0x0037 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x004A
 15: 0x003F [0x1D] PRINT_EVENT_MESSAGE(message_id=8880*)
    → "The passenger looked like this.\u007F1\u0000\u0007"
 16: 0x0042 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x0043 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 18: 0x0044 [0x1A] CALL_SUBROUTINE(address=0x009C)
 19: 0x0047 [0x01] GOTO 0x0052

SUBROUTINE_004A:
 20: 0x004A [0x1D] PRINT_EVENT_MESSAGE(message_id=8873*)
    → "The passenger who dropped the item should be on the next flight.\u007F1\u0000\u0007"
 21: 0x004D [0x23] WAIT_FOR_DIALOG_INTERACTION
 22: 0x004E [0x1D] PRINT_EVENT_MESSAGE(message_id=8874*)
    → "I leave the rest in your capable hands.\u007F1\u0000\u0007"
 23: 0x0051 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x0052 [0x01] GOTO 0x009A

SUBROUTINE_0055:
 25: 0x0055 [0x02] IF !(Work_Zone[4] == 3*) GOTO 0x0064
 26: 0x005D [0x1D] PRINT_EVENT_MESSAGE(message_id=8881*)
    → "It's my job to look out for suspicious characters coming in on the airships.\u007F1\u0000\u0007"
 27: 0x0060 [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x0061 [0x01] GOTO 0x009A

SUBROUTINE_0064:
 29: 0x0064 [0x1D] PRINT_EVENT_MESSAGE(message_id=8866*)
    → "Excuse me, \u007F\u0005[sir/madam].\u0007If you are boarding the airship, might I ask you a favor?\u007F1\u0000\u0007"
 30: 0x0067 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x0068 [0x1D] PRINT_EVENT_MESSAGE(message_id=8867*)
    → "A passenger who intended to board the next flight dropped this...\u007F1\u0000\u0007"
 32: 0x006B [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x006C [0x1D] PRINT_EVENT_MESSAGE(message_id=8868*)
    → "I cannot leave my post, so I was wondering if you could return it to its rightful owner in my stead?\u007F1\u0000\u0007"
 34: 0x006F [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x0070 [0x24] CREATE_DIALOG(message_id=8869*, default_option=0*, option_flags=0*)
    → "Return the dropped item?\u0007\u000BGladly.\u0007Sorry, I'm a busy \u007F\u0005[man/woman].\u007F1\u0000\u0007"
 36: 0x0077 [0x25] WAIT_DIALOG_SELECT()
 37: 0x0078 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x008B
 38: 0x0080 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 39: 0x0081 [0x1D] PRINT_EVENT_MESSAGE(message_id=8870*)
    → "Thank you!\u0007The passenger who dropped the item looked like this.\u007F1\u0000\u0007"
 40: 0x0084 [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x0085 [0x1A] CALL_SUBROUTINE(address=0x009C)
 42: 0x0088 [0x01] GOTO 0x009A

SUBROUTINE_008B:
 43: 0x008B [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x009A
 44: 0x0093 [0x1D] PRINT_EVENT_MESSAGE(message_id=8875*)
    → "I see...\u0007I'm sorry to have bothered you with such a trivial request.\u007F1\u0000\u0007"
 45: 0x0096 [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x0097 [0x01] GOTO 0x009A

SUBROUTINE_009A:
 47: 0x009A [0x21] END_EVENT
 48: 0x009B [0x00] END_REQSTACK()

SUBROUTINE_009C:
 49: 0x009C [0x46] CAMERA_CONTROL: Disable user control
 50: 0x009E [0x1A] CALL_SUBROUTINE(address=0x0297)
 51: 0x00A1 [0x38] SET_CLIENT_EVENT_MODE(mode=18*)
 52: 0x00A4 [0x22] ENTITY_HIDE_FLAG(enabled=0x01)
 53: 0x00A6 [0x4E] SET_ENTITY_HIDE_FLAG: Hide LocalPlayer
 54: 0x00AC [0x4E] SET_ENTITY_HIDE_FLAG: Show Unnamed NPC (ID: 17744024/0x010EC098)
 55: 0x00B2 [0x80] LOAD_WAIT(entity=Unnamed NPC (ID: 17744024/0x010EC098))
 56: 0x00B7 [0x1A] CALL_SUBROUTINE(address=0x02DF)
 57: 0x00BA [0x67] HIDE_HUD_ELEMENTS(param1=0x8005, param2=0x8005)
 58: 0x00BF [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x00EA
 59: 0x00C7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "swsd" with entities [LocalPlayer, LocalPlayer], work=[3*, 0*]
 60: 0x00D8 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "swsd" with entities [LocalPlayer, LocalPlayer], work=3*
 61: 0x00E7 [0x01] GOTO 0x016B

SUBROUTINE_00EA:
 62: 0x00EA [0x02] IF !(ExtData[1]->WorkLocal[1] == 2*) GOTO 0x0115
 63: 0x00F2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "swbs" with entities [LocalPlayer, LocalPlayer], work=[3*, 0*]
 64: 0x0103 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "swbs" with entities [LocalPlayer, LocalPlayer], work=3*
 65: 0x0112 [0x01] GOTO 0x016B

SUBROUTINE_0115:
 66: 0x0115 [0x02] IF !(ExtData[1]->WorkLocal[1] == 3*) GOTO 0x0140
 67: 0x011D [0x45] LOAD_SCHEDULED_TASK: Load scheduler "swws" with entities [LocalPlayer, LocalPlayer], work=[3*, 0*]
 68: 0x012E [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "swws" with entities [LocalPlayer, LocalPlayer], work=3*
 69: 0x013D [0x01] GOTO 0x016B

SUBROUTINE_0140:
 70: 0x0140 [0x02] IF !(ExtData[1]->WorkLocal[1] == 4*) GOTO 0x016B
 71: 0x0148 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "swkz" with entities [LocalPlayer, LocalPlayer], work=[3*, 0*]
 72: 0x0159 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "swkz" with entities [LocalPlayer, LocalPlayer], work=3*
 73: 0x0168 [0x01] GOTO 0x016B

SUBROUTINE_016B:
 74: 0x016B [0x67] HIDE_HUD_ELEMENTS(param1=0x8005, param2=0x8005)
 75: 0x0170 [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x019B
 76: 0x0178 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s232" with entities [LocalPlayer, LocalPlayer], work=[3*, 0*]
 77: 0x0189 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "s232" with entities [LocalPlayer, LocalPlayer], work=3*
 78: 0x0198 [0x01] GOTO 0x021C

SUBROUTINE_019B:
 79: 0x019B [0x02] IF !(ExtData[1]->WorkLocal[1] == 2*) GOTO 0x01C6
 80: 0x01A3 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s236" with entities [LocalPlayer, LocalPlayer], work=[3*, 0*]
 81: 0x01B4 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "s236" with entities [LocalPlayer, LocalPlayer], work=3*
 82: 0x01C3 [0x01] GOTO 0x021C

SUBROUTINE_01C6:
 83: 0x01C6 [0x02] IF !(ExtData[1]->WorkLocal[1] == 3*) GOTO 0x01F1
 84: 0x01CE [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s240" with entities [LocalPlayer, LocalPlayer], work=[3*, 0*]
 85: 0x01DF [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "s240" with entities [LocalPlayer, LocalPlayer], work=3*
 86: 0x01EE [0x01] GOTO 0x021C

SUBROUTINE_01F1:
 87: 0x01F1 [0x02] IF !(ExtData[1]->WorkLocal[1] == 4*) GOTO 0x021C
 88: 0x01F9 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s250" with entities [LocalPlayer, LocalPlayer], work=[3*, 0*]
 89: 0x020A [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "s250" with entities [LocalPlayer, LocalPlayer], work=3*
 90: 0x0219 [0x01] GOTO 0x021C

SUBROUTINE_021C:
 91: 0x021C [0x68] SHOW_HUD_ELEMENTS()
 92: 0x021D [0x1D] PRINT_EVENT_MESSAGE(message_id=8871*)
    → "Have you memorized the image?\u007F1\u0000\u0007"
 93: 0x0220 [0x23] WAIT_FOR_DIALOG_INTERACTION
 94: 0x0221 [0x24] CREATE_DIALOG(message_id=8872*, default_option=1*, option_flags=0*)
    → "Have you got it?\u0007\u000BI got it.\u0007Not yet.\u007F1\u0000\u0007"
 95: 0x0228 [0x25] WAIT_DIALOG_SELECT()
 96: 0x0229 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0288
 97: 0x0231 [0x1A] CALL_SUBROUTINE(address=0x0297)
 98: 0x0234 [0x46] CAMERA_CONTROL: Restore default settings
 99: 0x0236 [0x1C] WAIT(30* ticks)
100: 0x0239 [0x4E] SET_ENTITY_HIDE_FLAG: Hide Unnamed NPC (ID: 17744024/0x010EC098)
101: 0x023F [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
102: 0x0245 [0x38] SET_CLIENT_EVENT_MODE(mode=0*)
103: 0x0248 [0x22] ENTITY_HIDE_FLAG(enabled=0x00)
104: 0x024A [0x80] LOAD_WAIT(entity=EventEntity)
105: 0x024F [0x1A] CALL_SUBROUTINE(address=0x02CD)
106: 0x0252 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
107: 0x0254 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
108: 0x0256 [0x02] IF !(Work_Zone[3] < ExtData[1]->WorkLocal[0]) GOTO 0x0265
109: 0x025E [0x1D] PRINT_EVENT_MESSAGE(message_id=8876*)
    → "Oh, the airship has already left...\u0007I guess we'll just have to leave this with the airship authorities.\u007F1\u0000\u0007"
110: 0x0261 [0x23] WAIT_FOR_DIALOG_INTERACTION
111: 0x0262 [0x01] GOTO 0x0285

SUBROUTINE_0265:
112: 0x0265 [0x1D] PRINT_EVENT_MESSAGE(message_id=8873*)
    → "The passenger who dropped the item should be on the next flight.\u007F1\u0000\u0007"
113: 0x0268 [0x23] WAIT_FOR_DIALOG_INTERACTION
114: 0x0269 [0x1D] PRINT_EVENT_MESSAGE(message_id=8874*)
    → "I leave the rest in your capable hands.\u007F1\u0000\u0007"
115: 0x026C [0x23] WAIT_FOR_DIALOG_INTERACTION
116: 0x026D [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
117: 0x026F [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
118: 0x0271 [0x02] IF !(Work_Zone[3] < ExtData[1]->WorkLocal[0]) GOTO 0x0280
119: 0x0279 [0x1D] PRINT_EVENT_MESSAGE(message_id=8876*)
    → "Oh, the airship has already left...\u0007I guess we'll just have to leave this with the airship authorities.\u007F1\u0000\u0007"
120: 0x027C [0x23] WAIT_FOR_DIALOG_INTERACTION
121: 0x027D [0x01] GOTO 0x0285

SUBROUTINE_0280:
122: 0x0280 [0x03] Work_Zone[1] = 1*
123: 0x0285 [0x01] GOTO 0x0296

SUBROUTINE_0288:
124: 0x0288 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0296
125: 0x0290 [0x01] GOTO 0x016B

SUBROUTINE_0296:
126: 0x0296 [0x1B] RETURN

SUBROUTINE_0297:
127: 0x0297 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo0" with entities [EventEntity, EventEntity], work=[200*, 0*]
128: 0x02A8 [0x1C] WAIT(30* ticks)
129: 0x02AB [0x1B] RETURN

130: 0x02CD [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [EventEntity, EventEntity], work=[200*, 0*]
131: 0x02DE [0x1B] RETURN

SUBROUTINE_02DF:
132: 0x02DF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi0" with entities [EventEntity, EventEntity], work=[200*, 0*]
133: 0x02F0 [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0293 [0x01] GOTO 0x0296
# Data Section: 0x02AC (33 bytes)
     0x02AC: 45 17 80 F8 FF FF 7F F8 FF FF 7F 66 64 6F 31 05
     0x02BC: 80 55 17 80 F8 FF FF 7F F8 FF FF 7F 66 64 6F 31
     0x02CC: 1B
```