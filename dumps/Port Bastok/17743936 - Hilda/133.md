# Event 133

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/13      |
| Offset          | 0x005B    |
| Data Size       | 453 bytes |
| Calculated Size | 453 bytes |
| Instructions    | 73        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0050:                                   32 08 80 86 00             2....
0060: F8 FF FF 7F 42 20 01 75  00 09 80 75 01 45 0A 80  ....B .u...u.E..
0070: F8 FF FF 7F F8 FF FF 7F  66 64 6F 31 01 80 1C 0B  ........fdo1....
0080: 80 45 0C 80 F8 FF FF 7F  F8 FF FF 7F 73 30 31 38  .E..........s018
0090: 01 80 37 0D 80 0E 80 0F  80 10 80 46 01 38 11 80  ..7........F.8..
00A0: 29 0A F0 FF FF 7F 10 45  0A 80 F8 FF FF 7F F8 FF  )......E........
00B0: FF 7F 66 64 69 31 01 80  03 09 10 03 80 1E F0 FF  ..fdi1..........
00C0: FF 7F 5B 01 80 F8 FF FF  7F F8 FF FF 7F 74 6C 6B  ..[..........tlk
00D0: 30 1D 12 80 23 1D 13 80  23 5E 69 64 6C 30 1D 14  0...#...#^idl0..
00E0: 80 23 5D 01 80 0B 80 45  0A 80 F8 FF FF 7F F8 FF  .#]....E........
00F0: FF 7F 66 64 6F 31 01 80  1C 0B 80 5C 00 15 80 5C  ..fdo1.....\...\
0100: 01 15 80 45 0C 80 F8 FF  FF 7F F8 FF FF 7F 73 30  ...E..........s0
0110: 30 37 01 80 45 0A 80 F8  FF FF 7F F8 FF FF 7F 66  07..E..........f
0120: 64 69 31 01 80 27 0A F0  FF FF 7F 11 32 08 80 37  di1..'......2..7
0130: 16 80 17 80 18 80 19 80  33 01 5A 00 1A 80 1B 80  ........3.Z.....
0140: 1C 80 5A 01 5A 00 1D 80  1E 80 1F 80 5A 01 1D 20  ..Z.Z.......Z.. 
0150: 80 5A 00 21 80 22 80 1F  80 5A 01 33 00 1F 00 23  .Z.!."...Z.3...#
0160: 80 24 80 1F 80 1F 01 23  45 0C 80 F8 FF FF 7F F8  .$.....#E.......
0170: FF FF 7F 73 30 30 38 01  80 5B 01 80 F8 FF FF 7F  ...s008..[......
0180: F8 FF FF 7F 74 68 6B 31  1D 25 80 23 1D 26 80 23  ....thk1.%.#.&.#
0190: 5B 01 80 F8 FF FF 7F F8  FF FF 7F 74 68 6B 32 53  [..........thk2S
01A0: F8 FF FF 7F F8 FF FF 7F  74 68 6B 32 1E F0 FF FF  ........thk2....
01B0: 7F 1D 27 80 23 5B 01 80  F8 FF FF 7F F8 FF FF 7F  ..'.#[..........
01C0: 74 6C 6B 30 1D 28 80 23  5B 01 80 F8 FF FF 7F F8  tlk0.(.#[.......
01D0: FF FF 7F 70 61 73 30 1D  29 80 23 5D 01 80 0B 80  ...pas0.).#]....
01E0: 45 0A 80 F8 FF FF 7F F8  FF FF 7F 66 64 6F 31 01  E..........fdo1.
01F0: 80 1C 0B 80 55 0C 80 F8  FF FF 7F F8 FF FF 7F 73  ....U..........s
0200: 30 30 38 46 00 5C 00 2A  80 5C 01 2A 80 45 0A 80  008F.\.*.\.*.E..
0210: F8 FF FF 7F F8 FF FF 7F  66 64 69 32 01 80 21 00  ........fdi2..!.
```

## Opcodes

```
  0: 0x005B [0x32] ExtData[1]->MainSpeed = 8* * 0.1
  1: 0x005E [0x86] EventEntity->Render.Flags3 = Flags3  // No change (flag=0)
  2: 0x0064 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  3: 0x0065 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  4: 0x0067 [0x75] LOAD_ROOM(Load indoor room, room=318*)
  5: 0x006B [0x75] LOAD_ROOM(No action)
  6: 0x006D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
  7: 0x007E [0x1C] WAIT(60* ticks)
  8: 0x0081 [0x45] LOAD_SCHEDULED_TASK(work_offset1=136*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s018", work_offset2=0*)
  9: 0x0092 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-162.228*, z=11.978*, y=-7.781*, direction=25.9°*
 10: 0x009B [0x46] CAMERA_CONTROL: Disable user control
 11: 0x009D [0x38] SET_CLIENT_EVENT_MODE(mode=3*)
 12: 0x00A0 [0x29] REQ_SET_WAIT(priority=0x0A, entity_id=LocalPlayer, tag_num=0x10)
 13: 0x00A7 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 14: 0x00B8 [0x03] Work_Zone[9] = 4530*
 15: 0x00BD [0x1E] EventEntity looks at LocalPlayer and starts talking
 16: 0x00C2 [0x5B] LOAD_EXT_SCHEDULER(work_offset=0*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 17: 0x00D1 [0x1D] PRINT_EVENT_MESSAGE(message_id=7569*)
    → "Isn't this...? Yes, it is \u0001\u0001\u0001 \u0001\u0005$\u0002\u0007\u0000\u0000! Thank you so much!\u0007Oh! I should pay you for your trouble...\u007F1\u0000\u0007"
 18: 0x00D4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x00D5 [0x1D] PRINT_EVENT_MESSAGE(message_id=7570*)
    → "You were asked to help me? But who would...?\u0007The Chief Engineer himself?\u007F1\u0000\u0007"
 20: 0x00D8 [0x23] WAIT_FOR_DIALOG_INTERACTION
 21: 0x00D9 [0x5E] EventEntity goes idle (kills current action) (animation: "idl0")
 22: 0x00DE [0x1D] PRINT_EVENT_MESSAGE(message_id=7571*)
    → "I see...\u0007Let us go upstairs--there are a few things I should tell you.\u007F1\u0000\u0007"
 23: 0x00E1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 24: 0x00E2 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=60*)
 25: 0x00E7 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 26: 0x00F8 [0x1C] WAIT(60* ticks)
 27: 0x00FB [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 124*
 28: 0x00FF [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 124*
 29: 0x0103 [0x45] LOAD_SCHEDULED_TASK(work_offset1=136*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s007", work_offset2=0*)
 30: 0x0114 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi1", work_offset2=0*)
 31: 0x0125 [0x27] REQ_SET(priority=0x0A, entity_id=LocalPlayer, tag_num=0x11)
 32: 0x012C [0x32] ExtData[1]->MainSpeed = 8* * 0.1
 33: 0x012F [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-162.146*, z=16.030*, y=-10.179*, direction=346.5°*
 34: 0x0138 [0x33] EventEntity->Render.Flags0 |= 0x200000 // Bit 21 (flag=0x01)
 35: 0x013A [0x5A] UPDATE_EVENT_POSITION: Set EventEntity MovePosition to X=-160.205*, Z=16.305*, Y=-10.480*
 36: 0x0142 [0x5A] UPDATE_EVENT_POSITION: Move EventEntity incrementally towards MovePosition
 37: 0x0144 [0x5A] UPDATE_EVENT_POSITION: Set EventEntity MovePosition to X=-158.855*, Z=15.416*, Y=-11.378*
 38: 0x014C [0x5A] UPDATE_EVENT_POSITION: Move EventEntity incrementally towards MovePosition
 39: 0x014E [0x1D] PRINT_EVENT_MESSAGE(message_id=7572*)
    → "Chief Cid was a close friend of my husband's. He was the one who gave my husband his job in the Palborough Mines. Digging mythril there earned him enough gil to open this restaurant.\u007F1\u0000\u0007"
 40: 0x0151 [0x5A] UPDATE_EVENT_POSITION: Set EventEntity MovePosition to X=-156.853*, Z=15.952*, Y=-11.378*
 41: 0x0159 [0x5A] UPDATE_EVENT_POSITION: Move EventEntity incrementally towards MovePosition
 42: 0x015B [0x33] EventEntity->Render.Flags0 &= ~ 0x200000 // Bit 21 (flag=0x00)
 43: 0x015D [0x1F] MOVE_ENTITY: EventEntity moves to X=-155.575*, Z=19.049*, Y=-11.378*
 44: 0x0165 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
 45: 0x0167 [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x0168 [0x45] LOAD_SCHEDULED_TASK(work_offset1=136*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s008", work_offset2=0*)
 47: 0x0179 [0x5B] LOAD_EXT_SCHEDULER(work_offset=0*, entity1=EventEntity, entity2=EventEntity, action="thk1")
 48: 0x0188 [0x1D] PRINT_EVENT_MESSAGE(message_id=7573*)
    → "Then, twenty years ago, they discovered a new vein of mythril in the Palborough Mines, and my husband, though long retired by then, was called in to oversee the diggings.\u007F1\u0000\u0007"
 49: 0x018B [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x018C [0x1D] PRINT_EVENT_MESSAGE(message_id=7574*)
    → "Things were going smoothly until...a batch of the new type of explosives they were using went off without warning, and as if waiting for such an opportunity, the Quadav attacked.\u007F1\u0000\u0007"
 51: 0x018F [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x0190 [0x5B] LOAD_EXT_SCHEDULER(work_offset=0*, entity1=EventEntity, entity2=EventEntity, action="thk2")
 53: 0x019F [0x53] WAIT_SCHEDULER_TASK(entity1=EventEntity, entity2=EventEntity, action_id="thk2")
 54: 0x01AC [0x1E] EventEntity looks at LocalPlayer and starts talking
 55: 0x01B1 [0x1D] PRINT_EVENT_MESSAGE(message_id=7575*)
    → "You must have guessed by now--Chief Engineer Cid was the one who designed the formula for the new explosive.\u007F1\u0000\u0007"
 56: 0x01B4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x01B5 [0x5B] LOAD_EXT_SCHEDULER(work_offset=0*, entity1=EventEntity, entity2=EventEntity, action="tlk0")
 58: 0x01C4 [0x1D] PRINT_EVENT_MESSAGE(message_id=7576*)
    → "I would be lying if I said I never blamed Cid for my husband's death...even though my husband would surely have forgiven him.\u007F1\u0000\u0007"
 59: 0x01C7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x01C8 [0x5B] LOAD_EXT_SCHEDULER(work_offset=0*, entity1=EventEntity, entity2=EventEntity, action="pas0")
 61: 0x01D7 [0x1D] PRINT_EVENT_MESSAGE(message_id=7577*)
    → "Give this letter to Cid for me.\u0007Tell him he doesn't have to worry about me, or this restaurant.\u007F1\u0000\u0007"
 62: 0x01DA [0x23] WAIT_FOR_DIALOG_INTERACTION
 63: 0x01DB [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=60*)
 64: 0x01E0 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo1", work_offset2=0*)
 65: 0x01F1 [0x1C] WAIT(60* ticks)
 66: 0x01F4 [0x55] WAIT_LOAD_SCHEDULER(work_offset=136*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s008")
 67: 0x0203 [0x46] CAMERA_CONTROL: Restore default settings
 68: 0x0205 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 152*
 69: 0x0209 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 152*
 70: 0x020D [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi2", work_offset2=0*)
 71: 0x021E [0x21] END_EVENT
 72: 0x021F [0x00] END_REQSTACK()
```
