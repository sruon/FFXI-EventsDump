# 17228401 - Mayuyu

## Common Data

| Field            | Value                       |
|------------------|-----------------------------|
| Zone             | Rolanberry Fields (ID: 110) |
| Block Size       | 976 bytes                   |
| Total Events     | 2                           |
| References Count | 30                          |

## List of Events

| Event ID              | Entrypoint   |   Size |   Instructions |
|-----------------------|--------------|--------|----------------|
| [65535](#event-65535) | 0x0000       |      1 |              1 |
| [8008](#event-8008)   | 0x0001       |    829 |            186 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x0000      |           0 |
|       1 | 0x2FCE      |       12238 |
|       2 | 0x2FCD      |       12237 |
|       3 | 0x0004      |           4 |
|       4 | 0x0001      |           1 |
|       5 | 0x2FD0      |       12240 |
|       6 | 0x0005      |           5 |
|       7 | 0x40000000  |  1073741824 |
|       8 | 0x2FDA      |       12250 |
|       9 | 0x0DC8      |        3528 |
|      10 | 0x2FD1      |       12241 |
|      11 | 0x0002      |           2 |
|      12 | 0x2FD2      |       12242 |
|      13 | 0x2FD3      |       12243 |
|      14 | 0x0028      |          40 |
|      15 | 0x2FD4      |       12244 |
|      16 | 0x2FD5      |       12245 |
|      17 | 0x2FE9      |       12265 |
|      18 | 0x02EE      |         750 |
|      19 | 0x0009      |           9 |
|      20 | 0x000A      |          10 |
|      21 | 0x000F      |          15 |
|      22 | 0x2FE6      |       12262 |
|      23 | 0x0078      |         120 |
|      24 | 0x0003      |           3 |
|      25 | 0x2FE5      |       12261 |
|      26 | 0x0006      |           6 |
|      27 | 0x2FD6      |       12246 |
|      28 | 0x0008      |           8 |
|      29 | 0x0007      |           7 |

## String References

- **12240**: Which battlefield will you choose? [Hall of An./Hall of Ki./Hall of Im./Hall of Muru./Hall of Mul./None.]
- **12241**: Select battlefield capacity. [18 combatants."6 combatants./Cancel.]
- **12242**: Very well. I will issue you $3 $0 .
- **12243**: % are valid for five minutes (Earth time) from time of issuance.
- **12244**: You wish to challenge the Hall of [An/Ki/Im/Muru/Mul] with a maximum of [eighteen/thirty-six] combatants. Is that correct?
- **12245**: Hall of [An/Ki/Im/Muru/Mul] (Capacity: [18/36]). [Confirm./Cancel.]
- **12246**: Excellentaru! Here [is/are] [one/two] Legion [pass/passes], which [is/are] valid for five minutes (Earth time). Prepare yourselves and trade [it/them] to the tome when you are ready.
- **12250**: Very well, then. When you've finished your preparations, just say the word.
- **12261**: The hands of darkness have impeded your progress into the next area.
- **12262**: You cannot enter at this time. Please wait a moment and try again.
- **12265**: Your request for entry is being considered...

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 8008

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x0001    |
| Data Size    | 829 bytes |
| Instructions | 186       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    4A F0 FF FF 7F 71 E2  06 01 4A 71 E2 06 01 F0   J....q...Jq....
0010: FF FF 7F 6F 76 71 E2 06  01 06 00 00 06 01 10 06  ...ovq..........
0020: 06 00 06 07 00 06 08 00  06 0A 00 06 0B 00 06 0C  ................
0030: 00 03 01 00 02 10 03 17  00 00 80 03 16 00 03 10  ................
0040: 3E 16 00 00 80 4F 00 03  05 00 01 80 01 5B 00 03  >....O.......[..
0050: 05 00 02 80 3C 17 00 03  80 04 80 3E 04 10 00 80  ....<......>....
0060: 67 00 03 0A 00 04 80 3E  04 10 04 80 73 00 03 0B  g......>....s...
0070: 00 04 80 1D 05 00 23 03  06 00 04 80 03 07 00 04  ......#.........
0080: 80 06 11 00 06 12 00 05  13 00 06 18 00 02 06 00  ................
0090: 04 80 00 3C 03 24 05 80  11 00 17 00 25 02 00 10  ...<.$......%...
00A0: 06 80 00 B7 00 03 01 10  07 80 1D 08 80 23 06 06  .............#..
00B0: 00 06 07 00 01 BC 00 03  07 00 04 80 03 08 00 00  ................
00C0: 10 02 18 00 00 80 02 D9  00 02 11 00 08 00 01 D9  ................
00D0: 00 06 12 00 03 13 00 04  80 03 11 00 08 00 0B 08  ................
00E0: 00 02 07 00 04 80 00 39  03 03 03 00 08 00 03 02  .......9........
00F0: 10 09 80 02 0A 00 00 80  00 02 01 3C 0C 00 00 80  ...........<....
0100: 04 80 02 0B 00 00 80 00  11 01 3C 0C 00 04 80 04  ..........<.....
0110: 80 24 0A 80 12 00 0C 00  25 02 00 10 00 80 00 29  .$......%......)
0120: 01 03 09 00 04 80 01 47  01 02 00 10 04 80 00 39  .......G.......9
0130: 01 03 09 00 0B 80 01 47  01 02 00 10 0B 80 00 47  .......G.......G
0140: 01 06 07 00 01 47 01 02  07 00 00 80 02 36 03 03  .....G.......6..
0150: 04 00 00 10 02 18 00 00  80 02 69 01 02 12 00 04  ..........i.....
0160: 00 01 69 01 03 13 00 04  80 03 12 00 04 00 0B 04  ..i.............
0170: 00 03 02 10 09 80 03 05  10 09 00 1D 0C 80 48 0D  ..............H.
0180: 80 1C 0E 80 02 07 00 04  80 00 36 03 03 02 10 03  ..........6.....
0190: 00 0C 02 10 03 03 10 04  00 0C 03 10 1D 0F 80 23  ...............#
01A0: 24 10 80 13 00 00 80 25  02 00 10 00 80 00 20 03  $......%...... .
01B0: 42 05 18 00 03 13 00 00  80 48 11 80 06 0D 00 06  B........H......
01C0: 0E 00 06 0F 00 03 02 00  03 00 0C 02 00 14 02 00  ................
01D0: 0B 80 07 02 00 04 00 03  00 00 12 80 07 00 00 02  ................
01E0: 00 02 0D 00 04 80 01 1D  03 06 01 10 02 0E 00 00  ................
01F0: 80 80 46 02 40 00 80 13  80 01 10 00 00 40 14 80  ..F.@........@..
0200: 15 80 01 10 0E 00 43 00  43 01 03 10 00 06 10 02  ......C.C.......
0210: 10 00 04 80 80 33 02 0B  0F 00 02 0F 00 06 80 02  .....3..........
0220: 2D 02 05 0D 00 48 16 80  23 2E 01 30 02 1C 17 80  -....H..#..0....
0230: 01 43 02 02 10 00 0B 80  80 43 02 03 0E 00 04 80  .C.......C......
0240: 01 43 02 01 1A 03 02 0E  00 04 80 80 1A 03 40 00  .C............@.
0250: 80 13 80 01 10 00 00 40  14 80 15 80 01 10 0E 00  .......@........
0260: 43 00 43 01 03 14 00 02  10 03 15 00 03 10 03 10  C.C.............
0270: 00 06 10 02 10 00 18 80  80 86 02 05 0D 00 48 19  ..............H.
0280: 80 23 2E 01 17 03 02 10  00 03 80 80 C0 02 0B 0F  .#..............
0290: 00 02 0F 00 15 80 02 BA  02 40 00 80 13 80 01 10  .........@......
02A0: 00 00 40 14 80 15 80 01  10 0B 80 43 00 43 01 05  ..@........C.C..
02B0: 0D 00 48 16 80 23 2E 01  BD 02 1C 17 80 01 17 03  ..H..#..........
02C0: 02 10 00 06 80 80 D3 02  05 0D 00 48 16 80 23 2E  ...........H..#.
02D0: 01 17 03 02 10 00 1A 80  80 17 03 05 0D 00 06 07  ................
02E0: 00 06 06 00 02 14 00 00  80 00 0F 03 03 02 10 09  ................
02F0: 80 03 05 10 09 00 1D 1B  80 23 03 01 10 03 80 02  .........#......
0300: 15 00 0B 80 00 0C 03 03  01 10 1C 80 01 14 03 03  ................
0310: 01 10 1D 80 01 17 03 01  1A 03 01 E1 01 01 33 03  ..............3.
0320: 02 00 10 04 80 00 33 03  03 13 00 04 80 06 07 00  ......3.........
0330: 01 33 03 01 84 01 01 E1  00 01 8D 00 21 00        .3..........!.  
```

#### Opcodes

```
  0: 0x0001 [0x4A] LocalPlayer looks at Mayuyu (ID: 17228401/0x0106E271)
  1: 0x000A [0x4A] Mayuyu (ID: 17228401/0x0106E271) looks at LocalPlayer
  2: 0x0013 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x0014 [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until Mayuyu (ID: 17228401/0x0106E271) Render.Flags0 and Render.Flags3 conditions are met
  4: 0x0019 [0x06] ExtData[1]->WorkLocal[0] = 0
  5: 0x001C [0x06] Work_Zone[1] = 0
  6: 0x001F [0x06] ExtData[1]->WorkLocal[6] = 0
  7: 0x0022 [0x06] ExtData[1]->WorkLocal[7] = 0
  8: 0x0025 [0x06] ExtData[1]->WorkLocal[8] = 0
  9: 0x0028 [0x06] ExtData[1]->WorkLocal[10] = 0
 10: 0x002B [0x06] ExtData[1]->WorkLocal[11] = 0
 11: 0x002E [0x06] ExtData[1]->WorkLocal[12] = 0
 12: 0x0031 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
 13: 0x0036 [0x03] ExtData[1]->WorkLocal[23] = 0*
 14: 0x003B [0x03] ExtData[1]->WorkLocal[22] = Work_Zone[3]
 15: 0x0040 [0x3E] IF !(ExtData[1]->WorkLocal[22] bit 0*) GOTO 0x004F
 16: 0x0047 [0x03] ExtData[1]->WorkLocal[5] = 12238*
 17: 0x004C [0x01] GOTO 0x005B
 18: 0x004F [0x03] ExtData[1]->WorkLocal[5] = 12237*
 19: 0x0054 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=ExtData[1]->WorkLocal[23], bit_index_work_offset=4*, condition_work_offset=1*)

SUBROUTINE_005B:
 20: 0x005B [0x3E] IF !(Work_Zone[4] bit 0*) GOTO 0x0067
 21: 0x0062 [0x03] ExtData[1]->WorkLocal[10] = 1*
 22: 0x0067 [0x3E] IF !(Work_Zone[4] bit 1*) GOTO 0x0073
 23: 0x006E [0x03] ExtData[1]->WorkLocal[11] = 1*
 24: 0x0073 [0x1D] PRINT_EVENT_MESSAGE(message_id=ExtData[1]->WorkLocal[5])
 25: 0x0076 [0x23] WAIT_FOR_DIALOG_INTERACTION
 26: 0x0077 [0x03] ExtData[1]->WorkLocal[6] = 1*
 27: 0x007C [0x03] ExtData[1]->WorkLocal[7] = 1*
 28: 0x0081 [0x06] ExtData[1]->WorkLocal[17] = 0
 29: 0x0084 [0x06] ExtData[1]->WorkLocal[18] = 0
 30: 0x0087 [0x05] ExtData[1]->WorkLocal[19] = 1
 31: 0x008A [0x06] ExtData[1]->WorkLocal[24] = 0

SUBROUTINE_008D:
 32: 0x008D [0x02] IF !(ExtData[1]->WorkLocal[6] == 1*) GOTO 0x033C
 33: 0x0095 [0x24] CREATE_DIALOG(message_id=12240*, default_option=ExtData[1]->WorkLocal[17], option_flags=ExtData[1]->WorkLocal[23])
    → "Which battlefield will you choose? [Hall of An./Hall of Ki./Hall of Im./Hall of Muru./Hall of Mul./None.]"
 34: 0x009C [0x25] WAIT_DIALOG_SELECT()
 35: 0x009D [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x00B7
 36: 0x00A5 [0x03] Work_Zone[1] = 1073741824*
 37: 0x00AA [0x1D] PRINT_EVENT_MESSAGE(message_id=12250*)
    → "Very well, then. When you've finished your preparations, just say the word."
 38: 0x00AD [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x00AE [0x06] ExtData[1]->WorkLocal[6] = 0
 40: 0x00B1 [0x06] ExtData[1]->WorkLocal[7] = 0
 41: 0x00B4 [0x01] GOTO 0x00BC
 42: 0x00B7 [0x03] ExtData[1]->WorkLocal[7] = 1*

SUBROUTINE_00BC:
 43: 0x00BC [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
 44: 0x00C1 [0x02] IF !(ExtData[1]->WorkLocal[24] <= 0*) GOTO 0x00D9
 45: 0x00C9 [0x02] IF !(ExtData[1]->WorkLocal[17] == ExtData[1]->WorkLocal[8]) GOTO 0x00D9
 46: 0x00D1 [0x06] ExtData[1]->WorkLocal[18] = 0
 47: 0x00D4 [0x03] ExtData[1]->WorkLocal[19] = 1*
 48: 0x00D9 [0x03] ExtData[1]->WorkLocal[17] = ExtData[1]->WorkLocal[8]
 49: 0x00DE [0x0B] ExtData[1]->WorkLocal[8]++

SUBROUTINE_00E1:
 50: 0x00E1 [0x02] IF !(ExtData[1]->WorkLocal[7] == 1*) GOTO 0x0339
 51: 0x00E9 [0x03] ExtData[1]->WorkLocal[3] = ExtData[1]->WorkLocal[8]
 52: 0x00EE [0x03] Work_Zone[2] = 3528*
 53: 0x00F3 [0x02] IF !(ExtData[1]->WorkLocal[10] == 0*) GOTO 0x0102
 54: 0x00FB [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=ExtData[1]->WorkLocal[12], bit_index_work_offset=0*, condition_work_offset=1*)
 55: 0x0102 [0x02] IF !(ExtData[1]->WorkLocal[11] == 0*) GOTO 0x0111
 56: 0x010A [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=ExtData[1]->WorkLocal[12], bit_index_work_offset=1*, condition_work_offset=1*)
 57: 0x0111 [0x24] CREATE_DIALOG(message_id=12241*, default_option=ExtData[1]->WorkLocal[18], option_flags=ExtData[1]->WorkLocal[12])
    → "Select battlefield capacity. [18 combatants."6 combatants./Cancel.]"
 58: 0x0118 [0x25] WAIT_DIALOG_SELECT()
 59: 0x0119 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0129
 60: 0x0121 [0x03] ExtData[1]->WorkLocal[9] = 1*
 61: 0x0126 [0x01] GOTO 0x0147
 62: 0x0129 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0139
 63: 0x0131 [0x03] ExtData[1]->WorkLocal[9] = 2*
 64: 0x0136 [0x01] GOTO 0x0147
 65: 0x0139 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0147
 66: 0x0141 [0x06] ExtData[1]->WorkLocal[7] = 0
 67: 0x0144 [0x01] GOTO 0x0147

SUBROUTINE_0147:
 68: 0x0147 [0x02] IF !(ExtData[1]->WorkLocal[7] <= 0*) GOTO 0x0336
 69: 0x014F [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[0]
 70: 0x0154 [0x02] IF !(ExtData[1]->WorkLocal[24] <= 0*) GOTO 0x0169
 71: 0x015C [0x02] IF !(ExtData[1]->WorkLocal[18] == ExtData[1]->WorkLocal[4]) GOTO 0x0169
 72: 0x0164 [0x03] ExtData[1]->WorkLocal[19] = 1*
 73: 0x0169 [0x03] ExtData[1]->WorkLocal[18] = ExtData[1]->WorkLocal[4]
 74: 0x016E [0x0B] ExtData[1]->WorkLocal[4]++
 75: 0x0171 [0x03] Work_Zone[2] = 3528*
 76: 0x0176 [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[9]
 77: 0x017B [0x1D] PRINT_EVENT_MESSAGE(message_id=12242*)
    → "Very well. I will issue you $3 $0 ."
 78: 0x017E [0x48] [System] [12243*]:
    → "% are valid for five minutes (Earth time) from time of issuance."
 79: 0x0181 [0x1C] WAIT(40* ticks)

SUBROUTINE_0184:
 80: 0x0184 [0x02] IF !(ExtData[1]->WorkLocal[7] == 1*) GOTO 0x0336
 81: 0x018C [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[3]
 82: 0x0191 [0x0C] Work_Zone[2]--
 83: 0x0194 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[4]
 84: 0x0199 [0x0C] Work_Zone[3]--
 85: 0x019C [0x1D] PRINT_EVENT_MESSAGE(message_id=12244*)
    → "You wish to challenge the Hall of [An/Ki/Im/Muru/Mul] with a maximum of [eighteen/thirty-six] combatants. Is that correct?"
 86: 0x019F [0x23] WAIT_FOR_DIALOG_INTERACTION
 87: 0x01A0 [0x24] CREATE_DIALOG(message_id=12245*, default_option=ExtData[1]->WorkLocal[19], option_flags=0*)
    → "Hall of [An/Ki/Im/Muru/Mul] (Capacity: [18/36]). [Confirm./Cancel.]"
 88: 0x01A7 [0x25] WAIT_DIALOG_SELECT()
 89: 0x01A8 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0320
 90: 0x01B0 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 91: 0x01B1 [0x05] ExtData[1]->WorkLocal[24] = 1
 92: 0x01B4 [0x03] ExtData[1]->WorkLocal[19] = 0*
 93: 0x01B9 [0x48] [System] [12265*]:
    → "Your request for entry is being considered..."
 94: 0x01BC [0x06] ExtData[1]->WorkLocal[13] = 0
 95: 0x01BF [0x06] ExtData[1]->WorkLocal[14] = 0
 96: 0x01C2 [0x06] ExtData[1]->WorkLocal[15] = 0
 97: 0x01C5 [0x03] ExtData[1]->WorkLocal[2] = ExtData[1]->WorkLocal[3]
 98: 0x01CA [0x0C] ExtData[1]->WorkLocal[2]--
 99: 0x01CD [0x14] ExtData[1]->WorkLocal[2] *= 2*
100: 0x01D2 [0x07] ExtData[1]->WorkLocal[2] += ExtData[1]->WorkLocal[4]
101: 0x01D7 [0x03] ExtData[1]->WorkLocal[0] = 750*
102: 0x01DC [0x07] ExtData[1]->WorkLocal[0] += ExtData[1]->WorkLocal[2]

SUBROUTINE_01E1:
103: 0x01E1 [0x02] IF !(ExtData[1]->WorkLocal[13] == 1*) GOTO 0x031D
104: 0x01E9 [0x06] Work_Zone[1] = 0
105: 0x01EC [0x02] IF !(ExtData[1]->WorkLocal[14] == 0*) GOTO 0x0246
106: 0x01F4 [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=9*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[0])
107: 0x01FD [0x40] SET_BIT_WORK_RANGE(start_bit=10*, end_bit=15*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[14])
108: 0x0206 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
109: 0x0208 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
110: 0x020A [0x03] ExtData[1]->WorkLocal[16] = Work_Zone[6]
111: 0x020F [0x02] IF !(ExtData[1]->WorkLocal[16] == 1*) GOTO 0x0233
112: 0x0217 [0x0B] ExtData[1]->WorkLocal[15]++
113: 0x021A [0x02] IF !(ExtData[1]->WorkLocal[15] <= 5*) GOTO 0x022D
114: 0x0222 [0x05] ExtData[1]->WorkLocal[13] = 1
115: 0x0225 [0x48] [System] [12262*]:
    → "You cannot enter at this time. Please wait a moment and try again."
116: 0x0228 [0x23] WAIT_FOR_DIALOG_INTERACTION
117: 0x0229 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
118: 0x022A [0x01] GOTO 0x0230
119: 0x022D [0x1C] WAIT(120* ticks)

SUBROUTINE_0230:
120: 0x0230 [0x01] GOTO 0x0243
121: 0x0233 [0x02] IF !(ExtData[1]->WorkLocal[16] == 2*) GOTO 0x0243
122: 0x023B [0x03] ExtData[1]->WorkLocal[14] = 1*
123: 0x0240 [0x01] GOTO 0x0243

SUBROUTINE_0243:
124: 0x0243 [0x01] GOTO 0x031A
125: 0x0246 [0x02] IF !(ExtData[1]->WorkLocal[14] == 1*) GOTO 0x031A
126: 0x024E [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=9*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[0])
127: 0x0257 [0x40] SET_BIT_WORK_RANGE(start_bit=10*, end_bit=15*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[14])
128: 0x0260 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
129: 0x0262 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
130: 0x0264 [0x03] ExtData[1]->WorkLocal[20] = Work_Zone[2]
131: 0x0269 [0x03] ExtData[1]->WorkLocal[21] = Work_Zone[3]
132: 0x026E [0x03] ExtData[1]->WorkLocal[16] = Work_Zone[6]
133: 0x0273 [0x02] IF !(ExtData[1]->WorkLocal[16] == 3*) GOTO 0x0286
134: 0x027B [0x05] ExtData[1]->WorkLocal[13] = 1
135: 0x027E [0x48] [System] [12261*]:
    → "The hands of darkness have impeded your progress into the next area."
136: 0x0281 [0x23] WAIT_FOR_DIALOG_INTERACTION
137: 0x0282 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
138: 0x0283 [0x01] GOTO 0x0317
139: 0x0286 [0x02] IF !(ExtData[1]->WorkLocal[16] == 4*) GOTO 0x02C0
140: 0x028E [0x0B] ExtData[1]->WorkLocal[15]++
141: 0x0291 [0x02] IF !(ExtData[1]->WorkLocal[15] <= 15*) GOTO 0x02BA
142: 0x0299 [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=9*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[0])
143: 0x02A2 [0x40] SET_BIT_WORK_RANGE(start_bit=10*, end_bit=15*, target=Work_Zone[1], source=2*)
144: 0x02AB [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
145: 0x02AD [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
146: 0x02AF [0x05] ExtData[1]->WorkLocal[13] = 1
147: 0x02B2 [0x48] [System] [12262*]:
    → "You cannot enter at this time. Please wait a moment and try again."
148: 0x02B5 [0x23] WAIT_FOR_DIALOG_INTERACTION
149: 0x02B6 [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
150: 0x02B7 [0x01] GOTO 0x02BD
151: 0x02BA [0x1C] WAIT(120* ticks)

SUBROUTINE_02BD:
152: 0x02BD [0x01] GOTO 0x0317
153: 0x02C0 [0x02] IF !(ExtData[1]->WorkLocal[16] == 5*) GOTO 0x02D3
154: 0x02C8 [0x05] ExtData[1]->WorkLocal[13] = 1
155: 0x02CB [0x48] [System] [12262*]:
    → "You cannot enter at this time. Please wait a moment and try again."
156: 0x02CE [0x23] WAIT_FOR_DIALOG_INTERACTION
157: 0x02CF [0x2E] SET_CLI_EVENT_CANCEL_FLAGS()
158: 0x02D0 [0x01] GOTO 0x0317
159: 0x02D3 [0x02] IF !(ExtData[1]->WorkLocal[16] == 6*) GOTO 0x0317
160: 0x02DB [0x05] ExtData[1]->WorkLocal[13] = 1
161: 0x02DE [0x06] ExtData[1]->WorkLocal[7] = 0
162: 0x02E1 [0x06] ExtData[1]->WorkLocal[6] = 0
163: 0x02E4 [0x02] IF !(ExtData[1]->WorkLocal[20] == 0*) GOTO 0x030F
164: 0x02EC [0x03] Work_Zone[2] = 3528*
165: 0x02F1 [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[9]
166: 0x02F6 [0x1D] PRINT_EVENT_MESSAGE(message_id=12246*)
    → "Excellentaru! Here [is/are] [one/two] Legion [pass/passes], which [is/are] valid for five minutes (Earth time). Prepare yourselves and trade [it/them] to the tome when you are ready."
167: 0x02F9 [0x23] WAIT_FOR_DIALOG_INTERACTION
168: 0x02FA [0x03] Work_Zone[1] = 4*
169: 0x02FF [0x02] IF !(ExtData[1]->WorkLocal[21] == 2*) GOTO 0x030C
170: 0x0307 [0x03] Work_Zone[1] = 8*
171: 0x030C [0x01] GOTO 0x0314
172: 0x030F [0x03] Work_Zone[1] = 7*

SUBROUTINE_0314:
173: 0x0314 [0x01] GOTO 0x0317

SUBROUTINE_0317:
174: 0x0317 [0x01] GOTO 0x031A

SUBROUTINE_031A:
175: 0x031A [0x01] GOTO 0x01E1
176: 0x031D [0x01] GOTO 0x0333
177: 0x0320 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0333
178: 0x0328 [0x03] ExtData[1]->WorkLocal[19] = 1*
179: 0x032D [0x06] ExtData[1]->WorkLocal[7] = 0
180: 0x0330 [0x01] GOTO 0x0333

SUBROUTINE_0333:
181: 0x0333 [0x01] GOTO 0x0184
182: 0x0336 [0x01] GOTO 0x00E1
183: 0x0339 [0x01] GOTO 0x008D
184: 0x033C [0x21] END_EVENT
185: 0x033D [0x00] END_REQSTACK()
```
