# Event 406

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 19/32     |
| Offset          | 0x0A10    |
| Data Size       | 197 bytes |
| Calculated Size | 197 bytes |
| Instructions    | 46        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0A10: 20 01 48 33 80 23 24 34  80 03 80 03 80 25 02 00   .H3.#$4.....%..
0A20: 10 03 80 00 29 0A 01 D1  0A 02 00 10 12 80 00 53  ....)..........S
0A30: 0A 42 43 00 43 01 29 01  F0 FF FF 7F 1D 47 00 35  .BC.C.)......G.5
0A40: 80 36 80 03 80 37 80 47  01 29 01 F0 FF FF 7F 1E  .6...7.G.)......
0A50: 01 D1 0A 02 00 10 13 80  00 7D 0A 42 43 00 43 01  .........}.BC.C.
0A60: 29 01 F0 FF FF 7F 1D 47  00 38 80 39 80 03 80 3A  )......G.8.9...:
0A70: 80 47 01 29 01 F0 FF FF  7F 1E 01 D1 0A 02 00 10  .G.)............
0A80: 1D 80 00 A7 0A 42 43 00  43 01 29 01 F0 FF FF 7F  .....BC.C.).....
0A90: 1D 47 00 3B 80 3C 80 03  80 3D 80 47 01 29 01 F0  .G.;.<...=.G.)..
0AA0: FF FF 7F 1E 01 D1 0A 02  00 10 1C 80 00 D1 0A 42  ...............B
0AB0: 43 00 43 01 29 01 F0 FF  FF 7F 1D 47 00 3E 80 3F  C.C.)......G.>.?
0AC0: 80 03 80 40 80 47 01 29  01 F0 FF FF 7F 1E 01 D1  ...@.G.)........
0AD0: 0A 20 00 21 00                                    . .!.           
```

## Opcodes

```
  0: 0x0A10 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0A12 [0x48] [System] [9495*]:
    → "You may teleport once to any entrance lobby in the three nations or Jeuno.\u007F1\u0000\u0007"
  2: 0x0A15 [0x23] WAIT_FOR_DIALOG_INTERACTION
  3: 0x0A16 [0x24] CREATE_DIALOG(message_id=9496*, default_option=0*, option_flags=0*)
    → "Teleport to which lobby?\u0007\u000BStay put.\u0007San d'Oria.\u0007Bastok.\u0007Windurst.\u0007Jeuno.\u007F1\u0000\u0007"
  4: 0x0A1D [0x25] WAIT_DIALOG_SELECT()
  5: 0x0A1E [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0A29
  6: 0x0A26 [0x01] GOTO 0x0AD1

SUBROUTINE_0A29:
  7: 0x0A29 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0A53
  8: 0x0A31 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  9: 0x0A32 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 10: 0x0A34 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 11: 0x0A36 [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x1D)
 12: 0x0A3D [0x47] UPDATE_PLAYER_POS(-504.000*, -357.000*, 0.000*, yaw=360.0°*)
 13: 0x0A47 [0x47] WAIT_PLAYER_POS_UPDATE
 14: 0x0A49 [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x1E)
 15: 0x0A50 [0x01] GOTO 0x0AD1

SUBROUTINE_0A53:
 16: 0x0A53 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0A7D
 17: 0x0A5B [0x42] SET_CLI_EVENT_CANCEL_DATA()
 18: 0x0A5C [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 19: 0x0A5E [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 20: 0x0A60 [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x1D)
 21: 0x0A67 [0x47] UPDATE_PLAYER_POS(-489.000*, -529.000*, 0.000*, yaw=222.3°*)
 22: 0x0A71 [0x47] WAIT_PLAYER_POS_UPDATE
 23: 0x0A73 [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x1E)
 24: 0x0A7A [0x01] GOTO 0x0AD1

SUBROUTINE_0A7D:
 25: 0x0A7D [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0AA7
 26: 0x0A85 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 27: 0x0A86 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 28: 0x0A88 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 29: 0x0A8A [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x1D)
 30: 0x0A91 [0x47] UPDATE_PLAYER_POS(-150.000*, -543.000*, 0.000*, yaw=270.0°*)
 31: 0x0A9B [0x47] WAIT_PLAYER_POS_UPDATE
 32: 0x0A9D [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x1E)
 33: 0x0AA4 [0x01] GOTO 0x0AD1

SUBROUTINE_0AA7:
 34: 0x0AA7 [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x0AD1
 35: 0x0AAF [0x42] SET_CLI_EVENT_CANCEL_DATA()
 36: 0x0AB0 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 37: 0x0AB2 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 38: 0x0AB4 [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x1D)
 39: 0x0ABB [0x47] UPDATE_PLAYER_POS(-326.000*, -293.000*, 0.000*, yaw=90.0°*)
 40: 0x0AC5 [0x47] WAIT_PLAYER_POS_UPDATE
 41: 0x0AC7 [0x29] REQ_SET_WAIT(priority=0x01, entity_id=LocalPlayer, tag_num=0x1E)
 42: 0x0ACE [0x01] GOTO 0x0AD1

SUBROUTINE_0AD1:
 43: 0x0AD1 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 44: 0x0AD3 [0x21] END_EVENT
 45: 0x0AD4 [0x00] END_REQSTACK()
```
