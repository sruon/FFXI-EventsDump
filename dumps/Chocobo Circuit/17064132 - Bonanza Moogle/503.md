# Event 503

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 3/4       |
| Offset          | 0x07C4    |
| Data Size       | 314 bytes |
| Calculated Size | 314 bytes |
| Instructions    | 70        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
07C0:             42 03 0F 00  02 10 03 10 00 03 10 03      B...........
07D0: 11 00 04 10 03 12 00 3B  80 03 13 00 3B 80 03 44  .......;....;..D
07E0: 00 09 10 4A F8 FF FF 7F  F0 FF FF 7F 03 00 00 01  ...J............
07F0: 80 03 42 00 00 80 02 08  10 00 80 00 06 08 03 17  ..B.............
0800: 17 00 80 01 0B 08 03 17  17 01 80 03 04 10 44 00  ..............D.
0810: 1D 3C 80 23 02 00 00 00  80 02 4B 08 03 04 10 44  .<.#......K....D
0820: 00 24 3D 80 00 80 00 80  25 02 00 10 00 80 00 37  .$=.....%......7
0830: 08 1A 65 08 01 48 08 02  00 10 01 80 00 45 08 1A  ..e..H.......E..
0840: 52 08 01 48 08 06 00 00  01 14 08 03 01 10 3E 80  R..H..........>.
0850: 21 00 03 02 10 03 80 03  04 10 44 00 1D 3F 80 23  !.........D..?.#
0860: 1D 40 80 23 1B 0B 00 00  02 00 00 01 80 02 FD 08  .@.#............
0870: 03 03 10 0B 80 03 04 10  01 80 03 09 10 0F 00 3F  ...............?
0880: 09 10 09 10 41 80 15 09  10 10 80 03 00 17 0F 00  ....A...........
0890: 3F 00 17 00 17 10 80 15  00 17 08 80 03 01 17 0F  ?...............
08A0: 00 3F 01 17 01 17 08 80  03 04 17 10 00 3F 04 17  .?...........?..
08B0: 04 17 10 80 15 04 17 08  80 03 05 17 10 00 3F 05  ..............?.
08C0: 17 05 17 08 80 03 08 17  11 00 3F 08 17 08 17 08  ..........?.....
08D0: 80 24 42 80 00 80 27 80  25 02 00 10 28 80 00 E7  .$B...'.%...(...
08E0: 08 0C 00 00 01 FA 08 03  01 00 00 10 03 43 00 01  .............C..
08F0: 00 0B 43 00 1A 11 04 1A  F1 02 01 68 08 1B        ..C........h..  
```

## Opcodes

```
  0: 0x07C4 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x07C5 [0x03] ExtData[1]->WorkLocal[15] = Work_Zone[2]
  2: 0x07CA [0x03] ExtData[1]->WorkLocal[16] = Work_Zone[3]
  3: 0x07CF [0x03] ExtData[1]->WorkLocal[17] = Work_Zone[4]
  4: 0x07D4 [0x03] ExtData[1]->WorkLocal[18] = 4294967295*
  5: 0x07D9 [0x03] ExtData[1]->WorkLocal[19] = 4294967295*
  6: 0x07DE [0x03] ExtData[1]->WorkLocal[68] = Work_Zone[9]
  7: 0x07E3 [0x4A] EventEntity looks at LocalPlayer
  8: 0x07EC [0x03] ExtData[1]->WorkLocal[0] = 1*
  9: 0x07F1 [0x03] ExtData[1]->WorkLocal[66] = 0*
 10: 0x07F6 [0x02] IF !(Work_Zone[8] == 0*) GOTO 0x0806
 11: 0x07FE [0x03] Work_Zone_1700[23] = 0*
 12: 0x0803 [0x01] GOTO 0x080B
 13: 0x0806 [0x03] Work_Zone_1700[23] = 1*
 14: 0x080B [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[68]
 15: 0x0810 [0x1D] PRINT_EVENT_MESSAGE(message_id=9777*)
    → "You can check winning numbers and claim prizes for the \u0001\u0005\u0007\u0002\u0002\u0000\u0000 here, kupo.\u007F1\u0000\u0007"
 16: 0x0813 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x0814 [0x02] IF !(ExtData[1]->WorkLocal[0] <= 0*) GOTO 0x084B
 18: 0x081C [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[68]
 19: 0x0821 [0x24] CREATE_DIALOG(message_id=9778*, default_option=0*, option_flags=0*)
    → "What would you like to do?\u0007\u000BSee winning numbers.\u0007Learn how to claim a prize.\u0007Nothing.\u007F1\u0000\u0007"
 20: 0x0828 [0x25] WAIT_DIALOG_SELECT()
 21: 0x0829 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0837
 22: 0x0831 [0x1A] CALL_SUBROUTINE(address=0x0865)
 23: 0x0834 [0x01] GOTO 0x0848
 24: 0x0837 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0845
 25: 0x083F [0x1A] CALL_SUBROUTINE(address=0x0852)
 26: 0x0842 [0x01] GOTO 0x0848
 27: 0x0845 [0x06] ExtData[1]->WorkLocal[0] = 0
 28: 0x0848 [0x01] GOTO 0x0814
 29: 0x084B [0x03] Work_Zone[1] = 1073741824*
 30: 0x0850 [0x21] END_EVENT
 31: 0x0851 [0x00] END_REQSTACK()

SUBROUTINE_0852:
 32: 0x0852 [0x03] Work_Zone[2] = 4089*
 33: 0x0857 [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[68]
 34: 0x085C [0x1D] PRINT_EVENT_MESSAGE(message_id=9782*)
    → "If you have \u0001\u0005%\u0002\u0000\u0000\u0000 for the \u0001\u0005\u0007\u0002\u0002\u0000\u0000, trade them to me.\u007F1\u0000\u0007"
 35: 0x085F [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x0860 [0x1D] PRINT_EVENT_MESSAGE(message_id=9783*)
    → "I'll give you a prize for each \u0001\u0005#\u0002\u0000\u0000\u0000 with a winning number, kupo.\u007F1\u0000\u0007"
 37: 0x0863 [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x0864 [0x1B] RETURN

SUBROUTINE_0865:
 39: 0x0865 [0x0B] ExtData[1]->WorkLocal[0]++
 40: 0x0868 [0x02] IF !(ExtData[1]->WorkLocal[0] <= 1*) GOTO 0x08FD
 41: 0x0870 [0x03] Work_Zone[3] = 2*
 42: 0x0875 [0x03] Work_Zone[4] = 1*
 43: 0x087A [0x03] Work_Zone[9] = ExtData[1]->WorkLocal[15]
 44: 0x087F [0x3F] Work_Zone[9] = Work_Zone[9] % 1000*
 45: 0x0886 [0x15] Work_Zone[9] /= 100*
 46: 0x088B [0x03] Work_Zone_1700[0] = ExtData[1]->WorkLocal[15]
 47: 0x0890 [0x3F] Work_Zone_1700[0] = Work_Zone_1700[0] % 100*
 48: 0x0897 [0x15] Work_Zone_1700[0] /= 10*
 49: 0x089C [0x03] Work_Zone_1700[1] = ExtData[1]->WorkLocal[15]
 50: 0x08A1 [0x3F] Work_Zone_1700[1] = Work_Zone_1700[1] % 10*
 51: 0x08A8 [0x03] Work_Zone_1700[4] = ExtData[1]->WorkLocal[16]
 52: 0x08AD [0x3F] Work_Zone_1700[4] = Work_Zone_1700[4] % 100*
 53: 0x08B4 [0x15] Work_Zone_1700[4] /= 10*
 54: 0x08B9 [0x03] Work_Zone_1700[5] = ExtData[1]->WorkLocal[16]
 55: 0x08BE [0x3F] Work_Zone_1700[5] = Work_Zone_1700[5] % 10*
 56: 0x08C5 [0x03] Work_Zone_1700[8] = ExtData[1]->WorkLocal[17]
 57: 0x08CA [0x3F] Work_Zone_1700[8] = Work_Zone_1700[8] % 10*
 58: 0x08D1 [0x24] CREATE_DIALOG(message_id=9780*, default_option=0*, option_flags=24*)
    → "The winning numbers for each rank are:\u0007\u000BRank 1 \u00072
\u0007
\u0008
	\u00073\u0007Rank 2 (last 
\u0001 digits) \u00072
\u000C
\u00073\u0007Rank 3 (last 
\u0002 digits) \u00072
\u0010\u00073\u0007Rank 4\u0001@\u0007Rank 5\u0001@\u0007Back.\u007F1\u0000\u0007"
 59: 0x08D8 [0x25] WAIT_DIALOG_SELECT()
 60: 0x08D9 [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x08E7
 61: 0x08E1 [0x0C] ExtData[1]->WorkLocal[0]--
 62: 0x08E4 [0x01] GOTO 0x08FA
 63: 0x08E7 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[0]
 64: 0x08EC [0x03] ExtData[1]->WorkLocal[67] = ExtData[1]->WorkLocal[1]
 65: 0x08F1 [0x0B] ExtData[1]->WorkLocal[67]++
 66: 0x08F4 [0x1A] CALL_SUBROUTINE(address=0x0411)
 67: 0x08F7 [0x1A] CALL_SUBROUTINE(address=0x02F1)
 68: 0x08FA [0x01] GOTO 0x0868
 69: 0x08FD [0x1B] RETURN
```
