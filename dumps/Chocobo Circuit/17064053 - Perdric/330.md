# Event 330

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/2       |
| Offset          | 0x0001    |
| Data Size       | 238 bytes |
| Calculated Size | 238 bytes |
| Instructions    | 46        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 03 00 00 02 10 4A  F8 FF FF 7F F0 FF FF 7F   B.....J........
0010: 1D 00 80 23 1D 01 80 23  1D 02 80 23 24 03 80 04  ...#...#...#$...
0020: 80 05 80 25 02 00 10 05  80 00 32 00 1A 34 00 01  ...%......2..4..
0030: 32 00 21 00 1D 06 80 23  45 07 80 F8 FF FF 7F F8  2.!....#E.......
0040: FF FF 7F 66 64 6F 31 05  80 55 07 80 F8 FF FF 7F  ...fdo1..U......
0050: F8 FF FF 7F 66 64 6F 31  02 00 00 04 80 80 6F 00  ....fdo1......o.
0060: 47 00 08 80 09 80 0A 80  0B 80 47 01 01 D7 00 02  G.........G.....
0070: 00 00 0C 80 80 86 00 47  00 0D 80 0E 80 0A 80 0F  .......G........
0080: 80 47 01 01 D7 00 02 00  00 10 80 80 9D 00 47 00  .G............G.
0090: 11 80 12 80 0A 80 05 80  47 01 01 D7 00 02 00 00  ........G.......
00A0: 13 80 80 B4 00 47 00 14  80 15 80 0A 80 0F 80 47  .....G.........G
00B0: 01 01 D7 00 02 00 00 16  80 80 CB 00 47 00 17 80  ............G...
00C0: 18 80 0A 80 05 80 47 01  01 D7 00 47 00 19 80 09  ......G....G....
00D0: 80 0A 80 0B 80 47 01 1C  1A 80 45 07 80 F8 FF FF  .....G....E.....
00E0: 7F F8 FF FF 7F 66 64 69  32 05 80 1C 1B 80 1B     .....fdi2...... 
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  2: 0x0007 [0x4A] EventEntity looks at LocalPlayer
  3: 0x0010 [0x1D] PRINT_EVENT_MESSAGE(message_id=9197*)
    → "This is the grandstand exit.\u007F1\u0000\u0007"
  4: 0x0013 [0x23] WAIT_FOR_DIALOG_INTERACTION
  5: 0x0014 [0x1D] PRINT_EVENT_MESSAGE(message_id=9198*)
    → "Please note that once you exit, you will be required to pay an additional admission fee to reenter.\u007F1\u0000\u0007"
  6: 0x0017 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x0018 [0x1D] PRINT_EVENT_MESSAGE(message_id=9199*)
    → "Do you really want to leave now?\u0000\u0007"
  8: 0x001B [0x23] WAIT_FOR_DIALOG_INTERACTION
  9: 0x001C [0x24] CREATE_DIALOG(message_id=9200*, default_option=1*, option_flags=0*)
    → "Exit the grounds?\u0007\u000BYes, I'm all done here.\u0007No, not yet.\u007F1\u0000\u0007"
 10: 0x0023 [0x25] WAIT_DIALOG_SELECT()
 11: 0x0024 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0032
 12: 0x002C [0x1A] CALL_SUBROUTINE(address=0x0034)
 13: 0x002F [0x01] GOTO 0x0032

SUBROUTINE_0032:
 14: 0x0032 [0x21] END_EVENT
 15: 0x0033 [0x00] END_REQSTACK()

SUBROUTINE_0034:
 16: 0x0034 [0x1D] PRINT_EVENT_MESSAGE(message_id=9201*)
    → "Thank you for coming.\u0000\u0007"
 17: 0x0037 [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x0038 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [EventEntity, EventEntity], work=[200*, 0*]
 19: 0x0049 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [EventEntity, EventEntity], work=200*
 20: 0x0058 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x006F
 21: 0x0060 [0x47] UPDATE_PLAYER_POS(-329.361*, -413.638*, -5.000*, yaw=90.0°*)
 22: 0x006A [0x47] WAIT_PLAYER_POS_UPDATE
 23: 0x006C [0x01] GOTO 0x00D7

SUBROUTINE_006F:
 24: 0x006F [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x0086
 25: 0x0077 [0x47] UPDATE_PLAYER_POS(-252.715*, -470.532*, -5.000*, yaw=180.0°*)
 26: 0x0081 [0x47] WAIT_PLAYER_POS_UPDATE
 27: 0x0083 [0x01] GOTO 0x00D7

SUBROUTINE_0086:
 28: 0x0086 [0x02] IF !(ExtData[1]->WorkLocal[0] == 3*) GOTO 0x009D
 29: 0x008E [0x47] UPDATE_PLAYER_POS(-387.406*, -469.903*, -5.000*, yaw=0.0°*)
 30: 0x0098 [0x47] WAIT_PLAYER_POS_UPDATE
 31: 0x009A [0x01] GOTO 0x00D7

SUBROUTINE_009D:
 32: 0x009D [0x02] IF !(ExtData[1]->WorkLocal[0] == 4*) GOTO 0x00B4
 33: 0x00A5 [0x47] UPDATE_PLAYER_POS(-252.670*, -490.350*, -5.000*, yaw=180.0°*)
 34: 0x00AF [0x47] WAIT_PLAYER_POS_UPDATE
 35: 0x00B1 [0x01] GOTO 0x00D7

SUBROUTINE_00B4:
 36: 0x00B4 [0x02] IF !(ExtData[1]->WorkLocal[0] == 5*) GOTO 0x00CB
 37: 0x00BC [0x47] UPDATE_PLAYER_POS(-387.378*, -490.435*, -5.000*, yaw=0.0°*)
 38: 0x00C6 [0x47] WAIT_PLAYER_POS_UPDATE
 39: 0x00C8 [0x01] GOTO 0x00D7

SUBROUTINE_00CB:
 40: 0x00CB [0x47] UPDATE_PLAYER_POS(-330.361*, -413.638*, -5.000*, yaw=90.0°*)
 41: 0x00D5 [0x47] WAIT_PLAYER_POS_UPDATE
 42: 0x00D7 [0x1C] WAIT(60* ticks)
 43: 0x00DA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [EventEntity, EventEntity], work=[200*, 0*]
 44: 0x00EB [0x1C] WAIT(90* ticks)
 45: 0x00EE [0x1B] RETURN
```
