# Event 30000

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 30/97     |
| Offset          | 0x0352    |
| Data Size       | 258 bytes |
| Calculated Size | 258 bytes |
| Instructions    | 36        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0350:       20 01 42 46 01 03  00 00 01 80 03 01 00 01     .BF..........
0360: 80 1E F0 FF FF 7F 6F 70  45 05 80 5A A0 0E 01 5A  ......opE..Z...Z
0370: A0 0E 01 66 64 6F 30 01  80 1C 06 80 38 0A 80 94  ...fdo0.....8...
0380: 01 F0 FF FF 7F 94 01 F8  FF FF 7F 4E 00 F0 FF FF  ...........N....
0390: 7F 29 0B F0 FF FF 7F 25  7B F0 FF FF 7F 37 07 80  .).....%{....7..
03A0: 08 80 01 80 09 80 45 00  80 5A A0 0E 01 5A A0 0E  ......E..Z...Z..
03B0: 01 73 30 30 30 01 80 45  05 80 5A A0 0E 01 5A A0  .s000..E..Z...Z.
03C0: 0E 01 66 64 69 30 01 80  29 0E 5A A0 0E 01 29 29  ..fdi0..).Z...))
03D0: 0E 5A A0 0E 01 2A 29 0E  5A A0 0E 01 2B 45 00 80  .Z...*).Z...+E..
03E0: F8 FF FF 7F F8 FF FF 7F  73 30 30 32 01 80 29 0E  ........s002..).
03F0: 5A A0 0E 01 2C 52 00 80  F8 FF FF 7F F8 FF FF 7F  Z...,R..........
0400: 73 30 30 32 45 00 80 F8  FF FF 7F F8 FF FF 7F 73  s002E..........s
0410: 30 30 31 01 80 29 0E 5A  A0 0E 01 2D 29 0E 5A A0  001..).Z...-).Z.
0420: 0E 01 1E 45 05 80 F8 FF  FF 7F F8 FF FF 7F 66 64  ...E..........fd
0430: 6F 30 01 80 1C 06 80 4E  00 F0 FF FF 7F 46 00 45  o0.....N.....F.E
0440: 05 80 F8 FF FF 7F F8 FF  FF 7F 66 64 69 30 01 80  ..........fdi0..
0450: 20 00 21 00                                        .!.            
```

## Opcodes

```
  0: 0x0352 [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x0354 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x0355 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x0357 [0x03] ExtData[1]->WorkLocal[0] = 0*
  4: 0x035C [0x03] ExtData[1]->WorkLocal[1] = 0*
  5: 0x0361 [0x1E] EventEntity looks at LocalPlayer and starts talking
  6: 0x0366 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  7: 0x0367 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  8: 0x0368 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=Moogle (ID: 17735770/0x010EA05A), entity2=Moogle (ID: 17735770/0x010EA05A), scheduler_id="fdo0", work_offset2=0*)
  9: 0x0379 [0x1C] WAIT(60* ticks)
 10: 0x037C [0x38] SET_CLIENT_EVENT_MODE(mode=19*)
 11: 0x037F [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 12: 0x0385 [0x94] EventEntity->Render.Flags3 ^= 0x01
 13: 0x038B [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 14: 0x0391 [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x25)
 15: 0x0398 [0x7B] LocalPlayer stops talking
 16: 0x039D [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=0.100*, z=1.500*, y=0.000*, direction=92.0Â°*
 17: 0x03A6 [0x45] LOAD_SCHEDULED_TASK(work_offset1=188*, entity1=Moogle (ID: 17735770/0x010EA05A), entity2=Moogle (ID: 17735770/0x010EA05A), scheduler_id="s000", work_offset2=0*)
 18: 0x03B7 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=Moogle (ID: 17735770/0x010EA05A), entity2=Moogle (ID: 17735770/0x010EA05A), scheduler_id="fdi0", work_offset2=0*)
 19: 0x03C8 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x29)
 20: 0x03CF [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x2A)
 21: 0x03D6 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x2B)
 22: 0x03DD [0x45] LOAD_SCHEDULED_TASK(work_offset1=188*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s002", work_offset2=0*)
 23: 0x03EE [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x2C)
 24: 0x03F5 [0x52] END_LOAD_SCHEDULER: End scheduler "s002" with entities [EventEntity, EventEntity], work=188*
 25: 0x0404 [0x45] LOAD_SCHEDULED_TASK(work_offset1=188*, entity1=EventEntity, entity2=EventEntity, scheduler_id="s001", work_offset2=0*)
 26: 0x0415 [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x2D)
 27: 0x041C [0x29] REQ_SET_WAIT(priority=0x0E, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x1E)
 28: 0x0423 [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdo0", work_offset2=0*)
 29: 0x0434 [0x1C] WAIT(60* ticks)
 30: 0x0437 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 31: 0x043D [0x46] CAMERA_CONTROL: Restore default settings
 32: 0x043F [0x45] LOAD_SCHEDULED_TASK(work_offset1=200*, entity1=EventEntity, entity2=EventEntity, scheduler_id="fdi0", work_offset2=0*)
 33: 0x0450 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 34: 0x0452 [0x21] END_EVENT
 35: 0x0453 [0x00] END_REQSTACK()
```
