# Event 30013

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 81/97     |
| Offset          | 0x127F    |
| Data Size       | 406 bytes |
| Calculated Size | 406 bytes |
| Instructions    | 65        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
1270:                                               20                  
1280: 01 42 46 01 1E F0 FF FF  7F 6F 70 45 05 80 F8 FF  .BF......opE....
1290: FF 7F F8 FF FF 7F 66 64  6F 30 01 80 1C 06 80 29  ......fdo0.....)
12A0: 0B F0 FF FF 7F 25 7B F0  FF FF 7F 37 07 80 08 80  .....%{....7....
12B0: 01 80 09 80 45 00 80 F8  FF FF 7F F8 FF FF 7F 73  ....E..........s
12C0: 30 30 30 01 80 45 05 80  F8 FF FF 7F F8 FF FF 7F  000..E..........
12D0: 66 64 69 30 01 80 29 08  5A A0 0E 01 01 1D 82 80  fdi0..).Z.......
12E0: 23 45 00 80 F8 FF FF 7F  F8 FF FF 7F 73 30 30 32  #E..........s002
12F0: 01 80 1D 83 80 23 29 08  5A A0 0E 01 02 29 08 5A  .....#).Z....).Z
1300: A0 0E 01 03 29 08 5A A0  0E 01 04 52 00 80 F8 FF  ....).Z....R....
1310: FF 7F F8 FF FF 7F 73 30  30 32 24 84 80 01 80 01  ......s002$.....
1320: 80 25 02 00 10 01 80 00  A3 13 03 01 10 02 80 45  .%.............E
1330: 00 80 F8 FF FF 7F F8 FF  FF 7F 73 30 30 31 01 80  ..........s001..
1340: 29 08 5A A0 0E 01 0D 1D  85 80 23 29 08 5A A0 0E  ).Z.......#).Z..
1350: 01 0E 29 08 5A A0 0E 01  0F 29 08 5A A0 0E 01 10  ..).Z....).Z....
1360: 45 00 80 F8 FF FF 7F F8  FF FF 7F 73 30 30 30 01  E..........s000.
1370: 80 29 08 5A A0 0E 01 15  1D 86 80 23 1D 87 80 23  .).Z.......#...#
1380: 29 08 5A A0 0E 01 16 29  08 5A A0 0E 01 17 29 08  ).Z....).Z....).
1390: 5A A0 0E 01 16 29 08 5A  A0 0E 01 05 1D 88 80 23  Z....).Z.......#
13A0: 01 CF 13 02 00 10 02 80  00 CF 13 03 01 10 0E 80  ................
13B0: 45 00 80 F8 FF FF 7F F8  FF FF 7F 73 30 30 31 01  E..........s001.
13C0: 80 29 08 5A A0 0E 01 05  1D 65 80 23 01 CF 13 45  .).Z.....e.#...E
13D0: 05 80 F8 FF FF 7F F8 FF  FF 7F 66 64 6F 30 01 80  ..........fdo0..
13E0: 1C 06 80 29 08 5A A0 0E  01 06 29 08 5A A0 0E 01  ...).Z....).Z...
13F0: 07 29 08 5A A0 0E 01 08  4E 00 F0 FF FF 7F 46 00  .).Z....N.....F.
1400: 45 05 80 F8 FF FF 7F F8  FF FF 7F 66 64 69 30 01  E..........fdi0.
1410: 80 20 00 21 00                                    . .!.           
```

## Opcodes

```
  0: 0x127F [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
  1: 0x1281 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  2: 0x1282 [0x46] CAMERA_CONTROL: Disable user control
  3: 0x1284 [0x1E] EventEntity looks at LocalPlayer and starts talking
  4: 0x1289 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  5: 0x128A [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  6: 0x128B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo0" with entities [EventEntity, EventEntity], work=[200*, 0*]
  7: 0x129C [0x1C] WAIT(60* ticks)
  8: 0x129F [0x29] REQ_SET_WAIT(priority=0x0B, entity_id=LocalPlayer, tag_num=0x25)
  9: 0x12A6 [0x7B] LocalPlayer stops talking
 10: 0x12AB [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=0.100*, z=1.500*, y=0.000*, direction=92.0°*
 11: 0x12B4 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s000" with entities [EventEntity, EventEntity], work=[188*, 0*]
 12: 0x12C5 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi0" with entities [EventEntity, EventEntity], work=[200*, 0*]
 13: 0x12D6 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x01)
 14: 0x12DD [0x1D] PRINT_EVENT_MESSAGE(message_id=11005*)
    → "Master, Master!\u0007I have a favor to ask, kupo!\u007F1\u0000\u0007"
 15: 0x12E0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x12E1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s002" with entities [EventEntity, EventEntity], work=[188*, 0*]
 17: 0x12F2 [0x1D] PRINT_EVENT_MESSAGE(message_id=11006*)
    → "After resting on the \u0001\u0005#\u0002\u0003\u0000\u0000, I noticed a letter had arrived from some old moogle friends, kupo! Will my magnanimous master give me some time off to go visit my old buddies?\u007F1\u0000\u0007"
 18: 0x12F5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x12F6 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x02)
 20: 0x12FD [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x03)
 21: 0x1304 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x04)
 22: 0x130B [0x52] END_LOAD_SCHEDULER: End scheduler "s002" with entities [EventEntity, EventEntity], work=188*
 23: 0x131A [0x24] CREATE_DIALOG(message_id=11007*, default_option=0*, option_flags=0*)
    → "Give your moogle some time off?\u0007\u000BHave fun, kupo!\u0007No, I am your only friend now!\u007F1\u0000\u0007"
 24: 0x1321 [0x25] WAIT_DIALOG_SELECT()
 25: 0x1322 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x13A3
 26: 0x132A [0x03] Work_Zone[1] = 1*
 27: 0x132F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s001" with entities [EventEntity, EventEntity], work=[188*, 0*]
 28: 0x1340 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x0D)
 29: 0x1347 [0x1D] PRINT_EVENT_MESSAGE(message_id=11008*)
    → "Oh, thank you, master!\u0007My moogle friends live across the seas, so I have another favor to ask you, kupo!\u007F1\u0000\u0007"
 30: 0x134A [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x134B [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x0E)
 32: 0x1352 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x0F)
 33: 0x1359 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x10)
 34: 0x1360 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s000" with entities [EventEntity, EventEntity], work=[188*, 0*]
 35: 0x1371 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x15)
 36: 0x1378 [0x1D] PRINT_EVENT_MESSAGE(message_id=11009*)
    → "The sun beats down mercilessly in the land beyond the west sea, so I need to take \u0001\u0001\u0001 \u0001\u0005$\u0002\u0005\u0000\u0000 for my friends there, kupo!\u007F1\u0000\u0007"
 37: 0x137B [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x137C [0x1D] PRINT_EVENT_MESSAGE(message_id=11010*)
    → "And my other buddies need \u0001\u0001\u0001 \u0001\u0005$\u0002\u0006\u0000\u0000 for the torrential rains that scour the lands across the east sea, kupo!\u007F1\u0000\u0007"
 39: 0x137F [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x1380 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x16)
 41: 0x1387 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x17)
 42: 0x138E [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x16)
 43: 0x1395 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x05)
 44: 0x139C [0x1D] PRINT_EVENT_MESSAGE(message_id=11011*)
    → "I can't help out my friends if I don't have \u0001\u0001\u0001 \u0001\u0005$\u0002\u0005\u0000\u0000 and \u0001\u0001\u0001 \u0001\u0005$\u0002\u0006\u0000\u0000, kupo...\u007F1\u0000\u0007"
 45: 0x139F [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x13A0 [0x01] GOTO 0x13CF
 47: 0x13A3 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x13CF
 48: 0x13AB [0x03] Work_Zone[1] = 2*
 49: 0x13B0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s001" with entities [EventEntity, EventEntity], work=[188*, 0*]
 50: 0x13C1 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x05)
 51: 0x13C8 [0x1D] PRINT_EVENT_MESSAGE(message_id=10977*)
    → "Oh, what a cruel, cruel master, kupo!!!\u007F1\u0000\u0007"
 52: 0x13CB [0x23] WAIT_FOR_DIALOG_INTERACTION
 53: 0x13CC [0x01] GOTO 0x13CF

SUBROUTINE_13CF:
 54: 0x13CF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo0" with entities [EventEntity, EventEntity], work=[200*, 0*]
 55: 0x13E0 [0x1C] WAIT(60* ticks)
 56: 0x13E3 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x06)
 57: 0x13EA [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x07)
 58: 0x13F1 [0x29] REQ_SET_WAIT(priority=0x08, entity_id=Moogle (ID: 17735770/0x010EA05A), tag_num=0x08)
 59: 0x13F8 [0x4E] SET_ENTITY_HIDE_FLAG: Show LocalPlayer
 60: 0x13FE [0x46] CAMERA_CONTROL: Restore default settings
 61: 0x1400 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi0" with entities [EventEntity, EventEntity], work=[200*, 0*]
 62: 0x1411 [0x20] SET_CLI_EVENT_UC_FLAG: Unlock player control
 63: 0x1413 [0x21] END_EVENT
 64: 0x1414 [0x00] END_REQSTACK()
```
