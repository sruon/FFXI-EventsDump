# Event 671

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 9/23      |
| Offset          | 0x4999    |
| Data Size       | 896 bytes |
| Calculated Size | 896 bytes |
| Instructions    | 115       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
4990:                             42 1A 64 00 46 01 38           B.d.F.8
49A0: 08 80 5D 01 80 09 80 02  09 10 01 80 01 B5 49 75  ..]...........Iu
49B0: 00 0A 80 75 01 92 01 04  A0 0E 01 94 01 04 A0 0E  ...u............
49C0: 01 94 01 F0 FF FF 7F BA  F0 FF FF 7F 0F 80 10 80  ................
49D0: 0D 80 11 80 5C 00 12 80  5C 01 12 80 9A 5D 13 80  ....\...\....]..
49E0: 03 80 80 04 A0 0E 01 80  F0 FF FF 7F 29 10 52 A0  ............).R.
49F0: 0E 01 02 4A F0 FF FF 7F  04 A0 0E 01 6F 76 F0 FF  ...J........ov..
4A00: FF 7F 79 00 04 A0 0E 01  F0 FF FF 7F 29 0F F0 FF  ..y.........)...
4A10: FF 7F 4B 45 15 80 F8 FF  FF 7F F8 FF FF 7F 73 30  ..KE..........s0
4A20: 30 30 01 80 5B 14 80 04  A0 0E 01 04 A0 0E 01 74  00..[..........t
4A30: 6C 61 30 1A 43 00 03 08  10 8B 7F 2B 04 A0 0E 01  la0.C......+....
4A40: FB 80 23 53 04 A0 0E 01  04 A0 0E 01 74 6C 61 30  ..#S........tla0
4A50: 5B 14 80 04 A0 0E 01 04  A0 0E 01 74 6C 61 31 2B  [..........tla1+
4A60: 04 A0 0E 01 FC 80 23 53  04 A0 0E 01 04 A0 0E 01  ......#S........
4A70: 74 6C 61 31 2B 04 A0 0E  01 FD 80 23 52 15 80 F8  tla1+......#R...
4A80: FF FF 7F F8 FF FF 7F 73  30 30 30 45 15 80 F8 FF  .......s000E....
4A90: FF 7F F8 FF FF 7F 73 30  30 31 01 80 5B 14 80 04  ......s001..[...
4AA0: A0 0E 01 04 A0 0E 01 74  6C 63 30 2B 04 A0 0E 01  .......tlc0+....
4AB0: FE 80 23 2B 04 A0 0E 01  FF 80 23 53 04 A0 0E 01  ..#+......#S....
4AC0: 04 A0 0E 01 74 6C 63 30  52 15 80 F8 FF FF 7F F8  ....tlc0R.......
4AD0: FF FF 7F 73 30 30 31 02  09 10 1E 80 00 F3 4A 45  ...s001.......JE
4AE0: 15 80 F8 FF FF 7F F8 FF  FF 7F 73 30 32 32 01 80  ..........s022..
4AF0: 01 20 4B 02 09 10 1F 80  00 0F 4B 45 15 80 F8 FF  . K.......KE....
4B00: FF 7F F8 FF FF 7F 73 30  32 32 01 80 01 20 4B 45  ......s022... KE
4B10: 15 80 F8 FF FF 7F F8 FF  FF 7F 73 30 31 37 01 80  ..........s017..
4B20: 5B 14 80 04 A0 0E 01 04  A0 0E 01 74 6C 63 31 2B  [..........tlc1+
4B30: 04 A0 0E 01 00 81 23 53  04 A0 0E 01 04 A0 0E 01  ......#S........
4B40: 74 6C 63 31 2B 04 A0 0E  01 01 81 23 02 09 10 1E  tlc1+......#....
4B50: 80 00 66 4B 52 15 80 F8  FF FF 7F F8 FF FF 7F 73  ..fKR..........s
4B60: 30 32 32 01 8F 4B 02 09  10 1F 80 00 80 4B 52 15  022..K.......KR.
4B70: 80 F8 FF FF 7F F8 FF FF  7F 73 30 32 32 01 8F 4B  .........s022..K
4B80: 52 15 80 F8 FF FF 7F F8  FF FF 7F 73 30 31 37 45  R..........s017E
4B90: 15 80 F8 FF FF 7F F8 FF  FF 7F 73 30 31 30 01 80  ..........s010..
4BA0: 7B 04 A0 0E 01 5B 14 80  04 A0 0E 01 04 A0 0E 01  {....[..........
4BB0: 74 68 6B 31 2B 04 A0 0E  01 02 81 23 53 04 A0 0E  thk1+......#S...
4BC0: 01 04 A0 0E 01 74 68 6B  31 52 15 80 F8 FF FF 7F  .....thk1R......
4BD0: F8 FF FF 7F 73 30 31 30  02 09 10 1E 80 00 F4 4B  ....s010.......K
4BE0: 45 15 80 F8 FF FF 7F F8  FF FF 7F 73 30 32 32 01  E..........s022.
4BF0: 80 01 21 4C 02 09 10 1F  80 00 10 4C 45 15 80 F8  ..!L.......LE...
4C00: FF FF 7F F8 FF FF 7F 73  30 32 32 01 80 01 21 4C  .......s022...!L
4C10: 45 15 80 F8 FF FF 7F F8  FF FF 7F 73 30 31 37 01  E..........s017.
4C20: 80 5B 14 80 04 A0 0E 01  04 A0 0E 01 74 68 6B 32  .[..........thk2
4C30: 2B 04 A0 0E 01 03 81 23  53 04 A0 0E 01 04 A0 0E  +......#S.......
4C40: 01 74 68 6B 32 79 00 04  A0 0E 01 F0 FF FF 7F 5B  .thk2y.........[
4C50: 14 80 04 A0 0E 01 04 A0  0E 01 74 6C 61 30 2B 04  ..........tla0+.
4C60: A0 0E 01 04 81 1C 06 80  02 09 10 1E 80 00 82 4C  ...............L
4C70: 52 15 80 F8 FF FF 7F F8  FF FF 7F 73 30 32 32 01  R..........s022.
4C80: AB 4C 02 09 10 1F 80 00  9C 4C 52 15 80 F8 FF FF  .L.......LR.....
4C90: 7F F8 FF FF 7F 73 30 32  32 01 AB 4C 52 15 80 F8  .....s022..LR...
4CA0: FF FF 7F F8 FF FF 7F 73  30 31 37 45 15 80 F8 FF  .......s017E....
4CB0: FF 7F F8 FF FF 7F 73 30  31 36 01 80 23 2B 04 A0  ......s016..#+..
4CC0: 0E 01 05 81 23 5D 01 80  09 80 1A 64 00 1C 44 80  ....#].....d..D.
4CD0: 53 04 A0 0E 01 04 A0 0E  01 74 6C 61 30 52 15 80  S........tla0R..
4CE0: F8 FF FF 7F F8 FF FF 7F  73 30 31 36 5C 00 3A 80  ........s016\.:.
4CF0: 5C 01 3A 80 9A 5D 13 80  03 80 1C 44 80 AB 11 01  \.:..].....D....
4D00: 80 1C 03 80 46 00 45 00  80 F8 FF FF 7F F8 FF FF  ....F.E.........
4D10: 7F 66 64 69 32 01 80 21  00                       .fdi2..!.       
```

## Opcodes

```
  0: 0x4999 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x499A [0x1A] CALL_SUBROUTINE(address=0x0064)
  2: 0x499D [0x46] CAMERA_CONTROL: Disable user control
  3: 0x499F [0x38] SET_CLIENT_EVENT_MODE(mode=147*)
  4: 0x49A2 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=300*)
  5: 0x49A7 [0x02] IF !(Work_Zone[9] == 0*) GOTO 0x49B5
  6: 0x49AF [0x75] LOAD_ROOM(Load indoor room, room=267*)
  7: 0x49B3 [0x75] LOAD_ROOM(No action)
  8: 0x49B5 [0x92] Gumbah (ID: 17735684/0x010EA004)->Render.Flags3 ^= 0x01
  9: 0x49BB [0x94] Gumbah (ID: 17735684/0x010EA004)->Render.Flags3 ^= 0x01
 10: 0x49C1 [0x94] LocalPlayer->Render.Flags3 ^= 0x01
 11: 0x49C7 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=51.519*, pos_z=-35.660*, pos_y=-0.059*, direction=20.2°*)
 12: 0x49D4 [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 25*
 13: 0x49D8 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 25*
 14: 0x49DC [0x9A] WAIT_MUSIC_SERVER()
 15: 0x49DD [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
 16: 0x49E2 [0x80] LOAD_WAIT(entity=Gumbah (ID: 17735684/0x010EA004))
 17: 0x49E7 [0x80] LOAD_WAIT(entity=LocalPlayer)
 18: 0x49EC [0x29] REQ_SET_WAIT(priority=0x10, entity_id=Door:House (ID: 17735762/0x010EA052), tag_num=0x02)
 19: 0x49F3 [0x4A] LocalPlayer looks at Gumbah (ID: 17735684/0x010EA004)
 20: 0x49FC [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
 21: 0x49FD [0x76] CHECK_ENTITY_RENDER_FLAGS: Wait until LocalPlayer Render.Flags0 and Render.Flags3 conditions are met
 22: 0x4A02 [0x79] Gumbah (ID: 17735684/0x010EA004) looks at LocalPlayer (Basic look)
 23: 0x4A0C [0x29] REQ_SET_WAIT(priority=0x0F, entity_id=LocalPlayer, tag_num=0x4B)
 24: 0x4A13 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s000" with entities [EventEntity, EventEntity], work=[829*, 0*]
 25: 0x4A24 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tla0" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)], work=155*
 26: 0x4A33 [0x1A] CALL_SUBROUTINE(address=0x0043)
 27: 0x4A36 [0x03] Work_Zone[8] = (LocalPlayer->Render.Flags01 >> 25) & 1
 28: 0x4A3B [0x2B] Gumbah (ID: 17735684/0x010EA004) [17005*]:
    → "Hey, \u000C\u0006[miss/mister], excellent timing.\u007F1\u0000\u0007"
 29: 0x4A42 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x4A43 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tla0" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)]
 31: 0x4A50 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tla1" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)], work=155*
 32: 0x4A5F [0x2B] Gumbah (ID: 17735684/0x010EA004) [17006*]:
    → "Raebrimm is looking for you.\u0007I think he wants to talk to you about something.\u007F1\u0000\u0007"
 33: 0x4A66 [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x4A67 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tla1" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)]
 35: 0x4A74 [0x2B] Gumbah (ID: 17735684/0x010EA004) [17007*]:
    → "He probably has grown tired of Bastok and wants to ask you about life outside these walls.\u007F1\u0000\u0007"
 36: 0x4A7B [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x4A7C [0x52] END_LOAD_SCHEDULER: End scheduler "s000" with entities [EventEntity, EventEntity], work=829*
 38: 0x4A8B [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s001" with entities [EventEntity, EventEntity], work=[829*, 0*]
 39: 0x4A9C [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlc0" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)], work=155*
 40: 0x4AAB [0x2B] Gumbah (ID: 17735684/0x010EA004) [17008*]:
    → "Although, don't take him outside the city, no matter how much he begs you.\u0007I'm still worried about him...\u007F1\u0000\u0007"
 41: 0x4AB2 [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x4AB3 [0x2B] Gumbah (ID: 17735684/0x010EA004) [17009*]:
    → "Sometimes, he gets this blank look on his face and says he's forgetting something important.\u007F1\u0000\u0007"
 43: 0x4ABA [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x4ABB [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlc0" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)]
 45: 0x4AC8 [0x52] END_LOAD_SCHEDULER: End scheduler "s001" with entities [EventEntity, EventEntity], work=829*
 46: 0x4AD7 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x4AF3
 47: 0x4ADF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s022" with entities [EventEntity, EventEntity], work=[829*, 0*]
 48: 0x4AF0 [0x01] GOTO 0x4B20
 49: 0x4AF3 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x4B0F
 50: 0x4AFB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s022" with entities [EventEntity, EventEntity], work=[829*, 0*]
 51: 0x4B0C [0x01] GOTO 0x4B20
 52: 0x4B0F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s017" with entities [EventEntity, EventEntity], work=[829*, 0*]

SUBROUTINE_4B20:
 53: 0x4B20 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlc1" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)], work=155*
 54: 0x4B2F [0x2B] Gumbah (ID: 17735684/0x010EA004) [17010*]:
    → "So that's why I'm always trying to keep an eye on him.\u007F1\u0000\u0007"
 55: 0x4B36 [0x23] WAIT_FOR_DIALOG_INTERACTION
 56: 0x4B37 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tlc1" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)]
 57: 0x4B44 [0x2B] Gumbah (ID: 17735684/0x010EA004) [17011*]:
    → "Although, whenever I do, I often feel waves of nostalgia crashing over me too.\u007F1\u0000\u0007"
 58: 0x4B4B [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0x4B4C [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x4B66
 60: 0x4B54 [0x52] END_LOAD_SCHEDULER: End scheduler "s022" with entities [EventEntity, EventEntity], work=829*
 61: 0x4B63 [0x01] GOTO 0x4B8F
 62: 0x4B66 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x4B80
 63: 0x4B6E [0x52] END_LOAD_SCHEDULER: End scheduler "s022" with entities [EventEntity, EventEntity], work=829*
 64: 0x4B7D [0x01] GOTO 0x4B8F
 65: 0x4B80 [0x52] END_LOAD_SCHEDULER: End scheduler "s017" with entities [EventEntity, EventEntity], work=829*

SUBROUTINE_4B8F:
 66: 0x4B8F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s010" with entities [EventEntity, EventEntity], work=[829*, 0*]
 67: 0x4BA0 [0x7B] Gumbah (ID: 17735684/0x010EA004) stops talking
 68: 0x4BA5 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk1" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)], work=155*
 69: 0x4BB4 [0x2B] Gumbah (ID: 17735684/0x010EA004) [17012*]:
    → "Hmm... Maybe Raebrimm is actually somebody I knew before that has undergone some kind of rebirth...\u007F1\u0000\u0007"
 70: 0x4BBB [0x23] WAIT_FOR_DIALOG_INTERACTION
 71: 0x4BBC [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk1" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)]
 72: 0x4BC9 [0x52] END_LOAD_SCHEDULER: End scheduler "s010" with entities [EventEntity, EventEntity], work=829*
 73: 0x4BD8 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x4BF4
 74: 0x4BE0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s022" with entities [EventEntity, EventEntity], work=[829*, 0*]
 75: 0x4BF1 [0x01] GOTO 0x4C21
 76: 0x4BF4 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x4C10
 77: 0x4BFC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s022" with entities [EventEntity, EventEntity], work=[829*, 0*]
 78: 0x4C0D [0x01] GOTO 0x4C21
 79: 0x4C10 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s017" with entities [EventEntity, EventEntity], work=[829*, 0*]

SUBROUTINE_4C21:
 80: 0x4C21 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "thk2" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)], work=155*
 81: 0x4C30 [0x2B] Gumbah (ID: 17735684/0x010EA004) [17013*]:
    → "Oh, where was I? Ah, yes...\u0007If you're going to see Raebrimm, you should probably hurry.\u007F1\u0000\u0007"
 82: 0x4C37 [0x23] WAIT_FOR_DIALOG_INTERACTION
 83: 0x4C38 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "thk2" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)]
 84: 0x4C45 [0x79] Gumbah (ID: 17735684/0x010EA004) looks at LocalPlayer (Basic look)
 85: 0x4C4F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tla0" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)], work=155*
 86: 0x4C5E [0x2B] Gumbah (ID: 17735684/0x010EA004) [17014*]:
    → "You should be able to catch up with him at the entrance to the Zeruhn Mines just west of here.\u007F1\u0000\u0007"
 87: 0x4C65 [0x1C] WAIT(30* ticks)
 88: 0x4C68 [0x02] IF !(Work_Zone[9] == 5*) GOTO 0x4C82
 89: 0x4C70 [0x52] END_LOAD_SCHEDULER: End scheduler "s022" with entities [EventEntity, EventEntity], work=829*
 90: 0x4C7F [0x01] GOTO 0x4CAB
 91: 0x4C82 [0x02] IF !(Work_Zone[9] == 6*) GOTO 0x4C9C
 92: 0x4C8A [0x52] END_LOAD_SCHEDULER: End scheduler "s022" with entities [EventEntity, EventEntity], work=829*
 93: 0x4C99 [0x01] GOTO 0x4CAB
 94: 0x4C9C [0x52] END_LOAD_SCHEDULER: End scheduler "s017" with entities [EventEntity, EventEntity], work=829*

SUBROUTINE_4CAB:
 95: 0x4CAB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "s016" with entities [EventEntity, EventEntity], work=[829*, 0*]
 96: 0x4CBC [0x23] WAIT_FOR_DIALOG_INTERACTION
 97: 0x4CBD [0x2B] Gumbah (ID: 17735684/0x010EA004) [17015*]:
    → "Apparently, he was sent on an errand, so he said he needed to visit Drangord.\u007F1\u0000\u0007"
 98: 0x4CC4 [0x23] WAIT_FOR_DIALOG_INTERACTION
 99: 0x4CC5 [0x5D] SET_MUSIC_VOLUME(volume=0*, fade_time=300*)
100: 0x4CCA [0x1A] CALL_SUBROUTINE(address=0x0064)
101: 0x4CCD [0x1C] WAIT(15* ticks)
102: 0x4CD0 [0x53] WAIT_SCHEDULER_TASK: Wait for scheduler "tla0" with entities [Gumbah (ID: 17735684/0x010EA004), Gumbah (ID: 17735684/0x010EA004)]
103: 0x4CDD [0x52] END_LOAD_SCHEDULER: End scheduler "s016" with entities [EventEntity, EventEntity], work=829*
104: 0x4CEC [0x5C] MUSIC_CONTROL: Set Idle (Day) music to song 152*
105: 0x4CF0 [0x5C] MUSIC_CONTROL: Set Idle (Night) music to song 152*
106: 0x4CF4 [0x9A] WAIT_MUSIC_SERVER()
107: 0x4CF5 [0x5D] SET_MUSIC_VOLUME(volume=127*, fade_time=1*)
108: 0x4CFA [0x1C] WAIT(15* ticks)
109: 0x4CFD [0xAB] EventEntity->DespawnValue = 0* // Set despawn value
110: 0x4D01 [0x1C] WAIT(1* ticks)
111: 0x4D04 [0x46] CAMERA_CONTROL: Restore default settings
112: 0x4D06 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi2" with entities [EventEntity, EventEntity], work=[200*, 0*]
113: 0x4D17 [0x21] END_EVENT
114: 0x4D18 [0x00] END_REQSTACK()
```
