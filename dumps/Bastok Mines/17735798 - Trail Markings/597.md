# Event 597

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/31      |
| Offset          | 0x02EF    |
| Data Size       | 564 bytes |
| Calculated Size | 564 bytes |
| Instructions    | 133       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
02E0:                                               41                 A
02F0: 03 80 25 80 03 10 02 00  41 26 80 27 80 03 10 08  ..%.....A&.'....
0300: 00 02 05 10 02 80 00 11  03 03 07 00 02 80 01 16  ................
0310: 03 03 07 00 1D 80 02 08  00 03 80 02 25 03 3C 07  ............%.<.
0320: 00 1C 80 02 80 48 1E 80  23 24 1F 80 0F 80 07 00  .....H..#$......
0330: 25 02 00 10 03 80 00 41  03 03 01 10 03 80 01 DE  %......A........
0340: 03 02 00 10 02 80 00 51  03 03 01 10 03 80 01 DE  .......Q........
0350: 03 02 00 10 05 80 00 61  03 03 01 10 02 80 01 DE  .......a........
0360: 03 02 00 10 0F 80 00 73  03 03 01 10 04 80 21 00  .......s......!.
0370: 01 DE 03 02 00 10 16 80  00 A1 03 48 28 80 23 48  ...........H(.#H
0380: 29 80 23 48 2A 80 23 48  2B 80 23 48 2C 80 23 48  ).#H*.#H+.#H,.#H
0390: 2D 80 23 48 2E 80 23 48  2F 80 23 01 29 03 01 DE  -.#H..#H/.#.)...
03A0: 03 02 00 10 1C 80 00 C4  03 03 03 10 08 00 48 30  ..............H0
03B0: 80 23 48 31 80 23 48 32  80 23 48 33 80 23 01 29  .#H1.#H2.#H3.#.)
03C0: 03 01 DE 03 02 00 10 1D  80 00 DE 03 48 34 80 23  ............H4.#
03D0: 48 35 80 23 48 36 80 23  01 29 03 01 DE 03 42 02  H5.#H6.#.)....B.
03E0: 02 10 02 80 80 06 04 02  02 00 02 80 80 F5 03 1A  ................
03F0: F1 1D 01 03 04 02 02 00  05 80 80 03 04 1A 3B 12  ..............;.
0400: 01 03 04 01 21 05 02 02  10 05 80 80 2D 04 02 02  ....!.......-...
0410: 00 02 80 80 1C 04 1A FF  1F 01 2A 04 02 02 00 05  ..........*.....
0420: 80 80 2A 04 1A BE 13 01  2A 04 01 21 05 02 02 10  ..*.....*..!....
0430: 0F 80 80 54 04 02 02 00  02 80 80 43 04 1A 6F 22  ...T.......C..o"
0440: 01 51 04 02 02 00 05 80  80 51 04 1A A3 15 01 51  .Q.......Q.....Q
0450: 04 01 21 05 02 02 10 16  80 80 7B 04 02 02 00 02  ..!.......{.....
0460: 80 80 6A 04 1A AF 24 01  78 04 02 02 00 05 80 80  ..j...$.x.......
0470: 78 04 1A 58 17 01 78 04  01 21 05 02 02 10 1C 80  x..X..x..!......
0480: 80 A2 04 02 02 00 02 80  80 91 04 1A 81 27 01 9F  .............'..
0490: 04 02 02 00 05 80 80 9F  04 1A 9F 19 01 9F 04 01  ................
04A0: 21 05 02 02 10 1D 80 80  C9 04 02 02 00 02 80 80  !...............
04B0: B8 04 1A B8 29 01 C6 04  02 02 00 05 80 80 C6 04  ....)...........
04C0: 1A E2 1A 01 C6 04 01 21  05 02 02 10 21 80 80 DF  .......!....!...
04D0: 04 02 02 00 05 80 00 DC  04 1A 3D 62 01 21 05 02  ..........=b.!..
04E0: 02 10 22 80 80 F5 04 02  02 00 05 80 00 F2 04 1A  ..".............
04F0: 40 64 01 21 05 02 02 10  23 80 80 0B 05 02 02 00  @d.!....#.......
0500: 05 80 00 08 05 1A 34 66  01 21 05 02 02 10 24 80  ......4f.!....$.
0510: 80 21 05 02 02 00 05 80  00 1E 05 1A 40 6A 01 21  .!..........@j.!
0520: 05 21 00                                          .!.             
```

## Opcodes

```
  0: 0x02EF [0x41] GET_BIT_WORK_RANGE(start_bit=0*, end_bit=15*, source=Work_Zone[3], result=ExtData[1]->WorkLocal[2])
  1: 0x02F8 [0x41] GET_BIT_WORK_RANGE(start_bit=16*, end_bit=31*, source=Work_Zone[3], result=ExtData[1]->WorkLocal[8])
  2: 0x0301 [0x02] IF !(Work_Zone[5] == 1*) GOTO 0x0311
  3: 0x0309 [0x03] ExtData[1]->WorkLocal[7] = 1*
  4: 0x030E [0x01] GOTO 0x0316

SUBROUTINE_0311:
  5: 0x0311 [0x03] ExtData[1]->WorkLocal[7] = 6*
  6: 0x0316 [0x02] IF !(ExtData[1]->WorkLocal[8] <= 0*) GOTO 0x0325
  7: 0x031E [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x07, bit_index_work_offset=0x801C, condition_work_offset=0x8002)
  8: 0x0325 [0x48] [System] [11761*]:
    → "You will now be warped to Dynamis - \u000C\u0000[Dummy/San d'Oria/Bastok/Windurst/Jeuno/Beaucedine/Xarcabard/Valkurm/Buburimu/Qufim/Tavnazia].\u007F1\u0000\u0007"
  9: 0x0328 [0x23] WAIT_FOR_DIALOG_INTERACTION
 10: 0x0329 [0x24] CREATE_DIALOG(message_id=11762*, default_option=3*, option_flags=0x07)
    → "Ready to warp to Dynamis - \u000C\u0000[Dummy/San d'Oria/Bastok/Windurst/Jeuno/Beaucedine/Xarcabard/Valkurm/Buburimu/Qufim/Tavnazia]?\u0007\u000BReady!\u0007Ready! (Support jobs unlocked).\u0007Ready! (Support jobs restricted).\u0007Not yet.\u0007Entering Dynamis - \u000C\u0000[Dummy/San d'Oria/Bastok/Windurst/Jeuno/Beaucedine/Xarcabard/Valkurm/Buburimu/Qufim/Tavnazia].\u0007Reentering Dynamis - \u000C\u0000[Dummy/San d'Oria/Bastok/Windurst/Jeuno/Beaucedine/Xarcabard/Valkurm/Buburimu/Qufim/Tavnazia].\u0007Battles in Dynamis - \u000C\u0000[Dummy/San d'Oria/Bastok/Windurst/Jeuno/Beaucedine/Xarcabard/Valkurm/Buburimu/Qufim/Tavnazia].\u007F1\u0000\u0007"
 11: 0x0330 [0x25] WAIT_DIALOG_SELECT()
 12: 0x0331 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0341
 13: 0x0339 [0x03] Work_Zone[1] = 0*
 14: 0x033E [0x01] GOTO 0x03DE

SUBROUTINE_0341:
 15: 0x0341 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0351
 16: 0x0349 [0x03] Work_Zone[1] = 0*
 17: 0x034E [0x01] GOTO 0x03DE

SUBROUTINE_0351:
 18: 0x0351 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0361
 19: 0x0359 [0x03] Work_Zone[1] = 1*
 20: 0x035E [0x01] GOTO 0x03DE

SUBROUTINE_0361:
 21: 0x0361 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0373
 22: 0x0369 [0x03] Work_Zone[1] = 1073741824*
 23: 0x036E [0x21] END_EVENT
 24: 0x036F [0x00] END_REQSTACK()

SUBROUTINE_0373:
 25: 0x0373 [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x03A1
 26: 0x037B [0x48] [System] [11929*]:
    → "Ensuring that you have \u0001\u00056\u0002\u0002\u0000\u0000 in your possession, seek out the \u00072Trail Markings\u00073 or \u00072Hieroglyphics\u00073 found in each area.\u007F1\u0000\u0007"
 27: 0x037E [0x23] WAIT_FOR_DIALOG_INTERACTION
 28: 0x037F [0x48] [System] [11930*]:
    → "Examine them and you will be granted entrance to the corresponding Dynamis area.\u007F1\u0000\u0007"
 29: 0x0382 [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x0383 [0x48] [System] [11931*]:
    → "Dynamis - \u000C\u0000[Dummy/San d'Oria/Bastok/Windurst/Jeuno/Beaucedine/Xarcabard/Valkurm/Buburimu/Qufim/Tavnazia] will not be reserved to anyone. It will be accessible to any and all who meet the entry requirements.\u007F1\u0000\u0007"
 31: 0x0386 [0x23] WAIT_FOR_DIALOG_INTERACTION
 32: 0x0387 [0x48] [System] [11932*]:
    → "Your stay in Dynamis - \u000C\u0000[Dummy/San d'Oria/Bastok/Windurst/Jeuno/Beaucedine/Xarcabard/Valkurm/Buburimu/Qufim/Tavnazia] will be subject to a time restriction. Parties will automatically be expelled from the area when this time elapses.\u007F1\u0000\u0007"
 33: 0x038A [0x23] WAIT_FOR_DIALOG_INTERACTION
 34: 0x038B [0x48] [System] [11933*]:
    → "Parties and alliances can extend their duration of stay by defeating certain enemies.\u007F1\u0000\u0007"
 35: 0x038E [0x23] WAIT_FOR_DIALOG_INTERACTION
 36: 0x038F [0x48] [System] [11934*]:
    → "Please note that it is not possible to enter Dynamis - \u000C\u0000[Dummy/San d'Oria/Bastok/Windurst/Jeuno/Beaucedine/Xarcabard/Valkurm/Buburimu/Qufim/Tavnazia] without \u0001\u00056\u0002\u0005\u0000\u0000, even if you trade the required \u0001\u00053\u0002\u0002\u0000\u0000.\u007F1\u0000\u0007"
 37: 0x0392 [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x0393 [0x48] [System] [11935*]:
    → "Remember that only players level 65 or above can travel to the Shrouded Land.\u007F1\u0000\u0007"
 39: 0x0396 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x0397 [0x48] [System] [11936*]:
    → "Furthermore, it is not possible to reserve Dynamis - \u000C\u0000[Dummy/San d'Oria/Bastok/Windurst/Jeuno/Beaucedine/Xarcabard/Valkurm/Buburimu/Qufim/Tavnazia] using \u0001\u0001\u0001 \u0001\u0005$\u0002\u0006\u0000\u0000 or \u0001\u0001\u0001 \u0001\u0005$\u0002\u0007\u0000\u0000.\u007F1\u0000\u0007"
 41: 0x039A [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x039B [0x01] GOTO 0x0329

SUBROUTINE_03A1:
 43: 0x03A1 [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x03C4
 44: 0x03A9 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[8]
 45: 0x03AE [0x48] [System] [11944*]:
    → "Travel to Dynamis - \u000C\u0000[Dummy/San d'Oria/Bastok/Windurst/Jeuno/Beaucedine/Xarcabard/Valkurm/Buburimu/Qufim/Tavnazia] is limited to once per \u000C\u0001[day/ten minutes] (Earth time).\u007F1\u0000\u0007"
 46: 0x03B1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 47: 0x03B2 [0x48] [System] [11945*]:
    → "Even if expelled from the area by magic or being KO'd, you will not be able to reenter until the waiting period has elapsed.\u007F1\u0000\u0007"
 48: 0x03B5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 49: 0x03B6 [0x48] [System] [11946*]:
    → "In addition to Dynamis - \u000C\u0000[Dummy/San d'Oria/Bastok/Windurst/Jeuno/Beaucedine/Xarcabard/Valkurm/Buburimu/Qufim/Tavnazia], this restriction will also apply to other Dynamis areas.\u007F1\u0000\u0007"
 50: 0x03B9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x03BA [0x48] [System] [11949*]:
    → "You may confirm the remaining waiting period until reentry is permitted at any time by examining the Trail Markings or Hieroglyphics.\u007F1\u0000\u0007"
 52: 0x03BD [0x23] WAIT_FOR_DIALOG_INTERACTION
 53: 0x03BE [0x01] GOTO 0x0329

SUBROUTINE_03C4:
 54: 0x03C4 [0x02] IF !(Work_Zone[0] == 6*) GOTO 0x03DE
 55: 0x03CC [0x48] [System] [11954*]:
    → "When battling enemies in Dynamis - \u000C\u0000[Dummy/San d'Oria/Bastok/Windurst/Jeuno/Beaucedine/Xarcabard/Valkurm/Buburimu/Qufim/Tavnazia], it will only be possible to cooperate with characters in the same party or alliance.\u007F1\u0000\u0007"
 56: 0x03CF [0x23] WAIT_FOR_DIALOG_INTERACTION
 57: 0x03D0 [0x48] [System] [11955*]:
    → "Spoils dropped by enemies will become available for every character in the party or alliance to cast lots on. The item will be awarded to the character who casts the highest lot.\u007F1\u0000\u0007"
 58: 0x03D3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 59: 0x03D4 [0x48] [System] [11956*]:
    → "Please be aware that items not lotted for within the restricted time may go to a random party or alliance member, or be lost entirely.\u007F1\u0000\u0007"
 60: 0x03D7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 61: 0x03D8 [0x01] GOTO 0x0329

SUBROUTINE_03DE:
 62: 0x03DE [0x42] SET_CLI_EVENT_CANCEL_DATA()
 63: 0x03DF [0x02] IF !(Work_Zone[2] == 1*) GOTO 0x0406
 64: 0x03E7 [0x02] IF !(ExtData[1]->WorkLocal[2] == 1*) GOTO 0x03F5
 65: 0x03EF [0x1A] CALL_SUBROUTINE(address=0x1DF1)
 66: 0x03F2 [0x01] GOTO 0x0403

SUBROUTINE_03F5:
 67: 0x03F5 [0x02] IF !(ExtData[1]->WorkLocal[2] == 2*) GOTO 0x0403
 68: 0x03FD [0x1A] CALL_SUBROUTINE(address=0x123B)
 69: 0x0400 [0x01] GOTO 0x0403

SUBROUTINE_0403:
 70: 0x0403 [0x01] GOTO 0x0521

SUBROUTINE_0406:
 71: 0x0406 [0x02] IF !(Work_Zone[2] == 2*) GOTO 0x042D
 72: 0x040E [0x02] IF !(ExtData[1]->WorkLocal[2] == 1*) GOTO 0x041C
 73: 0x0416 [0x1A] CALL_SUBROUTINE(address=0x1FFF)
 74: 0x0419 [0x01] GOTO 0x042A

SUBROUTINE_041C:
 75: 0x041C [0x02] IF !(ExtData[1]->WorkLocal[2] == 2*) GOTO 0x042A
 76: 0x0424 [0x1A] CALL_SUBROUTINE(address=0x13BE)
 77: 0x0427 [0x01] GOTO 0x042A

SUBROUTINE_042A:
 78: 0x042A [0x01] GOTO 0x0521

SUBROUTINE_042D:
 79: 0x042D [0x02] IF !(Work_Zone[2] == 3*) GOTO 0x0454
 80: 0x0435 [0x02] IF !(ExtData[1]->WorkLocal[2] == 1*) GOTO 0x0443
 81: 0x043D [0x1A] CALL_SUBROUTINE(address=0x226F)
 82: 0x0440 [0x01] GOTO 0x0451

SUBROUTINE_0443:
 83: 0x0443 [0x02] IF !(ExtData[1]->WorkLocal[2] == 2*) GOTO 0x0451
 84: 0x044B [0x1A] CALL_SUBROUTINE(address=0x15A3)
 85: 0x044E [0x01] GOTO 0x0451

SUBROUTINE_0451:
 86: 0x0451 [0x01] GOTO 0x0521

SUBROUTINE_0454:
 87: 0x0454 [0x02] IF !(Work_Zone[2] == 4*) GOTO 0x047B
 88: 0x045C [0x02] IF !(ExtData[1]->WorkLocal[2] == 1*) GOTO 0x046A
 89: 0x0464 [0x1A] CALL_SUBROUTINE(address=0x24AF)
 90: 0x0467 [0x01] GOTO 0x0478

SUBROUTINE_046A:
 91: 0x046A [0x02] IF !(ExtData[1]->WorkLocal[2] == 2*) GOTO 0x0478
 92: 0x0472 [0x1A] CALL_SUBROUTINE(address=0x1758)
 93: 0x0475 [0x01] GOTO 0x0478

SUBROUTINE_0478:
 94: 0x0478 [0x01] GOTO 0x0521

SUBROUTINE_047B:
 95: 0x047B [0x02] IF !(Work_Zone[2] == 5*) GOTO 0x04A2
 96: 0x0483 [0x02] IF !(ExtData[1]->WorkLocal[2] == 1*) GOTO 0x0491
 97: 0x048B [0x1A] CALL_SUBROUTINE(address=0x2781)
 98: 0x048E [0x01] GOTO 0x049F

SUBROUTINE_0491:
 99: 0x0491 [0x02] IF !(ExtData[1]->WorkLocal[2] == 2*) GOTO 0x049F
100: 0x0499 [0x1A] CALL_SUBROUTINE(address=0x199F)
101: 0x049C [0x01] GOTO 0x049F

SUBROUTINE_049F:
102: 0x049F [0x01] GOTO 0x0521

SUBROUTINE_04A2:
103: 0x04A2 [0x02] IF !(Work_Zone[2] == 6*) GOTO 0x04C9
104: 0x04AA [0x02] IF !(ExtData[1]->WorkLocal[2] == 1*) GOTO 0x04B8
105: 0x04B2 [0x1A] CALL_SUBROUTINE(address=0x29B8)
106: 0x04B5 [0x01] GOTO 0x04C6

SUBROUTINE_04B8:
107: 0x04B8 [0x02] IF !(ExtData[1]->WorkLocal[2] == 2*) GOTO 0x04C6
108: 0x04C0 [0x1A] CALL_SUBROUTINE(address=0x1AE2)
109: 0x04C3 [0x01] GOTO 0x04C6

SUBROUTINE_04C6:
110: 0x04C6 [0x01] GOTO 0x0521

SUBROUTINE_04C9:
111: 0x04C9 [0x02] IF !(Work_Zone[2] == 7*) GOTO 0x04DF
112: 0x04D1 [0x02] IF !(ExtData[1]->WorkLocal[2] == 2*) GOTO 0x04DC
113: 0x04D9 [0x1A] CALL_SUBROUTINE(address=0x623D)
114: 0x04DC [0x01] GOTO 0x0521

SUBROUTINE_04DF:
115: 0x04DF [0x02] IF !(Work_Zone[2] == 8*) GOTO 0x04F5
116: 0x04E7 [0x02] IF !(ExtData[1]->WorkLocal[2] == 2*) GOTO 0x04F2
117: 0x04EF [0x1A] CALL_SUBROUTINE(address=0x6440)
118: 0x04F2 [0x01] GOTO 0x0521

SUBROUTINE_04F5:
119: 0x04F5 [0x02] IF !(Work_Zone[2] == 9*) GOTO 0x050B
120: 0x04FD [0x02] IF !(ExtData[1]->WorkLocal[2] == 2*) GOTO 0x0508
121: 0x0505 [0x1A] CALL_SUBROUTINE(address=0x6634)
122: 0x0508 [0x01] GOTO 0x0521

SUBROUTINE_050B:
123: 0x050B [0x02] IF !(Work_Zone[2] == 10*) GOTO 0x0521
124: 0x0513 [0x02] IF !(ExtData[1]->WorkLocal[2] == 2*) GOTO 0x051E
125: 0x051B [0x1A] CALL_SUBROUTINE(address=0x6A40)
126: 0x051E [0x01] GOTO 0x0521

SUBROUTINE_0521:
127: 0x0521 [0x21] END_EVENT
128: 0x0522 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x0370 [0x01] GOTO 0x03DE
# Dead code (unreachable instructions):
     0x039E [0x01] GOTO 0x03DE
# Dead code (unreachable instructions):
     0x03C1 [0x01] GOTO 0x03DE
# Dead code (unreachable instructions):
     0x03DB [0x01] GOTO 0x03DE
```