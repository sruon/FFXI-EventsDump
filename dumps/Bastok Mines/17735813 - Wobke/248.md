# Event 248

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 6/6       |
| Offset          | 0x077E    |
| Data Size       | 674 bytes |
| Calculated Size | 674 bytes |
| Instructions    | 9         |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0770:                                            1E F0                ..
0780: FF FF 7F 6F 70 1D 32 80  23 1D 33 80 23 21 00 45  ...op.2.#.3.#!.E
0790: 20 80 F0 FF FF 7F F0 FF  FF 7F 66 64 69 30 08 80   .........fdi0..
07A0: 55 20 80 F0 FF FF 7F F0  FF FF 7F 66 64 69 30 1B  U .........fdi0.
07B0: 45 20 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 30 08  E .........fdo0.
07C0: 80 55 20 80 F0 FF FF 7F  F0 FF FF 7F 66 64 6F 30  .U .........fdo0
07D0: 1B 45 20 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 31  .E .........fdi1
07E0: 08 80 55 20 80 F0 FF FF  7F F0 FF FF 7F 66 64 69  ..U .........fdi
07F0: 31 1B 45 20 80 F0 FF FF  7F F0 FF FF 7F 66 64 6F  1.E .........fdo
0800: 31 08 80 55 20 80 F0 FF  FF 7F F0 FF FF 7F 66 64  1..U .........fd
0810: 6F 31 1B 45 36 80 F0 FF  FF 7F F0 FF FF 7F 77 68  o1.E6.........wh
0820: 69 31 08 80 55 36 80 F0  FF FF 7F F0 FF FF 7F 77  i1..U6.........w
0830: 68 69 31 1B 45 36 80 F0  FF FF 7F F0 FF FF 7F 77  hi1.E6.........w
0840: 68 6F 31 08 80 55 36 80  F0 FF FF 7F F0 FF FF 7F  ho1..U6.........
0850: 77 68 6F 31 1B 45 36 80  F0 FF FF 7F F0 FF FF 7F  who1.E6.........
0860: 77 68 6F 32 08 80 55 36  80 F0 FF FF 7F F0 FF FF  who2..U6........
0870: 7F 77 68 6F 32 1B 45 36  80 F0 FF FF 7F F0 FF FF  .who2.E6........
0880: 7F 77 68 6F 33 08 80 55  36 80 F0 FF FF 7F F0 FF  .who3..U6.......
0890: FF 7F 77 68 6F 33 1B 62  0E 80 F0 FF FF 7F F0 FF  ..who3.b........
08A0: FF 7F 6D 61 69 6E 08 80  1C 37 80 45 20 80 F0 FF  ..main...7.E ...
08B0: FF 7F F0 FF FF 7F 66 64  6F 31 08 80 55 20 80 F0  ......fdo1..U ..
08C0: FF FF 7F F0 FF FF 7F 66  64 6F 31 1B 45 20 80 F0  .......fdo1.E ..
08D0: FF FF 7F F0 FF FF 7F 66  64 69 31 08 80 62 38 80  .......fdi1..b8.
08E0: F0 FF FF 7F F0 FF FF 7F  6D 61 69 6E 08 80 1C 0C  ........main....
08F0: 80 55 20 80 F0 FF FF 7F  F0 FF FF 7F 66 64 69 31  .U .........fdi1
0900: 1B 45 20 80 F0 FF FF 7F  F0 FF FF 7F 62 6C 6F 6E  .E .........blon
0910: 08 80 45 36 80 F0 FF FF  7F F0 FF FF 7F 62 6C 6F  ..E6.........blo
0920: 6E 08 80 1B 45 36 80 F0  FF FF 7F F0 FF FF 7F 77  n...E6.........w
0930: 68 69 30 08 80 55 36 80  F0 FF FF 7F F0 FF FF 7F  hi0..U6.........
0940: 77 68 69 30 1B 45 36 80  F0 FF FF 7F F0 FF FF 7F  whi0.E6.........
0950: 77 68 6F 30 08 80 55 36  80 F0 FF FF 7F F0 FF FF  who0..U6........
0960: 7F 77 68 6F 30 1B 45 39  80 F0 FF FF 7F F0 FF FF  .who0.E9........
0970: 7F 65 66 6F 6E 08 80 55  39 80 F0 FF FF 7F F0 FF  .efon..U9.......
0980: FF 7F 65 66 6F 6E 1B 45  20 80 F0 FF FF 7F F0 FF  ..efon.E .......
0990: FF 7F 66 64 69 73 08 80  1B 45 20 80 F0 FF FF 7F  ..fdis...E .....
09A0: F0 FF FF 7F 66 64 6F 73  08 80 55 20 80 F0 FF FF  ....fdos..U ....
09B0: 7F F0 FF FF 7F 66 64 6F  73 1B 45 20 80 F0 FF FF  .....fdos.E ....
09C0: 7F F0 FF FF 7F 66 64 69  66 08 80 1B 45 20 80 F0  .....fdif...E ..
09D0: FF FF 7F F0 FF FF 7F 66  64 6F 66 08 80 55 20 80  .......fdof..U .
09E0: F0 FF FF 7F F0 FF FF 7F  66 64 6F 66 1B 45 20 80  ........fdof.E .
09F0: F0 FF FF 7F F0 FF FF 7F  66 64 69 70 08 80 1B 45  ........fdip...E
0A00: 20 80 F0 FF FF 7F F0 FF  FF 7F 66 64 6F 70 08 80   .........fdop..
0A10: 55 20 80 F0 FF FF 7F F0  FF FF 7F 66 64 6F 70 1B  U .........fdop.
```

## Opcodes

```
  0: 0x077E [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0783 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0784 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0785 [0x1D] PRINT_EVENT_MESSAGE(message_id=12230*)
    → "I'm sorry, but I really think you're mistaken.\u0007I mean, the general even had Silver Comet's collar.\u007F1\u0000\u0007"
  4: 0x0788 [0x23] WAIT_FOR_DIALOG_INTERACTION
  5: 0x0789 [0x1D] PRINT_EVENT_MESSAGE(message_id=12231*)
    → "He said he was going to lay it on his son's grave in Batallia Downs.\u007F1\u0000\u0007"
  6: 0x078C [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x078D [0x21] END_EVENT
  8: 0x078E [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x078F [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x07A0 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x07AF [0x1B] RETURN
     0x07B0 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x07C1 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo0" with entities [LocalPlayer, LocalPlayer], work=200*
     0x07D0 [0x1B] RETURN
     0x07D1 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x07E2 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x07F1 [0x1B] RETURN
     0x07F2 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0803 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0812 [0x1B] RETURN
     0x0813 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0824 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi1" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0833 [0x1B] RETURN
     0x0834 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0845 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who1" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0854 [0x1B] RETURN
     0x0855 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who2" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0866 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who2" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0875 [0x1B] RETURN
     0x0876 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who3" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0887 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who3" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0896 [0x1B] RETURN
     0x0897 [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[1*, 0*]
     0x08A8 [0x1C] WAIT(45* ticks)
     0x08AB [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x08BC [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x08CB [0x1B] RETURN
     0x08CC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x08DD [0x62] LOAD_EVENT_SCHEDULER: Load scheduler "main" with entities [LocalPlayer, LocalPlayer], work=[2*, 0*]
     0x08EE [0x1C] WAIT(30* ticks)
     0x08F1 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0900 [0x1B] RETURN
     0x0901 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0912 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "blon" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0923 [0x1B] RETURN
     0x0924 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "whi0" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0935 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "whi0" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0944 [0x1B] RETURN
     0x0945 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "who0" with entities [LocalPlayer, LocalPlayer], work=[201*, 0*]
     0x0956 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "who0" with entities [LocalPlayer, LocalPlayer], work=201*
     0x0965 [0x1B] RETURN
     0x0966 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "efon" with entities [LocalPlayer, LocalPlayer], work=[215*, 0*]
     0x0977 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "efon" with entities [LocalPlayer, LocalPlayer], work=215*
     0x0986 [0x1B] RETURN
     0x0987 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdis" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0998 [0x1B] RETURN
     0x0999 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdos" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x09AA [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdos" with entities [LocalPlayer, LocalPlayer], work=200*
     0x09B9 [0x1B] RETURN
     0x09BA [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdif" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x09CB [0x1B] RETURN
     0x09CC [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdof" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x09DD [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdof" with entities [LocalPlayer, LocalPlayer], work=200*
     0x09EC [0x1B] RETURN
     0x09ED [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdip" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x09FE [0x1B] RETURN
     0x09FF [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdop" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
     0x0A10 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdop" with entities [LocalPlayer, LocalPlayer], work=200*
     0x0A1F [0x1B] RETURN
```