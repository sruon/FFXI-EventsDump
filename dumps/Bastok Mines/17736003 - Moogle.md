# 17736003 - Moogle

## Common Data

| Field            | Value                  |
|------------------|------------------------|
| Zone             | Bastok Mines (ID: 234) |
| Block Size       | 396 bytes              |
| Total Events     | 5                      |
| References Count | 23                     |

## List of Events

| Event ID              | Entrypoint   |   Size |   Instructions |
|-----------------------|--------------|--------|----------------|
| [65535](#event-65535) | 0x0000       |      1 |              1 |
| [32703](#event-32703) | 0x0001       |     88 |             32 |
| [32701](#event-32701) | 0x0059       |    152 |             36 |
| [32702](#event-32702) | 0x00F1       |     16 |              8 |
| [32700](#event-32700) | 0x0101       |     11 |              5 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x0000      |           0 |
|       1 | 0x3CF2      |       15602 |
|       2 | 0x3CF3      |       15603 |
|       3 | 0x3CF4      |       15604 |
|       4 | 0x3CF5      |       15605 |
|       5 | 0x0001      |           1 |
|       6 | 0x3CF7      |       15607 |
|       7 | 0x3CF8      |       15608 |
|       8 | 0x3CF9      |       15609 |
|       9 | 0x3CFA      |       15610 |
|      10 | 0x3CFB      |       15611 |
|      11 | 0x3CFC      |       15612 |
|      12 | 0x3CF6      |       15606 |
|      13 | 0x0004      |           4 |
|      14 | 0x0002      |           2 |
|      15 | 0x3D00      |       15616 |
|      16 | 0x3CFF      |       15615 |
|      17 | 0x0003      |           3 |
|      18 | 0x3CFE      |       15614 |
|      19 | 0x3CFD      |       15613 |
|      20 | 0x3D01      |       15617 |
|      21 | 0x3D02      |       15618 |
|      22 | 0x3D03      |       15619 |

## String References

- **15602**: Kupo ho ho! Merry Starlight! As with past celebrations, we've prepared a veritable mountain of presents for everyone, kupo.
- **15603**: For this year's Starlight Celebration, we moogles have set ourselves a challenge: breaking the all-Vana'diel present-distribution record! But we couldn't possibly dream of succeeding at such an ambitious undertaking just by ourselves, kupo.
- **15604**: We could really do with some adventurer-offered assistance. Would you be interested in lending a hand in this noble endeavor, in the spirit of giving, kupo?
- **15605**: Help the moogles? [Sign me up!/I'm a little busy, sorry.]
- **15606**: We understand... But we'll be waiting right here if it turns out you can spare some time after all, kupo!
- **15607**: You've made this little moogle very happy, kupo! Now then, let's not waste any time. We'd like you to deliver these presents here.
- **15608**: The recipients are Tall Mountain, Tami, Virnage, and Christina. Four people in total, kupo.
- **15609**: Report back to us after you've completed your task, kupo.
- **15610**: Also, we don't mind you working in a group if you feel lonesome doing the deliveries on your own. Just form a party and have everyone come talk to us.
- **15611**: And I have to warn you, presents can't be taken to other areas, kupo. Be careful, okay?
- **15612**: Happy delivering, kupo!
- **15613**: We want you to deliver the presents to Tall Mountain, Tami, Virnage, and Christina. Four people in total, kupo.
- **15614**: You've yet to deliver presents to [Tall Mountain,/Tami,/Virnage,/Christina,] [Tall Mountain,/Tami,/Virnage,/Christina,] and [Tall Mountain,/Tami,/Virnage,/Christina,] kupo.
- **15615**: You've yet to deliver presents to [Tall Mountain,/Tami,/Virnage,/Christina,] and [Tall Mountain,/Tami,/Virnage,/Christina,] kupo.
- **15616**: You've yet to deliver a present to [Tall Mountain,/Tami,/Virnage,/Christina,] kupo.
- **15617**: Wow, you've delivered every single present! Thank you so much, kupo!
- **15618**: Here's a little something for your kindness.
- **15619**: You want to help us again? That's very kind of you, but we need more time to put together a new set of presents, kupo. Would you mind coming back tomorrow?

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 32703

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 88 bytes |
| Instructions | 32       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    03 01 10 00 80 1E F0  FF FF 7F 1D 01 80 23 1D   .............#.
0010: 02 80 23 1D 03 80 23 24  04 80 00 80 00 80 25 02  ..#...#$......%.
0020: 00 10 00 80 00 48 00 42  03 01 10 05 80 1D 06 80  .....H.B........
0030: 23 1D 07 80 23 1D 08 80  23 1D 09 80 23 1D 0A 80  #...#...#...#...
0040: 23 1D 0B 80 23 01 57 00  02 00 10 05 80 00 57 00  #...#.W.......W.
0050: 1D 0C 80 23 01 57 00 21  00                       ...#.W.!.       
```

#### Opcodes

```
  0: 0x0001 [0x03] Work_Zone[1] = 0*
  1: 0x0006 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x000B [0x1D] PRINT_EVENT_MESSAGE(message_id=15602*)
    → "Kupo ho ho! Merry Starlight! As with past celebrations, we've prepared a veritable mountain of presents for everyone, kupo."
  3: 0x000E [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x000F [0x1D] PRINT_EVENT_MESSAGE(message_id=15603*)
    → "For this year's Starlight Celebration, we moogles have set ourselves a challenge: breaking the all-Vana'diel present-distribution record! But we couldn't possibly dream of succeeding at such an ambitious undertaking just by ourselves, kupo."
  5: 0x0012 [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x0013 [0x1D] PRINT_EVENT_MESSAGE(message_id=15604*)
    → "We could really do with some adventurer-offered assistance. Would you be interested in lending a hand in this noble endeavor, in the spirit of giving, kupo?"
  7: 0x0016 [0x23] WAIT_FOR_DIALOG_INTERACTION
  8: 0x0017 [0x24] CREATE_DIALOG(message_id=15605*, default_option=0*, option_flags=0*)
    → "Help the moogles? [Sign me up!/I'm a little busy, sorry.]"
  9: 0x001E [0x25] WAIT_DIALOG_SELECT()
 10: 0x001F [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0048
 11: 0x0027 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 12: 0x0028 [0x03] Work_Zone[1] = 1*
 13: 0x002D [0x1D] PRINT_EVENT_MESSAGE(message_id=15607*)
    → "You've made this little moogle very happy, kupo! Now then, let's not waste any time. We'd like you to deliver these presents here."
 14: 0x0030 [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x0031 [0x1D] PRINT_EVENT_MESSAGE(message_id=15608*)
    → "The recipients are Tall Mountain, Tami, Virnage, and Christina. Four people in total, kupo."
 16: 0x0034 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x0035 [0x1D] PRINT_EVENT_MESSAGE(message_id=15609*)
    → "Report back to us after you've completed your task, kupo."
 18: 0x0038 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x0039 [0x1D] PRINT_EVENT_MESSAGE(message_id=15610*)
    → "Also, we don't mind you working in a group if you feel lonesome doing the deliveries on your own. Just form a party and have everyone come talk to us."
 20: 0x003C [0x23] WAIT_FOR_DIALOG_INTERACTION
 21: 0x003D [0x1D] PRINT_EVENT_MESSAGE(message_id=15611*)
    → "And I have to warn you, presents can't be taken to other areas, kupo. Be careful, okay?"
 22: 0x0040 [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x0041 [0x1D] PRINT_EVENT_MESSAGE(message_id=15612*)
    → "Happy delivering, kupo!"
 24: 0x0044 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x0045 [0x01] GOTO 0x0057
 26: 0x0048 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0057
 27: 0x0050 [0x1D] PRINT_EVENT_MESSAGE(message_id=15606*)
    → "We understand... But we'll be waiting right here if it turns out you can spare some time after all, kupo!"
 28: 0x0053 [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x0054 [0x01] GOTO 0x0057

SUBROUTINE_0057:
 30: 0x0057 [0x21] END_EVENT
 31: 0x0058 [0x00] END_REQSTACK()
```

### Event 32701

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x0059    |
| Data Size    | 152 bytes |
| Instructions | 36        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0050:                             1E F0 FF FF 7F 03 00           .......
0060: 00 00 80 03 01 00 00 80  02 01 00 0D 80 03 B3 00  ................
0070: 3E 02 10 01 00 7A 00 01  AD 00 02 00 00 00 80 80  >....z..........
0080: 8A 00 03 03 10 01 00 01  AA 00 02 00 00 05 80 80  ................
0090: 9A 00 03 04 10 01 00 01  AA 00 02 00 00 0E 80 80  ................
00A0: AA 00 03 05 10 01 00 01  AA 00 0B 00 00 0B 01 00  ................
00B0: 01 68 00 02 00 00 05 80  80 C2 00 1D 0F 80 23 01  .h............#.
00C0: EF 00 02 00 00 0E 80 80  D1 00 1D 10 80 23 01 EF  .............#..
00D0: 00 02 00 00 11 80 80 E0  00 1D 12 80 23 01 EF 00  ............#...
00E0: 02 00 00 0D 80 80 EF 00  1D 13 80 23 01 EF 00 21  ...........#...!
00F0: 00                                                .               
```

#### Opcodes

```
  0: 0x0059 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x005E [0x03] ExtData[1]->WorkLocal[0] = 0*
  2: 0x0063 [0x03] ExtData[1]->WorkLocal[1] = 0*
  3: 0x0068 [0x02] IF !(ExtData[1]->WorkLocal[1] >= 4*) GOTO 0x00B3
  4: 0x0070 [0x3E] IF !(Work_Zone[2] bit ExtData[1]->WorkLocal[1]) GOTO 0x007A
  5: 0x0077 [0x01] GOTO 0x00AD
  6: 0x007A [0x02] IF !(ExtData[1]->WorkLocal[0] == 0*) GOTO 0x008A
  7: 0x0082 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[1]
  8: 0x0087 [0x01] GOTO 0x00AA
  9: 0x008A [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x009A
 10: 0x0092 [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[1]
 11: 0x0097 [0x01] GOTO 0x00AA
 12: 0x009A [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x00AA
 13: 0x00A2 [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[1]
 14: 0x00A7 [0x01] GOTO 0x00AA

SUBROUTINE_00AA:
 15: 0x00AA [0x0B] ExtData[1]->WorkLocal[0]++

SUBROUTINE_00AD:
 16: 0x00AD [0x0B] ExtData[1]->WorkLocal[1]++
 17: 0x00B0 [0x01] GOTO 0x0068
 18: 0x00B3 [0x02] IF !(ExtData[1]->WorkLocal[0] == 1*) GOTO 0x00C2
 19: 0x00BB [0x1D] PRINT_EVENT_MESSAGE(message_id=15616*)
    → "You've yet to deliver a present to [Tall Mountain,/Tami,/Virnage,/Christina,] kupo."
 20: 0x00BE [0x23] WAIT_FOR_DIALOG_INTERACTION
 21: 0x00BF [0x01] GOTO 0x00EF
 22: 0x00C2 [0x02] IF !(ExtData[1]->WorkLocal[0] == 2*) GOTO 0x00D1
 23: 0x00CA [0x1D] PRINT_EVENT_MESSAGE(message_id=15615*)
    → "You've yet to deliver presents to [Tall Mountain,/Tami,/Virnage,/Christina,] and [Tall Mountain,/Tami,/Virnage,/Christina,] kupo."
 24: 0x00CD [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x00CE [0x01] GOTO 0x00EF
 26: 0x00D1 [0x02] IF !(ExtData[1]->WorkLocal[0] == 3*) GOTO 0x00E0
 27: 0x00D9 [0x1D] PRINT_EVENT_MESSAGE(message_id=15614*)
    → "You've yet to deliver presents to [Tall Mountain,/Tami,/Virnage,/Christina,] [Tall Mountain,/Tami,/Virnage,/Christina,] and [Tall Mountain,/Tami,/Virnage,/Christina,] kupo."
 28: 0x00DC [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x00DD [0x01] GOTO 0x00EF
 30: 0x00E0 [0x02] IF !(ExtData[1]->WorkLocal[0] == 4*) GOTO 0x00EF
 31: 0x00E8 [0x1D] PRINT_EVENT_MESSAGE(message_id=15613*)
    → "We want you to deliver the presents to Tall Mountain, Tami, Virnage, and Christina. Four people in total, kupo."
 32: 0x00EB [0x23] WAIT_FOR_DIALOG_INTERACTION
 33: 0x00EC [0x01] GOTO 0x00EF

SUBROUTINE_00EF:
 34: 0x00EF [0x21] END_EVENT
 35: 0x00F0 [0x00] END_REQSTACK()
```

### Event 32702

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00F1   |
| Data Size    | 16 bytes |
| Instructions | 8        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00F0:    42 1E F0 FF FF 7F 1D  14 80 23 1D 15 80 23 21   B........#...#!
0100: 00                                                .               
```

#### Opcodes

```
  0: 0x00F1 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x00F2 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x00F7 [0x1D] PRINT_EVENT_MESSAGE(message_id=15617*)
    → "Wow, you've delivered every single present! Thank you so much, kupo!"
  3: 0x00FA [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x00FB [0x1D] PRINT_EVENT_MESSAGE(message_id=15618*)
    → "Here's a little something for your kindness."
  5: 0x00FE [0x23] WAIT_FOR_DIALOG_INTERACTION
  6: 0x00FF [0x21] END_EVENT
  7: 0x0100 [0x00] END_REQSTACK()
```

### Event 32700

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0101   |
| Data Size    | 11 bytes |
| Instructions | 5        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0100:    1E F0 FF FF 7F 1D 16  80 23 21 00               ........#!.    
```

#### Opcodes

```
  0: 0x0101 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0106 [0x1D] PRINT_EVENT_MESSAGE(message_id=15619*)
    → "You want to help us again? That's very kind of you, but we need more time to put together a new set of presents, kupo. Would you mind coming back tomorrow?"
  2: 0x0109 [0x23] WAIT_FOR_DIALOG_INTERACTION
  3: 0x010A [0x21] END_EVENT
  4: 0x010B [0x00] END_REQSTACK()
```
