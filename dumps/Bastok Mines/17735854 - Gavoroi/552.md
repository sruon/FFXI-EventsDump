# Event 552

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 2/3       |
| Offset          | 0x0001    |
| Data Size       | 144 bytes |
| Calculated Size | 144 bytes |
| Instructions    | 36        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 1E F0 FF FF 7F 03  07 00 03 10 03 29 00 00   B...........)..
0010: 80 03 2B 00 00 80 02 04  10 00 80 01 26 00 03 22  ..+.........&.."
0020: 00 01 80 01 2B 00 03 22  00 00 80 03 39 00 05 10  ....+.."....9...
0030: 03 21 00 06 10 03 20 00  07 10 1D 02 80 23 02 02  .!.... ......#..
0040: 10 01 80 00 4D 00 1D 03  80 23 01 52 00 1D 04 80  ....M....#.R....
0050: 23 21 24 05 80 00 80 00  80 25 02 00 10 00 80 00  #!$......%......
0060: 68 00 1A B6 03 01 90 00  02 00 10 01 80 00 76 00  h.............v.
0070: 1A F3 0C 01 90 00 02 00  10 06 80 00 84 00 1A CC  ................
0080: 12 01 90 00 02 00 10 07  80 00 90 00 21 01 90 00  ............!...
0090: 00                                                .               
```

## Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0007 [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[3]
  3: 0x000C [0x03] ExtData[1]->WorkLocal[41] = 0*
  4: 0x0011 [0x03] ExtData[1]->WorkLocal[43] = 0*
  5: 0x0016 [0x02] IF !(Work_Zone[4] == 0*) GOTO 0x0026
  6: 0x001E [0x03] ExtData[1]->WorkLocal[34] = 1*
  7: 0x0023 [0x01] GOTO 0x002B

SUBROUTINE_0026:
  8: 0x0026 [0x03] ExtData[1]->WorkLocal[34] = 0*
  9: 0x002B [0x03] ExtData[1]->WorkLocal[57] = Work_Zone[5]
 10: 0x0030 [0x03] ExtData[1]->WorkLocal[33] = Work_Zone[6]
 11: 0x0035 [0x03] ExtData[1]->WorkLocal[32] = Work_Zone[7]
 12: 0x003A [0x1D] PRINT_EVENT_MESSAGE(message_id=14308*)
    → "Good day, \u007F\u0005[sir/ma'am], and welcome to the Bastokan branch of the VCS Chocobuck Exchange Depot.\u007F1\u0000\u0007"
 13: 0x003D [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x003E [0x02] IF !(Work_Zone[2] == 1*) GOTO 0x004D
 15: 0x0046 [0x1D] PRINT_EVENT_MESSAGE(message_id=14310*)
    → "Here you can use chocobucks to purchase items or enroll your chocobo in our top-secret intensive training program to improve its attributes.\u007F1\u0000\u0007"
 16: 0x0049 [0x23] WAIT_FOR_DIALOG_INTERACTION
 17: 0x004A [0x01] GOTO 0x0052

SUBROUTINE_004D:
 18: 0x004D [0x1D] PRINT_EVENT_MESSAGE(message_id=14312*)
    → "Oh wait...\u0007I'm sorry, but we only offer our services to members of this nation's CRA branch. If you wish to browse our wares, you must first sign up with the local CRA official.\u007F1\u0000\u0007"
 19: 0x0050 [0x23] WAIT_FOR_DIALOG_INTERACTION
 20: 0x0051 [0x21] END_EVENT

SUBROUTINE_0052:
 21: 0x0052 [0x24] CREATE_DIALOG(message_id=14318*, default_option=0*, option_flags=0*)
    → "What would you like to do?\u0007\u000BPurchase items.\u0007Raise attributes.\u0007Dye feathers.\u0007Nothing.\u007F1\u0000\u0007"
 22: 0x0059 [0x25] WAIT_DIALOG_SELECT()
 23: 0x005A [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0068
 24: 0x0062 [0x1A] CALL_SUBROUTINE(address=0x03B6)
 25: 0x0065 [0x01] GOTO 0x0090

SUBROUTINE_0068:
 26: 0x0068 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0076
 27: 0x0070 [0x1A] CALL_SUBROUTINE(address=0x0CF3)
 28: 0x0073 [0x01] GOTO 0x0090

SUBROUTINE_0076:
 29: 0x0076 [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x0084
 30: 0x007E [0x1A] CALL_SUBROUTINE(address=0x12CC)
 31: 0x0081 [0x01] GOTO 0x0090

SUBROUTINE_0084:
 32: 0x0084 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0090
 33: 0x008C [0x21] END_EVENT

SUBROUTINE_0090:
 34: 0x0090 [0x00] END_REQSTACK()
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x008D [0x01] GOTO 0x0090
```