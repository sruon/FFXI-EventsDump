# 17735692 - Drangord

## Common Data

| Field            | Value                  |
|------------------|------------------------|
| Zone             | Bastok Mines (ID: 234) |
| Block Size       | 508 bytes              |
| Total Events     | 10                     |
| References Count | 45                     |

## List of Events

| Event ID                 | Entrypoint   |   Size |   Instructions |
|--------------------------|--------------|--------|----------------|
| [65535](#event-65535)    | 0x0000       |      1 |              1 |
| [1](#event-1)            | 0x0001       |     10 |              2 |
| [65535.1](#event-655351) | 0x000B       |     57 |             13 |
| [21](#event-21)          | 0x0044       |     17 |              7 |
| [97](#event-97)          | 0x0055       |     26 |             10 |
| [176](#event-176)        | 0x006F       |    118 |             34 |
| [673](#event-673)        | 0x00E5       |      1 |              1 |
| [65535.2](#event-655352) | 0x00E6       |     15 |              5 |
| [65535.3](#event-655353) | 0x00F5       |     26 |              8 |
| [674](#event-674)        | 0x010F       |      1 |              1 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0xFFFD684F  |  4294797391 |
|       1 | 0xFFFFA591  |  4294944145 |
|       2 | 0xFFFFEC51  |  4294962257 |
|       3 | 0x0A2B      |        2603 |
|       4 | 0x000D      |          13 |
|       5 | 0x00B4      |         180 |
|       6 | 0xFFFD667F  |  4294796927 |
|       7 | 0xFFFFB626  |  4294948390 |
|       8 | 0xFFFFE5CE  |  4294960590 |
|       9 | 0xFFFD6307  |  4294796039 |
|      10 | 0xFFFFC1C7  |  4294951367 |
|      11 | 0xFFFFE317  |  4294959895 |
|      12 | 0xFFFD2832  |  4294780978 |
|      13 | 0xFFFFBDFE  |  4294950398 |
|      14 | 0xFFFFDE15  |  4294958613 |
|      15 | 0xFFFD20B5  |  4294779061 |
|      16 | 0xFFFFAE7E  |  4294946430 |
|      17 | 0xFFFFDE58  |  4294958680 |
|      18 | 0xFFFD070A  |  4294772490 |
|      19 | 0xFFFFA775  |  4294944629 |
|      20 | 0xFFFFDEC1  |  4294958785 |
|      21 | 0x0008      |           8 |
|      22 | 0x2930      |       10544 |
|      23 | 0x01F7      |         503 |
|      24 | 0x2931      |       10545 |
|      25 | 0x2932      |       10546 |
|      26 | 0xFFFD8C15  |  4294806549 |
|      27 | 0xFFFF6B43  |  4294929219 |
|      28 | 0x0000      |           0 |
|      29 | 0x0AF5      |        2805 |
|      30 | 0x0001      |           1 |
|      31 | 0x370B      |       14091 |
|      32 | 0x0002      |           2 |
|      33 | 0x3765      |       14181 |
|      34 | 0x3766      |       14182 |
|      35 | 0x3767      |       14183 |
|      36 | 0x377D      |       14205 |
|      37 | 0xFFFD84AD  |  4294804653 |
|      38 | 0xFFFFFDE6  |  4294966758 |
|      39 | 0xFFFFF25C  |  4294963804 |
|      40 | 0xFFFDAE6F  |  4294815343 |
|      41 | 0xFFFFFB80  |  4294966144 |
|      42 | 0xFFFD8C43  |  4294806595 |
|      43 | 0x0667      |        1639 |
|      44 | 0xFFFFF810  |  4294965264 |

## String References

- **10544**: Bastok's foundations were built with the ore taken from this mine. It took the Galka a lot of sweat and toil to dig this mine. We made Bastok what it is today.
- **10545**: $7? Yeah, used to have some of that, a long time ago. Don't have any anymore, though.
- **10546**: You should be able to find some near the coast of the Valkurm Dunes...but only during dust storms.
- **14091**: Ask if this person is the chick's owner? [Yes./No.]
- **14181**: What? You say you've got my chocobo!?
- **14182**: That's great news! The only time I ever really feel relaxed is when I'm with that little guy.
- **14183**: You're raising a chocobo yourself, aren't you? Let me teach you a story I always tell mine...
- **14205**: Stop joking around. I've got work to do. My chocobo's at home waiting for me to finish.

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 1

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 10 bytes |
| Instructions | 2        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    37 00 80 01 80 02 80  03 80 00                  7.........     
```

#### Opcodes

```
  0: 0x0001 [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-169.905*, z=-23.151*, y=-5.039*, direction=228.8°*
  1: 0x000A [0x00] END_REQSTACK()
```

### Event 65535.1

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x000B   |
| Data Size    | 57 bytes |
| Instructions | 13       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:                                   32 04 80 1C 05             2....
0010: 80 1F 00 06 80 07 80 08  80 1F 01 1F 00 09 80 0A  ................
0020: 80 0B 80 1F 01 1F 00 0C  80 0D 80 0E 80 1F 01 1F  ................
0030: 00 0F 80 10 80 11 80 1F  01 1F 00 12 80 13 80 14  ................
0040: 80 1F 01 00                                       ....            
```

#### Opcodes

```
  0: 0x000B [0x32] ExtData[1]->MainSpeed = 13* * 0.1
  1: 0x000E [0x1C] WAIT(180* ticks)
  2: 0x0011 [0x1F] MOVE_ENTITY: EventEntity moves to X=-170.369*, Z=-18.906*, Y=-6.706*
  3: 0x0019 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  4: 0x001B [0x1F] MOVE_ENTITY: EventEntity moves to X=-171.257*, Z=-15.929*, Y=-7.401*
  5: 0x0023 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  6: 0x0025 [0x1F] MOVE_ENTITY: EventEntity moves to X=-186.318*, Z=-16.898*, Y=-8.683*
  7: 0x002D [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  8: 0x002F [0x1F] MOVE_ENTITY: EventEntity moves to X=-188.235*, Z=-20.866*, Y=-8.616*
  9: 0x0037 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
 10: 0x0039 [0x1F] MOVE_ENTITY: EventEntity moves to X=-194.806*, Z=-22.667*, Y=-8.511*
 11: 0x0041 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
 12: 0x0043 [0x00] END_REQSTACK()
```

### Event 21

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0044   |
| Data Size    | 17 bytes |
| Instructions | 7        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0040:             38 15 80 1E  F0 FF FF 7F 1D 16 80 23      8..........#
0050: 1A 7E 00 21 00                                    .~.!.           
```

#### Opcodes

```
  0: 0x0044 [0x38] SET_CLIENT_EVENT_MODE(mode=8*)
  1: 0x0047 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x004C [0x1D] PRINT_EVENT_MESSAGE(message_id=10544*)
    → "Bastok's foundations were built with the ore taken from this mine. It took the Galka a lot of sweat and toil to dig this mine. We made Bastok what it is today."
  3: 0x004F [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x0050 [0x1A] CALL_SUBROUTINE(address=0x007E)
  5: 0x0053 [0x21] END_EVENT
  6: 0x0054 [0x00] END_REQSTACK()
```

### Event 97

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0055   |
| Data Size    | 26 bytes |
| Instructions | 10       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0050:                38 15 80  03 09 10 17 80 1E F0 FF       8..........
0060: FF 7F 1D 18 80 23 1D 19  80 23 1A 7E 00 21 00     .....#...#.~.!. 
```

#### Opcodes

```
  0: 0x0055 [0x38] SET_CLIENT_EVENT_MODE(mode=8*)
  1: 0x0058 [0x03] Work_Zone[9] = 503*
  2: 0x005D [0x1E] EventEntity looks at LocalPlayer and starts talking
  3: 0x0062 [0x1D] PRINT_EVENT_MESSAGE(message_id=10545*)
    → "$7? Yeah, used to have some of that, a long time ago. Don't have any anymore, though."
  4: 0x0065 [0x23] WAIT_FOR_DIALOG_INTERACTION
  5: 0x0066 [0x1D] PRINT_EVENT_MESSAGE(message_id=10546*)
    → "You should be able to find some near the coast of the Valkurm Dunes...but only during dust storms."
  6: 0x0069 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x006A [0x1A] CALL_SUBROUTINE(address=0x007E)
  8: 0x006D [0x21] END_EVENT
  9: 0x006E [0x00] END_REQSTACK()
```

### Event 176

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x006F    |
| Data Size    | 118 bytes |
| Instructions | 3         |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0060:                                               37                 7
0070: 1A 80 1B 80 1C 80 1D 80  1E 12 A0 0E 01 00 03 01  ................
0080: 10 1E 80 43 00 43 01 02  03 10 1C 80 00 97 00 03  ...C.C..........
0090: 01 10 1C 80 01 E3 00 42  24 1F 80 1E 80 1C 80 25  .......B$......%
00A0: 02 00 10 1C 80 00 D3 00  03 01 10 20 80 43 00 43  ........... .C.C
00B0: 01 02 03 10 1E 80 00 C8  00 1D 21 80 23 1D 22 80  ..........!.#.".
00C0: 23 1D 23 80 23 01 D0 00  1D 21 80 23 1D 24 80 23  #.#.#....!.#.$.#
00D0: 01 E3 00 02 00 10 1E 80  00 E3 00 03 01 10 1C 80  ................
00E0: 01 E3 00 21 00                                    ...!.           
```

#### Opcodes

```
  0: 0x006F [0x37] UPDATE_EVENT_POSITION_AND_DIR: x=-160.747*, z=-38.077*, y=0.000*, direction=246.5°*
  1: 0x0078 [0x1E] EventEntity looks at Amar (ID: 17735698/0x010EA012) and starts talking
  2: 0x007D [0x00] END_REQSTACK()
```

#### Data or dead code:

```
# Dead code (unreachable instructions):
     0x007E [0x03] Work_Zone[1] = 1*
     0x0083 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
     0x0085 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
     0x0087 [0x02] IF !(Work_Zone[3] == 0*) GOTO 0x0097
     0x008F [0x03] Work_Zone[1] = 0*
     0x0094 [0x01] GOTO 0x00E3
     0x0097 [0x42] SET_CLI_EVENT_CANCEL_DATA()
     0x0098 [0x24] CREATE_DIALOG(message_id=14091*, default_option=1*, option_flags=0*)
    → "Ask if this person is the chick's owner? [Yes./No.]"
     0x009F [0x25] WAIT_DIALOG_SELECT()
     0x00A0 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x00D3
     0x00A8 [0x03] Work_Zone[1] = 2*
     0x00AD [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
     0x00AF [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
     0x00B1 [0x02] IF !(Work_Zone[3] == 1*) GOTO 0x00C8
     0x00B9 [0x1D] PRINT_EVENT_MESSAGE(message_id=14181*)
    → "What? You say you've got my chocobo!?"
     0x00BC [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x00BD [0x1D] PRINT_EVENT_MESSAGE(message_id=14182*)
    → "That's great news! The only time I ever really feel relaxed is when I'm with that little guy."
     0x00C0 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x00C1 [0x1D] PRINT_EVENT_MESSAGE(message_id=14183*)
    → "You're raising a chocobo yourself, aren't you? Let me teach you a story I always tell mine..."
     0x00C4 [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x00C5 [0x01] GOTO 0x00D0
     0x00C8 [0x1D] PRINT_EVENT_MESSAGE(message_id=14181*)
    → "What? You say you've got my chocobo!?"
     0x00CB [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x00CC [0x1D] PRINT_EVENT_MESSAGE(message_id=14205*)
    → "Stop joking around. I've got work to do. My chocobo's at home waiting for me to finish."
     0x00CF [0x23] WAIT_FOR_DIALOG_INTERACTION
     0x00D0 [0x01] GOTO 0x00E3
     0x00D3 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00E3
     0x00DB [0x03] Work_Zone[1] = 0*
     0x00E0 [0x01] GOTO 0x00E3
     0x00E3 [0x21] END_EVENT
     0x00E4 [0x00] END_REQSTACK()
```

### Event 673

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x00E5  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00E0:                00                                      .          
```

#### Opcodes

```
  0: 0x00E5 [0x00] END_REQSTACK()
```

### Event 65535.2

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00E6   |
| Data Size    | 15 bytes |
| Instructions | 5        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00E0:                   32 04  80 1F 00 25 80 26 80 27        2....%.&.'
00F0: 80 1F 01 6F 00                                    ...o.           
```

#### Opcodes

```
  0: 0x00E6 [0x32] ExtData[1]->MainSpeed = 13* * 0.1
  1: 0x00E9 [0x1F] MOVE_ENTITY: EventEntity moves to X=-162.643*, Z=-0.538*, Y=-3.492*
  2: 0x00F1 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  3: 0x00F3 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x00F4 [0x00] END_REQSTACK()
```

### Event 65535.3

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x00F5   |
| Data Size    | 26 bytes |
| Instructions | 8        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
00F0:                32 04 80  1F 00 28 80 29 80 1C 80       2....(.)...
0100: 1F 01 6F 1F 00 2A 80 2B  80 2C 80 1F 01 6F 00     ..o..*.+.,...o. 
```

#### Opcodes

```
  0: 0x00F5 [0x32] ExtData[1]->MainSpeed = 13* * 0.1
  1: 0x00F8 [0x1F] MOVE_ENTITY: EventEntity moves to X=-151.953*, Z=-1.152*, Y=0.000*
  2: 0x0100 [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  3: 0x0102 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  4: 0x0103 [0x1F] MOVE_ENTITY: EventEntity moves to X=-160.701*, Z=1.639*, Y=-2.032*
  5: 0x010B [0x1F] MOVE_ENTITY: Update entity position (mode=1)
  6: 0x010D [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  7: 0x010E [0x00] END_REQSTACK()
```

### Event 674

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x010F  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0100:                                               00                 .
```

#### Opcodes

```
  0: 0x010F [0x00] END_REQSTACK()
```
