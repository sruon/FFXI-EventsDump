# 17735949 - Babban Ny Mheillea

## Common Data

| Field            | Value                  |
|------------------|------------------------|
| Zone             | Bastok Mines (ID: 234) |
| Block Size       | 2456 bytes             |
| Total Events     | 4                      |
| References Count | 111                    |

## List of Events

| Event ID              | Entrypoint   |   Size |   Instructions |
|-----------------------|--------------|--------|----------------|
| [65535](#event-65535) | 0x0000       |      1 |              1 |
| [604](#event-604)     | 0x0001       |     45 |             12 |
| [605](#event-605)     | 0x002E       |    274 |             75 |
| [606](#event-606)     | 0x0140       |   1659 |            362 |

## DAT References (imed_data)

|   Index | Hex Value   |   Dec Value |
|---------|-------------|-------------|
|       0 | 0x0871      |        2161 |
|       1 | 0x0000      |           0 |
|       2 | 0x3F05      |       16133 |
|       3 | 0x3F07      |       16135 |
|       4 | 0x0050      |          80 |
|       5 | 0x3F09      |       16137 |
|       6 | 0x3F0A      |       16138 |
|       7 | 0x3F0B      |       16139 |
|       8 | 0x3F0C      |       16140 |
|       9 | 0x3F0D      |       16141 |
|      10 | 0x3F0E      |       16142 |
|      11 | 0x3F0F      |       16143 |
|      12 | 0x3F10      |       16144 |
|      13 | 0x0001      |           1 |
|      14 | 0x3F12      |       16146 |
|      15 | 0x3F13      |       16147 |
|      16 | 0x3F14      |       16148 |
|      17 | 0x3F15      |       16149 |
|      18 | 0x3F16      |       16150 |
|      19 | 0x3F17      |       16151 |
|      20 | 0x3F18      |       16152 |
|      21 | 0x3F19      |       16153 |
|      22 | 0x3F1A      |       16154 |
|      23 | 0x3F1B      |       16155 |
|      24 | 0x3F1C      |       16156 |
|      25 | 0x0064      |         100 |
|      26 | 0x3F1E      |       16158 |
|      27 | 0x3F1D      |       16157 |
|      28 | 0x000A      |          10 |
|      29 | 0x3F11      |       16145 |
|      30 | 0x000B      |          11 |
|      31 | 0x3F1F      |       16159 |
|      32 | 0x0062      |          98 |
|      33 | 0x009F      |         159 |
|      34 | 0x007D      |         125 |
|      35 | 0x3F20      |       16160 |
|      36 | 0x3F21      |       16161 |
|      37 | 0x3F22      |       16162 |
|      38 | 0x0002      |           2 |
|      39 | 0x3F23      |       16163 |
|      40 | 0x3F24      |       16164 |
|      41 | 0x0038      |          56 |
|      42 | 0x3F27      |       16167 |
|      43 | 0x3F26      |       16166 |
|      44 | 0x3F25      |       16165 |
|      45 | 0x000C      |          12 |
|      46 | 0x0003      |           3 |
|      47 | 0x0004      |           4 |
|      48 | 0x3F36      |       16182 |
|      49 | 0x0005      |           5 |
|      50 | 0x0015      |          21 |
|      51 | 0x0006      |           6 |
|      52 | 0x3F35      |       16181 |
|      53 | 0x0017      |          23 |
|      54 | 0x0007      |           7 |
|      55 | 0x3F37      |       16183 |
|      56 | 0x0008      |           8 |
|      57 | 0x0016      |          22 |
|      58 | 0x00C8      |         200 |
|      59 | 0xFFFE7960  |  4294867296 |
|      60 | 0x11170     |       70000 |
|      61 | 0x2AF8      |       11000 |
|      62 | 0x0400      |        1024 |
|      63 | 0x15CAC     |       89260 |
|      64 | 0xFFFFFA24  |  4294965796 |
|      65 | 0x1B58      |        7000 |
|      66 | 0x0800      |        2048 |
|      67 | 0x18E70     |      102000 |
|      68 | 0xFFFEE6C0  |  4294895296 |
|      69 | 0x01EE      |         494 |
|      70 | 0x3F28      |       16168 |
|      71 | 0x3F29      |       16169 |
|      72 | 0x6852      |       26706 |
|      73 | 0x6CCF      |       27855 |
|      74 | 0x279F      |       10143 |
|      75 | 0x5623      |       22051 |
|      76 | 0x1A27      |        6695 |
|      77 | 0x09D5      |        2517 |
|      78 | 0x01F4      |         500 |
|      79 | 0x012C      |         300 |
|      80 | 0x05DC      |        1500 |
|      81 | 0x07C0      |        1984 |
|      82 | 0x07E0      |        2016 |
|      83 | 0x3F2A      |       16170 |
|      84 | 0x000E      |          14 |
|      85 | 0x000F      |          15 |
|      86 | 0x0010      |          16 |
|      87 | 0x0018      |          24 |
|      88 | 0x0019      |          25 |
|      89 | 0x001A      |          26 |
|      90 | 0x3F2B      |       16171 |
|      91 | 0x3F2C      |       16172 |
|      92 | 0x3F2D      |       16173 |
|      93 | 0x0032      |          50 |
|      94 | 0x3F2E      |       16174 |
|      95 | 0x0033      |          51 |
|      96 | 0x0034      |          52 |
|      97 | 0x3F2F      |       16175 |
|      98 | 0x3F30      |       16176 |
|      99 | 0x0035      |          53 |
|     100 | 0x0036      |          54 |
|     101 | 0x0037      |          55 |
|     102 | 0x3F31      |       16177 |
|     103 | 0x0011      |          17 |
|     104 | 0x0051      |          81 |
|     105 | 0x3F32      |       16178 |
|     106 | 0x3F33      |       16179 |
|     107 | 0x3F34      |       16180 |
|     108 | 0x0012      |          18 |
|     109 | 0x0013      |          19 |
|     110 | 0x0014      |          20 |

## String References

- **16133**: The mandragora flutters about in consternation.
- **16135**: Babban Ny Mheillea looks fondly in your direction.
- **16137**: Nice to meet you, my [kinda/really] tall friend! I'm Babban Ny Mheillea!
- **16138**: Oh, <Player>! I'm so glad to see you!
- **16139**: You must be really special to be able to change forms like that! But I could tell who you were right away!
- **16140**: My friends and I are playing a fun game called "sunshine seeker," where we search for shards of sunlight!
- **16141**: Just give them a little squeeze and you'll see how warm and bright they are!
- **16142**: But my friends're so much better than I am...
- **16143**: Maybe you could lend me a hand! Yours're much bigger than mine!
- **16144**: Lend Babban a hand? [I'll lend you two!/I'm a bit busy right now.]
- **16145**: Aww... Hopefully you'll change your mind. I'll be waiting here!
- **16146**: Hooray! Maybe I'll finally be able to win!
- **16147**: I'll give you some small seeds in exchange for the shards of sunlight you bring back.
- **16148**: Even better! I've got some special things available for you to buy with your seeds!
- **16149**: But here's the best part--If you try your luck with my grab bag enough times, you might win something really super!
- **16150**: One of the rules of the game is that you must be a mandragora, like me, or else you won't be able to collect any shards.
- **16151**: They can be found all around here. But if you don't hurry, someone else might gobble them up.
- **16152**: But once you've taken them from one place, you can't get any more from there by searching it repeatedly!
- **16153**: Shards of sunlight are really delicate, so they'll disappear if you leave this area or take too much time getting them back to me.
- **16154**: My friends'll also try to get in your way, so be sure not to get noticed!
- **16155**: I can fly you right to the starting point. Just say the word!
- **16156**: Ready for mischief? [The sun will bow before me!/The light...it burns us!]
- **16157**: Nononono, sunlight is your friend! Come back once you've decided to help me hunt!
- **16158**: Good luck! Collect as many as you can and bring them back to me!
- **16159**: Why, hello!
- **16160**: Inquire about what? [I want to play the game./I'm ready to turn in my shards./I want to exchange small seeds./Let me try the grab bag./How many seeds do I have?/I'd like the items you're holding for me./Dispose of what you're holding for me./Tell me how the game works./No questions for now.]
- **16161**: You look like you'll be able to try for even harder things in this game!
- **16162**: My friends'll try to get in your way even more. Are you sure you're ready?
- **16163**: Wow! I'll bet you're ready for the championship round!
- **16164**: My friends'll surely never let you get away now! Sure you want to try anyway?
- **16165**: Oh no...you mean you didn't find even one single shard? That's terrible...
- **16166**: I'll be waiting for you to play our game again!
- **16167**: You did such a lovely job! You brought me $0 shard[/s] of sunlight, so I'll give you $1 small seed[/s]!
- **16168**: I can give you so many pretty gifts in exchange for your small seeds!
- **16169**: Which would you like?
- **16172**: I've prepared a little grab bag you can enjoy for some small seeds.
- **16173**: Which would you like to try?
- **16174**: Pick your poison. ($30 seed[/s]) [The $0-seed grab bag./The $1-seed grab bag./The $2-seed grab bag./No poison, thanks.]
- **16175**: That grab bag contains prizes like $0, $1, and $2.
- **16176**: Press your luck? [C'mon, no whammies.../Not right now.]
- **16177**: You won $0! Congratulations!
- **16178**: ...But your bags are full! What do you want me to do with it?
- **16179**: What will you do with the $0? [Have Babban hold it./I don't want it.]
- **16180**: I'll make sure to keep it really safe! Come back when you've made room!
- **16181**: Then...you won't mind if I have it!
- **16182**: You have a total of $0 small seed[/s].
- **16183**: The goal of sunshine seeker is to collect shards of sunlight!

## Events

### Event 65535

#### Metadata

| Field        | Value   |
|--------------|---------|
| Entrypoint   | 0x0000  |
| Data Size    | 1 bytes |
| Instructions | 1       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000: 00                                                .               
```

#### Opcodes

```
  0: 0x0000 [0x00] END_REQSTACK()
```

### Event 604

#### Metadata

| Field        | Value    |
|--------------|----------|
| Entrypoint   | 0x0001   |
| Data Size    | 45 bytes |
| Instructions | 12       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0000:    42 1E F0 FF FF 7F 6F  70 66 00 80 F8 FF FF 7F   B.....opf......
0010: F8 FF FF 7F 74 6C 6B 30  02 03 10 01 80 00 26 00  ....tlk0......&.
0020: 48 02 80 01 29 00 48 03  80 1C 04 80 21 00        H...).H.....!.  
```

#### Opcodes

```
  0: 0x0001 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0002 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0007 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x0008 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x0009 [0x66] LOAD_EXT_SCHEDULER_MAIN: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
  5: 0x0018 [0x02] IF !(Work_Zone[3] == 0*) GOTO 0x0026
  6: 0x0020 [0x48] [System] [16133*]:
    → "The mandragora flutters about in consternation."
  7: 0x0023 [0x01] GOTO 0x0029
  8: 0x0026 [0x48] [System] [16135*]:
    → "Babban Ny Mheillea looks fondly in your direction."

SUBROUTINE_0029:
  9: 0x0029 [0x1C] WAIT(80* ticks)
 10: 0x002C [0x21] END_EVENT
 11: 0x002D [0x00] END_REQSTACK()
```

### Event 605

#### Metadata

| Field        | Value     |
|--------------|-----------|
| Entrypoint   | 0x002E    |
| Data Size    | 274 bytes |
| Instructions | 69        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0020:                                            42 1E                B.
0030: F0 FF FF 7F 6F 70 03 01  00 02 10 03 05 00 04 10  ....op..........
0040: 03 00 00 05 10 03 02 00  06 10 03 03 00 07 10 03  ................
0050: 04 00 08 10 5B 00 80 F8  FF FF 7F F8 FF FF 7F 77  ....[..........w
0060: 68 74 31 02 03 10 01 80  00 77 00 03 02 10 00 00  ht1......w......
0070: 1D 05 80 23 01 7F 00 1D  06 80 23 1D 07 80 23 5B  ...#......#...#[
0080: 00 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D 08  ..........tlk0..
0090: 80 23 1D 09 80 23 1D 0A  80 23 1D 0B 80 23 24 0C  .#...#...#...#$.
00A0: 80 0D 80 01 80 25 02 00  10 01 80 00 2A 01 5B 00  .....%......*.[.
00B0: 80 F8 FF FF 7F F8 FF FF  7F 62 69 6B 30 1D 0E 80  .........bik0...
00C0: 23 5B 00 80 F8 FF FF 7F  F8 FF FF 7F 74 6C 6B 30  #[..........tlk0
00D0: 1D 0F 80 23 1D 10 80 23  1D 11 80 23 1D 12 80 23  ...#...#...#...#
00E0: 1D 13 80 23 1D 14 80 23  1D 15 80 23 1D 16 80 23  ...#...#...#...#
00F0: 1D 17 80 23 24 18 80 0D  80 01 80 25 02 00 10 01  ...#$......%....
0100: 80 00 13 01 03 01 10 19  80 1D 1A 80 23 01 A1 03  ............#...
0110: 01 27 01 02 00 10 0D 80  00 27 01 1D 1B 80 23 03  .'.......'....#.
0120: 01 10 1C 80 01 27 01 01  3E 01 02 00 10 0D 80 00  .....'..>.......
0130: 3E 01 1D 1D 80 23 03 01  10 1E 80 01 3E 01 21 00  >....#......>.!.
```

#### Opcodes

```
  0: 0x002E [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x002F [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0034 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  3: 0x0035 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  4: 0x0036 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
  5: 0x003B [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[4]
  6: 0x0040 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[5]
  7: 0x0045 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[6]
  8: 0x004A [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[7]
  9: 0x004F [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[8]
 10: 0x0054 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "wht1" with entities [EventEntity, EventEntity], work=2161*
 11: 0x0063 [0x02] IF !(Work_Zone[3] == 0*) GOTO 0x0077
 12: 0x006B [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[0]
 13: 0x0070 [0x1D] PRINT_EVENT_MESSAGE(message_id=16137*)
    → "Nice to meet you, my [kinda/really] tall friend! I'm Babban Ny Mheillea!"
 14: 0x0073 [0x23] WAIT_FOR_DIALOG_INTERACTION
 15: 0x0074 [0x01] GOTO 0x007F
 16: 0x0077 [0x1D] PRINT_EVENT_MESSAGE(message_id=16138*)
    → "Oh, <Player>! I'm so glad to see you!"
 17: 0x007A [0x23] WAIT_FOR_DIALOG_INTERACTION
 18: 0x007B [0x1D] PRINT_EVENT_MESSAGE(message_id=16139*)
    → "You must be really special to be able to change forms like that! But I could tell who you were right away!"
 19: 0x007E [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_007F:
 20: 0x007F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
 21: 0x008E [0x1D] PRINT_EVENT_MESSAGE(message_id=16140*)
    → "My friends and I are playing a fun game called "sunshine seeker," where we search for shards of sunlight!"
 22: 0x0091 [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x0092 [0x1D] PRINT_EVENT_MESSAGE(message_id=16141*)
    → "Just give them a little squeeze and you'll see how warm and bright they are!"
 24: 0x0095 [0x23] WAIT_FOR_DIALOG_INTERACTION
 25: 0x0096 [0x1D] PRINT_EVENT_MESSAGE(message_id=16142*)
    → "But my friends're so much better than I am..."
 26: 0x0099 [0x23] WAIT_FOR_DIALOG_INTERACTION
 27: 0x009A [0x1D] PRINT_EVENT_MESSAGE(message_id=16143*)
    → "Maybe you could lend me a hand! Yours're much bigger than mine!"
 28: 0x009D [0x23] WAIT_FOR_DIALOG_INTERACTION
 29: 0x009E [0x24] CREATE_DIALOG(message_id=16144*, default_option=1*, option_flags=0*)
    → "Lend Babban a hand? [I'll lend you two!/I'm a bit busy right now.]"
 30: 0x00A5 [0x25] WAIT_DIALOG_SELECT()
 31: 0x00A6 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x012A
 32: 0x00AE [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "bik0" with entities [EventEntity, EventEntity], work=2161*
 33: 0x00BD [0x1D] PRINT_EVENT_MESSAGE(message_id=16146*)
    → "Hooray! Maybe I'll finally be able to win!"
 34: 0x00C0 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x00C1 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
 36: 0x00D0 [0x1D] PRINT_EVENT_MESSAGE(message_id=16147*)
    → "I'll give you some small seeds in exchange for the shards of sunlight you bring back."
 37: 0x00D3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 38: 0x00D4 [0x1D] PRINT_EVENT_MESSAGE(message_id=16148*)
    → "Even better! I've got some special things available for you to buy with your seeds!"
 39: 0x00D7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 40: 0x00D8 [0x1D] PRINT_EVENT_MESSAGE(message_id=16149*)
    → "But here's the best part--If you try your luck with my grab bag enough times, you might win something really super!"
 41: 0x00DB [0x23] WAIT_FOR_DIALOG_INTERACTION
 42: 0x00DC [0x1D] PRINT_EVENT_MESSAGE(message_id=16150*)
    → "One of the rules of the game is that you must be a mandragora, like me, or else you won't be able to collect any shards."
 43: 0x00DF [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x00E0 [0x1D] PRINT_EVENT_MESSAGE(message_id=16151*)
    → "They can be found all around here. But if you don't hurry, someone else might gobble them up."
 45: 0x00E3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 46: 0x00E4 [0x1D] PRINT_EVENT_MESSAGE(message_id=16152*)
    → "But once you've taken them from one place, you can't get any more from there by searching it repeatedly!"
 47: 0x00E7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 48: 0x00E8 [0x1D] PRINT_EVENT_MESSAGE(message_id=16153*)
    → "Shards of sunlight are really delicate, so they'll disappear if you leave this area or take too much time getting them back to me."
 49: 0x00EB [0x23] WAIT_FOR_DIALOG_INTERACTION
 50: 0x00EC [0x1D] PRINT_EVENT_MESSAGE(message_id=16154*)
    → "My friends'll also try to get in your way, so be sure not to get noticed!"
 51: 0x00EF [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x00F0 [0x1D] PRINT_EVENT_MESSAGE(message_id=16155*)
    → "I can fly you right to the starting point. Just say the word!"
 53: 0x00F3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 54: 0x00F4 [0x24] CREATE_DIALOG(message_id=16156*, default_option=1*, option_flags=0*)
    → "Ready for mischief? [The sun will bow before me!/The light...it burns us!]"
 55: 0x00FB [0x25] WAIT_DIALOG_SELECT()
 56: 0x00FC [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0113
 57: 0x0104 [0x03] Work_Zone[1] = 100*
 58: 0x0109 [0x1D] PRINT_EVENT_MESSAGE(message_id=16158*)
    → "Good luck! Collect as many as you can and bring them back to me!"
 59: 0x010C [0x23] WAIT_FOR_DIALOG_INTERACTION
 60: 0x010D [0x01] GOTO 0x03A1

SUBROUTINE_0127:
 61: 0x0127 [0x01] GOTO 0x013E
 62: 0x012A [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x013E
 63: 0x0132 [0x1D] PRINT_EVENT_MESSAGE(message_id=16145*)
    → "Aww... Hopefully you'll change your mind. I'll be waiting here!"
 64: 0x0135 [0x23] WAIT_FOR_DIALOG_INTERACTION
 65: 0x0136 [0x03] Work_Zone[1] = 11*
 66: 0x013B [0x01] GOTO 0x013E

SUBROUTINE_013E:
 67: 0x013E [0x21] END_EVENT
 68: 0x013F [0x00] END_REQSTACK()
```

#### Data or dead code:

```
# Dead code (unreachable instructions):
     0x0110 [0x01] GOTO 0x0127
```

### Event 606

#### Metadata

| Field        | Value      |
|--------------|------------|
| Entrypoint   | 0x0140     |
| Data Size    | 1659 bytes |
| Instructions | 300        |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0140: 1E F0 FF FF 7F 6F 70 03  01 00 02 10 03 07 00 03  .....op.........
0150: 10 03 05 00 04 10 03 00  00 05 10 03 02 00 06 10  ................
0160: 03 03 00 07 10 03 04 00  08 10 03 06 00 09 10 5B  ...............[
0170: 00 80 F8 FF FF 7F F8 FF  FF 7F 74 6C 6B 30 1D 1F  ..........tlk0..
0180: 80 23 06 08 00 03 0D 00  0D 80 02 03 00 01 80 00  .#..............
0190: AA 01 02 04 00 01 80 00  A2 01 03 0E 00 20 80 01  ............. ..
01A0: A7 01 03 0E 00 21 80 01  AF 01 03 0E 00 22 80 02  .....!......."..
01B0: 0D 00 01 80 02 9F 03 24  23 80 08 00 0E 00 25 02  .......$#.....%.
01C0: 00 10 01 80 00 40 02 03  08 00 00 10 02 01 00 01  .....@..........
01D0: 80 80 DB 01 1D 17 80 23  01 01 02 02 01 00 0D 80  .......#........
01E0: 80 EE 01 1D 24 80 23 1D  25 80 23 01 01 02 02 01  ....$.#.%.#.....
01F0: 00 26 80 80 01 02 1D 27  80 23 1D 28 80 23 01 01  .&.....'.#.(.#..
0200: 02 24 18 80 0D 80 01 80  25 02 00 10 01 80 00 29  .$......%......)
0210: 02 42 07 01 00 19 80 03  01 10 01 00 1D 1A 80 23  .B.............#
0220: 0C 0D 00 01 A1 03 01 3D  02 02 00 10 0D 80 00 3D  .......=.......=
0230: 02 1D 1B 80 23 03 01 10  1C 80 01 3D 02 01 9C 03  ....#......=....
0240: 02 00 10 0D 80 00 CD 02  42 03 08 00 00 10 03 01  ........B.......
0250: 10 29 80 43 00 43 01 03  01 00 02 10 03 05 00 04  .).C.C..........
0260: 10 03 00 00 05 10 03 02  00 06 10 03 03 00 07 10  ................
0270: 03 04 00 08 10 03 06 00  09 10 02 02 00 01 80 02  ................
0280: BA 02 03 02 10 02 00 03  03 10 02 00 14 03 10 26  ...............&
0290: 80 5B 00 80 F8 FF FF 7F  F8 FF FF 7F 62 69 6B 30  .[..........bik0
02A0: 1D 2A 80 23 5B 00 80 F8  FF FF 7F F8 FF FF 7F 74  .*.#[..........t
02B0: 6C 6B 30 1D 2B 80 23 01  C2 02 1D 2C 80 23 1D 2B  lk0.+.#....,.#.+
02C0: 80 23 0C 0D 00 03 01 10  2D 80 01 9C 03 02 00 10  .#......-.......
02D0: 26 80 00 E0 02 03 08 00  00 10 1A 55 04 01 9C 03  &..........U....
02E0: 02 00 10 2E 80 00 F3 02  03 08 00 00 10 1A D9 05  ................
02F0: 01 9C 03 02 00 10 2F 80  00 0C 03 03 08 00 00 10  ....../.........
0300: 03 02 10 05 00 1D 30 80  23 01 9C 03 02 00 10 31  ......0.#......1
0310: 80 00 24 03 03 08 00 00  10 03 01 10 32 80 0C 0D  ..$.........2...
0320: 00 01 9C 03 02 00 10 33  80 00 40 03 03 08 00 00  .......3..@.....
0330: 10 1D 34 80 23 03 01 10  35 80 0C 0D 00 01 9C 03  ..4.#...5.......
0340: 02 00 10 36 80 00 74 03  03 08 00 00 10 1D 37 80  ...6..t.......7.
0350: 23 1D 0F 80 23 1D 10 80  23 1D 11 80 23 1D 12 80  #...#...#...#...
0360: 23 1D 13 80 23 1D 14 80  23 1D 15 80 23 1D 16 80  #...#...#...#...
0370: 23 01 9C 03 02 00 10 38  80 00 9C 03 03 08 00 00  #......8........
0380: 10 0C 0D 00 02 03 00 01  80 00 94 03 03 01 10 1C  ................
0390: 80 01 99 03 03 01 10 39  80 01 9C 03 01 AF 01 21  .......9.......!
03A0: 00 42 13 11 00 26 80 45  3A 80 F0 FF FF 7F F0 FF  .B...&.E:.......
03B0: FF 7F 66 64 6F 31 01 80  55 3A 80 F0 FF FF 7F F0  ..fdo1..U:......
03C0: FF FF 7F 66 64 6F 31 02  11 00 01 80 80 EB 03 BA  ...fdo1.........
03D0: F0 FF FF 7F 3B 80 3C 80  3D 80 3E 80 47 00 3B 80  ....;.<.=.>.G.;.
03E0: 3C 80 3D 80 3E 80 47 01  01 33 04 02 11 00 0D 80  <.=.>.G..3......
03F0: 80 0F 04 BA F0 FF FF 7F  3F 80 40 80 41 80 42 80  ........?.@.A.B.
0400: 47 00 3F 80 40 80 41 80  42 80 47 01 01 33 04 02  G.?.@.A.B.G..3..
0410: 11 00 26 80 80 33 04 BA  F0 FF FF 7F 43 80 44 80  ..&..3......C.D.
0420: 45 80 01 80 47 00 43 80  44 80 45 80 01 80 47 01  E...G.C.D.E...G.
0430: 01 33 04 45 3A 80 F0 FF  FF 7F F0 FF FF 7F 66 64  .3.E:.........fd
0440: 69 31 01 80 55 3A 80 F0  FF FF 7F F0 FF FF 7F 66  i1..U:.........f
0450: 64 69 31 21 00 0B 0D 00  06 09 00 1D 46 80 23 1D  di1!........F.#.
0460: 47 80 23 02 0D 00 0D 80  02 D8 05 03 02 10 48 80  G.#...........H.
0470: 03 03 10 49 80 03 04 10  4A 80 03 05 10 4B 80 03  ...I....J....K..
0480: 06 10 4C 80 03 07 10 4D  80 03 03 17 4E 80 03 04  ..L....M....N...
0490: 17 4E 80 03 05 17 4F 80  03 06 17 4E 80 03 07 17  .N....O....N....
04A0: 50 80 03 08 17 19 80 03  16 17 05 00 02 07 00 01  P...............
04B0: 80 00 BC 04 03 0F 00 51  80 01 C1 04 03 0F 00 52  .......Q.......R
04C0: 80 D4 03 01 80 02 10 D4  03 0D 80 03 10 D4 03 26  ...............&
04D0: 80 04 10 D4 03 2E 80 05  10 D4 03 2F 80 06 10 D4  .........../....
04E0: 03 31 80 07 10 D4 02 53  80 09 00 0F 00 25 02 00  .1.....S.....%..
04F0: 10 1E 80 00 FF 04 06 09  00 0C 0D 00 01 FF 04 02  ................
0500: 00 10 1C 80 05 D5 05 03  09 00 00 10 02 00 10 01  ................
0510: 80 80 28 05 03 01 10 54  80 D4 03 01 80 02 10 D4  ..(....T........
0520: 03 0D 80 02 10 01 B4 05  02 00 10 0D 80 80 44 05  ..............D.
0530: 03 01 10 55 80 D4 03 01  80 03 10 D4 03 0D 80 03  ...U............
0540: 10 01 B4 05 02 00 10 26  80 80 60 05 03 01 10 56  .......&..`....V
0550: 80 D4 03 01 80 04 10 D4  03 0D 80 04 10 01 B4 05  ................
0560: 02 00 10 2E 80 80 7C 05  03 01 10 57 80 D4 03 01  ......|....W....
0570: 80 05 10 D4 03 0D 80 05  10 01 B4 05 02 00 10 2F  .............../
0580: 80 80 98 05 03 01 10 58  80 D4 03 01 80 06 10 D4  .......X........
0590: 03 0D 80 06 10 01 B4 05  02 00 10 31 80 80 B4 05  ...........1....
05A0: 03 01 10 59 80 D4 03 01  80 07 10 D4 03 0D 80 07  ...Y............
05B0: 10 01 B4 05 D4 02 5A 80  0D 80 01 80 25 02 00 10  ......Z.....%...
05C0: 01 80 00 CA 05 21 00 01  D5 05 02 00 10 0D 80 00  .....!..........
05D0: D5 05 01 D5 05 01 63 04  1B 0B 0D 00 06 12 00 06  ......c.........
05E0: 09 00 1D 5B 80 23 1D 5C  80 23 02 0D 00 0D 80 02  ...[.#.\.#......
05F0: 15 07 03 02 10 5D 80 03  03 10 3A 80 03 04 10 4E  .....]....:....N
0600: 80 03 16 17 05 00 02 06  00 2E 80 00 14 06 06 0F  ................
0610: 00 01 29 06 02 06 00 26  80 00 24 06 03 0F 00 2F  ..)....&..$..../
0620: 80 01 29 06 03 0F 00 33  80 24 5E 80 09 00 0F 00  ..)....3.$^.....
0630: 25 02 00 10 2E 80 00 42  06 06 09 00 0C 0D 00 01  %......B........
0640: 42 06 02 00 10 26 80 05  12 07 03 09 00 00 10 02  B....&..........
0650: 00 10 01 80 80 6D 06 03  10 00 00 10 03 12 00 5D  .....m.........]
0660: 80 03 01 10 5D 80 43 00  43 01 01 A9 06 02 00 10  ....].C.C.......
0670: 0D 80 80 8B 06 03 10 00  00 10 03 12 00 3A 80 03  .............:..
0680: 01 10 5F 80 43 00 43 01  01 A9 06 02 00 10 26 80  .._.C.C.......&.
0690: 80 A9 06 03 10 00 00 10  03 12 00 4E 80 03 01 10  ...........N....
06A0: 60 80 43 00 43 01 01 A9  06 1D 61 80 23 24 62 80  `.C.C.....a.#$b.
06B0: 0D 80 01 80 25 02 00 10  01 80 00 07 07 02 10 00  ....%...........
06C0: 01 80 80 D4 06 03 01 10  63 80 43 00 43 01 1A 16  ........c.C.C...
06D0: 07 01 02 07 02 10 00 0D  80 80 EB 06 03 01 10 64  ...............d
06E0: 80 43 00 43 01 1A 16 07  01 02 07 02 10 00 26 80  .C.C..........&.
06F0: 80 02 07 03 01 10 65 80  43 00 43 01 1A 16 07 01  ......e.C.C.....
0700: 02 07 21 00 01 12 07 02  00 10 0D 80 00 12 07 01  ..!.............
0710: 12 07 01 EA 05 1B 42 02  06 10 01 80 00 49 07 5B  ......B......I.[
0720: 00 80 F8 FF FF 7F F8 FF  FF 7F 62 69 6B 30 1D 66  ..........bik0.f
0730: 80 23 5B 00 80 F8 FF FF  7F F8 FF FF 7F 74 6C 6B  .#[..........tlk
0740: 30 03 01 10 67 80 01 BA  07 02 06 10 68 80 00 AC  0...g.......h...
0750: 07 5B 00 80 F8 FF FF 7F  F8 FF FF 7F 62 69 6B 30  .[..........bik0
0760: 1D 66 80 23 5B 00 80 F8  FF FF 7F F8 FF FF 7F 74  .f.#[..........t
0770: 6C 6B 30 1D 69 80 23 24  6A 80 01 80 01 80 25 02  lk0.i.#$j.....%.
0780: 00 10 01 80 00 94 07 1D  6B 80 23 03 01 10 6C 80  ........k.#...l.
0790: 1B 01 A9 07 02 00 10 0D  80 00 A9 07 1D 34 80 23  .............4.#
07A0: 03 01 10 6D 80 1B 01 A9  07 01 BA 07 02 06 10 04  ...m............
07B0: 80 00 BA 07 03 01 10 6E  80 1B 1B                 .......n...     
```

#### Opcodes

```
  0: 0x0140 [0x1E] EventEntity looks at LocalPlayer and starts talking
  1: 0x0145 [0x6F] WAIT_FRAME_DELAY: Yield until WaitTime reaches zero
  2: 0x0146 [0x70] WAIT_ENTITY_RENDER_FLAG: Wait while EventEntity->Render.Flags3 bit 2 is set (cancel turn if not)
  3: 0x0147 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
  4: 0x014C [0x03] ExtData[1]->WorkLocal[7] = Work_Zone[3]
  5: 0x0151 [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[4]
  6: 0x0156 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[5]
  7: 0x015B [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[6]
  8: 0x0160 [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[7]
  9: 0x0165 [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[8]
 10: 0x016A [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[9]
 11: 0x016F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
 12: 0x017E [0x1D] PRINT_EVENT_MESSAGE(message_id=16159*)
    → "Why, hello!"
 13: 0x0181 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0182 [0x06] ExtData[1]->WorkLocal[8] = 0
 15: 0x0185 [0x03] ExtData[1]->WorkLocal[13] = 1*
 16: 0x018A [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x01AA
 17: 0x0192 [0x02] IF !(ExtData[1]->WorkLocal[4] == 0*) GOTO 0x01A2
 18: 0x019A [0x03] ExtData[1]->WorkLocal[14] = 98*
 19: 0x019F [0x01] GOTO 0x01A7
 20: 0x01A2 [0x03] ExtData[1]->WorkLocal[14] = 159*

SUBROUTINE_01A7:
 21: 0x01A7 [0x01] GOTO 0x01AF
 22: 0x01AA [0x03] ExtData[1]->WorkLocal[14] = 125*

SUBROUTINE_01AF:
 23: 0x01AF [0x02] IF !(ExtData[1]->WorkLocal[13] <= 0*) GOTO 0x039F
 24: 0x01B7 [0x24] CREATE_DIALOG(message_id=16160*, default_option=ExtData[1]->WorkLocal[8], option_flags=ExtData[1]->WorkLocal[14])
    → "Inquire about what? [I want to play the game./I'm ready to turn in my shards./I want to exchange small seeds./Let me try the grab bag./How many seeds do I have?/I'd like the items you're holding for me./Dispose of what you're holding for me./Tell me how the game works./No questions for now.]"
 25: 0x01BE [0x25] WAIT_DIALOG_SELECT()
 26: 0x01BF [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0240
 27: 0x01C7 [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
 28: 0x01CC [0x02] IF !(ExtData[1]->WorkLocal[1] == 0*) GOTO 0x01DB
 29: 0x01D4 [0x1D] PRINT_EVENT_MESSAGE(message_id=16155*)
    → "I can fly you right to the starting point. Just say the word!"
 30: 0x01D7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 31: 0x01D8 [0x01] GOTO 0x0201
 32: 0x01DB [0x02] IF !(ExtData[1]->WorkLocal[1] == 1*) GOTO 0x01EE
 33: 0x01E3 [0x1D] PRINT_EVENT_MESSAGE(message_id=16161*)
    → "You look like you'll be able to try for even harder things in this game!"
 34: 0x01E6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x01E7 [0x1D] PRINT_EVENT_MESSAGE(message_id=16162*)
    → "My friends'll try to get in your way even more. Are you sure you're ready?"
 36: 0x01EA [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x01EB [0x01] GOTO 0x0201
 38: 0x01EE [0x02] IF !(ExtData[1]->WorkLocal[1] == 2*) GOTO 0x0201
 39: 0x01F6 [0x1D] PRINT_EVENT_MESSAGE(message_id=16163*)
    → "Wow! I'll bet you're ready for the championship round!"
 40: 0x01F9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 41: 0x01FA [0x1D] PRINT_EVENT_MESSAGE(message_id=16164*)
    → "My friends'll surely never let you get away now! Sure you want to try anyway?"
 42: 0x01FD [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x01FE [0x01] GOTO 0x0201

SUBROUTINE_0201:
 44: 0x0201 [0x24] CREATE_DIALOG(message_id=16156*, default_option=1*, option_flags=0*)
    → "Ready for mischief? [The sun will bow before me!/The light...it burns us!]"
 45: 0x0208 [0x25] WAIT_DIALOG_SELECT()
 46: 0x0209 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0229
 47: 0x0211 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 48: 0x0212 [0x07] ExtData[1]->WorkLocal[1] += 100*
 49: 0x0217 [0x03] Work_Zone[1] = ExtData[1]->WorkLocal[1]
 50: 0x021C [0x1D] PRINT_EVENT_MESSAGE(message_id=16158*)
    → "Good luck! Collect as many as you can and bring them back to me!"
 51: 0x021F [0x23] WAIT_FOR_DIALOG_INTERACTION
 52: 0x0220 [0x0C] ExtData[1]->WorkLocal[13]--
 53: 0x0223 [0x01] GOTO 0x03A1

SUBROUTINE_023D:
 54: 0x023D [0x01] GOTO 0x039C
 55: 0x0240 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x02CD
 56: 0x0248 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 57: 0x0249 [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
 58: 0x024E [0x03] Work_Zone[1] = 56*
 59: 0x0253 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 60: 0x0255 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 61: 0x0257 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[2]
 62: 0x025C [0x03] ExtData[1]->WorkLocal[5] = Work_Zone[4]
 63: 0x0261 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[5]
 64: 0x0266 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[6]
 65: 0x026B [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[7]
 66: 0x0270 [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[8]
 67: 0x0275 [0x03] ExtData[1]->WorkLocal[6] = Work_Zone[9]
 68: 0x027A [0x02] IF !(ExtData[1]->WorkLocal[2] <= 0*) GOTO 0x02BA
 69: 0x0282 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[2]
 70: 0x0287 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[2]
 71: 0x028C [0x14] Work_Zone[3] *= 2*
 72: 0x0291 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "bik0" with entities [EventEntity, EventEntity], work=2161*
 73: 0x02A0 [0x1D] PRINT_EVENT_MESSAGE(message_id=16167*)
    → "You did such a lovely job! You brought me $0 shard[/s] of sunlight, so I'll give you $1 small seed[/s]!"
 74: 0x02A3 [0x23] WAIT_FOR_DIALOG_INTERACTION
 75: 0x02A4 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
 76: 0x02B3 [0x1D] PRINT_EVENT_MESSAGE(message_id=16166*)
    → "I'll be waiting for you to play our game again!"
 77: 0x02B6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 78: 0x02B7 [0x01] GOTO 0x02C2
 79: 0x02BA [0x1D] PRINT_EVENT_MESSAGE(message_id=16165*)
    → "Oh no...you mean you didn't find even one single shard? That's terrible..."
 80: 0x02BD [0x23] WAIT_FOR_DIALOG_INTERACTION
 81: 0x02BE [0x1D] PRINT_EVENT_MESSAGE(message_id=16166*)
    → "I'll be waiting for you to play our game again!"
 82: 0x02C1 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_02C2:
 83: 0x02C2 [0x0C] ExtData[1]->WorkLocal[13]--
 84: 0x02C5 [0x03] Work_Zone[1] = 12*
 85: 0x02CA [0x01] GOTO 0x039C
 86: 0x02CD [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x02E0
 87: 0x02D5 [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
 88: 0x02DA [0x1A] CALL_SUBROUTINE(address=0x0455)
 89: 0x02DD [0x01] GOTO 0x039C
 90: 0x02E0 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x02F3
 91: 0x02E8 [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
 92: 0x02ED [0x1A] CALL_SUBROUTINE(address=0x05D9)
 93: 0x02F0 [0x01] GOTO 0x039C
 94: 0x02F3 [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x030C
 95: 0x02FB [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
 96: 0x0300 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[5]
 97: 0x0305 [0x1D] PRINT_EVENT_MESSAGE(message_id=16182*)
    → "You have a total of $0 small seed[/s]."
 98: 0x0308 [0x23] WAIT_FOR_DIALOG_INTERACTION
 99: 0x0309 [0x01] GOTO 0x039C
100: 0x030C [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x0324
101: 0x0314 [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
102: 0x0319 [0x03] Work_Zone[1] = 21*
103: 0x031E [0x0C] ExtData[1]->WorkLocal[13]--
104: 0x0321 [0x01] GOTO 0x039C
105: 0x0324 [0x02] IF !(Work_Zone[0] == 6*) GOTO 0x0340
106: 0x032C [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
107: 0x0331 [0x1D] PRINT_EVENT_MESSAGE(message_id=16181*)
    → "Then...you won't mind if I have it!"
108: 0x0334 [0x23] WAIT_FOR_DIALOG_INTERACTION
109: 0x0335 [0x03] Work_Zone[1] = 23*
110: 0x033A [0x0C] ExtData[1]->WorkLocal[13]--
111: 0x033D [0x01] GOTO 0x039C
112: 0x0340 [0x02] IF !(Work_Zone[0] == 7*) GOTO 0x0374
113: 0x0348 [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
114: 0x034D [0x1D] PRINT_EVENT_MESSAGE(message_id=16183*)
    → "The goal of sunshine seeker is to collect shards of sunlight!"
115: 0x0350 [0x23] WAIT_FOR_DIALOG_INTERACTION
116: 0x0351 [0x1D] PRINT_EVENT_MESSAGE(message_id=16147*)
    → "I'll give you some small seeds in exchange for the shards of sunlight you bring back."
117: 0x0354 [0x23] WAIT_FOR_DIALOG_INTERACTION
118: 0x0355 [0x1D] PRINT_EVENT_MESSAGE(message_id=16148*)
    → "Even better! I've got some special things available for you to buy with your seeds!"
119: 0x0358 [0x23] WAIT_FOR_DIALOG_INTERACTION
120: 0x0359 [0x1D] PRINT_EVENT_MESSAGE(message_id=16149*)
    → "But here's the best part--If you try your luck with my grab bag enough times, you might win something really super!"
121: 0x035C [0x23] WAIT_FOR_DIALOG_INTERACTION
122: 0x035D [0x1D] PRINT_EVENT_MESSAGE(message_id=16150*)
    → "One of the rules of the game is that you must be a mandragora, like me, or else you won't be able to collect any shards."
123: 0x0360 [0x23] WAIT_FOR_DIALOG_INTERACTION
124: 0x0361 [0x1D] PRINT_EVENT_MESSAGE(message_id=16151*)
    → "They can be found all around here. But if you don't hurry, someone else might gobble them up."
125: 0x0364 [0x23] WAIT_FOR_DIALOG_INTERACTION
126: 0x0365 [0x1D] PRINT_EVENT_MESSAGE(message_id=16152*)
    → "But once you've taken them from one place, you can't get any more from there by searching it repeatedly!"
127: 0x0368 [0x23] WAIT_FOR_DIALOG_INTERACTION
128: 0x0369 [0x1D] PRINT_EVENT_MESSAGE(message_id=16153*)
    → "Shards of sunlight are really delicate, so they'll disappear if you leave this area or take too much time getting them back to me."
129: 0x036C [0x23] WAIT_FOR_DIALOG_INTERACTION
130: 0x036D [0x1D] PRINT_EVENT_MESSAGE(message_id=16154*)
    → "My friends'll also try to get in your way, so be sure not to get noticed!"
131: 0x0370 [0x23] WAIT_FOR_DIALOG_INTERACTION
132: 0x0371 [0x01] GOTO 0x039C
133: 0x0374 [0x02] IF !(Work_Zone[0] == 8*) GOTO 0x039C
134: 0x037C [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
135: 0x0381 [0x0C] ExtData[1]->WorkLocal[13]--
136: 0x0384 [0x02] IF !(ExtData[1]->WorkLocal[3] == 0*) GOTO 0x0394
137: 0x038C [0x03] Work_Zone[1] = 10*
138: 0x0391 [0x01] GOTO 0x0399
139: 0x0394 [0x03] Work_Zone[1] = 22*

SUBROUTINE_0399:
140: 0x0399 [0x01] GOTO 0x039C

SUBROUTINE_039C:
141: 0x039C [0x01] GOTO 0x01AF
142: 0x039F [0x21] END_EVENT
143: 0x03A0 [0x00] END_REQSTACK()

SUBROUTINE_03A1:
144: 0x03A1 [0x42] SET_CLI_EVENT_CANCEL_DATA()
145: 0x03A2 [0x13] ExtData[1]->WorkLocal[17] = rand() % 2*
146: 0x03A7 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
147: 0x03B8 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdo1" with entities [LocalPlayer, LocalPlayer], work=200*
148: 0x03C7 [0x02] IF !(ExtData[1]->WorkLocal[17] == 0*) GOTO 0x03EB
149: 0x03CF [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=-100.000*, pos_z=70.000*, pos_y=11.000*, direction=90.0°*)
150: 0x03DC [0x47] UPDATE_PLAYER_POS(-100.000*, 70.000*, 11.000*, yaw=90.0°*)
151: 0x03E6 [0x47] WAIT_PLAYER_POS_UPDATE
152: 0x03E8 [0x01] GOTO 0x0433
153: 0x03EB [0x02] IF !(ExtData[1]->WorkLocal[17] == 1*) GOTO 0x040F
154: 0x03F3 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=89.260*, pos_z=-1.500*, pos_y=7.000*, direction=180.0°*)
155: 0x0400 [0x47] UPDATE_PLAYER_POS(89.260*, -1.500*, 7.000*, yaw=180.0°*)
156: 0x040A [0x47] WAIT_PLAYER_POS_UPDATE
157: 0x040C [0x01] GOTO 0x0433
158: 0x040F [0x02] IF !(ExtData[1]->WorkLocal[17] == 2*) GOTO 0x0433
159: 0x0417 [0xBA] SET_ENTITY_POSITION(entity_id=LocalPlayer, pos_x=102.000*, pos_z=-72.000*, pos_y=0.494*, direction=0.0°*)
160: 0x0424 [0x47] UPDATE_PLAYER_POS(102.000*, -72.000*, 0.494*, yaw=0.0°*)
161: 0x042E [0x47] WAIT_PLAYER_POS_UPDATE
162: 0x0430 [0x01] GOTO 0x0433

SUBROUTINE_0433:
163: 0x0433 [0x45] LOAD_SCHEDULED_TASK: Load scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=[200*, 0*]
164: 0x0444 [0x55] WAIT_LOAD_SCHEDULER: Wait for scheduler "fdi1" with entities [LocalPlayer, LocalPlayer], work=200*
165: 0x0453 [0x21] END_EVENT
166: 0x0454 [0x00] END_REQSTACK()

SUBROUTINE_0455:
167: 0x0455 [0x0B] ExtData[1]->WorkLocal[13]++
168: 0x0458 [0x06] ExtData[1]->WorkLocal[9] = 0
169: 0x045B [0x1D] PRINT_EVENT_MESSAGE(message_id=16168*)
    → "I can give you so many pretty gifts in exchange for your small seeds!"
170: 0x045E [0x23] WAIT_FOR_DIALOG_INTERACTION
171: 0x045F [0x1D] PRINT_EVENT_MESSAGE(message_id=16169*)
    → "Which would you like?"
172: 0x0462 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_0463:
173: 0x0463 [0x02] IF !(ExtData[1]->WorkLocal[13] <= 1*) GOTO 0x05D8
174: 0x046B [0x03] Work_Zone[2] = 26706*
175: 0x0470 [0x03] Work_Zone[3] = 27855*
176: 0x0475 [0x03] Work_Zone[4] = 10143*
177: 0x047A [0x03] Work_Zone[5] = 22051*
178: 0x047F [0x03] Work_Zone[6] = 6695*
179: 0x0484 [0x03] Work_Zone[7] = 2517*
180: 0x0489 [0x03] Work_Zone_1700[3] = 500*
181: 0x048E [0x03] Work_Zone_1700[4] = 500*
182: 0x0493 [0x03] Work_Zone_1700[5] = 300*
183: 0x0498 [0x03] Work_Zone_1700[6] = 500*
184: 0x049D [0x03] Work_Zone_1700[7] = 1500*
185: 0x04A2 [0x03] Work_Zone_1700[8] = 100*
186: 0x04A7 [0x03] Work_Zone_1700[22] = ExtData[1]->WorkLocal[5]
187: 0x04AC [0x02] IF !(ExtData[1]->WorkLocal[7] == 0*) GOTO 0x04BC
188: 0x04B4 [0x03] ExtData[1]->WorkLocal[15] = 1984*
189: 0x04B9 [0x01] GOTO 0x04C1
190: 0x04BC [0x03] ExtData[1]->WorkLocal[15] = 2016*

SUBROUTINE_04C1:
191: 0x04C1 [0xD4] MAP_QUERY_WINDOW: Prepare buffer configuration A (buffer=[01 80 02 10 D4 03 0D 80...])
192: 0x04DF [0xD4] MAP_QUERY_WINDOW: Prepare buffer configuration A (buffer=[31 80 07 10 D4 02 53 80...])
193: 0x04FD [0xFF] UNKNOWN_OPCODE_0xFF
194: 0x04FE [0x04] DEPRECATED_NOP(unused=0x02)
195: 0x0501 [0x10] 10* <<= 0xD505
196: 0x0506 [0x05] 0x0903 = 1
197: 0x0509 [0x00] END_REQSTACK()

SUBROUTINE_05D9:
198: 0x05D9 [0x0B] ExtData[1]->WorkLocal[13]++
199: 0x05DC [0x06] ExtData[1]->WorkLocal[18] = 0
200: 0x05DF [0x06] ExtData[1]->WorkLocal[9] = 0
201: 0x05E2 [0x1D] PRINT_EVENT_MESSAGE(message_id=16172*)
    → "I've prepared a little grab bag you can enjoy for some small seeds."
202: 0x05E5 [0x23] WAIT_FOR_DIALOG_INTERACTION
203: 0x05E6 [0x1D] PRINT_EVENT_MESSAGE(message_id=16173*)
    → "Which would you like to try?"
204: 0x05E9 [0x23] WAIT_FOR_DIALOG_INTERACTION

SUBROUTINE_05EA:
205: 0x05EA [0x02] IF !(ExtData[1]->WorkLocal[13] <= 1*) GOTO 0x0715
206: 0x05F2 [0x03] Work_Zone[2] = 50*
207: 0x05F7 [0x03] Work_Zone[3] = 200*
208: 0x05FC [0x03] Work_Zone[4] = 500*
209: 0x0601 [0x03] Work_Zone_1700[22] = ExtData[1]->WorkLocal[5]
210: 0x0606 [0x02] IF !(ExtData[1]->WorkLocal[6] == 3*) GOTO 0x0614
211: 0x060E [0x06] ExtData[1]->WorkLocal[15] = 0
212: 0x0611 [0x01] GOTO 0x0629
213: 0x0614 [0x02] IF !(ExtData[1]->WorkLocal[6] == 2*) GOTO 0x0624
214: 0x061C [0x03] ExtData[1]->WorkLocal[15] = 4*
215: 0x0621 [0x01] GOTO 0x0629
216: 0x0624 [0x03] ExtData[1]->WorkLocal[15] = 6*

SUBROUTINE_0629:
217: 0x0629 [0x24] CREATE_DIALOG(message_id=16174*, default_option=ExtData[1]->WorkLocal[9], option_flags=ExtData[1]->WorkLocal[15])
    → "Pick your poison. ($30 seed[/s]) [The $0-seed grab bag./The $1-seed grab bag./The $2-seed grab bag./No poison, thanks.]"
218: 0x0630 [0x25] WAIT_DIALOG_SELECT()
219: 0x0631 [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0642
220: 0x0639 [0x06] ExtData[1]->WorkLocal[9] = 0
221: 0x063C [0x0C] ExtData[1]->WorkLocal[13]--
222: 0x063F [0x01] GOTO 0x0642

SUBROUTINE_0642:
223: 0x0642 [0x02] IF !(Work_Zone[0] > 2*) GOTO 0x0712
224: 0x064A [0x03] ExtData[1]->WorkLocal[9] = Work_Zone[0]
225: 0x064F [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x066D
226: 0x0657 [0x03] ExtData[1]->WorkLocal[16] = Work_Zone[0]
227: 0x065C [0x03] ExtData[1]->WorkLocal[18] = 50*
228: 0x0661 [0x03] Work_Zone[1] = 50*
229: 0x0666 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
230: 0x0668 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
231: 0x066A [0x01] GOTO 0x06A9
232: 0x066D [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x068B
233: 0x0675 [0x03] ExtData[1]->WorkLocal[16] = Work_Zone[0]
234: 0x067A [0x03] ExtData[1]->WorkLocal[18] = 200*
235: 0x067F [0x03] Work_Zone[1] = 51*
236: 0x0684 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
237: 0x0686 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
238: 0x0688 [0x01] GOTO 0x06A9
239: 0x068B [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x06A9
240: 0x0693 [0x03] ExtData[1]->WorkLocal[16] = Work_Zone[0]
241: 0x0698 [0x03] ExtData[1]->WorkLocal[18] = 500*
242: 0x069D [0x03] Work_Zone[1] = 52*
243: 0x06A2 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
244: 0x06A4 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
245: 0x06A6 [0x01] GOTO 0x06A9

SUBROUTINE_06A9:
246: 0x06A9 [0x1D] PRINT_EVENT_MESSAGE(message_id=16175*)
    → "That grab bag contains prizes like $0, $1, and $2."
247: 0x06AC [0x23] WAIT_FOR_DIALOG_INTERACTION
248: 0x06AD [0x24] CREATE_DIALOG(message_id=16176*, default_option=1*, option_flags=0*)
    → "Press your luck? [C'mon, no whammies.../Not right now.]"
249: 0x06B4 [0x25] WAIT_DIALOG_SELECT()
250: 0x06B5 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0707
251: 0x06BD [0x02] IF !(ExtData[1]->WorkLocal[16] == 0*) GOTO 0x06D4
252: 0x06C5 [0x03] Work_Zone[1] = 53*
253: 0x06CA [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
254: 0x06CC [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
255: 0x06CE [0x1A] CALL_SUBROUTINE(address=0x0716)
256: 0x06D1 [0x01] GOTO 0x0702
257: 0x06D4 [0x02] IF !(ExtData[1]->WorkLocal[16] == 1*) GOTO 0x06EB
258: 0x06DC [0x03] Work_Zone[1] = 54*
259: 0x06E1 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
260: 0x06E3 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
261: 0x06E5 [0x1A] CALL_SUBROUTINE(address=0x0716)
262: 0x06E8 [0x01] GOTO 0x0702
263: 0x06EB [0x02] IF !(ExtData[1]->WorkLocal[16] == 2*) GOTO 0x0702
264: 0x06F3 [0x03] Work_Zone[1] = 55*
265: 0x06F8 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
266: 0x06FA [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
267: 0x06FC [0x1A] CALL_SUBROUTINE(address=0x0716)
268: 0x06FF [0x01] GOTO 0x0702

SUBROUTINE_0702:
269: 0x0702 [0x21] END_EVENT
270: 0x0703 [0x00] END_REQSTACK()

SUBROUTINE_0712:
271: 0x0712 [0x01] GOTO 0x05EA
272: 0x0715 [0x1B] RETURN

SUBROUTINE_0716:
273: 0x0716 [0x42] SET_CLI_EVENT_CANCEL_DATA()
274: 0x0717 [0x02] IF !(Work_Zone[6] == 0*) GOTO 0x0749
275: 0x071F [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "bik0" with entities [EventEntity, EventEntity], work=2161*
276: 0x072E [0x1D] PRINT_EVENT_MESSAGE(message_id=16177*)
    → "You won $0! Congratulations!"
277: 0x0731 [0x23] WAIT_FOR_DIALOG_INTERACTION
278: 0x0732 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
279: 0x0741 [0x03] Work_Zone[1] = 17*
280: 0x0746 [0x01] GOTO 0x07BA
281: 0x0749 [0x02] IF !(Work_Zone[6] == 81*) GOTO 0x07AC
282: 0x0751 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "bik0" with entities [EventEntity, EventEntity], work=2161*
283: 0x0760 [0x1D] PRINT_EVENT_MESSAGE(message_id=16177*)
    → "You won $0! Congratulations!"
284: 0x0763 [0x23] WAIT_FOR_DIALOG_INTERACTION
285: 0x0764 [0x5B] LOAD_EXT_SCHEDULER: Load scheduler "tlk0" with entities [EventEntity, EventEntity], work=2161*
286: 0x0773 [0x1D] PRINT_EVENT_MESSAGE(message_id=16178*)
    → "...But your bags are full! What do you want me to do with it?"
287: 0x0776 [0x23] WAIT_FOR_DIALOG_INTERACTION
288: 0x0777 [0x24] CREATE_DIALOG(message_id=16179*, default_option=0*, option_flags=0*)
    → "What will you do with the $0? [Have Babban hold it./I don't want it.]"
289: 0x077E [0x25] WAIT_DIALOG_SELECT()
290: 0x077F [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0794
291: 0x0787 [0x1D] PRINT_EVENT_MESSAGE(message_id=16180*)
    → "I'll make sure to keep it really safe! Come back when you've made room!"
292: 0x078A [0x23] WAIT_FOR_DIALOG_INTERACTION
293: 0x078B [0x03] Work_Zone[1] = 18*
294: 0x0790 [0x1B] RETURN

SUBROUTINE_07A9:
295: 0x07A9 [0x01] GOTO 0x07BA
296: 0x07AC [0x02] IF !(Work_Zone[6] == 80*) GOTO 0x07BA
297: 0x07B4 [0x03] Work_Zone[1] = 20*
298: 0x07B9 [0x1B] RETURN

SUBROUTINE_07BA:
299: 0x07BA [0x1B] RETURN
```

#### Data or dead code:

```
# Dead code (unreachable instructions):
     0x0226 [0x01] GOTO 0x023D
# Dead code (unreachable instructions):
     0x050A [0x00] END_REQSTACK()
     0x050B [0x10] ExtData[1]->WorkLocal[2] <<= 0x0110
     0x0510 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 50669696/0x03052880))
     0x0515 [0x01] GOTO 0x5410
     0x0518 [0x80] LOAD_WAIT(entity=Unknown NPC (ID: 2147550164/0x800103D4))
     0x051D [0x02] IF !(0xD410 == 0x0D03) GOTO 0x1002
     0x0525 [0x01] GOTO 0x05B4
     0x0528 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x0544
     0x0530 [0x03] Work_Zone[1] = 15*
     0x0535 [0xD4] MAP_QUERY_WINDOW: Prepare buffer configuration A (buffer=[01 80 03 10 D4 03 0D 80...])
     0x0553 [0x01] GOTO 0x0480
     0x0556 [0x10] 0x03D4 <<= 1*
     0x055B [0x04] DEPRECATED_NOP(unused=0x0110)
     0x055E [0xB4] UI_WINDOW_STRING_HANDLER(case=0x05 - Toggle event message flag, flag_value=0x02)
     0x0561 [0x00] END_REQSTACK()
     0x0562 [0x10] 3* <<= 0x7C80
     0x0567 [0x05] 0x0103 = 1
     0x056A [0x10] 24* <<= 0x03D4
     0x056F [0x01] GOTO 0x0580
     0x0572 [0x10] 0x03D4 <<= 1*
     0x0577 [0x05] 0x0110 = 1
     0x057A [0xB4] UI_WINDOW_STRING_HANDLER(case=0x05 - Toggle event message flag, flag_value=0x02)
     0x057D [0x00] END_REQSTACK()
     0x057E [0x10] 4* <<= 0x9880
     0x0583 [0x05] 0x0103 = 1
     0x0586 [0x10] 25* <<= 0x03D4
     0x058B [0x01] GOTO 0x0680
     0x058E [0x10] 0x03D4 <<= 1*
     0x0593 [0x06] 0x0110 = 0
     0x0596 [0xB4] UI_WINDOW_STRING_HANDLER(case=0x05 - Toggle event message flag, flag_value=0x02)
     0x0599 [0x00] END_REQSTACK()
     0x059A [0x10] 5* <<= 0xB480
     0x059F [0x05] 0x0103 = 1
     0x05A2 [0x10] 26* <<= 0x03D4
     0x05A7 [0x01] GOTO 0x0780
     0x05AA [0x10] 0x03D4 <<= 1*
     0x05AF [0x07] 0x0110 += 0x05B4
     0x05B4 [0xD4] MAP_QUERY_WINDOW: Test and open query window (flag=0x5A, work=[0x0D80, 0x0180, 0x2580])
     0x05BD [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x05CA
     0x05C5 [0x21] END_EVENT
     0x05C6 [0x00] END_REQSTACK()
     0x05C7 [0x01] GOTO 0x05D5
     0x05CA [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x05D5
     0x05D2 [0x01] GOTO 0x05D5
     0x05D5 [0x01] GOTO 0x0463
# Dead code (unreachable instructions):
     0x0704 [0x01] GOTO 0x0712
# Dead code (unreachable instructions):
     0x0791 [0x01] GOTO 0x07A9
     0x07A6 [0x01] GOTO 0x07A9
```
