# Event 253

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/6       |
| Offset          | 0x0020    |
| Data Size       | 414 bytes |
| Calculated Size | 414 bytes |
| Instructions    | 111       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0020: 42 1E F0 FF FF 7F 1D 04  80 23 03 03 10 05 80 1D  B........#......
0030: 06 80 23 1A 15 01 03 00  00 00 10 43 00 43 01 03  ..#........C.C..
0040: 03 10 07 80 1D 06 80 23  1A 15 01 03 01 00 00 10  .......#........
0050: 43 00 43 01 03 03 10 08  80 1D 06 80 23 1A 15 01  C.C.........#...
0060: 03 02 00 00 10 43 00 43  01 03 03 10 00 00 03 04  .....C.C........
0070: 10 01 00 03 05 10 02 00  1D 09 80 23 24 0A 80 0B  ...........#$...
0080: 80 0C 80 25 02 00 10 0C  80 00 98 00 03 01 10 0D  ...%............
0090: 80 43 00 43 01 01 EE 00  02 00 10 0B 80 00 EE 00  .C.C............
00A0: 03 01 10 0E 80 43 00 43  01 03 03 10 05 80 1D 0F  .....C.C........
00B0: 80 23 1A 15 01 03 00 00  00 10 43 00 43 01 03 03  .#........C.C...
00C0: 10 07 80 1D 0F 80 23 1A  15 01 03 01 00 00 10 43  ......#........C
00D0: 00 43 01 03 03 10 08 80  1D 0F 80 23 1A 15 01 03  .C.........#....
00E0: 02 00 00 10 43 00 43 01  01 69 00 01 EE 00 02 02  ....C.C..i......
00F0: 10 10 80 00 0A 01 1D 11  80 23 1D 12 80 23 1D 13  .........#...#..
0100: 80 23 03 01 10 0B 80 01  13 01 1D 14 80 23 03 01  .#...........#..
0110: 10 0C 80 21 00 24 15 80  0C 80 0C 80 25 02 00 10  ...!.$......%...
0120: 0C 80 00 2D 01 03 01 10  10 80 01 BD 01 02 00 10  ...-............
0130: 0B 80 00 3D 01 03 01 10  16 80 01 BD 01 02 00 10  ...=............
0140: 17 80 00 4D 01 03 01 10  18 80 01 BD 01 02 00 10  ...M............
0150: 10 80 00 5D 01 03 01 10  19 80 01 BD 01 02 00 10  ...]............
0160: 18 80 00 6D 01 03 01 10  17 80 01 BD 01 02 00 10  ...m............
0170: 1A 80 00 7D 01 03 01 10  1B 80 01 BD 01 02 00 10  ...}............
0180: 16 80 00 8D 01 03 01 10  1C 80 01 BD 01 02 00 10  ................
0190: 19 80 00 9D 01 03 01 10  1A 80 01 BD 01 02 00 10  ................
01A0: 1C 80 00 AD 01 03 01 10  0B 80 01 BD 01 02 00 10  ................
01B0: 1B 80 00 BD 01 03 01 10  0C 80 01 BD 01 1B        ..............  
```

## Opcodes

```
  0: 0x0020 [0x42] SET_CLI_EVENT_CANCEL_DATA()
  1: 0x0021 [0x1E] EventEntity looks at LocalPlayer and starts talking
  2: 0x0026 [0x1D] PRINT_EVENT_MESSAGE(message_id=12300*)
    → "What? Letters?\u0007They must be from the impoverished republican tykes!\u007F1\u0000\u0007"
  3: 0x0029 [0x23] WAIT_FOR_DIALOG_INTERACTION
  4: 0x002A [0x03] Work_Zone[3] = 1746*
  5: 0x002F [0x1D] PRINT_EVENT_MESSAGE(message_id=12301*)
    → "Wait a minute... There is no name on this \u0001\u0005#\u0002\u0001\u0000\u0000.\u0007I wonder who wrote it...\u007F1\u0000\u0007"
  6: 0x0032 [0x23] WAIT_FOR_DIALOG_INTERACTION
  7: 0x0033 [0x1A] CALL_SUBROUTINE(address=0x0115)
  8: 0x0036 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[0]
  9: 0x003B [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 10: 0x003D [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 11: 0x003F [0x03] Work_Zone[3] = 1747*
 12: 0x0044 [0x1D] PRINT_EVENT_MESSAGE(message_id=12301*)
    → "Wait a minute... There is no name on this \u0001\u0005#\u0002\u0001\u0000\u0000.\u0007I wonder who wrote it...\u007F1\u0000\u0007"
 13: 0x0047 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x0048 [0x1A] CALL_SUBROUTINE(address=0x0115)
 15: 0x004B [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[0]
 16: 0x0050 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 17: 0x0052 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 18: 0x0054 [0x03] Work_Zone[3] = 1748*
 19: 0x0059 [0x1D] PRINT_EVENT_MESSAGE(message_id=12301*)
    → "Wait a minute... There is no name on this \u0001\u0005#\u0002\u0001\u0000\u0000.\u0007I wonder who wrote it...\u007F1\u0000\u0007"
 20: 0x005C [0x23] WAIT_FOR_DIALOG_INTERACTION
 21: 0x005D [0x1A] CALL_SUBROUTINE(address=0x0115)
 22: 0x0060 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[0]
 23: 0x0065 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 24: 0x0067 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 25: 0x0069 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[0]
 26: 0x006E [0x03] Work_Zone[4] = ExtData[1]->WorkLocal[1]
 27: 0x0073 [0x03] Work_Zone[5] = ExtData[1]->WorkLocal[2]
 28: 0x0078 [0x1D] PRINT_EVENT_MESSAGE(message_id=12303*)
    → "Are you positive that \u000C\u0001[Arawn/Dehlner/Emrys/Folzen/Gwill/Patricius/Remus/Rothais/Vaghron/Valeri], \u000C\u0002[Arawn/Dehlner/Emrys/Folzen/Gwill/Patricius/Remus/Rothais/Vaghron/Valeri], and \u000C\u0003[Arawn/Dehlner/Emrys/Folzen/Gwill/Patricius/Remus/Rothais/Vaghron/Valeri] were the ones who gave you the letters?\u007F1\u0000\u0007"
 29: 0x007B [0x23] WAIT_FOR_DIALOG_INTERACTION
 30: 0x007C [0x24] CREATE_DIALOG(message_id=12304*, default_option=1*, option_flags=0*)
    → "Well?\u0007\u000BPositive!\u0007Wait a minute...\u007F1\u0000\u0007"
 31: 0x0083 [0x25] WAIT_DIALOG_SELECT()
 32: 0x0084 [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x0098
 33: 0x008C [0x03] Work_Zone[1] = 200*
 34: 0x0091 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 35: 0x0093 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 36: 0x0095 [0x01] GOTO 0x00EE

SUBROUTINE_0098:
 37: 0x0098 [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x00EE
 38: 0x00A0 [0x03] Work_Zone[1] = 100*
 39: 0x00A5 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 40: 0x00A7 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 41: 0x00A9 [0x03] Work_Zone[3] = 1746*
 42: 0x00AE [0x1D] PRINT_EVENT_MESSAGE(message_id=12305*)
    → "Hm... Without any name, I'll never know who sent this \u0001\u0005#\u0002\u0001\u0000\u0000...\u007F1\u0000\u0007"
 43: 0x00B1 [0x23] WAIT_FOR_DIALOG_INTERACTION
 44: 0x00B2 [0x1A] CALL_SUBROUTINE(address=0x0115)
 45: 0x00B5 [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[0]
 46: 0x00BA [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 47: 0x00BC [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 48: 0x00BE [0x03] Work_Zone[3] = 1747*
 49: 0x00C3 [0x1D] PRINT_EVENT_MESSAGE(message_id=12305*)
    → "Hm... Without any name, I'll never know who sent this \u0001\u0005#\u0002\u0001\u0000\u0000...\u007F1\u0000\u0007"
 50: 0x00C6 [0x23] WAIT_FOR_DIALOG_INTERACTION
 51: 0x00C7 [0x1A] CALL_SUBROUTINE(address=0x0115)
 52: 0x00CA [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[0]
 53: 0x00CF [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 54: 0x00D1 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 55: 0x00D3 [0x03] Work_Zone[3] = 1748*
 56: 0x00D8 [0x1D] PRINT_EVENT_MESSAGE(message_id=12305*)
    → "Hm... Without any name, I'll never know who sent this \u0001\u0005#\u0002\u0001\u0000\u0000...\u007F1\u0000\u0007"
 57: 0x00DB [0x23] WAIT_FOR_DIALOG_INTERACTION
 58: 0x00DC [0x1A] CALL_SUBROUTINE(address=0x0115)
 59: 0x00DF [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[0]
 60: 0x00E4 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 61: 0x00E6 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 62: 0x00E8 [0x01] GOTO 0x0069

SUBROUTINE_00EE:
 63: 0x00EE [0x02] IF !(Work_Zone[2] == 3*) GOTO 0x010A
 64: 0x00F6 [0x1D] PRINT_EVENT_MESSAGE(message_id=12306*)
    → "Well, I'll be!\u0007You see, this just proves my theory: \u00073You only get what you give!\u00073\u007F1\u0000\u0007"
 65: 0x00F9 [0x23] WAIT_FOR_DIALOG_INTERACTION
 66: 0x00FA [0x1D] PRINT_EVENT_MESSAGE(message_id=12307*)
    → "Wait...\u0007Was that a twinkle I just saw in your eye?\u0007Don't tell me... You'd like to help bring joy and happiness to the children of Vana'diel!\u007F1\u0000\u0007"
 67: 0x00FD [0x23] WAIT_FOR_DIALOG_INTERACTION
 68: 0x00FE [0x1D] PRINT_EVENT_MESSAGE(message_id=12308*)
    → "I knew it!\u0007Well, if you're going to join our ranks, you'll have to play the part. Here, take this hat.\u0007You could call it our official smilebringer \u00072uniform.\u00073 Without it, you're just another average Joe.\u007F1\u0000\u0007"
 69: 0x0101 [0x23] WAIT_FOR_DIALOG_INTERACTION
 70: 0x0102 [0x03] Work_Zone[1] = 1*
 71: 0x0107 [0x01] GOTO 0x0113

SUBROUTINE_010A:
 72: 0x010A [0x1D] PRINT_EVENT_MESSAGE(message_id=12309*)
    → "Well, I'll be!\u0007It's stuff like this that makes it all worthwhile.\u007F1\u0000\u0007"
 73: 0x010D [0x23] WAIT_FOR_DIALOG_INTERACTION
 74: 0x010E [0x03] Work_Zone[1] = 0*
 75: 0x0113 [0x21] END_EVENT
 76: 0x0114 [0x00] END_REQSTACK()

SUBROUTINE_0115:
 77: 0x0115 [0x24] CREATE_DIALOG(message_id=12302*, default_option=0*, option_flags=0*)
    → "Who is it from?\u0007\u000BArawn.\u0007Dehlner.\u0007Emrys.\u0007Folzen.\u0007Gwill.\u0007Patricius.\u0007Remus.\u0007Rothais.\u0007Vaghron.\u0007Valeri.\u007F1\u0000\u0007"
 78: 0x011C [0x25] WAIT_DIALOG_SELECT()
 79: 0x011D [0x02] IF !(Work_Zone[0] == 0*) GOTO 0x012D
 80: 0x0125 [0x03] Work_Zone[1] = 3*
 81: 0x012A [0x01] GOTO 0x01BD

SUBROUTINE_012D:
 82: 0x012D [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x013D
 83: 0x0135 [0x03] Work_Zone[1] = 6*
 84: 0x013A [0x01] GOTO 0x01BD

SUBROUTINE_013D:
 85: 0x013D [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x014D
 86: 0x0145 [0x03] Work_Zone[1] = 4*
 87: 0x014A [0x01] GOTO 0x01BD

SUBROUTINE_014D:
 88: 0x014D [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x015D
 89: 0x0155 [0x03] Work_Zone[1] = 7*
 90: 0x015A [0x01] GOTO 0x01BD

SUBROUTINE_015D:
 91: 0x015D [0x02] IF !(Work_Zone[0] == 4*) GOTO 0x016D
 92: 0x0165 [0x03] Work_Zone[1] = 2*
 93: 0x016A [0x01] GOTO 0x01BD

SUBROUTINE_016D:
 94: 0x016D [0x02] IF !(Work_Zone[0] == 5*) GOTO 0x017D
 95: 0x0175 [0x03] Work_Zone[1] = 9*
 96: 0x017A [0x01] GOTO 0x01BD

SUBROUTINE_017D:
 97: 0x017D [0x02] IF !(Work_Zone[0] == 6*) GOTO 0x018D
 98: 0x0185 [0x03] Work_Zone[1] = 8*
 99: 0x018A [0x01] GOTO 0x01BD

SUBROUTINE_018D:
100: 0x018D [0x02] IF !(Work_Zone[0] == 7*) GOTO 0x019D
101: 0x0195 [0x03] Work_Zone[1] = 5*
102: 0x019A [0x01] GOTO 0x01BD

SUBROUTINE_019D:
103: 0x019D [0x02] IF !(Work_Zone[0] == 8*) GOTO 0x01AD
104: 0x01A5 [0x03] Work_Zone[1] = 1*
105: 0x01AA [0x01] GOTO 0x01BD

SUBROUTINE_01AD:
106: 0x01AD [0x02] IF !(Work_Zone[0] == 9*) GOTO 0x01BD
107: 0x01B5 [0x03] Work_Zone[1] = 0*
108: 0x01BA [0x01] GOTO 0x01BD

SUBROUTINE_01BD:
109: 0x01BD [0x1B] RETURN
```

## Data or dead code:

```
# Dead code (unreachable instructions):
     0x00EB [0x01] GOTO 0x00EE
```