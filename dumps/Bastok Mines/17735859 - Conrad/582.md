# Event 582

## Metadata

| Field           | Value     |
|-----------------|-----------|
| Event Index     | 4/5       |
| Offset          | 0x036F    |
| Data Size       | 626 bytes |
| Calculated Size | 626 bytes |
| Instructions    | 143       |

```
      00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F
      -- -- -- -- -- -- -- --  -- -- -- -- -- -- -- --
0360:                                               03                 .
0370: 00 00 02 10 03 01 00 03  10 03 02 00 04 10 03 03  ................
0380: 00 05 10 03 04 00 06 10  41 00 80 01 80 07 10 05  ........A.......
0390: 00 41 02 80 03 80 07 10  06 00 41 04 80 05 80 07  .A........A.....
03A0: 10 07 00 03 0B 00 08 10  03 0A 00 09 10 20 01 1E  ............. ..
03B0: F0 FF FF 7F 1D 1E 80 23  1D 1F 80 23 02 05 00 06  .......#...#....
03C0: 00 00 95 05 1D 20 80 23  1D 21 80 23 1D 22 80 23  ..... .#.!.#.".#
03D0: 03 12 00 03 10 02 06 00  00 80 80 E5 03 03 03 10  ................
03E0: 23 80 01 05 04 02 06 00  10 80 80 F5 03 03 03 10  #...............
03F0: 24 80 01 05 04 02 06 00  11 80 80 05 04 03 03 10  $...............
0400: 25 80 01 05 04 1D 26 80  23 1D 27 80 23 1D 28 80  %.....&.#.'.#.(.
0410: 23 03 03 10 12 00 02 0B  00 29 80 03 2A 04 1D 07  #........)..*...
0420: 80 23 03 01 10 08 80 01  92 05 02 0A 00 2A 80 00  .#...........*..
0430: 3E 04 1D 0A 80 23 03 01  10 08 80 01 92 05 24 0C  >....#........$.
0440: 80 0D 80 0A 00 25 02 00  10 05 80 00 56 04 03 01  .....%......V...
0450: 10 08 80 01 92 05 42 03  08 00 00 10 40 00 80 0F  ......B.....@...
0460: 80 01 10 08 00 43 00 43  01 03 0D 00 02 10 03 0E  .....C.C........
0470: 00 03 10 03 10 00 05 10  03 0F 00 06 10 06 01 10  ................
0480: 06 11 00 02 0D 00 0E 00  04 95 04 3C 11 00 00 80  ...........<....
0490: 10 80 01 9C 04 3D 11 00  00 80 10 80 02 0F 00 10  .....=..........
04A0: 00 04 AE 04 3C 11 00 10  80 10 80 01 B5 04 3D 11  ....<.........=.
04B0: 00 10 80 10 80 02 05 00  00 80 80 C5 04 03 0C 00  ................
04C0: 00 00 01 E5 04 02 05 00  10 80 80 D5 04 03 0C 00  ................
04D0: 01 00 01 E5 04 02 05 00  11 80 80 E5 04 03 0C 00  ................
04E0: 02 00 01 E5 04 06 04 10  3E 0C 00 08 00 F2 04 05  ........>.......
04F0: 04 10 1D 12 80 23 24 13  80 14 80 10 80 25 02 00  .....#$......%..
0500: 10 10 80 00 3E 05 3E 11  00 00 80 32 05 40 00 80  ....>.>....2.@..
0510: 0F 80 01 10 08 00 3D 01  10 06 80 10 80 1D 15 80  ......=.........
0520: 23 73 16 80 F8 FF FF 7F  F0 FF FF 7F 1C 17 80 01  #s..............
0530: 3B 05 1D 18 80 23 03 01  10 08 80 01 92 05 02 00  ;....#..........
0540: 10 11 80 00 7E 05 3E 11  00 10 80 72 05 40 00 80  ....~.>....r.@..
0550: 0F 80 01 10 08 00 3C 01  10 06 80 10 80 1D 15 80  ......<.........
0560: 23 73 16 80 F8 FF FF 7F  F0 FF FF 7F 1C 17 80 01  #s..............
0570: 7B 05 1D 19 80 23 03 01  10 08 80 01 92 05 02 00  {....#..........
0580: 10 14 80 00 92 05 1D 1A  80 23 03 01 10 08 80 01  .........#......
0590: 92 05 01 DF 05 03 02 10  06 00 02 06 00 00 80 80  ................
05A0: AA 05 03 03 10 23 80 01  CA 05 02 06 00 10 80 80  .....#..........
05B0: BA 05 03 03 10 24 80 01  CA 05 02 06 00 11 80 80  .....$..........
05C0: CA 05 03 03 10 25 80 01  CA 05 1D 2B 80 23 1D 2C  .....%.....+.#.,
05D0: 80 23 1D 2D 80 23 1D 2E  80 23 03 01 10 08 80 21  .#.-.#...#.....!
05E0: 00                                                .               
```

## Opcodes

```
  0: 0x036F [0x03] ExtData[1]->WorkLocal[0] = Work_Zone[2]
  1: 0x0374 [0x03] ExtData[1]->WorkLocal[1] = Work_Zone[3]
  2: 0x0379 [0x03] ExtData[1]->WorkLocal[2] = Work_Zone[4]
  3: 0x037E [0x03] ExtData[1]->WorkLocal[3] = Work_Zone[5]
  4: 0x0383 [0x03] ExtData[1]->WorkLocal[4] = Work_Zone[6]
  5: 0x0388 [0x41] ExtData[1]->WorkLocal[5] = Work_Zone[7] (bits 0*-7*)
  6: 0x0391 [0x41] ExtData[1]->WorkLocal[6] = Work_Zone[7] (bits 8*-15*)
  7: 0x039A [0x41] ExtData[1]->WorkLocal[7] = Work_Zone[7] (bits 16*-31*)
  8: 0x03A3 [0x03] ExtData[1]->WorkLocal[11] = Work_Zone[8]
  9: 0x03A8 [0x03] ExtData[1]->WorkLocal[10] = Work_Zone[9]
 10: 0x03AD [0x20] SET_CLI_EVENT_UC_FLAG: Lock player control
 11: 0x03AF [0x1E] EventEntity looks at LocalPlayer and starts talking
 12: 0x03B4 [0x1D] PRINT_EVENT_MESSAGE(message_id=15557*)
    → "Greetings, adventurer. My name is 	. I have been sent by the Specialty Goods Trade Union.\u007F1\u0000\u0007"
 13: 0x03B7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 14: 0x03B8 [0x1D] PRINT_EVENT_MESSAGE(message_id=15558*)
    → "At the previous Conference of Nations, it was decided that the restriction on \u00072regional teleporting\u00073 would be lifted, and that cities could now offer teleportation services to various outposts.\u007F1\u0000\u0007"
 15: 0x03BB [0x23] WAIT_FOR_DIALOG_INTERACTION
 16: 0x03BC [0x02] IF !(ExtData[1]->WorkLocal[5] == ExtData[1]->WorkLocal[6]) GOTO 0x0595
 17: 0x03C4 [0x1D] PRINT_EVENT_MESSAGE(message_id=15559*)
    → "We are now authorized to teleport you to any outpost you have previously visited on a supplies quest.\u007F1\u0000\u0007"
 18: 0x03C7 [0x23] WAIT_FOR_DIALOG_INTERACTION
 19: 0x03C8 [0x1D] PRINT_EVENT_MESSAGE(message_id=15560*)
    → "The nominal fee we require varies with the current control of the region.\u007F1\u0000\u0007"
 20: 0x03CB [0x23] WAIT_FOR_DIALOG_INTERACTION
 21: 0x03CC [0x1D] PRINT_EVENT_MESSAGE(message_id=15561*)
    → "Also, depending on your level, there may be some areas I am not authorized to teleport you to.\u007F1\u0000\u0007"
 22: 0x03CF [0x23] WAIT_FOR_DIALOG_INTERACTION
 23: 0x03D0 [0x03] ExtData[1]->WorkLocal[18] = Work_Zone[3]
 24: 0x03D5 [0x02] IF !(ExtData[1]->WorkLocal[6] == 0*) GOTO 0x03E5
 25: 0x03DD [0x03] Work_Zone[3] = 4217*
 26: 0x03E2 [0x01] GOTO 0x0405
 27: 0x03E5 [0x02] IF !(ExtData[1]->WorkLocal[6] == 1*) GOTO 0x03F5
 28: 0x03ED [0x03] Work_Zone[3] = 4216*
 29: 0x03F2 [0x01] GOTO 0x0405
 30: 0x03F5 [0x02] IF !(ExtData[1]->WorkLocal[6] == 2*) GOTO 0x0405
 31: 0x03FD [0x03] Work_Zone[3] = 4215*
 32: 0x0402 [0x01] GOTO 0x0405

SUBROUTINE_0405:
 33: 0x0405 [0x1D] PRINT_EVENT_MESSAGE(message_id=15575*)
    → "For a limited time during the Starlight Celebration, the Specialty Goods Trade Union is offering all registered adventurers a deal you could not possibly think of passing up.\u007F1\u0000\u0007"
 34: 0x0408 [0x23] WAIT_FOR_DIALOG_INTERACTION
 35: 0x0409 [0x1D] PRINT_EVENT_MESSAGE(message_id=15576*)
    → "Trade me a mere ten \u0001\u0005%\u0002\u0001\u0000\u0000 and I will teleport you to the outpost of any region of your choice, regardless of your current level or which nation has control of the area.\u007F1\u0000\u0007"
 36: 0x040C [0x23] WAIT_FOR_DIALOG_INTERACTION
 37: 0x040D [0x1D] PRINT_EVENT_MESSAGE(message_id=15577*)
    → "However, remember that the S.G.T.U will take no responsibility for any...unexpected circumstances that may occur as a result of teleporting to an area with enemies beyond the range of your main job's level.\u007F1\u0000\u0007"
 38: 0x0410 [0x23] WAIT_FOR_DIALOG_INTERACTION
 39: 0x0411 [0x03] Work_Zone[3] = ExtData[1]->WorkLocal[18]
 40: 0x0416 [0x02] IF !(ExtData[1]->WorkLocal[11] >= 20*) GOTO 0x042A
 41: 0x041E [0x1D] PRINT_EVENT_MESSAGE(message_id=15567*)
    → "You have not yet reached level 10. I am sorry, but for safety reasons, I am not authorized to teleport anyone under the current level cap.\u007F1\u0000\u0007"
 42: 0x0421 [0x23] WAIT_FOR_DIALOG_INTERACTION
 43: 0x0422 [0x03] Work_Zone[1] = 1073741824*
 44: 0x0427 [0x01] GOTO 0x0592
 45: 0x042A [0x02] IF !(ExtData[1]->WorkLocal[10] == 2147483647*) GOTO 0x043E
 46: 0x0432 [0x1D] PRINT_EVENT_MESSAGE(message_id=15566*)
    → "Unfortunately, at this time there is nowhere I can teleport you. Please come again.\u007F1\u0000\u0007"
 47: 0x0435 [0x23] WAIT_FOR_DIALOG_INTERACTION
 48: 0x0436 [0x03] Work_Zone[1] = 1073741824*
 49: 0x043B [0x01] GOTO 0x0592
 50: 0x043E [0x24] CREATE_DIALOG(message_id=15550*, default_option=5*, option_flags=0x0A)
    → "Where would you like to teleport to?\u0007\u000B.\u0007.\u0007.\u0007.\u0007.\u0007The Ronfaure Region.\u0007The Zulkheim Region.\u0007The Norvallen Region.\u0007The Gustaberg Region.\u0007The Derfland Region.\u0007The Sarutabaruta Region.\u0007The Kolshushu Region.\u0007The Aragoneu Region.\u0007The Fauregandi Region.\u0007The Valdeaunia Region.\u0007Qufim Island.\u0007The Li'Telor Region.\u0007The Kuzotz Region.\u0007The Vollbow Region.\u0007The Elshimo Lowlands Region.\u0007The Elshimo Uplands Region.\u0007Tu'Lia.\u0007.\u0007The Tavnazian Archipelago.\u0007.\u0007.\u0007.\u0007.\u0007.\u0007.\u0007Teleport?\u0007Nowhere at the moment.\u007F1\u0000\u0007"
 51: 0x0445 [0x25] WAIT_DIALOG_SELECT()
 52: 0x0446 [0x02] IF !(Work_Zone[0] == 31*) GOTO 0x0456
 53: 0x044E [0x03] Work_Zone[1] = 1073741824*
 54: 0x0453 [0x01] GOTO 0x0592
 55: 0x0456 [0x42] SET_CLI_EVENT_CANCEL_DATA()
 56: 0x0457 [0x03] ExtData[1]->WorkLocal[8] = Work_Zone[0]
 57: 0x045C [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=9*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[8])
 58: 0x0465 [0x43] SEND_EVENT_UPDATE: Send pending tag to server (packet 0x005B)
 59: 0x0467 [0x43] SEND_EVENT_UPDATE: Check pending flag (skip if not pending)
 60: 0x0469 [0x03] ExtData[1]->WorkLocal[13] = Work_Zone[2]
 61: 0x046E [0x03] ExtData[1]->WorkLocal[14] = Work_Zone[3]
 62: 0x0473 [0x03] ExtData[1]->WorkLocal[16] = Work_Zone[5]
 63: 0x0478 [0x03] ExtData[1]->WorkLocal[15] = Work_Zone[6]
 64: 0x047D [0x06] Work_Zone[1] = 0
 65: 0x0480 [0x06] ExtData[1]->WorkLocal[17] = 0
 66: 0x0483 [0x02] IF !(ExtData[1]->WorkLocal[13] < ExtData[1]->WorkLocal[14]) GOTO 0x0495
 67: 0x048B [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x11, bit_index_work_offset=0x8000, condition_work_offset=0x8010)
 68: 0x0492 [0x01] GOTO 0x049C
 69: 0x0495 [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x11, bit_index_work_offset=0x8000, condition_work_offset=0x8010)
 70: 0x049C [0x02] IF !(ExtData[1]->WorkLocal[15] < ExtData[1]->WorkLocal[16]) GOTO 0x04AE
 71: 0x04A4 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x11, bit_index_work_offset=0x8010, condition_work_offset=0x8010)
 72: 0x04AB [0x01] GOTO 0x04B5
 73: 0x04AE [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x11, bit_index_work_offset=0x8010, condition_work_offset=0x8010)
 74: 0x04B5 [0x02] IF !(ExtData[1]->WorkLocal[5] == 0*) GOTO 0x04C5
 75: 0x04BD [0x03] ExtData[1]->WorkLocal[12] = ExtData[1]->WorkLocal[0]
 76: 0x04C2 [0x01] GOTO 0x04E5
 77: 0x04C5 [0x02] IF !(ExtData[1]->WorkLocal[5] == 1*) GOTO 0x04D5
 78: 0x04CD [0x03] ExtData[1]->WorkLocal[12] = ExtData[1]->WorkLocal[1]
 79: 0x04D2 [0x01] GOTO 0x04E5
 80: 0x04D5 [0x02] IF !(ExtData[1]->WorkLocal[5] == 2*) GOTO 0x04E5
 81: 0x04DD [0x03] ExtData[1]->WorkLocal[12] = ExtData[1]->WorkLocal[2]
 82: 0x04E2 [0x01] GOTO 0x04E5

SUBROUTINE_04E5:
 83: 0x04E5 [0x06] Work_Zone[4] = 0
 84: 0x04E8 [0x3E] IF !(ExtData[1]->WorkLocal[12] bit ExtData[1]->WorkLocal[8]) GOTO 0x04F2
 85: 0x04EF [0x05] Work_Zone[4] = 1
 86: 0x04F2 [0x1D] PRINT_EVENT_MESSAGE(message_id=15562*)
    → "That region is \u000C\u0002[no longer under your home country's control./currently under your home country's control.] You will require 
\u0001 gil or 
\u0003 conquest \u007F\u0012\u0003[point/points] to teleport.\u007F1\u0000\u0007"
 87: 0x04F5 [0x23] WAIT_FOR_DIALOG_INTERACTION
 88: 0x04F6 [0x24] CREATE_DIALOG(message_id=15564*, default_option=3*, option_flags=1*)
    → "Teleport?\u0007\u000BYes.\u0007Teleport with gil.\u0007Teleport with conquest points.\u0007Later.\u007F1\u0000\u0007"
 89: 0x04FD [0x25] WAIT_DIALOG_SELECT()
 90: 0x04FE [0x02] IF !(Work_Zone[0] == 1*) GOTO 0x053E
 91: 0x0506 [0x3E] IF !(ExtData[1]->WorkLocal[17] bit 0*) GOTO 0x0532
 92: 0x050D [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=9*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[8])
 93: 0x0516 [0x3D] CLEAR_BIT_FLAG_CONDITIONAL(target_work_offset=0x1001, bit_index_work_offset=0x8006, condition_work_offset=0x8010)
 94: 0x051D [0x1D] PRINT_EVENT_MESSAGE(message_id=15565*)
    → "Have a wonderful journey!\u007F1\u0000\u0007"
 95: 0x0520 [0x23] WAIT_FOR_DIALOG_INTERACTION
 96: 0x0521 [0x73] EventEntity casts magic 122* on LocalPlayer
 97: 0x052C [0x1C] WAIT(260* ticks)
 98: 0x052F [0x01] GOTO 0x053B
 99: 0x0532 [0x1D] PRINT_EVENT_MESSAGE(message_id=15568*)
    → "You do not have enough gil. Please come back again.\u007F1\u0000\u0007"
100: 0x0535 [0x23] WAIT_FOR_DIALOG_INTERACTION
101: 0x0536 [0x03] Work_Zone[1] = 1073741824*
102: 0x053B [0x01] GOTO 0x0592
103: 0x053E [0x02] IF !(Work_Zone[0] == 2*) GOTO 0x057E
104: 0x0546 [0x3E] IF !(ExtData[1]->WorkLocal[17] bit 1*) GOTO 0x0572
105: 0x054D [0x40] SET_BIT_WORK_RANGE(start_bit=0*, end_bit=9*, target=Work_Zone[1], source=ExtData[1]->WorkLocal[8])
106: 0x0556 [0x3C] SET_BIT_FLAG_CONDITIONAL(target_work_offset=0x1001, bit_index_work_offset=0x8006, condition_work_offset=0x8010)
107: 0x055D [0x1D] PRINT_EVENT_MESSAGE(message_id=15565*)
    → "Have a wonderful journey!\u007F1\u0000\u0007"
108: 0x0560 [0x23] WAIT_FOR_DIALOG_INTERACTION
109: 0x0561 [0x73] EventEntity casts magic 122* on LocalPlayer
110: 0x056C [0x1C] WAIT(260* ticks)
111: 0x056F [0x01] GOTO 0x057B
112: 0x0572 [0x1D] PRINT_EVENT_MESSAGE(message_id=15570*)
    → "You do not have enough conquest points. Please come back again.\u007F1\u0000\u0007"
113: 0x0575 [0x23] WAIT_FOR_DIALOG_INTERACTION
114: 0x0576 [0x03] Work_Zone[1] = 1073741824*
115: 0x057B [0x01] GOTO 0x0592
116: 0x057E [0x02] IF !(Work_Zone[0] == 3*) GOTO 0x0592
117: 0x0586 [0x1D] PRINT_EVENT_MESSAGE(message_id=15572*)
    → "We look forward to seeing you again!\u007F1\u0000\u0007"
118: 0x0589 [0x23] WAIT_FOR_DIALOG_INTERACTION
119: 0x058A [0x03] Work_Zone[1] = 1073741824*
120: 0x058F [0x01] GOTO 0x0592

SUBROUTINE_0592:
121: 0x0592 [0x01] GOTO 0x05DF
122: 0x0595 [0x03] Work_Zone[2] = ExtData[1]->WorkLocal[6]
123: 0x059A [0x02] IF !(ExtData[1]->WorkLocal[6] == 0*) GOTO 0x05AA
124: 0x05A2 [0x03] Work_Zone[3] = 4217*
125: 0x05A7 [0x01] GOTO 0x05CA
126: 0x05AA [0x02] IF !(ExtData[1]->WorkLocal[6] == 1*) GOTO 0x05BA
127: 0x05B2 [0x03] Work_Zone[3] = 4216*
128: 0x05B7 [0x01] GOTO 0x05CA
129: 0x05BA [0x02] IF !(ExtData[1]->WorkLocal[6] == 2*) GOTO 0x05CA
130: 0x05C2 [0x03] Work_Zone[3] = 4215*
131: 0x05C7 [0x01] GOTO 0x05CA

SUBROUTINE_05CA:
132: 0x05CA [0x1D] PRINT_EVENT_MESSAGE(message_id=15578*)
    → "Normally, I am only authorized to teleport citizens of \u000C\u0000[San d'Oria/Bastok/Windurst], but for a limited time only, my services are open to all registered adventurers.\u007F1\u0000\u0007"
133: 0x05CD [0x23] WAIT_FOR_DIALOG_INTERACTION
134: 0x05CE [0x1D] PRINT_EVENT_MESSAGE(message_id=15579*)
    → "Trade me a mere ten \u0001\u0005%\u0002\u0001\u0000\u0000 and I will teleport you to the outpost of any region of your choice, regardless of your current level or which nation has control of the area.\u007F1\u0000\u0007"
135: 0x05D1 [0x23] WAIT_FOR_DIALOG_INTERACTION
136: 0x05D2 [0x1D] PRINT_EVENT_MESSAGE(message_id=15580*)
    → "However, remember that the S.G.T.U will take no responsibility for any...unexpected circumstances that may occur as a result of teleporting to an area with enemies beyond the range of your main job's level.\u007F1\u0000\u0007"
137: 0x05D5 [0x23] WAIT_FOR_DIALOG_INTERACTION
138: 0x05D6 [0x1D] PRINT_EVENT_MESSAGE(message_id=15581*)
    → "This service will last for the duration of the Starlight Celebration.\u007F1\u0000\u0007"
139: 0x05D9 [0x23] WAIT_FOR_DIALOG_INTERACTION
140: 0x05DA [0x03] Work_Zone[1] = 1073741824*
141: 0x05DF [0x21] END_EVENT
142: 0x05E0 [0x00] END_REQSTACK()
```
